<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7695 - [e] (0) Cleanup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7695%20-%20%5Be%5D%20%280%29%20Cleanup&In-Reply-To=%3C20130205222347.7D0A0805C0DD%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014553.html">
   <LINK REL="Next"  HREF="014555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7695 - [e] (0) Cleanup</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7695%20-%20%5Be%5D%20%280%29%20Cleanup&In-Reply-To=%3C20130205222347.7D0A0805C0DD%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7695 - [e] (0) Cleanup">whatwg at whatwg.org
       </A><BR>
    <I>Tue Feb  5 14:23:47 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014553.html">[html5] r7693 - [e] (0) Fix confusion of cross-references. Fixing	https://www.w3.org/Bugs/Public [...]
</A></li>
        <LI>Next message: <A HREF="014555.html">[html5] r7696 - [e] (0) Integrate the 'event loop' mechanism of	workers and windows together, an [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14554">[ date ]</a>
              <a href="thread.html#14554">[ thread ]</a>
              <a href="subject.html#14554">[ subject ]</a>
              <a href="author.html#14554">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-02-05 14:23:45 -0800 (Tue, 05 Feb 2013)
New Revision: 7695

Modified:
   complete.html
   index
   source
Log:
[e] (0) Cleanup

Modified: complete.html
===================================================================
--- complete.html	2013-02-05 20:33:00 UTC (rev 7694)
+++ complete.html	2013-02-05 22:23:45 UTC (rev 7695)
@@ -12394,24 +12394,23 @@
 
   &lt;h3 id=interactions-with-xpath-and-xslt&gt;&lt;span class=secno&gt;3.3 &lt;/span&gt;Interactions with XPath and XSLT&lt;/h3&gt;
 
-  &lt;p id=xpath-1.0-processors&gt;Implementations of XPath 1.0 that
-  operate on &lt;a href=#html-documents&gt;HTML documents&lt;/a&gt; parsed or created in the
-  manners described in this specification (e.g. as part of the &lt;code title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the
-  following edit was applied to the XPath 1.0 specification.&lt;/p&gt;
+  &lt;p id=xpath-1.0-processors&gt;Implementations of XPath 1.0 that operate on &lt;a href=#html-documents&gt;HTML
+  documents&lt;/a&gt; parsed or created in the manners described in this specification (e.g. as part of
+  the &lt;code title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the following edit was applied
+  to the XPath 1.0 specification.&lt;/p&gt;
 
   &lt;p&gt;First, remove this paragraph:&lt;/p&gt;
 
   &lt;blockquote cite=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests">http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests</A>&gt;
 
-   &lt;p&gt;A &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; in the
-   node test is expanded into an &lt;a href=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&gt;expanded-name&lt;/a&gt;
-   using the namespace declarations from the expression context.  This
-   is the same way expansion is done for element type names in start
-   and end-tags except that the default namespace declared with &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; does
-   not have a prefix, then the namespace URI is null (this is the same
-   way attribute names are expanded).  It is an error if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; has a
-   prefix for which there is no namespace declaration in the
-   expression context.&lt;/p&gt;
+   &lt;p&gt;A &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; in the node test is expanded
+   into an &lt;a href=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&gt;expanded-name&lt;/a&gt;
+   using the namespace declarations from the expression context. This is the same way expansion is
+   done for element type names in start and end-tags except that the default namespace declared with
+   &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; does not have a prefix, then the
+   namespace URI is null (this is the same way attribute names are expanded). It is an error if the
+   &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; has a prefix for which there is
+   no namespace declaration in the expression context.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
@@ -12419,87 +12418,68 @@
 
   &lt;blockquote cite=&quot;<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37">http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37</A>&quot;&gt;
 
-   &lt;p&gt;A QName in the node test is expanded into an expanded-name using
-   the namespace declarations from the expression context. If the
-   QName has a prefix, then there must be a&lt;!-- added 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace
-   declaration for this prefix in the expression context, and the
-   corresponding&lt;!-- typo fixed 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace
-   URI is the one that is associated with this prefix.  It is an error
-   if the QName has a prefix for which there is no namespace
-   declaration in the expression context. &lt;/p&gt;
+   &lt;p&gt;A QName in the node test is expanded into an expanded-name using the namespace declarations
+   from the expression context. If the QName has a prefix, then there must be a&lt;!-- added 2009-10-27
+   - <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace declaration for this prefix in
+   the expression context, and the corresponding&lt;!-- typo fixed 2009-10-27 -
+   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace URI is the one that is
+   associated with this prefix. It is an error if the QName has a prefix for which there is no
+   namespace declaration in the expression context. &lt;/p&gt;
 
-   &lt;p&gt;If the QName has no prefix and the principal node type of the
-   axis is element, then the default element namespace is
-   used. Otherwise if the QName has no prefix, the namespace URI is
-   null. The default element namespace is a member of the context for
-   the XPath expression. The value of the default element namespace
-   when executing an XPath expression through the DOM3 XPath API is
-   determined in the following way:&lt;/p&gt;
+   &lt;p&gt;If the QName has no prefix and the principal node type of the axis is element, then the
+   default element namespace is used. Otherwise if the QName has no prefix, the namespace URI is
+   null. The default element namespace is a member of the context for the XPath expression. The
+   value of the default element namespace when executing an XPath expression through the DOM3 XPath
+   API is determined in the following way:&lt;/p&gt;
 
-   &lt;ol&gt;&lt;li&gt;If the context node is from an HTML DOM, the default element
-    namespace is &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
+   &lt;ol&gt;&lt;li&gt;If the context node is from an HTML DOM, the default element namespace is
+    &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
 
     &lt;li&gt;Otherwise, the default element namespace URI is null.&lt;/li&gt;
 
-   &lt;/ol&gt;&lt;p class=note&gt;This is equivalent to adding the default element
-   namespace feature of XPath 2.0 to XPath 1.0, and using the HTML
-   namespace as the default element namespace for HTML documents. It
-   is motivated by the desire to have implementations be compatible
-   with legacy HTML content while still supporting the changes that
-   this specification introduces to HTML regarding the namespace used
-   for HTML elements, and by the desire to use XPath 1.0 rather than
-   XPath 2.0.&lt;/p&gt;
+   &lt;/ol&gt;&lt;p class=note&gt;This is equivalent to adding the default element namespace feature of XPath 2.0
+   to XPath 1.0, and using the HTML namespace as the default element namespace for HTML documents.
+   It is motivated by the desire to have implementations be compatible with legacy HTML content
+   while still supporting the changes that this specification introduces to HTML regarding the
+   namespace used for HTML elements, and by the desire to use XPath 1.0 rather than XPath 2.0.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
-  &lt;p class=note&gt;This change is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of
-  the XPath 1.0 specification, motivated by desire to have
-  implementations be compatible with legacy content while still
-  supporting the changes that this specification introduces to HTML
-  regarding which namespace is used for HTML elements. &lt;a href=#refsXPATH10&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
+  &lt;p class=note&gt;This change is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XPath 1.0 specification,
+  motivated by desire to have implementations be compatible with legacy content while still
+  supporting the changes that this specification introduces to HTML regarding which namespace is
+  used for HTML elements. &lt;a href=#refsXPATH10&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
   this ref --&gt;
 
-  &lt;hr&gt;&lt;p id=dom-based-xslt-1.0-processors&gt;XSLT 1.0 processors outputting
-  to a DOM when the output method is &quot;html&quot; (either explicitly or via
-  the defaulting rule in XSLT 1.0) are affected as follows:&lt;/p&gt;
+  &lt;hr&gt;&lt;p id=dom-based-xslt-1.0-processors&gt;XSLT 1.0 processors outputting to a DOM when the output
+  method is &quot;html&quot; (either explicitly or via the defaulting rule in XSLT 1.0) are affected as
+  follows:&lt;/p&gt;
 
-  &lt;p&gt;If the transformation program outputs an element in no namespace,
-  the processor must, prior to constructing the corresponding DOM
-  element node, change the namespace of the element to the &lt;a href=#html-namespace-0&gt;HTML
-  namespace&lt;/a&gt;, &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII
-  lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the element's local name, and
-  &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt;
-  the names of any non-namespaced attributes on the element.&lt;/p&gt;
+  &lt;p&gt;If the transformation program outputs an element in no namespace, the processor must, prior to
+  constructing the corresponding DOM element node, change the namespace of the element to the
+  &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the
+  element's local name, and &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the
+  names of any non-namespaced attributes on the element.&lt;/p&gt;
 
-  &lt;p class=note&gt;This requirement is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt;
-  of the XSLT 1.0 specification, required because this specification
-  changes the namespaces and case-sensitivity rules of HTML in a
-  manner that would otherwise be incompatible with DOM-based XSLT
-  transformations. (Processors that serialize the output are
-  unaffected.) &lt;a href=#refsXSLT10&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note:
-  version matters for this ref --&gt;
+  &lt;p class=note&gt;This requirement is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XSLT 1.0
+  specification, required because this specification changes the namespaces and case-sensitivity
+  rules of HTML in a manner that would otherwise be incompatible with DOM-based XSLT
+  transformations. (Processors that serialize the output are unaffected.) &lt;a href=#refsXSLT10&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for this ref --&gt;
 
-  &lt;hr&gt;&lt;p&gt;This specification does not specify precisely how XSLT processing
-  interacts with the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; infrastructure (for
-  example, whether an XSLT processor acts as if it puts any elements
-  into a &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;). However, XSLT
-  processors must &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt; if they successfully
-  complete, and must set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt;
-  first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously
-  fires an event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!--
-  this also synchronously fires an event --&gt; if they are aborted.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;This specification does not specify precisely how XSLT processing interacts with the &lt;a href=#html-parser&gt;HTML
+  parser&lt;/a&gt; infrastructure (for example, whether an XSLT processor acts as if it puts any
+  elements into a &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;). However, XSLT processors must &lt;a href=#stop-parsing&gt;stop
+  parsing&lt;/a&gt; if they successfully complete, and must set the &lt;a href=#current-document-readiness&gt;current document
+  readiness&lt;/a&gt; first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously fires an
+  event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!-- this also synchronously fires an event
+  --&gt; if they are aborted.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;This specification does not specify how XSLT interacts with the
-  &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; algorithm, how it fits in
-  with the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, nor how error pages are to be
-  handled (e.g. whether XSLT errors are to replace an incremental XSLT
+  &lt;hr&gt;&lt;p&gt;This specification does not specify how XSLT interacts with the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; algorithm, how it fits in with the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, nor
+  how error pages are to be handled (e.g. whether XSLT errors are to replace an incremental XSLT
   output, or are rendered inline, etc).&lt;/p&gt;
 
-  &lt;p class=note&gt;There are also additional non-normative comments
-  regarding the interaction of XSLT and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element
-  section&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=note&gt;There are also additional non-normative comments regarding the interaction of XSLT
+  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -12740,27 +12720,25 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-close title=dom-document-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-close title=dom-document-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is not flagged as an
-   &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;, throw an
-   &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception and abort these
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is not flagged as an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML
+   document&lt;/a&gt;, throw an &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;a href=#script-created-parser&gt;script-created parser&lt;/a&gt; associated
-   with the document, then abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is no &lt;a href=#script-created-parser&gt;script-created parser&lt;/a&gt; associated with the document, then abort
+   these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert an &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; at the end
-   of the parser's &lt;a href=#input-stream&gt;input stream&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Insert an &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; at the end of the parser's &lt;a href=#input-stream&gt;input
+   stream&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;,
-   then abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then abort these
+   steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are
-   emitted, and stopping when the tokenizer reaches the &lt;a href=#explicit-eof-character&gt;explicit
-   &quot;EOF&quot; character&lt;/a&gt; or &lt;a href=#spin-the-event-loop title=&quot;spin the event loop&quot;&gt;spins
-   the event loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are emitted, and stopping when the
+   tokenizer reaches the &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; or &lt;a href=#spin-the-event-loop title=&quot;spin the event
+   loop&quot;&gt;spins the event loop&lt;/a&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
@@ -14715,14 +14693,12 @@
 
   &lt;h4 id=styling&gt;&lt;span class=secno&gt;4.2.7 &lt;/span&gt;&lt;dfn title=&quot;styling processing model&quot;&gt;Styling&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements can provide
-  styling information for the user agent to use when rendering the
-  document. The CSS and CSSOM specifications specify what styling
-  information is to be used by the user agent and how it is to be
-  used. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt; &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements can provide styling information for the
+  user agent to use when rendering the document. The CSS and CSSOM specifications specify what
+  styling information is to be used by the user agent and how it is to be used. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt; &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements implement
-  the &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt; interface. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements implement the &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt;
+  interface. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
   &lt;div class=impl&gt;
 
@@ -14745,126 +14721,98 @@
 
   &lt;dl&gt;&lt;dt&gt;The style sheet type&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified
-   type. For &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, this is the same as the
-   &lt;code title=attr-style-type&gt;&lt;a href=#attr-style-type&gt;type&lt;/a&gt;&lt;/code&gt; content attribute's
-   value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
-   &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, this is the &lt;a href=#content-type title=Content-Type&gt;Content-Type metadata of the specified
-   resource&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified type. For
+   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, this is the same as the &lt;code title=attr-style-type&gt;&lt;a href=#attr-style-type&gt;type&lt;/a&gt;&lt;/code&gt;
+   content attribute's value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
+   &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, this is the &lt;a href=#content-type title=Content-Type&gt;Content-Type metadata of the
+   specified resource&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet location&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, the location must be the
-   result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the
-   &lt;a href=#url&gt;URL&lt;/a&gt; given by the element's &lt;code title=attr-link-href&gt;&lt;a href=#attr-link-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute, relative to
-   the element, or the empty string if that fails. For
-   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, there is no location.&lt;/dd&gt; &lt;!--
-   note that this might not match the style sheet URL, if the base URL
-   has changed for instance --&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, the location must be the result of &lt;a href=#resolve-a-url title=&quot;resolve a
+   url&quot;&gt;resolving&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt; given by the element's &lt;code title=attr-link-href&gt;&lt;a href=#attr-link-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute, relative to the element, or the empty
+   string if that fails. For &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, there is no location.&lt;/dd&gt; &lt;!-- note
+   that this might not match the style sheet URL, if the base URL has changed for instance --&gt;
 
    &lt;dt&gt;The style sheet media&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's
-   &lt;code title=&quot;&quot;&gt;media&lt;/code&gt; content attribute, or the empty string,
-   if the attribute is omitted.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's &lt;code title=&quot;&quot;&gt;media&lt;/code&gt;
+   content attribute, or the empty string, if the attribute is omitted.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet title&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's
-   &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; content attribute, if the
-   attribute is present and has a non-empty value. If the attribute is
-   absent or its value is the empty string, then the style sheet does
-   not have a title (it is the empty string). The title is used for
-   defining &lt;a href=#alternative-style-sheet-sets&gt;alternative style sheet sets&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; content attribute, if the attribute is present and has a non-empty
+   value. If the attribute is absent or its value is the empty string, then the style sheet does not
+   have a title (it is the empty string). The title is used for defining &lt;a href=#alternative-style-sheet-sets&gt;alternative style
+   sheet sets&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet alternate flag&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, true if &lt;a href=#the-link-is-an-alternative-stylesheet&gt;the link is an
-   alternative stylesheet&lt;/a&gt;. In all other cases, false.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, true if &lt;a href=#the-link-is-an-alternative-stylesheet&gt;the link is an alternative
+   stylesheet&lt;/a&gt;. In all other cases, false.&lt;/dd&gt;
 
 &lt;!--
-   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt;
-   (not included, because I assume CSSOM will change to not require
-   this spec to initialise the value, but will instead initialise it
-   based on the other values)
+   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt; (not included, because I assume CSSOM will change to not
+   require this spec to initialise the value, but will instead initialise it based on the other
+   values)
 --&gt;
 
   &lt;/dl&gt;&lt;p&gt;The same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-linkstyle-disabled title=dom-LinkStyle-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements must
-  return false and do nothing on setting, if the &lt;code title=dom-linkstyle-sheet&gt;&lt;a href=#dom-linkstyle-sheet&gt;sheet&lt;/a&gt;&lt;/code&gt; attribute of their
-  &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt; interface is null. Otherwise, it must return
-  the value of the &lt;code&gt;&lt;a href=#stylesheet&gt;StyleSheet&lt;/a&gt;&lt;/code&gt; interface's &lt;code title=dom-stylesheet-disabled&gt;&lt;a href=#dom-stylesheet-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute on
-  getting, and forward the new value to that same attribute on
-  setting.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-linkstyle-disabled title=dom-LinkStyle-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL attribute on
+  &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements must return false and do nothing on setting, if
+  the &lt;code title=dom-linkstyle-sheet&gt;&lt;a href=#dom-linkstyle-sheet&gt;sheet&lt;/a&gt;&lt;/code&gt; attribute of their &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt;
+  interface is null. Otherwise, it must return the value of the &lt;code&gt;&lt;a href=#stylesheet&gt;StyleSheet&lt;/a&gt;&lt;/code&gt; interface's
+  &lt;code title=dom-stylesheet-disabled&gt;&lt;a href=#dom-stylesheet-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute on getting, and forward the new
+  value to that same attribute on setting.&lt;/p&gt;
 
-  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet
-  sets&quot;, the term &quot;default style sheet set&quot;, preferred stylesheets,
-  alternative stylesheets, persistent stylesheets, ordering of
-  stylesheets, dynamic additions/removals, window.styleSheets, style
-  sheets given by HTTP Link: headers, and the alternative style sheet
-  API --&gt;
+  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet sets&quot;, the term &quot;default
+  style sheet set&quot;, preferred stylesheets, alternative stylesheets, persistent stylesheets, ordering
+  of stylesheets, dynamic additions/removals, window.styleSheets, style sheets given by HTTP Link:
+  headers, and the alternative style sheet API --&gt;
 
-  &lt;p id=alternate-style-sheets&gt;The rules for handling alternative
-  style sheets are defined in the CSS object model specification. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p id=alternate-style-sheets&gt;The rules for handling alternative style sheets are defined in the
+  CSS object model specification. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;Style sheets, whether added by a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element, a
-  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI,
-  an HTTP &lt;code title=http-link&gt;Link:&lt;/code&gt; header, or some other
-  mechanism, have a &lt;dfn id=style-sheet-ready&gt;style sheet ready&lt;/dfn&gt; flag, which is
-  initially unset.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;Style sheets, whether added by a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element, an
+  &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI, an HTTP &lt;code title=http-link&gt;Link:&lt;/code&gt; header, or some
+  other mechanism, have a &lt;dfn id=style-sheet-ready&gt;style sheet ready&lt;/dfn&gt; flag, which is initially unset.&lt;/p&gt;
 
-  &lt;p&gt;When a style sheet is ready to be applied, its &lt;a href=#style-sheet-ready&gt;style sheet
-  ready&lt;/a&gt; flag must be set. If the style sheet referenced no
-  other resources (e.g. it was an internal style sheet given by a
-  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt;
-  rules), then the style rules must be synchronously made available to
-  script; otherwise, the style rules must only be made available to
-  script once the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the
-  rendering&quot; step.&lt;/p&gt;
+  &lt;p&gt;When a style sheet is ready to be applied, its &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag must be set.
+  If the style sheet referenced no other resources (e.g. it was an internal style sheet given by a
+  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt; rules), then the style rules must
+  be synchronously made available to script; otherwise, the style rules must only be made available
+  to script once the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the rendering&quot; step.&lt;/p&gt;
 
-  &lt;p&gt;A style sheet in the context of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of an
-  &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is said to be
-  &lt;dfn id=a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the element was
-  created by that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s parser, and the element is
-  either a &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element
-  that was an &lt;a href=#link-type-stylesheet title=rel-stylesheet&gt;external resource link that
-  contributes to the styling processing model&lt;/a&gt; when the element
-  was created by the parser, and the element's style sheet was enabled
-  when the element was created by the parser, and the element's
-  &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag is not yet set, and, the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1, the element was
-  &lt;a href=#in-a-document title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;,
-  and the user agent hasn't given up on that particular style sheet
-  yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
+  &lt;p&gt;A style sheet in the context of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or
+  &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is said to be &lt;dfn id=a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the
+  element was created by that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s parser, and the element is either a
+  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element that was an &lt;a href=#link-type-stylesheet title=rel-stylesheet&gt;external resource link that contributes to the styling processing
+  model&lt;/a&gt; when the element was created by the parser, and the element's style sheet was enabled
+  when the element was created by the parser, and the element's &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag
+  is not yet set, and, the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1, the element was
+  &lt;a href=#in-a-document title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, and the user agent hasn't given
+  up on that particular style sheet yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
 
-  &lt;p class=note&gt;Giving up on a style sheet before the style sheet
-  loads, if the style sheet eventually does still load, means that the
-  script might end up operating with incorrect information. For
-  example, if a style sheet sets the color of an element to green, but
-  a script that inspects the resulting style is executed before the
-  sheet is loaded, the script will find that the element is black (or
-  whatever the default color is), and might thus make poor choices
-  (e.g. deciding to use black as the color elsewhere on the page,
-  instead of green). Implementors have to balance the likelihood of a
-  script using incorrect information with the performance impact of
-  doing nothing while waiting for a slow network request to
-  finish.&lt;/p&gt;
+  &lt;p class=note&gt;Giving up on a style sheet before the style sheet loads, if the style sheet
+  eventually does still load, means that the script might end up operating with incorrect
+  information. For example, if a style sheet sets the color of an element to green, but a script
+  that inspects the resulting style is executed before the sheet is loaded, the script will find
+  that the element is black (or whatever the default color is), and might thus make poor choices
+  (e.g. deciding to use black as the color elsewhere on the page, instead of green). Implementors
+  have to balance the likelihood of a script using incorrect information with the performance impact
+  of doing nothing while waiting for a slow network request to finish.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
-  scripts&lt;/dfn&gt; if there is either &lt;a href=#a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is
-  blocking scripts&lt;/a&gt; in the context of that
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or if that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; that has a &lt;a href=#parent-browsing-context&gt;parent browsing
-  context&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that
-  &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; itself &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet
-  that is blocking scripts&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking scripts&lt;/dfn&gt; if there is
+  either &lt;a href=#a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/a&gt; in the context of that
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or if that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; that
+  has a &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that
+  &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; itself &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
+  scripts&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-  scripts&lt;/dfn&gt; if it does not &lt;a href=#has-a-style-sheet-that-is-blocking-scripts title=&quot;has a style sheet that is
-  blocking scripts&quot;&gt;have a style sheet that is blocking scripts&lt;/a&gt;
-  as defined in the previous paragraph.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/dfn&gt; if it does not
+  &lt;a href=#has-a-style-sheet-that-is-blocking-scripts title=&quot;has a style sheet that is blocking scripts&quot;&gt;have a style sheet that is blocking
+  scripts&lt;/a&gt; as defined in the previous paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -28741,8 +28689,8 @@
 
       &lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-loadedmetadata&gt;&lt;a href=#event-media-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-      &lt;p class=note&gt;Before this task is run, as part of the event loop mechanism, the rendering
-      will have been updated to resize the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element if appropriate.&lt;/p&gt;
+      &lt;p class=note&gt;Before this task is run, as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; mechanism, the
+      rendering will have been updated to resize the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element if appropriate.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -31973,74 +31921,61 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is
-  not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then the &lt;dfn id=dom-texttrack-cues title=dom-TextTrack-cues&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must
-  return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that
-  represents the subset of the &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of
-  the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object
-  represents whose &lt;a href=#text-track-cue-end-time title=&quot;text track cue end time&quot;&gt;end
-  times&lt;/a&gt; occur at or after the &lt;a href=#earliest-possible-position-when-the-script-started&gt;earliest possible position
-  when the script started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue
-  order&lt;/a&gt;. Otherwise, it must return null. When an object is
-  returned, the same object must be returned each time.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then
+  the &lt;dfn id=dom-texttrack-cues title=dom-TextTrack-cues&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of the
+  &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents whose &lt;a href=#text-track-cue-end-time title=&quot;text track cue end time&quot;&gt;end
+  times&lt;/a&gt; occur at or after the &lt;a href=#earliest-possible-position-when-the-script-started&gt;earliest possible position when the script
+  started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=earliest-possible-position-when-the-script-started&gt;earliest possible position when the script started&lt;/dfn&gt;
-  is whatever the &lt;a href=#earliest-possible-position&gt;earliest possible position&lt;/a&gt; was the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=earliest-possible-position-when-the-script-started&gt;earliest possible position when the script started&lt;/dfn&gt; is whatever the
+  &lt;a href=#earliest-possible-position&gt;earliest possible position&lt;/a&gt; was the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step
+  1.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is
-  not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then the &lt;dfn id=dom-texttrack-activecues title=dom-TextTrack-activeCues&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return a &lt;a href=#live&gt;live&lt;/a&gt;
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of
-  the &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents
-  whose &lt;a href=#active-flag-was-set-when-the-script-started&gt;active flag was set when the script started&lt;/a&gt;, in
-  &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return
-  null. When an object is returned, the same object must be returned
-  each time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then
+  the &lt;dfn id=dom-texttrack-activecues title=dom-TextTrack-activeCues&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of the
+  &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents whose &lt;a href=#active-flag-was-set-when-the-script-started&gt;active flag was set when the script
+  started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt;'s &lt;dfn id=active-flag-was-set-when-the-script-started&gt;active flag was set when
-  the script started&lt;/dfn&gt; if its &lt;a href=#text-track-cue-active-flag&gt;text track cue active
-  flag&lt;/a&gt; was set the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-  reached step 1.&lt;/p&gt;
+  &lt;p&gt;A &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt;'s &lt;dfn id=active-flag-was-set-when-the-script-started&gt;active flag was set when the script started&lt;/dfn&gt; if its
+  &lt;a href=#text-track-cue-active-flag&gt;text track cue active flag&lt;/a&gt; was set the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached
+  step 1.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-addcue title=dom-TextTrack-addCue&gt;&lt;code&gt;addCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt;
-  objects, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-addcue title=dom-TextTrack-addCue&gt;&lt;code&gt;addCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;a href=#text-track-list-of-cues&gt;text
-   track list of cues&lt;/a&gt;, then remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from
-   that &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;, then
+   remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from that &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's
-   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s
-   &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text
+   track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-removecue title=dom-TextTrack-removeCue&gt;&lt;code&gt;removeCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of
-  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the
-  following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-removecue title=dom-TextTrack-removeCue&gt;&lt;code&gt;removeCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed
-   in the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text
-   track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;, then throw a
-   &lt;code&gt;&lt;a href=#notfounderror&gt;NotFoundError&lt;/a&gt;&lt;/code&gt; exception.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed in the method's
+   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;,
+   then throw a &lt;code&gt;&lt;a href=#notfounderror&gt;NotFoundError&lt;/a&gt;&lt;/code&gt; exception.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's
-   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s
-   &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's
+   &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;In this example, an &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; element is used to play a
-   specific sound-effect from a sound file containing many sound
-   effects. A cue is used to pause the audio, so that it ends exactly
-   at the end of the clip, even if the browser is busy running some
-   script. If the page had relied on script to pause the audio, then
-   the start of the next clip might be heard if the browser was not
-   able to run the script at the exact time specified.&lt;/p&gt;
+   &lt;p&gt;In this example, an &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; element is used to play a specific sound-effect from a
+   sound file containing many sound effects. A cue is used to pause the audio, so that it ends
+   exactly at the end of the clip, even if the browser is busy running some script. If the page had
+   relied on script to pause the audio, then the start of the next clip might be heard if the
+   browser was not able to run the script at the exact time specified.&lt;/p&gt;
 
    &lt;pre&gt;var sfx = new Audio('sfx.wav');
 var sounds = sfx.addTextTrack('metadata');
@@ -32096,35 +32031,25 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object represents a dynamically
-  updating list of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track
-  cues&lt;/a&gt; in a given order.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object represents a dynamically updating list of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track cues&lt;/a&gt; in a given order.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-length title=dom-TextTrackCueList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of &lt;a href=#text-track-cue title=&quot;text track
-  cue&quot;&gt;cues&lt;/a&gt; in the list represented by the
+  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-length title=dom-TextTrackCueList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt; attribute must return
+  the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the list represented by the
   &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;a href=#supported-property-indices&gt;supported property indices&lt;/a&gt; of a
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object at any instant are the numbers
-  from zero to the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt;
-  in the list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object
-  minus one, if any. If there are no &lt;a href=#text-track-cue title=&quot;text track
-  cue&quot;&gt;cues&lt;/a&gt; in the list, there are no &lt;a href=#supported-property-indices&gt;supported property
+  &lt;p&gt;The &lt;a href=#supported-property-indices&gt;supported property indices&lt;/a&gt; of a &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object at any
+  instant are the numbers from zero to the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the
+  list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object minus one, if any. If there are no
+  &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the list, there are no &lt;a href=#supported-property-indices&gt;supported property
   indices&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;To &lt;a href=#determine-the-value-of-an-indexed-property&gt;determine the value of an indexed property&lt;/a&gt; for a
-  given index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return
-  the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt; in the
-  list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;p&gt;To &lt;a href=#determine-the-value-of-an-indexed-property&gt;determine the value of an indexed property&lt;/a&gt; for a given index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;a href=#text-track-cue&gt;text track
+  cue&lt;/a&gt; in the list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-getcuebyid title=dom-TextTrackCueList-getCueById&gt;&lt;code&gt;getCueById(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument
-  other than the empty string, must return the first &lt;a href=#text-track-cue&gt;text track
-  cue&lt;/a&gt; in the list represented by the
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object whose &lt;a href=#text-track-cue-identifier&gt;text track cue
-  identifier&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null
-  otherwise. If the argument is the empty string, then the method must
-  return null.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-getcuebyid title=dom-TextTrackCueList-getCueById&gt;&lt;code&gt;getCueById(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument other than the empty string,
+  must return the first &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt; in the list represented by the
+  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object whose &lt;a href=#text-track-cue-identifier&gt;text track cue identifier&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null otherwise. If the argument is the empty string, then the method
+  must return null.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -33125,58 +33050,46 @@
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
-  &lt;p&gt;How accurately various aspects of the &lt;a href=#media-element&gt;media element&lt;/a&gt;
-  API are implemented is considered a quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;How accurately various aspects of the &lt;a href=#media-element&gt;media element&lt;/a&gt; API are implemented is
+  considered a quality-of-implementation issue.&lt;/p&gt;
 
-  &lt;p&gt;For example, when implementing the &lt;code title=attr-media-buffered&gt;buffered&lt;/code&gt; attribute, how precise
-  an implementation reports the ranges that have been buffered depends
-  on how carefully the user agent inspects the data. Since the API
-  reports ranges as times, but the data is obtained in byte streams, a
-  user agent receiving a variable-bit-rate stream might only be able
-  to determine precise times by actually decoding all of the data.
-  User agents aren't required to do this, however; they can instead
-  return estimates (e.g. based on the average bit rate seen so far)
-  which get revised as more information becomes available.&lt;/p&gt;
+  &lt;p&gt;For example, when implementing the &lt;code title=attr-media-buffered&gt;buffered&lt;/code&gt; attribute,
+  how precise an implementation reports the ranges that have been buffered depends on how carefully
+  the user agent inspects the data. Since the API reports ranges as times, but the data is obtained
+  in byte streams, a user agent receiving a variable-bit-rate stream might only be able to determine
+  precise times by actually decoding all of the data. User agents aren't required to do this,
+  however; they can instead return estimates (e.g. based on the average bit rate seen so far) which
+  get revised as more information becomes available.&lt;/p&gt;
 
-  &lt;p&gt;As a general rule, user agents are urged to be conservative
-  rather than optimistic. For example, it would be bad to report that
-  everything had been buffered when it had not.&lt;/p&gt;
+  &lt;p&gt;As a general rule, user agents are urged to be conservative rather than optimistic. For
+  example, it would be bad to report that everything had been buffered when it had not.&lt;/p&gt;
 
-  &lt;p&gt;Another quality-of-implementation issue would be playing a video
-  backwards when the codec is designed only for forward playback (e.g.
-  there aren't many key frames, and they are far apart, and the
-  intervening frames only have deltas from the previous frame). User
-  agents could do a poor job, e.g. only showing key frames; however,
-  better implementations would do more work and thus do a better job,
-  e.g. actually decoding parts of the video forwards, storing the
-  complete frames, and then playing the frames backwards.&lt;/p&gt;
+  &lt;p&gt;Another quality-of-implementation issue would be playing a video backwards when the codec is
+  designed only for forward playback (e.g. there aren't many key frames, and they are far apart, and
+  the intervening frames only have deltas from the previous frame). User agents could do a poor job,
+  e.g. only showing key frames; however, better implementations would do more work and thus do a
+  better job, e.g. actually decoding parts of the video forwards, storing the complete frames, and
+  then playing the frames backwards.&lt;/p&gt;
 
-  &lt;p&gt;Similarly, while implementations are allowed to drop buffered
-  data at any time (there is no requirement that a user agent keep all
-  the media data obtained for the lifetime of the media element), it
-  is again a quality of implementation issue: user agents with
-  sufficient resources to keep all the data around are encouraged to
-  do so, as this allows for a better user experience. For example, if
-  the user is watching a live stream, a user agent could allow the
-  user only to view the live video; however, a better user agent would
-  buffer everything and allow the user to seek through the earlier
-  material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
+  &lt;p&gt;Similarly, while implementations are allowed to drop buffered data at any time (there is no
+  requirement that a user agent keep all the media data obtained for the lifetime of the media
+  element), it is again a quality of implementation issue: user agents with sufficient resources to
+  keep all the data around are encouraged to do so, as this allows for a better user experience. For
+  example, if the user is watching a live stream, a user agent could allow the user only to view the
+  live video; however, a better user agent would buffer everything and allow the user to seek
+  through the earlier material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
 
-  &lt;p&gt;When multiple tracks are synchronised with a
-  &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, it is possible for scripts to add and
-  remove media elements from the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s list
-  of &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, even while these tracks are
-  playing. How smoothly the media plays back in such situations is
-  another quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;When multiple tracks are synchronised with a &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, it is possible for
+  scripts to add and remove media elements from the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s list of
+  &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, even while these tracks are playing. How smoothly the media
+  plays back in such situations is another quality-of-implementation issue.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt; that is paused is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a document&quot;&gt;removed from a
-  document&lt;/a&gt; and not reinserted before the next time the
-  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; spins, implementations that are resource
-  constrained are encouraged to take that opportunity to release all
-  hardware resources (like video planes, networking resources, and
-  data buffers) used by the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (User agents
-  still have to keep track of the playback position and so forth,
-  though, in case playback is later restarted.)&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt; that is paused is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a
+  document&quot;&gt;removed from a document&lt;/a&gt; and not reinserted before the next time the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; spins, implementations that are resource constrained are encouraged to take that
+  opportunity to release all hardware resources (like video planes, networking resources, and data
+  buffers) used by the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (User agents still have to keep track of the
+  playback position and so forth, though, in case playback is later restarted.)&lt;/p&gt;
 
   &lt;/div&gt;
   
@@ -37509,15 +37422,15 @@
   instructions to the &lt;a href=#scratch-bitmap&gt;scratch bitmap&lt;/a&gt;'s &lt;a href=#list-of-pending-interface-actions&gt;list of pending interface actions&lt;/a&gt;
   that run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
-   rectangle of the bounding box of the intended path.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the rectangle of the bounding box of
+   the intended path.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
-   element that is a rendered child of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical element that is a rendered child
+   of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
    rectangle&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into
+   view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the caret or selection (or both)
    cover &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; of the canvas. If the
@@ -37525,17 +37438,14 @@
    until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the rendering&quot; step to
    optionally inform the user.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=note id=inform&gt;&quot;Inform the user&quot;, as used in this
-  section, could mean calling a system accessibility API, which would
-  notify assistive technologies such as magnification tools. To
-  properly drive magnification based on a focus change, a system
-  accessibility API driving a screen magnifier needs the bounds for
-  the newly focused object. The methods above are intended to enable
-  this by allowing the user agent to report the bounding box of the
-  path used to render the focus ring as the bounds of the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
-  element is focused, and the bounding box of the area to which the
-  user agent is scrolling as the bounding box of the current
-  selection.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p class=note id=inform&gt;&quot;Inform the user&quot;, as used in this section, could mean calling a
+  system accessibility API, which would notify assistive technologies such as magnification tools.
+  To properly drive magnification based on a focus change, a system accessibility API driving a
+  screen magnifier needs the bounds for the newly focused object. The methods above are intended to
+  enable this by allowing the user agent to report the bounding box of the path used to render the
+  focus ring as the bounds of the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
+  element is focused, and the bounding box of the area to which the user agent is scrolling as the
+  bounding box of the current selection.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-clip title=dom-context-2d-clip&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt; method must create a new
   &lt;dfn id=clipping-region&gt;clipping region&lt;/dfn&gt; by calculating the intersection of the current clipping region and the
@@ -37543,9 +37453,8 @@
   be implicitly closed when computing the clipping region, without affecting the actual subpaths.
   The new clipping region replaces the current clipping region.&lt;/p&gt;
 
-  &lt;p&gt;When the context is initialized, the clipping region must be set
-  to the rectangle with the top left corner at (0,0) and the width and
-  height of the coordinate space.&lt;/p&gt;
+  &lt;p&gt;When the context is initialized, the clipping region must be set to the rectangle with the top
+  left corner at (0,0) and the width and height of the coordinate space.&lt;/p&gt;
 
   &lt;!-- v6
    Jordan OSETE suggests:
@@ -68883,110 +68792,97 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has a &lt;dfn id=concept-document-salvageable title=concept-document-salvageable&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt;
-  state, which must initially be true, a &lt;dfn id=fired-unload&gt;fired unload&lt;/dfn&gt; flag,
-  which must initially be false, and a &lt;dfn id=page-showing&gt;page showing&lt;/dfn&gt; flag,
-  which must initially be false.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has a &lt;dfn id=concept-document-salvageable title=concept-document-salvageable&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt; state, which must initially be
+  true, a &lt;dfn id=fired-unload&gt;fired unload&lt;/dfn&gt; flag, which must initially be false, and a &lt;dfn id=page-showing&gt;page showing&lt;/dfn&gt;
+  flag, which must initially be false.&lt;/p&gt;
 
-  &lt;p&gt;&lt;a href=#event-loop title=&quot;event loop&quot;&gt;Event loops&lt;/a&gt; have a
-  &lt;dfn id=termination-nesting-level&gt;termination nesting level&lt;/dfn&gt; counter, which must initially
-  be zero.&lt;/p&gt;
+  &lt;p&gt;&lt;a href=#event-loop title=&quot;event loop&quot;&gt;Event loops&lt;/a&gt; have a &lt;dfn id=termination-nesting-level&gt;termination nesting level&lt;/dfn&gt;
+  counter, which must initially be zero.&lt;/p&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn id=prompt-to-unload-a-document&gt;prompt to unload a document&lt;/dfn&gt;,
-  it must run the following steps.&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=prompt-to-unload-a-document&gt;prompt to unload a document&lt;/dfn&gt;, it must run the following
+  steps.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; be a new &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt;
    &lt;code&gt;&lt;a href=#beforeunloadevent&gt;BeforeUnloadEvent&lt;/a&gt;&lt;/code&gt; event object with the name &lt;code title=event-beforeunload&gt;beforeunload&lt;/code&gt;, which does not bubble but is cancelable.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Dispatch&lt;/i&gt;: &lt;a href=#concept-event-dispatch title=concept-event-dispatch&gt;Dispatch&lt;/a&gt; &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;dispatch&lt;/i&gt; step, then set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;dispatch&lt;/i&gt; step, then set the
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
    false.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt;
-    attribute of the &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty
-    string, or if the event was canceled, then the user agent should
-    ask the user to confirm that they wish to unload the document.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt; attribute of the
+    &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty string, or if the event was canceled, then the
+    user agent should ask the user to confirm that they wish to unload the document.&lt;/p&gt;
 
-    &lt;p&gt;The prompt shown by the user agent may include the string of
-    the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt;
-    attribute, or some leading subset thereof. (A user agent may want
-    to truncate the string to 1024 characters for display, for
+    &lt;p&gt;The prompt shown by the user agent may include the string of the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt; attribute, or some leading subset
+    thereof. (A user agent may want to truncate the string to 1024 characters for display, for
     instance.)&lt;/p&gt;
 
-    &lt;p&gt;The user agent must &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for the
-    user's response.&lt;/p&gt;
+    &lt;p&gt;The user agent must &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for the user's response.&lt;/p&gt;
 
-    &lt;p&gt;If the user did not confirm the page navigation, then the user
-    agent &lt;dfn id=refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
+    &lt;p&gt;If the user did not confirm the page navigation, then the user agent &lt;dfn id=refused-to-allow-the-document-to-be-unloaded&gt;refused to allow
+    the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;prompt to unload a document&quot; algorithm (i.e. through the steps
-   below that invoke this algorithm for all descendant browsing
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;prompt to unload a document&quot;
+   algorithm (i.e. through the steps below that invoke this algorithm for all descendant browsing
    contexts), then jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the
-   descendant browsing contexts&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the descendant browsing
+   contexts&lt;/a&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;a href=#browsing-context&gt;browsing
+    context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#prompt-to-unload-a-document title=&quot;prompt to unload a document&quot;&gt;Prompt to
-     unload&lt;/a&gt; the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
-     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
-     &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/a&gt;, then
-     the user implicitly also &lt;a href=#refused-to-allow-the-document-to-be-unloaded title=&quot;refused to allow the
-     document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document
-     to be unloaded&lt;/a&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#prompt-to-unload-a-document title=&quot;prompt to unload a document&quot;&gt;Prompt to unload&lt;/a&gt; the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
+     &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/a&gt;, then the user implicitly also &lt;a href=#refused-to-allow-the-document-to-be-unloaded title=&quot;refused to allow the document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document to
+     be unloaded&lt;/a&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload
+   counter&lt;/a&gt; by one.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When a user agent is to &lt;dfn id=unload-a-document&gt;unload a document&lt;/dfn&gt;, it must run
-  the following steps. These steps are passed an argument, &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false, indicating
-  whether the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is going to be
-  re-used. (This is set by the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; method.)&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;When a user agent is to &lt;dfn id=unload-a-document&gt;unload a document&lt;/dfn&gt;, it must run the following steps. These
+  steps are passed an argument, &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false,
+  indicating whether the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is going to be re-used. (This is set by the
+  &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; method.)&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt;
-   flag is false, then jump to the step labeled &lt;i&gt;unload event&lt;/i&gt;
-   below (i.e. skip firing the &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; even and don't rerun the
-   &lt;a href=#unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/a&gt;).&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt; flag is false, then jump to the
+   step labeled &lt;i&gt;unload event&lt;/i&gt; below (i.e. skip firing the &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; even and don't rerun the &lt;a href=#unloading-document-visibility-change-steps&gt;unloading document
+   visibility change steps&lt;/a&gt;).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt;
-   flag to false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt; flag to false.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the
@@ -68997,59 +68893,51 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Run any &lt;dfn id=unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/dfn&gt;
-    for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are defined by &lt;a href=#other-applicable-specifications&gt;other
-    applicable specifications&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Run any &lt;dfn id=unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/dfn&gt; for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that
+    are defined by &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;This is specifically intended for use by the Page
-    Visibility specification. &lt;a href=#refsPAGEVIS&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
+    &lt;p class=note&gt;This is specifically intended for use by the Page Visibility specification. &lt;a href=#refsPAGEVIS&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag is false, &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; named &lt;code title=event-unload&gt;unload&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag is
+   false, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-unload&gt;unload&lt;/code&gt; at the
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;unload event&lt;/i&gt; step, then set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-   object's &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
-   false and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt;
-   flag to true.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;unload event&lt;/i&gt; step, then set
+   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt;
+   state to false and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag to
+   true.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run any &lt;a href=#unloading-document-cleanup-steps&gt;unloading document cleanup steps&lt;/a&gt; for
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are defined by this specification and
-   &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run any &lt;a href=#unloading-document-cleanup-steps&gt;unloading document cleanup steps&lt;/a&gt; for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are
+   defined by this specification and &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;unload a document&quot; algorithm (i.e. by the steps below that invoke
-   this algorithm for all descendant browsing contexts), then jump to
-   the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;unload a document&quot; algorithm
+   (i.e. by the steps below that invoke this algorithm for all descendant browsing contexts), then
+   jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the
-   descendant browsing contexts&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the descendant browsing
+   contexts&lt;/a&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;a href=#browsing-context&gt;browsing
+    context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#unload-a-document title=&quot;unload a document&quot;&gt;Unload&lt;/a&gt; the
-     &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
-     &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#unload-a-document title=&quot;unload a document&quot;&gt;Unload&lt;/a&gt; the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
      parameter set to false.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
@@ -71856,51 +71744,44 @@
 
   &lt;h5 id=definitions-1&gt;&lt;span class=secno&gt;7.1.4.1 &lt;/span&gt;Definitions&lt;/h5&gt;
 
-  &lt;p&gt;To coordinate events, user interaction, scripts, rendering,
-  networking, and so forth, user agents must use &lt;dfn id=event-loop title=&quot;event
-  loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
+  &lt;p&gt;To coordinate events, user interaction, scripts, rendering, networking, and so forth, user
+  agents must use &lt;dfn id=event-loop title=&quot;event loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
 
-  &lt;p&gt;There must be at least one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per user
-  agent, and at most one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of
-  related similar-origin browsing contexts&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;There must be at least one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per user agent, and at most one &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; per &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;When there is more than one &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-  for a &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt;, complications
-  arise when a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; in that group is &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; such that it switches from one
-  &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; to
-  another. This specification does not currently describe how to
-  handle these complications.&lt;/p&gt;
+  &lt;p class=note&gt;When there is more than one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; for a &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related
+  browsing contexts&lt;/a&gt;, complications arise when a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; in that group
+  is &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; such that it switches from one &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related
+  similar-origin browsing contexts&lt;/a&gt; to another. This specification does not currently describe
+  how to handle these complications.&lt;/p&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; always has at least one &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt;. If an &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; all go away, then
-  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; goes away as well. A &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; always has an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; coordinating
-  its activities.&lt;/p&gt;
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; always has at least one &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;. If an
+  &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; all go away,
+  then the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; goes away as well. A &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; always has an
+  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; coordinating its activities.&lt;/p&gt;
 
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has one or more &lt;dfn id=task-queue title=&quot;task queue&quot;&gt;task queues&lt;/dfn&gt;. A
+  &lt;a href=#task-queue&gt;task queue&lt;/a&gt; is an ordered list of &lt;dfn id=concept-task title=concept-task&gt;tasks&lt;/dfn&gt;, which can
+  be:&lt;/p&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has one or more &lt;dfn id=task-queue title=&quot;task
-  queue&quot;&gt;task queues&lt;/dfn&gt;. A &lt;a href=#task-queue&gt;task queue&lt;/a&gt; is an ordered
-  list of &lt;dfn id=concept-task title=concept-task&gt;tasks&lt;/dfn&gt;, which can be:&lt;/p&gt;
-
   &lt;dl&gt;&lt;dt&gt;Events&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt; object at a
-    particular &lt;code&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt; object is a task.&lt;/p&gt;
+    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt; object at a particular
+    &lt;code&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt; object is a task.&lt;/p&gt;
 
-    &lt;p class=note&gt;Not all events are dispatched using the &lt;a href=#task-queue&gt;task
-    queue&lt;/a&gt;, many are dispatched synchronously during other
-    tasks.&lt;/p&gt;
+    &lt;p class=note&gt;Not all events are dispatched using the &lt;a href=#task-queue&gt;task queue&lt;/a&gt;, many are
+    dispatched synchronously during other tasks.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
    &lt;dt&gt;Parsing&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; tokenizing one or more bytes,
-   and then processing any resulting tokens, is typically a
-   task.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; tokenizing one or more bytes, and then processing any
+   resulting tokens, is typically a task.&lt;/dd&gt;
 
 
    &lt;dt&gt;Callbacks&lt;/dt&gt;
@@ -71910,81 +71791,64 @@
 
    &lt;dt&gt;Using a resource&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;a href=#fetch title=fetch&gt;fetches&lt;/a&gt; a
-   resource, if the fetching occurs asynchronously then the processing
-   of the resource once some or all of the resource is available is a
-   task.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;a href=#fetch title=fetch&gt;fetches&lt;/a&gt; a resource, if the fetching occurs
+   asynchronously then the processing of the resource once some or all of the resource is available
+   is a task.&lt;/dd&gt;
 
 
    &lt;dt&gt;Reacting to DOM manipulation&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM
-   manipulation, e.g. when that element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an
-   element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
+   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM manipulation, e.g. when that
+   element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the
-  given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;
-  of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from one
-  particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by
-  timers, the events fired for mouse movements, the tasks queued for
-  the parser) must always be added to the same &lt;a href=#task-queue&gt;task
-  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task
-  source&quot;&gt;task sources&lt;/a&gt; may be placed in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from
+  one particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
+  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;a href=#task-queue&gt;task
+  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed
+  in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=example&gt;For example, a user agent could have one
-  &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and key events (the &lt;a href=#user-interaction-task-source&gt;user
-  interaction task source&lt;/a&gt;), and another for everything
-  else. The user agent could then give keyboard and mouse events
-  preference over other tasks three quarters of the time, keeping the
-  interface responsive but not starving other task queues, and never
-  processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of
-  order.&lt;/p&gt;
+  &lt;p class=example&gt;For example, a user agent could have one &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and
+  key events (the &lt;a href=#user-interaction-task-source&gt;user interaction task source&lt;/a&gt;), and another for everything else. The
+  user agent could then give keyboard and mouse events preference over other tasks three quarters of
+  the time, keeping the interface responsive but not starving other task queues, and never
+  processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of
-  an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
-  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in
-  the context of an element, then it is the element's
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt; at the time the task
-  was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the
-  &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt;
+  onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
+  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of an element, then
+  it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt; at the time the task was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is
-  used to control access to shared state like cookies. At any one
-  point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or owned by a
-  particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
+  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
+  shared state like cookies. At any one point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or
+  owned by a particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
 
-  &lt;p&gt;If a user agent does not implement a &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;,
-  it is exempt from implementing the requirements that require it to
-  acquire or release it.&lt;/p&gt;
+  &lt;p&gt;If a user agent does not implement a &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;, it is exempt from implementing
+  the requirements that require it to acquire or release it.&lt;/p&gt;
 
-  &lt;p class=note&gt;User agent implementors have to make a choice
-  between two evils. On the one hand, not implementing the storage
-  mutex means that there is a risk of data corruption: a site could,
-  for instance, try to read a cookie, increment its value, then write
-  it back out, using the new value of the cookie as a unique
-  identifier for the session; if the site does this twice in two
-  different browser windows at the same time, it might end up using
-  the same &quot;unique&quot; identifier for both sessions, with potentially
-  disastrous effects. On the other hand, implementing the storage
-  mutex has potentially serious performance implications: whenever a
-  site uses Web Storage or cookies, all other sites that try to use
-  Web Storage or cookies are blocked until the first site finishes.&lt;/p&gt;
+  &lt;p class=note&gt;User agent implementors have to make a choice between two evils. On the one hand,
+  not implementing the storage mutex means that there is a risk of data corruption: a site could,
+  for instance, try to read a cookie, increment its value, then write it back out, using the new
+  value of the cookie as a unique identifier for the session; if the site does this twice in two
+  different browser windows at the same time, it might end up using the same &quot;unique&quot; identifier for
+  both sessions, with potentially disastrous effects. On the other hand, implementing the storage
+  mutex has potentially serious performance implications: whenever a site uses Web Storage or
+  cookies, all other sites that try to use Web Storage or cookies are blocked until the first site
+  finishes.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; calls into
-  a &lt;a href=#plugin&gt;plugin&lt;/a&gt;, and whenever a &lt;a href=#plugin&gt;plugin&lt;/a&gt; calls into
-  a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, the user agent must
-  release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; calls into a &lt;a href=#plugin&gt;plugin&lt;/a&gt;, and
+  whenever a &lt;a href=#plugin&gt;plugin&lt;/a&gt; calls into a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, the user
+  agent must release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h5 id=processing-model-4&gt;&lt;span class=secno&gt;7.1.4.2 &lt;/span&gt;Processing model&lt;/h5&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must continually run through the
-  following steps for as long as it exists:&lt;/p&gt;
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must continually run through the following steps for as long as it
+  exists:&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- if you add a step here, make sure to go through the spec updating references to the &quot;first
-   step&quot; of the event loop --&gt;&lt;li&gt;&lt;p&gt;Run the oldest &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; on one of the &lt;a href=#event-loop&gt;event
+   step&quot; or &quot;step 1&quot; of the event loop --&gt;&lt;li&gt;&lt;p&gt;Run the oldest &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; on one of the &lt;a href=#event-loop&gt;event
    loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, if any, ignoring tasks whose
    associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;. The user agent may pick any
    &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/li&gt;
@@ -72002,28 +71866,23 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#provide-a-stable-state&gt;Provide a stable state&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect
-   the current state.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect the current state.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=perform-a-microtask-checkpoint&gt;perform a microtask
-  checkpoint&lt;/dfn&gt;, if the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt;
-  flag is false, then the user agent must run the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=perform-a-microtask-checkpoint&gt;perform a microtask checkpoint&lt;/dfn&gt;, if the &lt;a href=#running-mutation-observers&gt;running
+  mutation observers&lt;/a&gt; flag is false, then the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be
-   true.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be true.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#sort-the-tables-with-pending-sorts&gt;Sort the tables with pending sorts&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;Invoke
-    &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/a&gt; for the &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit
-    of related similar-origin browsing contexts&lt;/a&gt; to which the
-    &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; belongs.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;Invoke &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/a&gt; for the
+    &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; to which the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's
+    browsing context&lt;/a&gt; belongs.&lt;/p&gt;
 
     &lt;p class=note&gt;This will typically invoke scripted callbacks, which calls the &lt;a href=#jump-to-a-code-entry-point&gt;jump to a
     code entry-point&lt;/a&gt; algorithm, which calls this &lt;a href=#perform-a-microtask-checkpoint&gt;perform a microtask checkpoint&lt;/a&gt;
@@ -72032,8 +71891,7 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be
-   false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be false.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When the user agent is to &lt;dfn id=provide-a-stable-state&gt;provide a stable state&lt;/dfn&gt;, if any asynchronously-running
   algorithms are &lt;dfn id=await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a stable state&lt;/dfn&gt;, then the user
@@ -72046,66 +71904,52 @@
   &lt;p class=note&gt;Steps in &lt;a href=#synchronous-section title=&quot;synchronous section&quot;&gt;synchronous sections&lt;/a&gt; are marked
   with &#8987;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When an algorithm says to &lt;dfn id=spin-the-event-loop&gt;spin the event loop&lt;/dfn&gt; until
-  a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run
-  the following steps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When an algorithm says to &lt;dfn id=spin-the-event-loop&gt;spin the event loop&lt;/dfn&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;a href=#task-source&gt;task
-   source&lt;/a&gt; of the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;a href=#task-source&gt;task source&lt;/a&gt; of the currently
+   running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Stop the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, allowing the &lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt; to resume, but continue these steps
-    asynchronously.&lt;/p&gt;
+    loop&lt;/a&gt; to resume, but continue these steps asynchronously.&lt;/p&gt;
 
-    &lt;p class=note&gt;This causes the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; to move on
-    to the second step of its processing model (defined above).&lt;/p&gt;
+    &lt;p class=note&gt;This causes the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; to move on to the second step of its
+    processing model (defined above).&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is
-   met.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to continue running these steps,
-   using the &lt;a href=#task-source&gt;task source&lt;/a&gt; &lt;var title=&quot;&quot;&gt;task
-   source&lt;/var&gt;. Wait until this task runs before continuing these
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to continue running these steps, using the &lt;a href=#task-source&gt;task
+   source&lt;/a&gt; &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt;. Wait until this task runs before continuing these
    steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Return to the caller.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the algorithms in this specification, for historical
-  reasons, require the user agent to &lt;dfn id=pause&gt;pause&lt;/dfn&gt; while running a
-  &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following
-  steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the algorithms in this specification, for historical reasons, require the user agent to
+  &lt;dfn id=pause&gt;pause&lt;/dfn&gt; while running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;a href=#await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a stable state&lt;/a&gt;, then
-   run their &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; and then resume running
-   their asynchronous algorithm. (See the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-   processing model definition above for details.)&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;a href=#await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a
+   stable state&lt;/a&gt;, then run their &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; and then resume running
+   their asynchronous algorithm. (See the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; processing model definition above
+   for details.)&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect
-   the current state.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect the current state.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.
-   While a user agent has a paused &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, the corresponding &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt; must not run further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;, and any script in the currently
-   running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must block. User
-   agents should remain responsive to user input while paused,
-   however, albeit in a reduced capacity since the &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt; will not be doing anything.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. While a user agent has a paused
+   &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, the corresponding &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must not run
+   further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;, and any script in the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must block. User agents should remain responsive to user input
+   while paused, however, albeit in a reduced capacity since the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not be
+   doing anything.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=obtain-the-storage-mutex&gt;obtain the storage mutex&lt;/dfn&gt; as
-  part of running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, it must
-  run through the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=obtain-the-storage-mutex&gt;obtain the storage mutex&lt;/dfn&gt; as part of running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, it must run through the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is already owned by this
-   &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s &lt;a href=#event-loop&gt;event loop&lt;/a&gt;,
-   then abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is already owned by this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, then abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, &lt;a href=#pause&gt;pause&lt;/a&gt; until the &lt;a href=#storage-mutex&gt;storage
-   mutex&lt;/a&gt; can be taken by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Otherwise, &lt;a href=#pause&gt;pause&lt;/a&gt; until the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; can be taken by the
+   &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take ownership of the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -72116,17 +71960,15 @@
 
   &lt;h5 id=generic-task-sources&gt;&lt;span class=secno&gt;7.1.4.3 &lt;/span&gt;Generic task sources&lt;/h5&gt;
 
-  &lt;p&gt;The following &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; are
-  used by a number of mostly unrelated features in this and other
-  specifications.&lt;/p&gt;
+  &lt;p&gt;The following &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; are used by a number of mostly
+  unrelated features in this and other specifications.&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;The &lt;dfn id=dom-manipulation-task-source&gt;DOM manipulation task source&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react
-    to DOM manipulations, such as things that happen asynchronously
-    when an element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react to DOM manipulations, such as
+    things that happen asynchronously when an element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
     document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -72135,14 +71977,12 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react
-    to user interaction, for example keyboard or mouse input.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react to user interaction, for
+    example keyboard or mouse input.&lt;/p&gt;
 
-    &lt;p&gt;Asynchronous events sent in response to user input (e.g. &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events) must be fired using
-    &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a
-    task&quot;&gt;queued&lt;/a&gt; with the &lt;a href=#user-interaction-task-source&gt;user interaction task
-    source&lt;/a&gt;. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
-    &lt;!-- user interaction events integration point --&gt;
+    &lt;p&gt;Asynchronous events sent in response to user input (e.g. &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events) must be fired using &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; with the &lt;a href=#user-interaction-task-source&gt;user
+    interaction task source&lt;/a&gt;. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user
+    interaction events integration point --&gt;
 
    &lt;/dd&gt;
 
@@ -72150,19 +71990,16 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that trigger
-    in response to network activity.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that trigger in response to network
+    activity.&lt;/p&gt;
 
-    &lt;!-- XHR should use this --&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;The &lt;dfn id=history-traversal-task-source&gt;history traversal task source&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used to queue calls to &lt;code title=dom-history-back&gt;&lt;a href=#dom-history-back&gt;history.back()&lt;/a&gt;&lt;/code&gt; and similar
-    APIs.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used to queue calls to &lt;code title=dom-history-back&gt;&lt;a href=#dom-history-back&gt;history.back()&lt;/a&gt;&lt;/code&gt; and similar APIs.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73558,11 +73395,11 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-alert title=dom-alert&gt;&lt;code&gt;alert(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-alert title=dom-alert&gt;&lt;code&gt;alert(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when
+  invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73570,18 +73407,16 @@
    to ignore all alerts, and would thus abort at this step whenever the method was
    invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the
-   user.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for for the
-   user to acknowledge the message.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for for the user to acknowledge the
+   message.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-confirm title=dom-confirm&gt;&lt;code&gt;confirm(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-confirm title=dom-confirm&gt;&lt;code&gt;confirm(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method,
+  when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps, returning
-   false.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps, returning false.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73589,22 +73424,18 @@
    the user the option to ignore all prompts, and would thus abort at this step whenever the method
    was invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to respond with a positive or negative
-   response.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to respond with a
+   positive or negative response.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; until the user responds either positively
-   or negatively.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; until the user responds either positively or negatively.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise,
-   the user responded negatively: return false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise, the user responded negatively:
+   return false.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-prompt title=dom-prompt&gt;&lt;code&gt;prompt(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-prompt title=dom-prompt&gt;&lt;code&gt;prompt(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps, returning
-   null.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps, returning null.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73612,16 +73443,14 @@
    user the option to ignore all prompts, and would thus abort at this step whenever the method was
    invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to either respond with a string value or abort. The
-   second argument is optional. If the second argument (&lt;var title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be
-   defaulted to the value given by &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to either respond
+   with a string value or abort. The second argument is optional. If the second argument (&lt;var title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be defaulted to the value given by
+   &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; while waiting for the user's
-   response.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; while waiting for the user's response.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the
-   string that the user responded with.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the string that the user responded
+   with.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
@@ -73766,29 +73595,22 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the user agent is configured such that this invocation of
-    &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; is
-    somehow disabled, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the user agent is configured such that this invocation of &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; is somehow disabled, then return the empty
+    string and abort these steps.&lt;/p&gt;
 
-    &lt;p class=note&gt;User agents are expected to disable this method in
-    certain cases to avoid user annoyance (e.g. as part of their popup
-    blocker feature). For instance, a user agent could require that a
-    site be white-listed before enabling this method, or the user
-    agent could be configured to only allow one modal dialog at a
-    time.&lt;/p&gt;
+    &lt;p class=note&gt;User agents are expected to disable this method in certain cases to avoid user
+    annoyance (e.g. as part of their popup blocker feature). For instance, a user agent could
+    require that a site be white-listed before enabling this method, or the user agent could be
+    configured to only allow one modal dialog at a time.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt;
-    of the &lt;a href=#active-document&gt;active document&lt;/a&gt;
-    of the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    has its
-    &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary navigation browsing context flag&lt;/a&gt;
-    set, then return the empty string and abort these steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
+    &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary
+    navigation browsing context flag&lt;/a&gt; set, then return the empty string and abort these
+    steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73797,17 +73619,13 @@
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing
     contexts&lt;/var&gt; be a list of all the browsing contexts that:&lt;/p&gt;
 
-    &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing
-     contexts&lt;/a&gt; as the browsing context of the
-     &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was
-     called, and that&lt;/li&gt;
+    &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt; as the browsing context
+     of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called, and that&lt;/li&gt;
 
-     &lt;li&gt;have an &lt;a href=#active-document&gt;active document&lt;/a&gt; whose
-     &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt;
-     as the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method at
-     the time the method was called,&lt;/li&gt; &lt;!-- Note that changing
-     document.domain to talk to another domain doesn't make you able
-     to block that domain --&gt;
+     &lt;li&gt;have an &lt;a href=#active-document&gt;active document&lt;/a&gt; whose &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same
+     origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method at the time the method was
+     called,&lt;/li&gt; &lt;!-- Note that changing document.domain to talk to another domain doesn't make you
+     able to block that domain --&gt;
 
     &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any
     of the browsing contexts matching those conditions.&lt;/p&gt;
@@ -73816,105 +73634,87 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Disable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;. This
-    should prevent the user from navigating those browsing contexts,
-    causing events to be sent to those browsing context, or editing
-    any content in those browsing contexts. However, it does not
-    prevent those browsing contexts from receiving events from sources
-    other than the user, from running scripts, from running
-    animations, and so forth.&lt;/p&gt;
+    &lt;p&gt;Disable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;. This should prevent the user from navigating those browsing
+    contexts, causing events to be sent to those browsing context, or editing any content in those
+    browsing contexts. However, it does not prevent those browsing contexts from receiving events
+    from sources other than the user, from running scripts, from running animations, and so
+    forth.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Create a new &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;, with the
-    &lt;a href=#opener-browsing-context&gt;opener browsing context&lt;/a&gt; being the browsing context of
-    the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was
-    called. The new auxiliary browsing context has no name.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;, with the &lt;a href=#opener-browsing-context&gt;opener browsing
+    context&lt;/a&gt; being the browsing context of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called. The new auxiliary
+    browsing context has no name.&lt;/p&gt;
 
-    &lt;p class=note&gt;This &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s' &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects all implement
-    the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
+    &lt;p class=note&gt;This &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s' &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+    objects all implement the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Set all the flags
-    in the new browsing context's &lt;a href=#popup-sandboxing-flag-set&gt;popup sandboxing flag set&lt;/a&gt;
-    that are set in the
-    &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt;
-    of the &lt;a href=#active-document&gt;active document&lt;/a&gt;
-    of the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method.
-    The &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    must be set as the new browsing context's
-    &lt;a href=#one-permitted-sandboxed-navigator&gt;one permitted sandboxed navigator&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Set all the flags in the new browsing context's &lt;a href=#popup-sandboxing-flag-set&gt;popup sandboxing flag set&lt;/a&gt; that
+    are set in the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method. The &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked
+    the method must be set as the new browsing context's &lt;a href=#one-permitted-sandboxed-navigator&gt;one permitted sandboxed
+    navigator&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; of the new browsing
-    context be set to the value of &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt;, or
-    the 'undefined' value if the argument was omitted.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; of the new browsing context be set to the value of &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt;, or the 'undefined' value if the argument was omitted.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/a&gt; be the
-    &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/a&gt; be the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new
-    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;
-    that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement
-    enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
-    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as
-    the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
+    the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as the &lt;a href=#source-browsing-context&gt;source browsing
+    context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the new &lt;a href=#browsing-context&gt;browsing
-    context&lt;/a&gt; is closed. (The user agent must allow the user to
-    indicate that the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is to be
+    &lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is closed. (The
+    user agent must allow the user to indicate that the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is to be
     closed.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Reenable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Reenable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Return the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s
-    &lt;a href=#return-value&gt;return value&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Return the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value&gt;return value&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects of &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s hosted
-  by &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; created
-  by the above algorithm must also implement the
+  &lt;/ol&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects of &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s hosted by &lt;a href=#browsing-context title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/a&gt; created by the above algorithm must also implement the
   &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;p class=note&gt;When this happens, the members of the
-  &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface, in JavaScript environments,
-  appear to actually be part of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface
-  (e.g. they are on the same prototype chain as the &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt; method).&lt;/p&gt;
+  &lt;p class=note&gt;When this happens, the members of the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface, in
+  JavaScript environments, appear to actually be part of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface (e.g.
+  they are on the same prototype chain as the &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt;
+  method).&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -73927,8 +73727,7 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was
-    passed to the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was passed to the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73938,45 +73737,36 @@
 
     &lt;p&gt;Returns the current return value for the window.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the value that will be returned by the
-    &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt;
-    method.&lt;/p&gt;
+    &lt;p&gt;Can be set, to change the value that will be returned by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;Such browsing contexts have associated &lt;dfn id=dialog-arguments&gt;dialog
-  arguments&lt;/dfn&gt;, which are stored along with the &lt;dfn id=&quot;dialog-arguments'-origin&quot;&gt;dialog
-  arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method in the
-  algorithm above, when the browsing context is created, based on the
-  arguments provided to the method.&lt;/p&gt;
+  &lt;p&gt;Such browsing contexts have associated &lt;dfn id=dialog-arguments&gt;dialog arguments&lt;/dfn&gt;, which are stored along with
+  the &lt;dfn id=&quot;dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method in the algorithm above, when the
+  browsing context is created, based on the arguments provided to the method.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-windowmodal-dialogarguments title=dom-WindowModal-dialogArguments&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must check whether its browsing context's
-  &lt;a href=#active-document&gt;active document&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments'
-  origin&lt;/a&gt;. If it is, then the browsing context's &lt;a href=#dialog-arguments&gt;dialog
-  arguments&lt;/a&gt; must be returned unchanged. Otherwise, if the
-  &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are an object, then the empty string
-  must be returned, and if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are not
-  an object, then the stringification of the &lt;a href=#dialog-arguments&gt;dialog
-  arguments&lt;/a&gt; must be returned.
+  &lt;p&gt;The &lt;dfn id=dom-windowmodal-dialogarguments title=dom-WindowModal-dialogArguments&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute, on getting, must check whether its browsing context's &lt;a href=#active-document&gt;active document&lt;/a&gt;'s
+  &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments'
+  origin&lt;/a&gt;. If it is, then the browsing context's &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; must be
+  returned unchanged. Otherwise, if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are an object, then the empty
+  string must be returned, and if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are not an object, then the
+  stringification of the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; must be returned.
 
-  &lt;p&gt;These browsing contexts also have an associated &lt;dfn id=return-value&gt;return
-  value&lt;/dfn&gt;. The &lt;a href=#return-value&gt;return value&lt;/a&gt; of a browsing context
-  must be initialized to the empty string when the browsing context is
-  created.&lt;/p&gt;
+  &lt;p&gt;These browsing contexts also have an associated &lt;dfn id=return-value&gt;return value&lt;/dfn&gt;. The &lt;a href=#return-value&gt;return
+  value&lt;/a&gt; of a browsing context must be initialized to the empty string when the browsing
+  context is created.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-windowmodal-returnvalue title=dom-WindowModal-returnValue&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return the &lt;a href=#return-value&gt;return value&lt;/a&gt;
-  of its browsing context, and on setting, must set the &lt;a href=#return-value&gt;return
-  value&lt;/a&gt; to the given new value.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-windowmodal-returnvalue title=dom-WindowModal-returnValue&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt; IDL attribute, on
+  getting, must return the &lt;a href=#return-value&gt;return value&lt;/a&gt; of its browsing context, and on setting, must
+  set the &lt;a href=#return-value&gt;return value&lt;/a&gt; to the given new value.&lt;/p&gt;
 
   &lt;/div&gt;
 
   &lt;p class=note&gt;The &lt;code title=dom-window-close&gt;&lt;a href=#dom-window-close&gt;window.close()&lt;/a&gt;&lt;/code&gt; method can be used to
   close the browsing context.&lt;/p&gt;
-&lt;!--TOPIC:HTML--&gt;
 
 
 &lt;!--TOPIC:DOM APIs--&gt;
@@ -73986,12 +73776,10 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-navigator title=dom-navigator&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface, which represents
-  the identity and state of the user agent (the client), and allows
-  Web pages to register themselves as potential protocol and content
-  handlers:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-navigator title=dom-navigator&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt; attribute of the
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an instance of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface,
+  which represents the identity and state of the user agent (the client), and allows Web pages to
+  register themselves as potential protocol and content handlers:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74013,9 +73801,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;These interfaces are defined separately so that other
-  specifications can re-use parts of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt;
-  interface.&lt;/p&gt;
+  &lt;p&gt;These interfaces are defined separately so that other specifications can re-use parts of the
+  &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74787,11 +74574,10 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-   &lt;p&gt;The &lt;dfn id=dom-navigator-yieldforstorageupdates title=dom-navigator-yieldForStorageUpdates&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt;
-   method, when invoked, must, if the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is
-   owned by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; of the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that resulted in the method being
-   called, release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; so that it is once
-   again free. Otherwise, it must do nothing.&lt;/p&gt;
+   &lt;p&gt;The &lt;dfn id=dom-navigator-yieldforstorageupdates title=dom-navigator-yieldForStorageUpdates&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt; method,
+   when invoked, must, if the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is owned by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; of
+   the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that resulted in the method being called, release the
+   &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; so that it is once again free. Otherwise, it must do nothing.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74800,10 +74586,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-external title=dom-external&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;&lt;a href=#external&gt;External&lt;/a&gt;&lt;/code&gt; interface. The same object
-  must be returned each time.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-external title=dom-external&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt; attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  interface must return an instance of the &lt;code&gt;&lt;a href=#external&gt;External&lt;/a&gt;&lt;/code&gt; interface. The same object must be
+  returned each time.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -80083,38 +79868,32 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-workerglobalscope-ononline title=handler-WorkerGlobalScope-ononline&gt;ononline&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-self title=dom-WorkerGlobalScope-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object itself.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-self title=dom-WorkerGlobalScope-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute must return the
+  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object itself.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-location title=dom-WorkerGlobalScope-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; object created
-  for the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object when the worker was
-  created. It represents the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of the script
-  that was used to initialize the worker, after any redirects.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-location title=dom-WorkerGlobalScope-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; object created for the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
+  object when the worker was created. It represents the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of the script that
+  was used to initialize the worker, after any redirects.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-close title=dom-WorkerGlobalScope-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent
-  must run the following steps (atomically):&lt;/p&gt;
+  method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent must run the following steps
+  (atomically):&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Discard any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that
-   have been added to the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Discard any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that have been added to the
+   &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
-   &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
-   &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true. (This prevents any further tasks from being queued.)&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true. (This prevents any further
+   tasks from being queued.)&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  objects implementing the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
-  interface:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by objects implementing the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;!-- v2-onclose    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-WorkerGlobalScope-onclose&quot;&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; --&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-workerglobalscope-onerror title=handler-WorkerGlobalScope-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-error&gt;error&lt;/code&gt;
@@ -80223,191 +80002,159 @@
 
   &lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;The event loop&lt;/h4&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event
-  loop&lt;/a&gt; distinct from those defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of
-  related similar-origin browsing contexts&quot;&gt;units of related
-  similar-origin browsing contexts&lt;/a&gt;. This &lt;a href=#event-loop&gt;event
-  loop&lt;/a&gt; has no associated &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and its
-  &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; only have events,
-  callbacks, and networking activity as &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;. The processing model of these
-  &lt;a href=#event-loop title=&quot;event loop&quot;&gt;event loops&lt;/a&gt; is defined below in the
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; distinct from those
+  defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of related similar-origin browsing contexts&quot;&gt;units of related
+  similar-origin browsing contexts&lt;/a&gt;. This &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has no associated
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and its &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; only have
+  events, callbacks, and networking activity as &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;. The
+  processing model of these &lt;a href=#event-loop title=&quot;event loop&quot;&gt;event loops&lt;/a&gt; is defined below in the
   &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object also has a &lt;dfn id=dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/dfn&gt; flag, which must
-  initially be false, but which can get set to true by the algorithms
-  in the processing model section below.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object also has a &lt;dfn id=dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/dfn&gt; flag, which must initially be false, but which
+  can get set to true by the algorithms in the processing model section below.&lt;/p&gt;
 
-  &lt;p&gt;Once the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to
-  true, the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
-  queues&lt;/a&gt; must discard any further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that would be added to them (tasks
-  already on the queue are unaffected except where otherwise
-  specified). Effectively, once the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is true,
-  timers stop firing, notifications for all pending asynchronous
-  operations are dropped, etc.&lt;/p&gt;
+  &lt;p&gt;Once the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true, the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; must discard any further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that would be added to them (tasks already on the queue are
+  unaffected except where otherwise specified). Effectively, once the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is true, timers stop firing,
+  notifications for all pending asynchronous operations are dropped, etc.&lt;/p&gt;
 
 
 
   &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
 
-  &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
+  &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing
+  contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
   &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global
-  scope&lt;/var&gt; has a list of &lt;dfn id=&quot;the-worker's-ports&quot;&gt;the worker's ports&lt;/dfn&gt;, which
-  consists of all the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects that are
-  entangled with another port and that have one (but only one) port
-  owned by &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. This list includes
-  &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in events
-  pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out
-  because in practice it makes no difference either way as far as I
-  can tell, and it would be hard to strictly implement since these
-  ports might not yet be across the thread boundary)--&gt; the implicit
-  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; in the case of &lt;a href=#dedicatedworkerglobalscope title=DedicatedWorkerGlobalScope&gt;dedicated workers&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; has a list of
+  &lt;dfn id=&quot;the-worker's-ports&quot;&gt;the worker's ports&lt;/dfn&gt;, which consists of all the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects that are
+  entangled with another port and that have one (but only one) port owned by &lt;var title=&quot;&quot;&gt;worker
+  global scope&lt;/var&gt;. This list includes &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in
+  events pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out because in practice it
+  makes no difference either way as far as I can tell, and it would be hard to strictly implement
+  since these ports might not yet be across the thread boundary)--&gt; the implicit
+  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; in the case of &lt;a href=#dedicatedworkerglobalscope title=DedicatedWorkerGlobalScope&gt;dedicated
+  workers&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-workers&quot;&gt;the
-  worker's workers&lt;/dfn&gt;. Initially this list is empty; it is
-  populated when the worker creates or obtains further workers.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-workers&quot;&gt;the worker's workers&lt;/dfn&gt;.
+  Initially this list is empty; it is populated when the worker creates or obtains further
+  workers.&lt;/p&gt;
 
-  &lt;p&gt;Finally, each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of
-  &lt;dfn id=&quot;the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list
-  is empty; it is populated when the worker is created.&lt;/p&gt;
+  &lt;p&gt;Finally, each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list is empty; it is populated when the worker is
+  created.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn id=&quot;add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's documents&quot;&gt;added to the
-  worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for each
-  worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's
-  workers&lt;/a&gt; whose list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; does not contain &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;a href=&quot;#add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's
-  documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;q&lt;/var&gt;'s
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt; &lt;!-- suggestions welcome
-  on making this sentence into understandable English --&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn id=&quot;add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the
+  worker's documents&quot;&gt;added to the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for
+  each worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; whose list of
+  &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; does not contain &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;a href=&quot;#add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;q&lt;/var&gt;'s &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt; &lt;!-- suggestions welcome on making this sentence into
+  understandable English --&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is &lt;a href=#discard-a-document title=&quot;discard a
-  Document&quot;&gt;discarded&lt;/a&gt;, it must be removed from the list of
-  &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; of each worker
-  whose list contains that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is &lt;a href=#discard-a-document title=&quot;discard a Document&quot;&gt;discarded&lt;/a&gt;,
+  it must be removed from the list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; of each
+  worker whose list contains that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Given a &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;
-  when creating or obtaining a worker, the &lt;dfn id=list-of-relevant-document-objects-to-add&gt;list of relevant
-  &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type of
-  &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. if we are creating a
-  nested worker), then the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list
-  of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, and the relevant
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is just the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is the
-  &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;Given a &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; when creating or obtaining a
+  worker, the &lt;dfn id=list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type
+  of &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object
+  (i.e. if we are creating a nested worker), then the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are the
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object,
+  and the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is just the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is the &lt;a href=#active-document&gt;active
+  document&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;A worker is said to be a &lt;dfn id=permissible-worker&gt;permissible worker&lt;/dfn&gt; if its
-  list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; is not
-  empty.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;A worker is said to be a &lt;dfn id=permissible-worker&gt;permissible worker&lt;/dfn&gt; if its list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; is not empty.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn id=protected-worker&gt;protected worker&lt;/dfn&gt; if it is a
-  &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt; and either it has outstanding
-  timers, database transactions, or network connections, or its list
-  of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt; is not empty, or its
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; is actually a
-  &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a
-  shared worker).&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn id=protected-worker&gt;protected worker&lt;/dfn&gt; if it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;
+  and either it has outstanding timers, database transactions, or network connections, or its list
+  of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt; is not empty, or its &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; is actually
+  a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a shared worker).&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be an &lt;dfn id=active-needed-worker&gt;active needed worker&lt;/dfn&gt; if any
-  of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects in &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; are &lt;a href=#fully-active&gt;fully active&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be an &lt;dfn id=active-needed-worker&gt;active needed worker&lt;/dfn&gt; if any of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+  objects in &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; are &lt;a href=#fully-active&gt;fully active&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn id=suspendable-worker&gt;suspendable worker&lt;/dfn&gt; if it is
-  not an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; but it is a
-  &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn id=suspendable-worker&gt;suspendable worker&lt;/dfn&gt; if it is not an &lt;a href=#active-needed-worker&gt;active needed
+  worker&lt;/a&gt; but it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with
-  &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an
-  &lt;a href=#origin&gt;origin&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with
-  global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an &lt;a href=#origin&gt;origin&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it
+  must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
-    &lt;p&gt;Create a separate parallel execution environment (i.e. a
-    separate thread or process or equivalent construct), and run the
-    rest of these steps asynchronously in that context.&lt;/p&gt;
+    &lt;p&gt;Create a separate parallel execution environment (i.e. a separate thread or process or
+    equivalent construct), and run the rest of these steps asynchronously in that context.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a
-   shared worker), and there are any &lt;a href=#relevant-application-cache title=&quot;relevant application
-   cache&quot;&gt;relevant application caches&lt;/a&gt; that are identified by a
-   manifest URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of
-   their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;, then associate the
-   &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; with the &lt;a href=#concept-appcache-selection title=concept-appcache-selection&gt;most appropriate application
+   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a shared worker), and there are
+   any &lt;a href=#relevant-application-cache title=&quot;relevant application cache&quot;&gt;relevant application caches&lt;/a&gt; that are
+   identified by a manifest URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and
+   that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked
+   as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;, then associate the &lt;var title=&quot;&quot;&gt;worker
+   global scope&lt;/var&gt; with the &lt;a href=#concept-appcache-selection title=concept-appcache-selection&gt;most appropriate application
    cache&lt;/a&gt; of those that match.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; the resource
-    identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, from the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt; as the &lt;a href=#referrer-source&gt;referrer source&lt;/a&gt;, with the
-    &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin flag&lt;/i&gt;
-    set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward
-    to CORS) --&gt;
+    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; the resource identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;,
+    from the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt; as the
+    &lt;a href=#referrer-source&gt;referrer source&lt;/a&gt;, with the &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin
+    flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward to CORS) --&gt;
 
-    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; or
-    &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; object associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-    &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at that object. Abort these
+    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; object
+    associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire
+    a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at that object. Abort these
     steps.&lt;/p&gt;
 
-    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be
-    the script resource &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error
-    handling&lt;/a&gt;.
+    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the script resource
+    &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error handling&lt;/a&gt;.
     &lt;/p&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-    &lt;p class=note&gt;As with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, the MIME
-    type of the script is ignored. Unlike with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;
-    elements, there is no way to override the type. It's always
+    &lt;p class=note&gt;As with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, the MIME type of the script is ignored.
+    Unlike with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, there is no way to override the type. It's always
     assumed to be JavaScript.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
-   &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; whose &lt;i&gt;global
-   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this is a
-   &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a
-   &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;. (In either case, by
-   definition, it is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.)&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a &lt;a href=#javascript-global-environment&gt;JavaScript global
+   environment&lt;/a&gt; whose &lt;i&gt;global object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this
+   is a &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global
+   scope&lt;/var&gt; is a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a &lt;a href=#shared-worker-environment&gt;shared worker
+   environment&lt;/a&gt;. (In either case, by definition, it is a &lt;a href=#worker-environment&gt;worker
+   environment&lt;/a&gt;.)&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now
-    created, as follows.&lt;/p&gt;
+    &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now created, as follows.&lt;/p&gt;
 
-    &lt;p&gt;Create a new &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt;
-    set up as appropriate for the scripting language &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt; set up as appropriate for the
+    scripting language &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that
-    &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt;, as appropriate for &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a &lt;a href=#list-of-code-entry-points&gt;list of code
-    entry-points&lt;/a&gt;; set the &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt; to
-    the entry-point for any executable code to be immediately run.&lt;/p&gt;
+    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that &lt;a href=#script-execution-environment&gt;script execution
+    environment&lt;/a&gt;, as appropriate for &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a
+    &lt;a href=#list-of-code-entry-points&gt;list of code entry-points&lt;/a&gt;; set the &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt; to the
+    entry-point for any executable code to be immediately run.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner browsing
+    context&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-referrer-source&quot;&gt;script's referrer source&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-url-character-encoding&quot;&gt;script's URL character encoding&lt;/a&gt; to
-    UTF-8. (This is just used for encoding non-ASCII characters in the
-    query component of URLs.)&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-url-character-encoding&quot;&gt;script's URL character encoding&lt;/a&gt; to UTF-8. (This is just used for
+    encoding non-ASCII characters in the query component of URLs.)&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-base-url&quot;&gt;script's base URL&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
@@ -80415,198 +80162,163 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the
-    worker such that no sooner than it stops being either a
-    &lt;a href=#protected-worker&gt;protected worker&lt;/a&gt; or a &lt;a href=#suspendable-worker&gt;suspendable
-    worker&lt;/a&gt;, and no later than it stops being a
-    &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;, &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to true&lt;!-- v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is
-    queued&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
-    title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
+    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the worker such that no sooner than
+    it stops being either a &lt;a href=#protected-worker&gt;protected worker&lt;/a&gt; or a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, and
+    no later than it stops being a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;, &lt;var title=&quot;&quot;&gt;worker global
+    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true&lt;!--
+    v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is queued&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt;--&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the
-    worker, such that whenever &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is false
-    and the worker is a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, the user
-    agent suspends execution of script in that worker until such time
-    as either the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag switches
-    to true or the worker stops being a &lt;a href=#suspendable-worker&gt;suspendable
-    worker&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the worker, such that whenever &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt;
+    flag is false and the worker is a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, the user agent suspends
+    execution of script in that worker until such time as either the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag switches to true or the worker stops
+    being a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#jump-to-a-code-entry-point title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/a&gt; to the
-    &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code
-    entry-point&lt;/a&gt;&lt;/i&gt;, and let that run until it either returns, fails
-    to catch an exception, or gets prematurely aborted by the
-    &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot;
-    algorithms defined below.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#jump-to-a-code-entry-point title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/a&gt; to the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt;, and let that run until
+    it either returns, fails to catch an exception, or gets prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a
+    worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined below.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a
-    worker&lt;/span&gt;&quot; algorithm, then that same algorithm will cause
-    there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
-    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task
-    for the &lt;code title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The
-    &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm removes all the
-    events.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; algorithm, then
+    that same algorithm will cause there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
+    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task for the &lt;code
+    title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm
+    removes all the events.&lt;/p&gt;
 --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is
-   a dedicated worker), then enable the &lt;a href=#port-message-queue&gt;port message
-   queue&lt;/a&gt; of the worker's implicit port.&lt;/li&gt;
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   enable the &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; of the worker's implicit port.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;i title=&quot;&quot;&gt;Event loop&lt;/i&gt;: Wait until either there is a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; in one of the &lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to true.&lt;/p&gt;
+    &lt;p&gt;&lt;i title=&quot;&quot;&gt;Event loop&lt;/i&gt;: Wait until either there is a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; in one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
+    queue&quot;&gt;task queues&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Run the oldest task on one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s
-    &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, if any. The user
-    agent may pick any &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Run the oldest task on one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+    queues&lt;/a&gt;, if any. The user agent may pick any &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The handling of events or the execution of
-    callbacks might get prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a
-    worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms
+    &lt;p class=note&gt;The handling of events or the execution of callbacks might get prematurely
+    aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms
     defined below.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is now owned by the worker's
-    &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, release it so that it is once again
-    free.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is now owned by the worker's &lt;a href=#event-loop&gt;event loop&lt;/a&gt;,
+    release it so that it is once again free.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Remove the task just run in the earlier step, if any, from its
-    &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the task just run in the earlier step, if any, from its &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there are any more events in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s
-    &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; or if &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to false, then jump back to the step above labeled &lt;i&gt;&lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+    &lt;p&gt;If there are any more events in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+    queues&lt;/a&gt; or if &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to false, then jump back to the
+    step above labeled &lt;i&gt;&lt;a href=#event-loop&gt;event loop&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#list-of-active-timers&gt;list
-    of active timers&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#list-of-active-timers&gt;list of active timers&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Disentangle all the ports in the list of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's
-    ports&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Disentangle all the ports in the list of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
 &lt;!-- v2-onclose
    &lt;li&gt;
 
-    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt;
-    object associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;,
-    &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-    named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
+    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt; object associated with &lt;var
+    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
 
    &lt;/li&gt;
 --&gt;
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=kill-a-worker&gt;kill a worker&lt;/dfn&gt; it must
-  run the following steps in parallel with the worker's main loop (the
-  &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=kill-a-worker&gt;kill a worker&lt;/dfn&gt; it must run the following steps in parallel
+  with the worker's main loop (the &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
-   &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is
-   false, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is false, &lt;span&gt;queue a task&lt;/span&gt; to
+   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
    worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
---&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true.&lt;/li&gt;
+--&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true.&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run
-   a worker&lt;/span&gt;&quot; processing model defined above immediately starts
-   running event listeners registered for the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be
-   zero &mdash; the idea is that the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up
-   when shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing
+   model defined above immediately starts running event listeners registered for the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be zero &mdash; the idea is
+   that the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up when
+   shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;
-   queued in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;&lt;!-- v2-onclose other than the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just
-   added--&gt;, discard them without processing them.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued in the &lt;a href=#event-loop&gt;event
+   loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;&lt;!-- v2-onclose other than the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just added--&gt;, discard them
+   without processing them.&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that
-   this algorithm just queued hasn't yet been dispatched, then abort
-   the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just queued
+   hasn't yet been dispatched, then abort the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
    &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!--
-   v2-onclose (if any script is running, then it will be a handler for
-   the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event)--&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!-- v2-onclose (if any script is running,
+   then it will be a handler for the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt;
+   event)--&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;User agents may invoke the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot;
-  processing model on a worker at any time, e.g. in response to user
-  requests, in response to CPU quota management, or when a worker
-  stops being an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; if the worker
-  continues executing even after its &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag was
-  set to true.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;User agents may invoke the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; processing model on a worker at any
+  time, e.g. in response to user requests, in response to CPU quota management, or when a worker
+  stops being an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; if the worker continues executing even after its
+  &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag was set to true.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=terminate-a-worker&gt;terminate a worker&lt;/dfn&gt; it must run
-  the following steps in parallel with the worker's main loop (the
-  &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=terminate-a-worker&gt;terminate a worker&lt;/dfn&gt; it must run the following steps in
+  parallel with the worker's main loop (the &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined
+  above):&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
-   &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;
-   queued in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;, discard them without processing
+   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued in the &lt;a href=#event-loop&gt;event
+   loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, discard them without processing
    them.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object is
-   actually a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the
-   worker is a dedicated worker), then empty the &lt;a href=#port-message-queue&gt;port message
-   queue&lt;/a&gt; of the port that the worker's implicit port is
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object is actually a
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   empty the &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; of the port that the worker's implicit port is
    entangled with.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the tasks mentioned above is the
-  &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the tasks mentioned above is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
+  source&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
@@ -80618,9 +80330,9 @@
   &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
   &lt;/p&gt;
 
-  &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; afterwards, or if
-  the error occurred while handling a previous script error, the error
-  may be reported to the user.
+  &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt;
+  afterwards, or if the error occurred while handling a previous script error, the error may be
+  reported to the user.
   &lt;/p&gt;
 
   &lt;p&gt;For dedicated workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not
@@ -80633,20 +80345,18 @@
   error had occurred in the global scope that the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object is in, thus repeating
   the entire runtime script error reporting process one level up.&lt;/p&gt;
 
-  &lt;p&gt;If the implicit port connecting the worker to its
-  &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object has been disentangled (i.e. if the parent
-  worker has been terminated), then the user agent must act as if the
-  &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object had no &lt;code title=event-error&gt;error&lt;/code&gt; event handler and as if that
-  worker's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute
-  was null, but must otherwise act as described above.&lt;/p&gt;
+  &lt;p&gt;If the implicit port connecting the worker to its &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object has been
+  disentangled (i.e. if the parent worker has been terminated), then the user agent must act as if
+  the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object had no &lt;code title=event-error&gt;error&lt;/code&gt; event handler and as
+  if that worker's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute was
+  null, but must otherwise act as described above.&lt;/p&gt;
 
-  &lt;p class=note&gt;Thus, error reports propagate up to the chain of
-  dedicated workers up to the original &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, even if
-  some of the workers along this chain have been terminated and
-  garbage collected.&lt;/p&gt;
+  &lt;p class=note&gt;Thus, error reports propagate up to the chain of dedicated workers up to the
+  original &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, even if some of the workers along this chain have been terminated
+  and garbage collected.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the task mentioned above is the
-  &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the task mentioned above is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
+  source&lt;/a&gt;.&lt;/p&gt;
 
   &lt;hr&gt;&lt;pre class=idl&gt;[Constructor(DOMString type, optional &lt;a href=#erroreventinit&gt;ErrorEventInit&lt;/a&gt; eventInitDict)]
 interface &lt;dfn id=errorevent&gt;ErrorEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
@@ -82626,26 +82336,23 @@
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-websocket-bufferedamount title=dom-WebSocket-bufferedAmount&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of bytes of application data (UTF-8
-  text and binary data) that have been queued using &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; but that, as of the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, had not yet been transmitted to
-  the network. (This thus includes any text sent during the execution
-  of the current task, regardless of whether the user agent is able to
-  transmit text asynchronously with script execution.) This does not
-  include framing overhead incurred by the protocol, or buffering done
-  by the operating system or network hardware. If the connection is
-  closed, this attribute's value will only increase with each call to
-  the &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; method (the
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-websocket-bufferedamount title=dom-WebSocket-bufferedAmount&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the number of bytes of application data (UTF-8 text and binary data) that have been queued
+  using &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; but that, as of the last time the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, had not yet been
+  transmitted to the network. (This thus includes any text sent during the execution of the current
+  task, regardless of whether the user agent is able to transmit text asynchronously with script
+  execution.) This does not include framing overhead incurred by the protocol, or buffering done by
+  the operating system or network hardware. If the connection is closed, this attribute's value will
+  only increase with each call to the &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; method (the
   number does not reset to zero once the connection closes).&lt;/p&gt;
 
   &lt;div class=example&gt;
 
    &lt;p&gt;In this simple example, the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-   attribute is used to ensure that updates are sent either at the
-   rate of one update every 50ms, if the network can handle that rate,
-   or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is too
-   fast.&lt;/p&gt;
+   attribute is used to ensure that updates are sent either at the rate of one update every 50ms, if
+   the network can handle that rate, or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is
+   too fast.&lt;/p&gt;
 
    &lt;pre&gt;var socket = new WebSocket('<A HREF="ws://game.example.com:12010/updates">ws://game.example.com:12010/updates</A>');
 socket.onopen = function () {
@@ -82655,60 +82362,46 @@
   }, 50);
 };&lt;/pre&gt;
 
-   &lt;p&gt;The &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-   attribute can also be used to saturate the network without sending
-   the data at a higher rate than the network can handle, though this
-   requires more careful monitoring of the value of the attribute over
-   time.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute can also be
+   used to saturate the network without sending the data at a higher rate than the network can
+   handle, though this requires more careful monitoring of the value of the attribute over time.&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, its &lt;dfn id=dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must be set to the string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On
-  getting, it must return the last value it was set to. On setting,
-  the user agent must set the IDL attribute to the new value.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, its &lt;dfn id=dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL attribute must be set to the
+  string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On getting, it must return the last value it was set to. On
+  setting, the user agent must set the IDL attribute to the new value.&lt;/p&gt;
 
-  &lt;p class=note&gt;This attribute allows authors to control how binary
-  data is exposed to scripts. By setting the attribute to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;
-  form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  returned in &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; form. User agents can use this
-  as a hint for how to handle incoming binary data: if the attribute
-  is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
-  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  likely more efficient to keep the data in memory. Naturally, user
-  agents are encouraged to use more subtle heuristics to decide
-  whether to keep incoming data in memory or not, e.g. based on how
-  big the data is or how common it is for a script to change the
-  attribute at the last minute. This latter aspect is important in
-  particular because it is quite possible for the attribute to be
-  changed after the user agent has received the data but before the
-  user agent has fired the event for it.&lt;/p&gt;
+  &lt;p class=note&gt;This attribute allows authors to control how binary data is exposed to scripts. By
+  setting the attribute to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in
+  &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is returned in
+  &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; form. User agents can use this as a hint for how to handle incoming
+  binary data: if the attribute is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
+  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is likely more efficient to keep
+  the data in memory. Naturally, user agents are encouraged to use more subtle heuristics to decide
+  whether to keep incoming data in memory or not, e.g. based on how big the data is or how common it
+  is for a script to change the attribute at the last minute. This latter aspect is important in
+  particular because it is quite possible for the attribute to be changed after the user agent has
+  received the data but before the user agent has fired the event for it.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
-  connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is
-  &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must
-  throw an &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception. Otherwise, the
-  user agent must run the appropriate set of steps from the following
-  list:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  transmits data using the connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must throw an
+  &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception. Otherwise, the user agent must run the appropriate set
+  of steps from the following list:&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;If the argument is a string&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;a href=#convert-a-domstring-to-a-sequence-of-unicode-characters title=&quot;convert a DOMString to a sequence of Unicode
-    characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a
-    sequence of Unicode characters&lt;/a&gt;. If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket
-    connection is established&lt;/a&gt;&lt;/i&gt; and &lt;i title=&quot;the WebSocket closing
-    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet
-    started&lt;/a&gt;&lt;/i&gt;, then the user agent must &lt;i&gt;send a WebSocket
-    Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a text
-    frame opcode; if the data cannot be sent, e.g. because it would
-    need to be buffered but the buffer is full, the user agent must
-    &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. Any
-    invocation of this method with a string argument that does not
-    throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the number of bytes needed to express the argument as
-    UTF-8. &lt;a href=#refsUNICODE&gt;[UNICODE]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;a href=#convert-a-domstring-to-a-sequence-of-unicode-characters title=&quot;convert a DOMString to a sequence
+    of Unicode characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a sequence of Unicode
+    characters&lt;/a&gt;. If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt; and &lt;i title=&quot;the WebSocket
+    closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the
+    user agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a
+    text frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. Any invocation of this method with a
+    string argument that does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the number of bytes
+    needed to express the argument as UTF-8. &lt;a href=#refsUNICODE&gt;[UNICODE]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -82717,19 +82410,15 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the raw data represented
-    by the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is meant to
-    invoke &quot;This interface represents immutable raw data.&quot; --&gt; Any
-    invocation of this method with a &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the size of the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object's raw data,
-    in bytes. &lt;!-- that sentence is meant to invoke the same as
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the raw data
+    represented by the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is meant to invoke &quot;This
+    interface represents immutable raw data.&quot; --&gt; Any invocation of this method with a
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; argument that does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the size of the
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object's raw data, in bytes. &lt;!-- that sentence is meant to invoke the same as
     Blob.size --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -82739,24 +82428,19 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the data stored in the
-    buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that
-    sentence is meant to invoke &quot;The ArrayBuffer type describes a
-    buffer used to store data for the array buffer views.&quot; at the top
-    of the Typed Array spec, and &quot;Optional byteOffset and length can
-    be used to limit the section of the buffer referenced&quot; in the
-    definition of the TypedArray constructor --&gt; Any invocation of
-    this method with an &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; argument that does
-    not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; in bytes.
-    &lt;!-- that sentence is meant to invoke the same as
-    ArrayBuffer.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the data
+    stored in the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is
+    meant to invoke &quot;The ArrayBuffer type describes a buffer used to store data for the array buffer
+    views.&quot; at the top of the Typed Array spec, and &quot;Optional byteOffset and length can be used to
+    limit the section of the buffer referenced&quot; in the definition of the TypedArray constructor --&gt;
+    Any invocation of this method with an &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; argument that does not throw an
+    exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
+    attribute by the length of the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to
+    invoke the same as ArrayBuffer.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -82765,32 +82449,26 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the data stored in the
-    section of the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt;
-    object that the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; object references.
-    &lt;!-- that sentence is meant to invoke &quot;The ArrayBuffer type
-    describes a buffer used to store data for the array buffer views.&quot;
-    at the top of the Typed Array spec, and &quot;Optional byteOffset and
-    length can be used to limit the section of the buffer referenced&quot;
-    in the definition of the TypedArray constructor --&gt; Any invocation
-    of this method with an &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; in
-    bytes. &lt;!-- that sentence is meant to invoke the same as
-    ArrayBufferView.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the data
+    stored in the section of the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object that the
+    &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; object references. &lt;!-- that sentence is meant to invoke &quot;The
+    ArrayBuffer type describes a buffer used to store data for the array buffer views.&quot; at the top
+    of the Typed Array spec, and &quot;Optional byteOffset and length can be used to limit the section of
+    the buffer referenced&quot; in the definition of the TypedArray constructor --&gt; Any invocation of
+    this method with an &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; argument that does not throw an exception must
+    increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the
+    length of the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to invoke the
+    same as ArrayBufferView.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onopen title=handler-WebSocket-onopen&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-open&gt;open&lt;/code&gt;
@@ -82799,34 +82477,32 @@
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onclose title=handler-WebSocket-onclose&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-socket-close&gt;close&lt;/code&gt;
   &lt;/table&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
 
-  &lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run these steps:&lt;/p&gt;
+  &lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to run these steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
-   value to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value to
+   &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-extensions&gt;&lt;a href=#dom-websocket-extensions&gt;extensions&lt;/a&gt;&lt;/code&gt; attribute's
-   value to the &lt;i&gt;&lt;a href=#extensions-in-use&gt;extensions in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-extensions&gt;&lt;a href=#dom-websocket-extensions&gt;extensions&lt;/a&gt;&lt;/code&gt; attribute's value to
+   the &lt;i&gt;&lt;a href=#extensions-in-use&gt;extensions in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-protocol&gt;&lt;a href=#dom-websocket-protocol&gt;protocol&lt;/a&gt;&lt;/code&gt; attribute's value to
-   the &lt;i&gt;&lt;a href=#subprotocol-in-use&gt;subprotocol in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-protocol&gt;&lt;a href=#dom-websocket-protocol&gt;protocol&lt;/a&gt;&lt;/code&gt; attribute's value to the
+   &lt;i&gt;&lt;a href=#subprotocol-in-use&gt;subprotocol in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;a href=#receives-a-set-cookie-string title=&quot;receives a
-   set-cookie-string&quot;&gt;received a set-cookie-string&lt;/a&gt; consisting
-   of the &lt;i&gt;&lt;a href=&quot;#cookies-set-during-the-server's-opening-handshake&quot;&gt;cookies set during the server's opening handshake&lt;/a&gt;&lt;/i&gt;,
-   for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor. &lt;a href=#refsCOOKIES&gt;[COOKIES]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;a href=#receives-a-set-cookie-string title=&quot;receives a set-cookie-string&quot;&gt;received a
+   set-cookie-string&lt;/a&gt; consisting of the &lt;i&gt;&lt;a href=&quot;#cookies-set-during-the-server's-opening-handshake&quot;&gt;cookies set during the server's opening
+   handshake&lt;/a&gt;&lt;/i&gt;, for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor. &lt;a href=#refsCOOKIES&gt;[COOKIES]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
-   object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the
+   &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#a-websocket-message-has-been-received&gt;a WebSocket message has been received&lt;/a&gt;&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to follow these steps: &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#a-websocket-message-has-been-received&gt;a WebSocket message has been received&lt;/a&gt;&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data
+  &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to follow these steps: &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
-    &lt;p&gt;If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-    attribute's value is not &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1), then abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value is not
+    &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1), then abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82839,27 +82515,21 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt; attribute to the
-   &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode
-   serialization&lt;/a&gt; of the &lt;a href=#origin&gt;origin&lt;/a&gt; of the
-   &lt;a href=#url&gt;URL&lt;/a&gt; that was passed to the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
+   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt;
+   attribute to the &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode serialization&lt;/a&gt; of
+   the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#url&gt;URL&lt;/a&gt; that was passed to the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
    object's constructor.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text,
-    then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
-    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
-    as its raw data. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then
+    initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute
+    to a new &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as its raw data. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
-    read-only &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new read-only &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt;
+    object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82870,21 +82540,17 @@
 
    &lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=note&gt;User agents are encouraged to check if they can
-  perform the above steps efficiently before they run the task,
-  picking tasks from other &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;
-  while they prepare the buffers if not. For example, if the &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; attribute was set
-  to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user
-  agent spooled all the data to disk, but just before running the
-  above &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; for this particular
-  message the script switched &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the
-  data back to RAM before running this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; so as to avoid stalling the main
-  thread while it created the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p class=note&gt;User agents are encouraged to check if they can perform the above steps
+  efficiently before they run the task, picking tasks from other &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+  queues&lt;/a&gt; while they prepare the buffers if not. For example, if the &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; attribute was set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user agent spooled all the data to disk, but
+  just before running the above &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; for this particular message
+  the script switched &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the data back to RAM before
+  running this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; so as to avoid stalling the main thread while
+  it created the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;Here is an example of how to define a handler for the &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event in the case of text
-   frames:&lt;/p&gt;
+   &lt;p&gt;Here is an example of how to define a handler for the &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event in the case of text frames:&lt;/p&gt;
 
    &lt;pre&gt;mysocket.onmessage = function (event) {
   if (event.data == 'on') {
@@ -82894,31 +82560,24 @@
   }
 };&lt;/pre&gt;
 
-   &lt;p&gt;The protocol here is a trivial one, with the server just sending
-   &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
+   &lt;p&gt;The protocol here is a trivial one, with the server just sending &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake is started&lt;/a&gt;&lt;/i&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2). (If the
-  &lt;code title=dom-WebSocket-close&gt;&lt;a href=#dom-websocket-close&gt;close()&lt;/a&gt;&lt;/code&gt; method was called,
-  the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-  attribute's value will already be set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) when this task
-  runs.) &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake is started&lt;/a&gt;&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
+  value to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2). (If the &lt;code title=dom-WebSocket-close&gt;&lt;a href=#dom-websocket-close&gt;close()&lt;/a&gt;&lt;/code&gt; method was called, the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value will already be set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) when this task runs.) &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p id=closeWebSocket&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is
-  closed&lt;/a&gt;&lt;/i&gt;, possibly &lt;i title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the following substeps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p id=closeWebSocket&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is closed&lt;/a&gt;&lt;/i&gt;, possibly &lt;i title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the following
+  substeps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
-   value to &lt;code title=dom-WebSocket-CLOSED&gt;&lt;a href=#dom-websocket-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt;
-   (3).&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value to
+   &lt;code title=dom-WebSocket-CLOSED&gt;&lt;a href=#dom-websocket-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;&lt;a href=#fail-the-websocket-connection&gt;fail the WebSocket
-   connection&lt;/a&gt;&lt;/i&gt; or &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is closed&lt;/a&gt;&lt;/i&gt; &lt;dfn id=concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/dfn&gt;,
-   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt;
-   at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;&lt;a href=#fail-the-websocket-connection&gt;fail the WebSocket connection&lt;/a&gt;&lt;/i&gt; or &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket
+   connection is closed&lt;/a&gt;&lt;/i&gt; &lt;dfn id=concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/dfn&gt;,
+   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt; at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
+   object. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Create a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event that uses the
    &lt;code&gt;&lt;a href=#closeevent&gt;CloseEvent&lt;/a&gt;&lt;/code&gt; interface, with the event type &lt;code title=event-socket-close&gt;close&lt;/code&gt;, which does not bubble, is not cancelable, has no default
@@ -82931,9 +82590,8 @@
 
   &lt;/ol&gt;&lt;div class=warning&gt;
 
-   &lt;p&gt;User agents must not convey any failure information to scripts
-   in a way that would allow a script to distinguish the following
-   situations:&lt;/p&gt;
+   &lt;p&gt;User agents must not convey any failure information to scripts in a way that would allow a
+   script to distinguish the following situations:&lt;/p&gt;
 
    &lt;ul&gt;&lt;li&gt;A server whose host name could not be resolved.
 
@@ -82941,37 +82599,32 @@
 
     &lt;li&gt;A server that refused the connection on the specified port.
 
-    &lt;li&gt;A server that failed to correctly perform a TLS handshake
-    (e.g., the server certificate can't be verified).
+    &lt;li&gt;A server that failed to correctly perform a TLS handshake (e.g., the server certificate
+    can't be verified).
 
-    &lt;li&gt;A server that did not complete the opening handshake (e.g.
-    because it was not a WebSocket server).
+    &lt;li&gt;A server that did not complete the opening handshake (e.g. because it was not a WebSocket
+    server).
 
-    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but
-    that specified options that caused the client to drop the
-    connection (e.g. the server specified a subprotocol that the
+    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but that specified options that
+    caused the client to drop the connection (e.g. the server specified a subprotocol that the
     client did not offer).
 
-    &lt;li&gt;A WebSocket server that abruptly closed the connection after
-    successfully completing the opening handshake.
+    &lt;li&gt;A WebSocket server that abruptly closed the connection after successfully completing the
+    opening handshake.
 
-   &lt;/ul&gt;&lt;p&gt;In all of these cases, the &lt;i&gt;&lt;a href=#the-websocket-connection-close-code&gt;the WebSocket connection close
-   code&lt;/a&gt;&lt;/i&gt; would be 1006, as required by the WebSocket Protocol
-   specification. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+   &lt;/ul&gt;&lt;p&gt;In all of these cases, the &lt;i&gt;&lt;a href=#the-websocket-connection-close-code&gt;the WebSocket connection close code&lt;/a&gt;&lt;/i&gt; would be 1006, as
+   required by the WebSocket Protocol specification. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-   &lt;p&gt;Allowing a script to distinguish these cases would allow a
-   script to probe the user's local network in preparation for an
-   attack.&lt;/p&gt;
+   &lt;p&gt;Allowing a script to distinguish these cases would allow a script to probe the user's local
+   network in preparation for an attack.&lt;/p&gt;
 
-   &lt;p class=note&gt;In particular, this means the code 1015 is not used
-   by the user agent (unless the server erroneously uses it in its
-   close frame, of course).&lt;/p&gt;
+   &lt;p class=note&gt;In particular, this means the code 1015 is not used by the user agent (unless the
+   server erroneously uses it in its close frame, of course).&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for all &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a
-  task&quot;&gt;queued&lt;/a&gt; in this section is the &lt;dfn id=websocket-task-source&gt;WebSocket task
-  source&lt;/dfn&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for all &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue
+  a task&quot;&gt;queued&lt;/a&gt; in this section is the &lt;dfn id=websocket-task-source&gt;WebSocket task source&lt;/dfn&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=ping-and-pong-frames&gt;&lt;span class=secno&gt;10.3.4 &lt;/span&gt;Ping and Pong frames&lt;/h4&gt;
@@ -83092,38 +82745,33 @@
 
   &lt;h4 id=garbage-collection-1&gt;&lt;span class=secno&gt;10.3.7 &lt;/span&gt;Garbage collection&lt;/h4&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;
-  (0) as of the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started
-  executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be
-  garbage collected if there are any event listeners registered for
-  &lt;code title=event-open&gt;open&lt;/code&gt; events, &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt; events, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt; (0) as of
+  the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected if there are any event listeners
+  registered for &lt;code title=event-open&gt;open&lt;/code&gt; events, &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt; events, or
+  &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) as of
-  the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected if
-  there are any event listeners registered for &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt;, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) as of the last time
+  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be
+  garbage collected if there are any event listeners registered for &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt;, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) as
-  of the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a
-  &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected
-  if there are any event listeners registered for &lt;code title=event-error&gt;error&lt;/code&gt; or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) as of the last
+  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must
+  not be garbage collected if there are any event listeners registered for &lt;code title=event-error&gt;error&lt;/code&gt; or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object with &lt;i title=&quot;the WebSocket
-  connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;an established connection&lt;/a&gt;&lt;/i&gt; that has
-  data queued to be transmitted to the network must not be garbage
-  collected. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object with &lt;i title=&quot;the WebSocket connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;an
+  established connection&lt;/a&gt;&lt;/i&gt; that has data queued to be transmitted to the network must not be
+  garbage collected. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;If a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is garbage collected while its
-  connection is still open, the user agent must &lt;i&gt;&lt;a href=#start-the-websocket-closing-handshake&gt;start the
-  WebSocket closing handshake&lt;/a&gt;&lt;/i&gt;, with no status code&lt;!--CLOSE
-  CODE--&gt; for the Close message. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;If a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is garbage collected while its connection is still open, the
+  user agent must &lt;i&gt;&lt;a href=#start-the-websocket-closing-handshake&gt;start the WebSocket closing handshake&lt;/a&gt;&lt;/i&gt;, with no status code&lt;!--CLOSE CODE--&gt;
+  for the Close message. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;If a user agent is to &lt;dfn id=make-disappear&gt;make disappear&lt;/dfn&gt; a
-  &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object (this happens when a
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object goes away), the user agent must follow
-  the first appropriate set of steps from the following list:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;If a user agent is to &lt;dfn id=make-disappear&gt;make disappear&lt;/dfn&gt; a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object (this happens
+  when a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object goes away), the user agent must follow the first appropriate
+  set of steps from the following list:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;If the WebSocket connection is not yet &lt;i title=&quot;the WebSocket
    connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;established&lt;/a&gt;&lt;/i&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/dt&gt;
@@ -83800,16 +83448,13 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object can be entangled with
-  another (a symmetric relationship). Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt;
-  object also has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=port-message-queue&gt;port
-  message queue&lt;/dfn&gt;, initially empty. A &lt;a href=#port-message-queue&gt;port message
-  queue&lt;/a&gt; can be enabled or disabled, and is initially
-  disabled. Once enabled, a port can never be disabled again (though
-  messages in the queue can get moved to another queue or removed
-  altogether, which has much the same effect).
-  A &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; also has a &lt;dfn id=has-been-shipped&gt;has been shipped&lt;/dfn&gt; flag. It must initially be
-  false.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object can be entangled with another (a symmetric relationship).
+  Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object also has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=port-message-queue&gt;port
+  message queue&lt;/dfn&gt;, initially empty. A &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; can be enabled or
+  disabled, and is initially disabled. Once enabled, a port can never be disabled again (though
+  messages in the queue can get moved to another queue or removed altogether, which has much the
+  same effect). A &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; also has a &lt;dfn id=has-been-shipped&gt;has been shipped&lt;/dfn&gt; flag. It must
+  initially be false.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=unshipped-port-message-queue&gt;unshipped port
   message queue&lt;/dfn&gt;. This is a virtual &lt;a href=#task-source&gt;task source&lt;/a&gt;: it must act as if it contained
@@ -83828,15 +83473,12 @@
   is true, its &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; acts as a first-class &lt;a href=#task-source&gt;task source&lt;/a&gt;,
   unaffected to any &lt;a href=#unshipped-port-message-queue&gt;unshipped port message queue&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn id=create-a-new-messageport-object&gt;create a new
-  &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a &lt;a href=&quot;#script's-global-object&quot;&gt;script's
-  global object&lt;/a&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must
-  instantiate a new &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object, and let its owner
-  be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn id=create-a-new-messageport-object&gt;create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a
+  &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must instantiate a new
+  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object, and let its owner be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn id=entangle&gt;entangle&lt;/dfn&gt; two
-  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects, it must run the following
-  steps:&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn id=entangle&gt;entangle&lt;/dfn&gt; two &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects, it must run
+  the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -84090,29 +83732,24 @@
    title=&quot;&quot;&gt;target port&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
---&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-start title=dom-MessagePort-start&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt;
-  method must enable its port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt;, if it
-  is not already enabled.&lt;/p&gt;
+--&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-start title=dom-MessagePort-start&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt; method must enable its port's
+  &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt;, if it is not already enabled.&lt;/p&gt;
 
-  &lt;p&gt;When a port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; is enabled, the
-  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must use it as one of its &lt;a href=#task-source title=&quot;task
-  source&quot;&gt;task sources&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When a port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; is enabled, the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must use
+  it as one of its &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the port's event
-  listeners' &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt;
-  is not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;, then the messages are lost.&lt;/p&gt;
-  &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
+  &lt;p class=note&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the port's event listeners' &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's
+  global object&quot;&gt;global object&lt;/a&gt; is not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;, then the messages are
+  lost.&lt;/p&gt; &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-close title=dom-MessagePort-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called on a port &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is
-  entangled with another port, must cause the user agents to
-  disentangle the two ports. If the method is called on a port that is
-  not entangled, then the method must do nothing.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-close title=dom-MessagePort-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method, when called on a port
+  &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is entangled with another port, must cause the user agents to
+  disentangle the two ports. If the method is called on a port that is not entangled, then the
+  method must do nothing.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-messageport-onmessage title=handler-MessagePort-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt;
@@ -84655,27 +84292,20 @@
   &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for these tasks is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
   source&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the event is being fired due to an invocation of the &lt;code title=dom-Storage-setItem&gt;&lt;a href=#dom-storage-setitem&gt;setItem()&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-Storage-removeItem&gt;&lt;a href=#dom-storage-removeitem&gt;removeItem()&lt;/a&gt;&lt;/code&gt; methods, the
-  event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;
-  attribute initialized to the name of the key in question, its &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  the old value of the key in question, or null if the key is newly
-  added, and its &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  the new value of the key in question, or null if the key was
-  removed.&lt;/p&gt;
+  &lt;p&gt;If the event is being fired due to an invocation of the &lt;code title=dom-Storage-setItem&gt;&lt;a href=#dom-storage-setitem&gt;setItem()&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-Storage-removeItem&gt;&lt;a href=#dom-storage-removeitem&gt;removeItem()&lt;/a&gt;&lt;/code&gt; methods, the event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt; attribute initialized to the name of the key in question,
+  its &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt; attribute initialized to the old value
+  of the key in question, or null if the key is newly added, and its &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attribute initialized to the new value of the
+  key in question, or null if the key was removed.&lt;/p&gt;
 
-  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of
-  the &lt;code title=dom-Storage-clear&gt;&lt;a href=#dom-storage-clear&gt;clear()&lt;/a&gt;&lt;/code&gt; method, the event
-  must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attributes
-  initialized to null.&lt;/p&gt;
+  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of the &lt;code title=dom-Storage-clear&gt;&lt;a href=#dom-storage-clear&gt;clear()&lt;/a&gt;&lt;/code&gt; method, the event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt;,
+  and &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attributes initialized to null.&lt;/p&gt;
 
-  &lt;p&gt;In addition, the event must have its &lt;code title=dom-StorageEvent-url&gt;&lt;a href=#dom-storageevent-url&gt;url&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's address&quot;&gt;the address of the
-  document&lt;/a&gt; whose &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object was affected; and
-  its &lt;code title=dom-StorageEvent-storageArea&gt;&lt;a href=#dom-storageevent-storagearea&gt;storageArea&lt;/a&gt;&lt;/code&gt;
-  attribute initialized to the &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object from the
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the target &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that
-  represents the same kind of &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; area as was
-  affected (i.e. session or local).&lt;/p&gt;
+  &lt;p&gt;In addition, the event must have its &lt;code title=dom-StorageEvent-url&gt;&lt;a href=#dom-storageevent-url&gt;url&lt;/a&gt;&lt;/code&gt; attribute
+  initialized to &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's address&quot;&gt;the address of the document&lt;/a&gt; whose
+  &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object was affected; and its &lt;code title=dom-StorageEvent-storageArea&gt;&lt;a href=#dom-storageevent-storagearea&gt;storageArea&lt;/a&gt;&lt;/code&gt; attribute initialized to the
+  &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object from the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the target
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that represents the same kind of &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; area as was affected
+  (i.e. session or local).&lt;/p&gt;
 
 
   &lt;h5 id=event-definition-0&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;Event definition&lt;/h5&gt;
@@ -91636,48 +91266,39 @@
 
       &lt;p&gt;Run these steps:&lt;/p&gt;
 
-      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;a href=#pending-parsing-blocking-script&gt;pending
-       parsing-blocking script&lt;/a&gt;. There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending
-       parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+       script&lt;/a&gt;. There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Block the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;
-       for this instance of the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that
-       the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Block the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; for this instance of the
+       &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style
-       sheet that is blocking scripts&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;the
-       script&lt;/var&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag
-       is not set: &lt;a href=#spin-the-event-loop&gt;spin the event loop&lt;/a&gt; until the parser's
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-       scripts&lt;/a&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
-       &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is
-       set.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
+       scripts&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt;
+       flag is not set: &lt;a href=#spin-the-event-loop&gt;spin the event loop&lt;/a&gt; until the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+       &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/a&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
+       &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is set.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Unblock the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;
-       for this instance of the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that
-       &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; can again be
-       run.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Unblock the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; for this instance of the
+       &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the
+       &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; can again be run.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the
-       &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next input
+       character&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt;
-       by one (it should be zero before this step, so this sets it to
-       one).&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one (it should be zero
+       before this step, so this sets it to one).&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt;
-       &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; &lt;var title=&quot;&quot;&gt;the
+       script&lt;/var&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt;
-       by one. If the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is
-       zero (which it always should be at this point), then set the
-       &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one. If the parser's
+       &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is zero (which it always should be at this point), then set
+       the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be undefined
-       again.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be undefined again.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If there is once again a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
-       script&lt;/a&gt;, then repeat these steps from step 1.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If there is once again a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then repeat
+       these steps from step 1.&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/dd&gt;
 
@@ -93065,56 +92686,44 @@
   &lt;p&gt;Once the user agent &lt;dfn id=stop-parsing title=&quot;stop parsing&quot;&gt;stops parsing&lt;/dfn&gt;
   the document, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;!-- this happens as part of one of the tasks that runs the parser --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot; &lt;!-- this also synchronously fires an
-   event --&gt; and the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to
+  &lt;ol&gt;&lt;!-- this happens as part of one of the tasks that runs the parser --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;
+   &lt;!-- this also synchronously fires an event --&gt; and the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to
    undefined.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;a href=#stack-of-open-elements&gt;stack of open
-   elements&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the
-   document has finished parsing&lt;/a&gt; is not empty, run these
-   substeps:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+   parsing&lt;/a&gt; is not empty, run these substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the first
-     &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/a&gt; has its
-     &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag set &lt;em&gt;and&lt;/em&gt;
-     the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that
-     is blocking scripts&lt;/a&gt;.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list
+     of scripts that will execute when the document has finished parsing&lt;/a&gt; has its &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready
+     to be parser-executed&quot;&lt;/a&gt; flag set &lt;em&gt;and&lt;/em&gt; the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+     &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the
-     first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in
+     the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element from the
-     &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has
-     finished parsing&lt;/a&gt; (i.e. shift out the first entry in the
+     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element from the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
+     execute when the document has finished parsing&lt;/a&gt; (i.e. shift out the first entry in the
      list).&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the
-     document has finished parsing&lt;/a&gt; is still not empty, repeat
-     these substeps again from substep 1.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/a&gt; is still not empty, repeat these substeps again from substep 1.&lt;/p&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-DOMContentLoaded&gt;DOMContentLoaded&lt;/code&gt; at the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-DOMContentLoaded&gt;DOMContentLoaded&lt;/code&gt; at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the &lt;a href=#set-of-scripts-that-will-execute-as-soon-as-possible&gt;set of
-   scripts that will execute as soon as possible&lt;/a&gt; and the
-   &lt;a href=#list-of-scripts-that-will-execute-in-order-as-soon-as-possible&gt;list of scripts that will execute in order as soon as
-   possible&lt;/a&gt; are empty.&lt;/li&gt; &lt;!-- this step is not redundant
-   with the next one, since &lt;script&gt; nodes delay the load event of the
-   document they are in, but they might change document between being
-   added to one document's set/list and executing those scripts, so
-   they might be delaying another document but still be in this
-   document's set/list. --&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the &lt;a href=#set-of-scripts-that-will-execute-as-soon-as-possible&gt;set of scripts that will execute as soon
+   as possible&lt;/a&gt; and the &lt;a href=#list-of-scripts-that-will-execute-in-order-as-soon-as-possible&gt;list of scripts that will execute in order as soon as
+   possible&lt;/a&gt; are empty.&lt;/li&gt; &lt;!-- this step is not redundant with the next one, since
+   &lt;script&gt; nodes delay the load event of the document they are in, but they might change document
+   between being added to one document's set/list and executing those scripts, so they might be
+   delaying another document but still be in this document's set/list. --&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until there is nothing that
-   &lt;dfn id=delay-the-load-event title=&quot;delay the load event&quot;&gt;delays the load event&lt;/dfn&gt; in
-   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until there is nothing that &lt;dfn id=delay-the-load-event title=&quot;delay the load
+   event&quot;&gt;delays the load event&lt;/dfn&gt; in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -94118,17 +93727,14 @@
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//W3C//DTD&nbsp;XHTML&nbsp;1.1&nbsp;plus&nbsp;MathML&nbsp;2.0&nbsp;plus&nbsp;SVG&nbsp;1.1//EN&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//W3C//DTD&nbsp;MathML&nbsp;2.0//EN&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//WAPFORUM//DTD&nbsp;XHTML&nbsp;Mobile&nbsp;1.0//EN&lt;/code&gt;&lt;/li&gt;
-  &lt;/ul&gt;&lt;p&gt;Furthermore, user agents should attempt to retrieve the above
-  external entity's content when one of the above public identifiers
-  is used, and should not attempt to retrieve any other external
+  &lt;/ul&gt;&lt;p&gt;Furthermore, user agents should attempt to retrieve the above external entity's content when
+  one of the above public identifiers is used, and should not attempt to retrieve any other external
   entity's content.&lt;/p&gt;
 
-  &lt;p class=note&gt;This is not strictly a &lt;a href=#willful-violation title=&quot;willful
-  violation&quot;&gt;violation&lt;/a&gt; of the XML specification, but it does
-  contradict the spirit of the XML specification's requirements. This
-  is motivated by a desire for user agents to all handle entities in
-  an interoperable fashion without requiring any network access for
-  handling external subsets. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+  &lt;p class=note&gt;This is not strictly a &lt;a href=#willful-violation title=&quot;willful violation&quot;&gt;violation&lt;/a&gt; of the XML
+  specification, but it does contradict the spirit of the XML specification's requirements. This is
+  motivated by a desire for user agents to all handle entities in an interoperable fashion without
+  requiring any network access for handling external subsets. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p id=scriptTagXML&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; creates a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element, it
   must be marked as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and its &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag
@@ -94139,45 +93745,36 @@
   &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element. If this causes there to be a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
   script&lt;/a&gt;, then the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Block this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such
-   that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Block this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
+   will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the parser's
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-   scripts&lt;/a&gt; and the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
-   script&lt;/a&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is
-   set.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no
+   style sheet that is blocking scripts&lt;/a&gt; and the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+   script&lt;/a&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is set.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such
-   that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it can
-   again be run.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it can again be run.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the
-   &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+   &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
    script&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
+
   &lt;/ol&gt;&lt;p class=note&gt;Since the &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; API is not
-  available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in
-  the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; is not needed in the &lt;a href=#xml-parser&gt;XML
-  parser&lt;/a&gt;.&lt;/p&gt;
+  available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;
+  is not needed in the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the
-  parser&quot;&gt;spoon-feed the parser&lt;/dfn&gt; characters one string at a
-  time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act as it
-  would have if faced with a single string consisting of the
-  concatenation of all those characters.&lt;/p&gt;
+  &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the parser&quot;&gt;spoon-feed the
+  parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act
+  as it would have if faced with a single string consisting of the concatenation of all those
+  characters.&lt;/p&gt;
 
-  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; reaches the end of its input, it
-  must &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;, following the same rules as the
-  &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;. An &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; can also be
-  &lt;a href=#abort-a-parser title=&quot;abort a parser&quot;&gt;aborted&lt;/a&gt;, which must again by
-  done in the same way as for an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; reaches the end of its input, it must &lt;a href=#stop-parsing&gt;stop
+  parsing&lt;/a&gt;, following the same rules as the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;. An &lt;a href=#xml-parser&gt;XML
+  parser&lt;/a&gt; can also be &lt;a href=#abort-a-parser title=&quot;abort a parser&quot;&gt;aborted&lt;/a&gt;, which must again by done in
+  the same way as for an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of conformance checkers, if a resource is
-  determined to be in &lt;a href=#the-xhtml-syntax&gt;the XHTML syntax&lt;/a&gt;, then it is an
-  &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;For the purposes of conformance checkers, if a resource is determined to be in &lt;a href=#the-xhtml-syntax&gt;the XHTML
+  syntax&lt;/a&gt;, then it is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
 
 
 

Modified: index
===================================================================
--- index	2013-02-05 20:33:00 UTC (rev 7694)
+++ index	2013-02-05 22:23:45 UTC (rev 7695)
@@ -12394,24 +12394,23 @@
 
   &lt;h3 id=interactions-with-xpath-and-xslt&gt;&lt;span class=secno&gt;3.3 &lt;/span&gt;Interactions with XPath and XSLT&lt;/h3&gt;
 
-  &lt;p id=xpath-1.0-processors&gt;Implementations of XPath 1.0 that
-  operate on &lt;a href=#html-documents&gt;HTML documents&lt;/a&gt; parsed or created in the
-  manners described in this specification (e.g. as part of the &lt;code title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the
-  following edit was applied to the XPath 1.0 specification.&lt;/p&gt;
+  &lt;p id=xpath-1.0-processors&gt;Implementations of XPath 1.0 that operate on &lt;a href=#html-documents&gt;HTML
+  documents&lt;/a&gt; parsed or created in the manners described in this specification (e.g. as part of
+  the &lt;code title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the following edit was applied
+  to the XPath 1.0 specification.&lt;/p&gt;
 
   &lt;p&gt;First, remove this paragraph:&lt;/p&gt;
 
   &lt;blockquote cite=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests">http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests</A>&gt;
 
-   &lt;p&gt;A &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; in the
-   node test is expanded into an &lt;a href=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&gt;expanded-name&lt;/a&gt;
-   using the namespace declarations from the expression context.  This
-   is the same way expansion is done for element type names in start
-   and end-tags except that the default namespace declared with &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; does
-   not have a prefix, then the namespace URI is null (this is the same
-   way attribute names are expanded).  It is an error if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; has a
-   prefix for which there is no namespace declaration in the
-   expression context.&lt;/p&gt;
+   &lt;p&gt;A &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; in the node test is expanded
+   into an &lt;a href=<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&gt;expanded-name&lt;/a&gt;
+   using the namespace declarations from the expression context. This is the same way expansion is
+   done for element type names in start and end-tags except that the default namespace declared with
+   &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; does not have a prefix, then the
+   namespace URI is null (this is the same way attribute names are expanded). It is an error if the
+   &lt;a href=<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&gt;QName&lt;/a&gt; has a prefix for which there is
+   no namespace declaration in the expression context.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
@@ -12419,87 +12418,68 @@
 
   &lt;blockquote cite=&quot;<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37">http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37</A>&quot;&gt;
 
-   &lt;p&gt;A QName in the node test is expanded into an expanded-name using
-   the namespace declarations from the expression context. If the
-   QName has a prefix, then there must be a&lt;!-- added 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace
-   declaration for this prefix in the expression context, and the
-   corresponding&lt;!-- typo fixed 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace
-   URI is the one that is associated with this prefix.  It is an error
-   if the QName has a prefix for which there is no namespace
-   declaration in the expression context. &lt;/p&gt;
+   &lt;p&gt;A QName in the node test is expanded into an expanded-name using the namespace declarations
+   from the expression context. If the QName has a prefix, then there must be a&lt;!-- added 2009-10-27
+   - <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace declaration for this prefix in
+   the expression context, and the corresponding&lt;!-- typo fixed 2009-10-27 -
+   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace URI is the one that is
+   associated with this prefix. It is an error if the QName has a prefix for which there is no
+   namespace declaration in the expression context. &lt;/p&gt;
 
-   &lt;p&gt;If the QName has no prefix and the principal node type of the
-   axis is element, then the default element namespace is
-   used. Otherwise if the QName has no prefix, the namespace URI is
-   null. The default element namespace is a member of the context for
-   the XPath expression. The value of the default element namespace
-   when executing an XPath expression through the DOM3 XPath API is
-   determined in the following way:&lt;/p&gt;
+   &lt;p&gt;If the QName has no prefix and the principal node type of the axis is element, then the
+   default element namespace is used. Otherwise if the QName has no prefix, the namespace URI is
+   null. The default element namespace is a member of the context for the XPath expression. The
+   value of the default element namespace when executing an XPath expression through the DOM3 XPath
+   API is determined in the following way:&lt;/p&gt;
 
-   &lt;ol&gt;&lt;li&gt;If the context node is from an HTML DOM, the default element
-    namespace is &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
+   &lt;ol&gt;&lt;li&gt;If the context node is from an HTML DOM, the default element namespace is
+    &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
 
     &lt;li&gt;Otherwise, the default element namespace URI is null.&lt;/li&gt;
 
-   &lt;/ol&gt;&lt;p class=note&gt;This is equivalent to adding the default element
-   namespace feature of XPath 2.0 to XPath 1.0, and using the HTML
-   namespace as the default element namespace for HTML documents. It
-   is motivated by the desire to have implementations be compatible
-   with legacy HTML content while still supporting the changes that
-   this specification introduces to HTML regarding the namespace used
-   for HTML elements, and by the desire to use XPath 1.0 rather than
-   XPath 2.0.&lt;/p&gt;
+   &lt;/ol&gt;&lt;p class=note&gt;This is equivalent to adding the default element namespace feature of XPath 2.0
+   to XPath 1.0, and using the HTML namespace as the default element namespace for HTML documents.
+   It is motivated by the desire to have implementations be compatible with legacy HTML content
+   while still supporting the changes that this specification introduces to HTML regarding the
+   namespace used for HTML elements, and by the desire to use XPath 1.0 rather than XPath 2.0.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
-  &lt;p class=note&gt;This change is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of
-  the XPath 1.0 specification, motivated by desire to have
-  implementations be compatible with legacy content while still
-  supporting the changes that this specification introduces to HTML
-  regarding which namespace is used for HTML elements. &lt;a href=#refsXPATH10&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
+  &lt;p class=note&gt;This change is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XPath 1.0 specification,
+  motivated by desire to have implementations be compatible with legacy content while still
+  supporting the changes that this specification introduces to HTML regarding which namespace is
+  used for HTML elements. &lt;a href=#refsXPATH10&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
   this ref --&gt;
 
-  &lt;hr&gt;&lt;p id=dom-based-xslt-1.0-processors&gt;XSLT 1.0 processors outputting
-  to a DOM when the output method is &quot;html&quot; (either explicitly or via
-  the defaulting rule in XSLT 1.0) are affected as follows:&lt;/p&gt;
+  &lt;hr&gt;&lt;p id=dom-based-xslt-1.0-processors&gt;XSLT 1.0 processors outputting to a DOM when the output
+  method is &quot;html&quot; (either explicitly or via the defaulting rule in XSLT 1.0) are affected as
+  follows:&lt;/p&gt;
 
-  &lt;p&gt;If the transformation program outputs an element in no namespace,
-  the processor must, prior to constructing the corresponding DOM
-  element node, change the namespace of the element to the &lt;a href=#html-namespace-0&gt;HTML
-  namespace&lt;/a&gt;, &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII
-  lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the element's local name, and
-  &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt;
-  the names of any non-namespaced attributes on the element.&lt;/p&gt;
+  &lt;p&gt;If the transformation program outputs an element in no namespace, the processor must, prior to
+  constructing the corresponding DOM element node, change the namespace of the element to the
+  &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the
+  element's local name, and &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the
+  names of any non-namespaced attributes on the element.&lt;/p&gt;
 
-  &lt;p class=note&gt;This requirement is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt;
-  of the XSLT 1.0 specification, required because this specification
-  changes the namespaces and case-sensitivity rules of HTML in a
-  manner that would otherwise be incompatible with DOM-based XSLT
-  transformations. (Processors that serialize the output are
-  unaffected.) &lt;a href=#refsXSLT10&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note:
-  version matters for this ref --&gt;
+  &lt;p class=note&gt;This requirement is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XSLT 1.0
+  specification, required because this specification changes the namespaces and case-sensitivity
+  rules of HTML in a manner that would otherwise be incompatible with DOM-based XSLT
+  transformations. (Processors that serialize the output are unaffected.) &lt;a href=#refsXSLT10&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for this ref --&gt;
 
-  &lt;hr&gt;&lt;p&gt;This specification does not specify precisely how XSLT processing
-  interacts with the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; infrastructure (for
-  example, whether an XSLT processor acts as if it puts any elements
-  into a &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;). However, XSLT
-  processors must &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt; if they successfully
-  complete, and must set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt;
-  first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously
-  fires an event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!--
-  this also synchronously fires an event --&gt; if they are aborted.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;This specification does not specify precisely how XSLT processing interacts with the &lt;a href=#html-parser&gt;HTML
+  parser&lt;/a&gt; infrastructure (for example, whether an XSLT processor acts as if it puts any
+  elements into a &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;). However, XSLT processors must &lt;a href=#stop-parsing&gt;stop
+  parsing&lt;/a&gt; if they successfully complete, and must set the &lt;a href=#current-document-readiness&gt;current document
+  readiness&lt;/a&gt; first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously fires an
+  event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!-- this also synchronously fires an event
+  --&gt; if they are aborted.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;This specification does not specify how XSLT interacts with the
-  &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; algorithm, how it fits in
-  with the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, nor how error pages are to be
-  handled (e.g. whether XSLT errors are to replace an incremental XSLT
+  &lt;hr&gt;&lt;p&gt;This specification does not specify how XSLT interacts with the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; algorithm, how it fits in with the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, nor
+  how error pages are to be handled (e.g. whether XSLT errors are to replace an incremental XSLT
   output, or are rendered inline, etc).&lt;/p&gt;
 
-  &lt;p class=note&gt;There are also additional non-normative comments
-  regarding the interaction of XSLT and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element
-  section&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=note&gt;There are also additional non-normative comments regarding the interaction of XSLT
+  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -12740,27 +12720,25 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-close title=dom-document-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-close title=dom-document-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is not flagged as an
-   &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;, throw an
-   &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception and abort these
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is not flagged as an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML
+   document&lt;/a&gt;, throw an &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;a href=#script-created-parser&gt;script-created parser&lt;/a&gt; associated
-   with the document, then abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is no &lt;a href=#script-created-parser&gt;script-created parser&lt;/a&gt; associated with the document, then abort
+   these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert an &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; at the end
-   of the parser's &lt;a href=#input-stream&gt;input stream&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Insert an &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; at the end of the parser's &lt;a href=#input-stream&gt;input
+   stream&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;,
-   then abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then abort these
+   steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are
-   emitted, and stopping when the tokenizer reaches the &lt;a href=#explicit-eof-character&gt;explicit
-   &quot;EOF&quot; character&lt;/a&gt; or &lt;a href=#spin-the-event-loop title=&quot;spin the event loop&quot;&gt;spins
-   the event loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are emitted, and stopping when the
+   tokenizer reaches the &lt;a href=#explicit-eof-character&gt;explicit &quot;EOF&quot; character&lt;/a&gt; or &lt;a href=#spin-the-event-loop title=&quot;spin the event
+   loop&quot;&gt;spins the event loop&lt;/a&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
@@ -14715,14 +14693,12 @@
 
   &lt;h4 id=styling&gt;&lt;span class=secno&gt;4.2.7 &lt;/span&gt;&lt;dfn title=&quot;styling processing model&quot;&gt;Styling&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements can provide
-  styling information for the user agent to use when rendering the
-  document. The CSS and CSSOM specifications specify what styling
-  information is to be used by the user agent and how it is to be
-  used. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt; &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements can provide styling information for the
+  user agent to use when rendering the document. The CSS and CSSOM specifications specify what
+  styling information is to be used by the user agent and how it is to be used. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt; &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements implement
-  the &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt; interface. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements implement the &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt;
+  interface. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
   &lt;div class=impl&gt;
 
@@ -14745,126 +14721,98 @@
 
   &lt;dl&gt;&lt;dt&gt;The style sheet type&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified
-   type. For &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, this is the same as the
-   &lt;code title=attr-style-type&gt;&lt;a href=#attr-style-type&gt;type&lt;/a&gt;&lt;/code&gt; content attribute's
-   value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
-   &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, this is the &lt;a href=#content-type title=Content-Type&gt;Content-Type metadata of the specified
-   resource&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified type. For
+   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, this is the same as the &lt;code title=attr-style-type&gt;&lt;a href=#attr-style-type&gt;type&lt;/a&gt;&lt;/code&gt;
+   content attribute's value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
+   &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, this is the &lt;a href=#content-type title=Content-Type&gt;Content-Type metadata of the
+   specified resource&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet location&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, the location must be the
-   result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the
-   &lt;a href=#url&gt;URL&lt;/a&gt; given by the element's &lt;code title=attr-link-href&gt;&lt;a href=#attr-link-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute, relative to
-   the element, or the empty string if that fails. For
-   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, there is no location.&lt;/dd&gt; &lt;!--
-   note that this might not match the style sheet URL, if the base URL
-   has changed for instance --&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, the location must be the result of &lt;a href=#resolve-a-url title=&quot;resolve a
+   url&quot;&gt;resolving&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt; given by the element's &lt;code title=attr-link-href&gt;&lt;a href=#attr-link-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute, relative to the element, or the empty
+   string if that fails. For &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements, there is no location.&lt;/dd&gt; &lt;!-- note
+   that this might not match the style sheet URL, if the base URL has changed for instance --&gt;
 
    &lt;dt&gt;The style sheet media&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's
-   &lt;code title=&quot;&quot;&gt;media&lt;/code&gt; content attribute, or the empty string,
-   if the attribute is omitted.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's &lt;code title=&quot;&quot;&gt;media&lt;/code&gt;
+   content attribute, or the empty string, if the attribute is omitted.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet title&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's
-   &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; content attribute, if the
-   attribute is present and has a non-empty value. If the attribute is
-   absent or its value is the empty string, then the style sheet does
-   not have a title (it is the empty string). The title is used for
-   defining &lt;a href=#alternative-style-sheet-sets&gt;alternative style sheet sets&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; content attribute, if the attribute is present and has a non-empty
+   value. If the attribute is absent or its value is the empty string, then the style sheet does not
+   have a title (it is the empty string). The title is used for defining &lt;a href=#alternative-style-sheet-sets&gt;alternative style
+   sheet sets&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet alternate flag&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, true if &lt;a href=#the-link-is-an-alternative-stylesheet&gt;the link is an
-   alternative stylesheet&lt;/a&gt;. In all other cases, false.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; elements, true if &lt;a href=#the-link-is-an-alternative-stylesheet&gt;the link is an alternative
+   stylesheet&lt;/a&gt;. In all other cases, false.&lt;/dd&gt;
 
 &lt;!--
-   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt;
-   (not included, because I assume CSSOM will change to not require
-   this spec to initialise the value, but will instead initialise it
-   based on the other values)
+   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt; (not included, because I assume CSSOM will change to not
+   require this spec to initialise the value, but will instead initialise it based on the other
+   values)
 --&gt;
 
   &lt;/dl&gt;&lt;p&gt;The same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-linkstyle-disabled title=dom-LinkStyle-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements must
-  return false and do nothing on setting, if the &lt;code title=dom-linkstyle-sheet&gt;&lt;a href=#dom-linkstyle-sheet&gt;sheet&lt;/a&gt;&lt;/code&gt; attribute of their
-  &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt; interface is null. Otherwise, it must return
-  the value of the &lt;code&gt;&lt;a href=#stylesheet&gt;StyleSheet&lt;/a&gt;&lt;/code&gt; interface's &lt;code title=dom-stylesheet-disabled&gt;&lt;a href=#dom-stylesheet-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute on
-  getting, and forward the new value to that same attribute on
-  setting.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-linkstyle-disabled title=dom-LinkStyle-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL attribute on
+  &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; elements must return false and do nothing on setting, if
+  the &lt;code title=dom-linkstyle-sheet&gt;&lt;a href=#dom-linkstyle-sheet&gt;sheet&lt;/a&gt;&lt;/code&gt; attribute of their &lt;code&gt;&lt;a href=#linkstyle&gt;LinkStyle&lt;/a&gt;&lt;/code&gt;
+  interface is null. Otherwise, it must return the value of the &lt;code&gt;&lt;a href=#stylesheet&gt;StyleSheet&lt;/a&gt;&lt;/code&gt; interface's
+  &lt;code title=dom-stylesheet-disabled&gt;&lt;a href=#dom-stylesheet-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute on getting, and forward the new
+  value to that same attribute on setting.&lt;/p&gt;
 
-  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet
-  sets&quot;, the term &quot;default style sheet set&quot;, preferred stylesheets,
-  alternative stylesheets, persistent stylesheets, ordering of
-  stylesheets, dynamic additions/removals, window.styleSheets, style
-  sheets given by HTTP Link: headers, and the alternative style sheet
-  API --&gt;
+  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet sets&quot;, the term &quot;default
+  style sheet set&quot;, preferred stylesheets, alternative stylesheets, persistent stylesheets, ordering
+  of stylesheets, dynamic additions/removals, window.styleSheets, style sheets given by HTTP Link:
+  headers, and the alternative style sheet API --&gt;
 
-  &lt;p id=alternate-style-sheets&gt;The rules for handling alternative
-  style sheets are defined in the CSS object model specification. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p id=alternate-style-sheets&gt;The rules for handling alternative style sheets are defined in the
+  CSS object model specification. &lt;a href=#refsCSSOM&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;Style sheets, whether added by a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element, a
-  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI,
-  an HTTP &lt;code title=http-link&gt;Link:&lt;/code&gt; header, or some other
-  mechanism, have a &lt;dfn id=style-sheet-ready&gt;style sheet ready&lt;/dfn&gt; flag, which is
-  initially unset.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;Style sheets, whether added by a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element, an
+  &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI, an HTTP &lt;code title=http-link&gt;Link:&lt;/code&gt; header, or some
+  other mechanism, have a &lt;dfn id=style-sheet-ready&gt;style sheet ready&lt;/dfn&gt; flag, which is initially unset.&lt;/p&gt;
 
-  &lt;p&gt;When a style sheet is ready to be applied, its &lt;a href=#style-sheet-ready&gt;style sheet
-  ready&lt;/a&gt; flag must be set. If the style sheet referenced no
-  other resources (e.g. it was an internal style sheet given by a
-  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt;
-  rules), then the style rules must be synchronously made available to
-  script; otherwise, the style rules must only be made available to
-  script once the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the
-  rendering&quot; step.&lt;/p&gt;
+  &lt;p&gt;When a style sheet is ready to be applied, its &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag must be set.
+  If the style sheet referenced no other resources (e.g. it was an internal style sheet given by a
+  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt; rules), then the style rules must
+  be synchronously made available to script; otherwise, the style rules must only be made available
+  to script once the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the rendering&quot; step.&lt;/p&gt;
 
-  &lt;p&gt;A style sheet in the context of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of an
-  &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is said to be
-  &lt;dfn id=a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the element was
-  created by that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s parser, and the element is
-  either a &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element
-  that was an &lt;a href=#link-type-stylesheet title=rel-stylesheet&gt;external resource link that
-  contributes to the styling processing model&lt;/a&gt; when the element
-  was created by the parser, and the element's style sheet was enabled
-  when the element was created by the parser, and the element's
-  &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag is not yet set, and, the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1, the element was
-  &lt;a href=#in-a-document title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;,
-  and the user agent hasn't given up on that particular style sheet
-  yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
+  &lt;p&gt;A style sheet in the context of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or
+  &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is said to be &lt;dfn id=a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the
+  element was created by that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s parser, and the element is either a
+  &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element that was an &lt;a href=#link-type-stylesheet title=rel-stylesheet&gt;external resource link that contributes to the styling processing
+  model&lt;/a&gt; when the element was created by the parser, and the element's style sheet was enabled
+  when the element was created by the parser, and the element's &lt;a href=#style-sheet-ready&gt;style sheet ready&lt;/a&gt; flag
+  is not yet set, and, the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1, the element was
+  &lt;a href=#in-a-document title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, and the user agent hasn't given
+  up on that particular style sheet yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
 
-  &lt;p class=note&gt;Giving up on a style sheet before the style sheet
-  loads, if the style sheet eventually does still load, means that the
-  script might end up operating with incorrect information. For
-  example, if a style sheet sets the color of an element to green, but
-  a script that inspects the resulting style is executed before the
-  sheet is loaded, the script will find that the element is black (or
-  whatever the default color is), and might thus make poor choices
-  (e.g. deciding to use black as the color elsewhere on the page,
-  instead of green). Implementors have to balance the likelihood of a
-  script using incorrect information with the performance impact of
-  doing nothing while waiting for a slow network request to
-  finish.&lt;/p&gt;
+  &lt;p class=note&gt;Giving up on a style sheet before the style sheet loads, if the style sheet
+  eventually does still load, means that the script might end up operating with incorrect
+  information. For example, if a style sheet sets the color of an element to green, but a script
+  that inspects the resulting style is executed before the sheet is loaded, the script will find
+  that the element is black (or whatever the default color is), and might thus make poor choices
+  (e.g. deciding to use black as the color elsewhere on the page, instead of green). Implementors
+  have to balance the likelihood of a script using incorrect information with the performance impact
+  of doing nothing while waiting for a slow network request to finish.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
-  scripts&lt;/dfn&gt; if there is either &lt;a href=#a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is
-  blocking scripts&lt;/a&gt; in the context of that
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or if that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; that has a &lt;a href=#parent-browsing-context&gt;parent browsing
-  context&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that
-  &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; itself &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet
-  that is blocking scripts&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking scripts&lt;/dfn&gt; if there is
+  either &lt;a href=#a-style-sheet-that-is-blocking-scripts&gt;a style sheet that is blocking scripts&lt;/a&gt; in the context of that
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or if that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; that
+  has a &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that
+  &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; itself &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
+  scripts&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-  scripts&lt;/dfn&gt; if it does not &lt;a href=#has-a-style-sheet-that-is-blocking-scripts title=&quot;has a style sheet that is
-  blocking scripts&quot;&gt;have a style sheet that is blocking scripts&lt;/a&gt;
-  as defined in the previous paragraph.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;dfn id=has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/dfn&gt; if it does not
+  &lt;a href=#has-a-style-sheet-that-is-blocking-scripts title=&quot;has a style sheet that is blocking scripts&quot;&gt;have a style sheet that is blocking
+  scripts&lt;/a&gt; as defined in the previous paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -28741,8 +28689,8 @@
 
       &lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-loadedmetadata&gt;&lt;a href=#event-media-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-      &lt;p class=note&gt;Before this task is run, as part of the event loop mechanism, the rendering
-      will have been updated to resize the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element if appropriate.&lt;/p&gt;
+      &lt;p class=note&gt;Before this task is run, as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; mechanism, the
+      rendering will have been updated to resize the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element if appropriate.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -31973,74 +31921,61 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is
-  not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then the &lt;dfn id=dom-texttrack-cues title=dom-TextTrack-cues&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must
-  return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that
-  represents the subset of the &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of
-  the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object
-  represents whose &lt;a href=#text-track-cue-end-time title=&quot;text track cue end time&quot;&gt;end
-  times&lt;/a&gt; occur at or after the &lt;a href=#earliest-possible-position-when-the-script-started&gt;earliest possible position
-  when the script started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue
-  order&lt;/a&gt;. Otherwise, it must return null. When an object is
-  returned, the same object must be returned each time.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then
+  the &lt;dfn id=dom-texttrack-cues title=dom-TextTrack-cues&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of the
+  &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents whose &lt;a href=#text-track-cue-end-time title=&quot;text track cue end time&quot;&gt;end
+  times&lt;/a&gt; occur at or after the &lt;a href=#earliest-possible-position-when-the-script-started&gt;earliest possible position when the script
+  started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=earliest-possible-position-when-the-script-started&gt;earliest possible position when the script started&lt;/dfn&gt;
-  is whatever the &lt;a href=#earliest-possible-position&gt;earliest possible position&lt;/a&gt; was the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step 1.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=earliest-possible-position-when-the-script-started&gt;earliest possible position when the script started&lt;/dfn&gt; is whatever the
+  &lt;a href=#earliest-possible-position&gt;earliest possible position&lt;/a&gt; was the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached step
+  1.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is
-  not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then the &lt;dfn id=dom-texttrack-activecues title=dom-TextTrack-activeCues&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return a &lt;a href=#live&gt;live&lt;/a&gt;
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of
-  the &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents
-  whose &lt;a href=#active-flag-was-set-when-the-script-started&gt;active flag was set when the script started&lt;/a&gt;, in
-  &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return
-  null. When an object is returned, the same object must be returned
-  each time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents is not the &lt;a href=#text-track-disabled&gt;text track disabled&lt;/a&gt; mode, then
+  the &lt;dfn id=dom-texttrack-activecues title=dom-TextTrack-activeCues&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object that represents the subset of the
+  &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents whose &lt;a href=#active-flag-was-set-when-the-script-started&gt;active flag was set when the script
+  started&lt;/a&gt;, in &lt;a href=#text-track-cue-order&gt;text track cue order&lt;/a&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt;'s &lt;dfn id=active-flag-was-set-when-the-script-started&gt;active flag was set when
-  the script started&lt;/dfn&gt; if its &lt;a href=#text-track-cue-active-flag&gt;text track cue active
-  flag&lt;/a&gt; was set the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-  reached step 1.&lt;/p&gt;
+  &lt;p&gt;A &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt;'s &lt;dfn id=active-flag-was-set-when-the-script-started&gt;active flag was set when the script started&lt;/dfn&gt; if its
+  &lt;a href=#text-track-cue-active-flag&gt;text track cue active flag&lt;/a&gt; was set the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reached
+  step 1.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-addcue title=dom-TextTrack-addCue&gt;&lt;code&gt;addCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt;
-  objects, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-addcue title=dom-TextTrack-addCue&gt;&lt;code&gt;addCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;a href=#text-track-list-of-cues&gt;text
-   track list of cues&lt;/a&gt;, then remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from
-   that &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;, then
+   remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from that &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's
-   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s
-   &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text
+   track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-removecue title=dom-TextTrack-removeCue&gt;&lt;code&gt;removeCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of
-  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the
-  following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-texttrack-removecue title=dom-TextTrack-removeCue&gt;&lt;code&gt;removeCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method of &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed
-   in the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text
-   track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;, then throw a
-   &lt;code&gt;&lt;a href=#notfounderror&gt;NotFoundError&lt;/a&gt;&lt;/code&gt; exception.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed in the method's
+   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;,
+   then throw a &lt;code&gt;&lt;a href=#notfounderror&gt;NotFoundError&lt;/a&gt;&lt;/code&gt; exception.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's
-   &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#text-track&gt;text track&lt;/a&gt;'s
-   &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object's
+   &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues&gt;text track list of cues&lt;/a&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;In this example, an &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; element is used to play a
-   specific sound-effect from a sound file containing many sound
-   effects. A cue is used to pause the audio, so that it ends exactly
-   at the end of the clip, even if the browser is busy running some
-   script. If the page had relied on script to pause the audio, then
-   the start of the next clip might be heard if the browser was not
-   able to run the script at the exact time specified.&lt;/p&gt;
+   &lt;p&gt;In this example, an &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; element is used to play a specific sound-effect from a
+   sound file containing many sound effects. A cue is used to pause the audio, so that it ends
+   exactly at the end of the clip, even if the browser is busy running some script. If the page had
+   relied on script to pause the audio, then the start of the next clip might be heard if the
+   browser was not able to run the script at the exact time specified.&lt;/p&gt;
 
    &lt;pre&gt;var sfx = new Audio('sfx.wav');
 var sounds = sfx.addTextTrack('metadata');
@@ -32096,35 +32031,25 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object represents a dynamically
-  updating list of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track
-  cues&lt;/a&gt; in a given order.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object represents a dynamically updating list of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track cues&lt;/a&gt; in a given order.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-length title=dom-TextTrackCueList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of &lt;a href=#text-track-cue title=&quot;text track
-  cue&quot;&gt;cues&lt;/a&gt; in the list represented by the
+  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-length title=dom-TextTrackCueList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt; attribute must return
+  the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the list represented by the
   &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;a href=#supported-property-indices&gt;supported property indices&lt;/a&gt; of a
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object at any instant are the numbers
-  from zero to the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt;
-  in the list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object
-  minus one, if any. If there are no &lt;a href=#text-track-cue title=&quot;text track
-  cue&quot;&gt;cues&lt;/a&gt; in the list, there are no &lt;a href=#supported-property-indices&gt;supported property
+  &lt;p&gt;The &lt;a href=#supported-property-indices&gt;supported property indices&lt;/a&gt; of a &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object at any
+  instant are the numbers from zero to the number of &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the
+  list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object minus one, if any. If there are no
+  &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;cues&lt;/a&gt; in the list, there are no &lt;a href=#supported-property-indices&gt;supported property
   indices&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;To &lt;a href=#determine-the-value-of-an-indexed-property&gt;determine the value of an indexed property&lt;/a&gt; for a
-  given index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return
-  the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt; in the
-  list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;p&gt;To &lt;a href=#determine-the-value-of-an-indexed-property&gt;determine the value of an indexed property&lt;/a&gt; for a given index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;a href=#text-track-cue&gt;text track
+  cue&lt;/a&gt; in the list represented by the &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-getcuebyid title=dom-TextTrackCueList-getCueById&gt;&lt;code&gt;getCueById(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument
-  other than the empty string, must return the first &lt;a href=#text-track-cue&gt;text track
-  cue&lt;/a&gt; in the list represented by the
-  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object whose &lt;a href=#text-track-cue-identifier&gt;text track cue
-  identifier&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null
-  otherwise. If the argument is the empty string, then the method must
-  return null.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-texttrackcuelist-getcuebyid title=dom-TextTrackCueList-getCueById&gt;&lt;code&gt;getCueById(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument other than the empty string,
+  must return the first &lt;a href=#text-track-cue&gt;text track cue&lt;/a&gt; in the list represented by the
+  &lt;code&gt;&lt;a href=#texttrackcuelist&gt;TextTrackCueList&lt;/a&gt;&lt;/code&gt; object whose &lt;a href=#text-track-cue-identifier&gt;text track cue identifier&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null otherwise. If the argument is the empty string, then the method
+  must return null.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -33125,58 +33050,46 @@
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
-  &lt;p&gt;How accurately various aspects of the &lt;a href=#media-element&gt;media element&lt;/a&gt;
-  API are implemented is considered a quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;How accurately various aspects of the &lt;a href=#media-element&gt;media element&lt;/a&gt; API are implemented is
+  considered a quality-of-implementation issue.&lt;/p&gt;
 
-  &lt;p&gt;For example, when implementing the &lt;code title=attr-media-buffered&gt;buffered&lt;/code&gt; attribute, how precise
-  an implementation reports the ranges that have been buffered depends
-  on how carefully the user agent inspects the data. Since the API
-  reports ranges as times, but the data is obtained in byte streams, a
-  user agent receiving a variable-bit-rate stream might only be able
-  to determine precise times by actually decoding all of the data.
-  User agents aren't required to do this, however; they can instead
-  return estimates (e.g. based on the average bit rate seen so far)
-  which get revised as more information becomes available.&lt;/p&gt;
+  &lt;p&gt;For example, when implementing the &lt;code title=attr-media-buffered&gt;buffered&lt;/code&gt; attribute,
+  how precise an implementation reports the ranges that have been buffered depends on how carefully
+  the user agent inspects the data. Since the API reports ranges as times, but the data is obtained
+  in byte streams, a user agent receiving a variable-bit-rate stream might only be able to determine
+  precise times by actually decoding all of the data. User agents aren't required to do this,
+  however; they can instead return estimates (e.g. based on the average bit rate seen so far) which
+  get revised as more information becomes available.&lt;/p&gt;
 
-  &lt;p&gt;As a general rule, user agents are urged to be conservative
-  rather than optimistic. For example, it would be bad to report that
-  everything had been buffered when it had not.&lt;/p&gt;
+  &lt;p&gt;As a general rule, user agents are urged to be conservative rather than optimistic. For
+  example, it would be bad to report that everything had been buffered when it had not.&lt;/p&gt;
 
-  &lt;p&gt;Another quality-of-implementation issue would be playing a video
-  backwards when the codec is designed only for forward playback (e.g.
-  there aren't many key frames, and they are far apart, and the
-  intervening frames only have deltas from the previous frame). User
-  agents could do a poor job, e.g. only showing key frames; however,
-  better implementations would do more work and thus do a better job,
-  e.g. actually decoding parts of the video forwards, storing the
-  complete frames, and then playing the frames backwards.&lt;/p&gt;
+  &lt;p&gt;Another quality-of-implementation issue would be playing a video backwards when the codec is
+  designed only for forward playback (e.g. there aren't many key frames, and they are far apart, and
+  the intervening frames only have deltas from the previous frame). User agents could do a poor job,
+  e.g. only showing key frames; however, better implementations would do more work and thus do a
+  better job, e.g. actually decoding parts of the video forwards, storing the complete frames, and
+  then playing the frames backwards.&lt;/p&gt;
 
-  &lt;p&gt;Similarly, while implementations are allowed to drop buffered
-  data at any time (there is no requirement that a user agent keep all
-  the media data obtained for the lifetime of the media element), it
-  is again a quality of implementation issue: user agents with
-  sufficient resources to keep all the data around are encouraged to
-  do so, as this allows for a better user experience. For example, if
-  the user is watching a live stream, a user agent could allow the
-  user only to view the live video; however, a better user agent would
-  buffer everything and allow the user to seek through the earlier
-  material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
+  &lt;p&gt;Similarly, while implementations are allowed to drop buffered data at any time (there is no
+  requirement that a user agent keep all the media data obtained for the lifetime of the media
+  element), it is again a quality of implementation issue: user agents with sufficient resources to
+  keep all the data around are encouraged to do so, as this allows for a better user experience. For
+  example, if the user is watching a live stream, a user agent could allow the user only to view the
+  live video; however, a better user agent would buffer everything and allow the user to seek
+  through the earlier material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
 
-  &lt;p&gt;When multiple tracks are synchronised with a
-  &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, it is possible for scripts to add and
-  remove media elements from the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s list
-  of &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, even while these tracks are
-  playing. How smoothly the media plays back in such situations is
-  another quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;When multiple tracks are synchronised with a &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, it is possible for
+  scripts to add and remove media elements from the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s list of
+  &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, even while these tracks are playing. How smoothly the media
+  plays back in such situations is another quality-of-implementation issue.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt; that is paused is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a document&quot;&gt;removed from a
-  document&lt;/a&gt; and not reinserted before the next time the
-  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; spins, implementations that are resource
-  constrained are encouraged to take that opportunity to release all
-  hardware resources (like video planes, networking resources, and
-  data buffers) used by the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (User agents
-  still have to keep track of the playback position and so forth,
-  though, in case playback is later restarted.)&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt; that is paused is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a
+  document&quot;&gt;removed from a document&lt;/a&gt; and not reinserted before the next time the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; spins, implementations that are resource constrained are encouraged to take that
+  opportunity to release all hardware resources (like video planes, networking resources, and data
+  buffers) used by the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (User agents still have to keep track of the
+  playback position and so forth, though, in case playback is later restarted.)&lt;/p&gt;
 
   &lt;/div&gt;
   
@@ -37509,15 +37422,15 @@
   instructions to the &lt;a href=#scratch-bitmap&gt;scratch bitmap&lt;/a&gt;'s &lt;a href=#list-of-pending-interface-actions&gt;list of pending interface actions&lt;/a&gt;
   that run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
-   rectangle of the bounding box of the intended path.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the rectangle of the bounding box of
+   the intended path.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
-   element that is a rendered child of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical element that is a rendered child
+   of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
    rectangle&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into
+   view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the caret or selection (or both)
    cover &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; of the canvas. If the
@@ -37525,17 +37438,14 @@
    until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches its &quot;update the rendering&quot; step to
    optionally inform the user.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=note id=inform&gt;&quot;Inform the user&quot;, as used in this
-  section, could mean calling a system accessibility API, which would
-  notify assistive technologies such as magnification tools. To
-  properly drive magnification based on a focus change, a system
-  accessibility API driving a screen magnifier needs the bounds for
-  the newly focused object. The methods above are intended to enable
-  this by allowing the user agent to report the bounding box of the
-  path used to render the focus ring as the bounds of the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
-  element is focused, and the bounding box of the area to which the
-  user agent is scrolling as the bounding box of the current
-  selection.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p class=note id=inform&gt;&quot;Inform the user&quot;, as used in this section, could mean calling a
+  system accessibility API, which would notify assistive technologies such as magnification tools.
+  To properly drive magnification based on a focus change, a system accessibility API driving a
+  screen magnifier needs the bounds for the newly focused object. The methods above are intended to
+  enable this by allowing the user agent to report the bounding box of the path used to render the
+  focus ring as the bounds of the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
+  element is focused, and the bounding box of the area to which the user agent is scrolling as the
+  bounding box of the current selection.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-clip title=dom-context-2d-clip&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt; method must create a new
   &lt;dfn id=clipping-region&gt;clipping region&lt;/dfn&gt; by calculating the intersection of the current clipping region and the
@@ -37543,9 +37453,8 @@
   be implicitly closed when computing the clipping region, without affecting the actual subpaths.
   The new clipping region replaces the current clipping region.&lt;/p&gt;
 
-  &lt;p&gt;When the context is initialized, the clipping region must be set
-  to the rectangle with the top left corner at (0,0) and the width and
-  height of the coordinate space.&lt;/p&gt;
+  &lt;p&gt;When the context is initialized, the clipping region must be set to the rectangle with the top
+  left corner at (0,0) and the width and height of the coordinate space.&lt;/p&gt;
 
   &lt;!-- v6
    Jordan OSETE suggests:
@@ -68883,110 +68792,97 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has a &lt;dfn id=concept-document-salvageable title=concept-document-salvageable&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt;
-  state, which must initially be true, a &lt;dfn id=fired-unload&gt;fired unload&lt;/dfn&gt; flag,
-  which must initially be false, and a &lt;dfn id=page-showing&gt;page showing&lt;/dfn&gt; flag,
-  which must initially be false.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has a &lt;dfn id=concept-document-salvageable title=concept-document-salvageable&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt; state, which must initially be
+  true, a &lt;dfn id=fired-unload&gt;fired unload&lt;/dfn&gt; flag, which must initially be false, and a &lt;dfn id=page-showing&gt;page showing&lt;/dfn&gt;
+  flag, which must initially be false.&lt;/p&gt;
 
-  &lt;p&gt;&lt;a href=#event-loop title=&quot;event loop&quot;&gt;Event loops&lt;/a&gt; have a
-  &lt;dfn id=termination-nesting-level&gt;termination nesting level&lt;/dfn&gt; counter, which must initially
-  be zero.&lt;/p&gt;
+  &lt;p&gt;&lt;a href=#event-loop title=&quot;event loop&quot;&gt;Event loops&lt;/a&gt; have a &lt;dfn id=termination-nesting-level&gt;termination nesting level&lt;/dfn&gt;
+  counter, which must initially be zero.&lt;/p&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn id=prompt-to-unload-a-document&gt;prompt to unload a document&lt;/dfn&gt;,
-  it must run the following steps.&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=prompt-to-unload-a-document&gt;prompt to unload a document&lt;/dfn&gt;, it must run the following
+  steps.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; be a new &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt;
    &lt;code&gt;&lt;a href=#beforeunloadevent&gt;BeforeUnloadEvent&lt;/a&gt;&lt;/code&gt; event object with the name &lt;code title=event-beforeunload&gt;beforeunload&lt;/code&gt;, which does not bubble but is cancelable.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Dispatch&lt;/i&gt;: &lt;a href=#concept-event-dispatch title=concept-event-dispatch&gt;Dispatch&lt;/a&gt; &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;dispatch&lt;/i&gt; step, then set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;dispatch&lt;/i&gt; step, then set the
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
    false.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt;
-    attribute of the &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty
-    string, or if the event was canceled, then the user agent should
-    ask the user to confirm that they wish to unload the document.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt; attribute of the
+    &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty string, or if the event was canceled, then the
+    user agent should ask the user to confirm that they wish to unload the document.&lt;/p&gt;
 
-    &lt;p&gt;The prompt shown by the user agent may include the string of
-    the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt;
-    attribute, or some leading subset thereof. (A user agent may want
-    to truncate the string to 1024 characters for display, for
+    &lt;p&gt;The prompt shown by the user agent may include the string of the &lt;code title=dom-BeforeUnloadEvent-returnValue&gt;&lt;a href=#dom-beforeunloadevent-returnvalue&gt;returnValue&lt;/a&gt;&lt;/code&gt; attribute, or some leading subset
+    thereof. (A user agent may want to truncate the string to 1024 characters for display, for
     instance.)&lt;/p&gt;
 
-    &lt;p&gt;The user agent must &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for the
-    user's response.&lt;/p&gt;
+    &lt;p&gt;The user agent must &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for the user's response.&lt;/p&gt;
 
-    &lt;p&gt;If the user did not confirm the page navigation, then the user
-    agent &lt;dfn id=refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
+    &lt;p&gt;If the user did not confirm the page navigation, then the user agent &lt;dfn id=refused-to-allow-the-document-to-be-unloaded&gt;refused to allow
+    the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;prompt to unload a document&quot; algorithm (i.e. through the steps
-   below that invoke this algorithm for all descendant browsing
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;prompt to unload a document&quot;
+   algorithm (i.e. through the steps below that invoke this algorithm for all descendant browsing
    contexts), then jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the
-   descendant browsing contexts&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the descendant browsing
+   contexts&lt;/a&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;a href=#browsing-context&gt;browsing
+    context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#prompt-to-unload-a-document title=&quot;prompt to unload a document&quot;&gt;Prompt to
-     unload&lt;/a&gt; the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
-     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
-     &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/a&gt;, then
-     the user implicitly also &lt;a href=#refused-to-allow-the-document-to-be-unloaded title=&quot;refused to allow the
-     document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document
-     to be unloaded&lt;/a&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#prompt-to-unload-a-document title=&quot;prompt to unload a document&quot;&gt;Prompt to unload&lt;/a&gt; the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
+     &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be unloaded&lt;/a&gt;, then the user implicitly also &lt;a href=#refused-to-allow-the-document-to-be-unloaded title=&quot;refused to allow the document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document to
+     be unloaded&lt;/a&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload
+   counter&lt;/a&gt; by one.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When a user agent is to &lt;dfn id=unload-a-document&gt;unload a document&lt;/dfn&gt;, it must run
-  the following steps. These steps are passed an argument, &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false, indicating
-  whether the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is going to be
-  re-used. (This is set by the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; method.)&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;When a user agent is to &lt;dfn id=unload-a-document&gt;unload a document&lt;/dfn&gt;, it must run the following steps. These
+  steps are passed an argument, &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false,
+  indicating whether the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is going to be re-used. (This is set by the
+  &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; method.)&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Increase the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ignore-opens-during-unload-counter&gt;ignore-opens-during-unload counter&lt;/a&gt; by
+   one.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt;
-   flag is false, then jump to the step labeled &lt;i&gt;unload event&lt;/i&gt;
-   below (i.e. skip firing the &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; even and don't rerun the
-   &lt;a href=#unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/a&gt;).&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt; flag is false, then jump to the
+   step labeled &lt;i&gt;unload event&lt;/i&gt; below (i.e. skip firing the &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; even and don't rerun the &lt;a href=#unloading-document-visibility-change-steps&gt;unloading document
+   visibility change steps&lt;/a&gt;).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt;
-   flag to false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#page-showing&gt;page showing&lt;/a&gt; flag to false.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-pagehide&gt;&lt;a href=#event-pagehide&gt;pagehide&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the
@@ -68997,59 +68893,51 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Run any &lt;dfn id=unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/dfn&gt;
-    for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are defined by &lt;a href=#other-applicable-specifications&gt;other
-    applicable specifications&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Run any &lt;dfn id=unloading-document-visibility-change-steps&gt;unloading document visibility change steps&lt;/dfn&gt; for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that
+    are defined by &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;This is specifically intended for use by the Page
-    Visibility specification. &lt;a href=#refsPAGEVIS&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
+    &lt;p class=note&gt;This is specifically intended for use by the Page Visibility specification. &lt;a href=#refsPAGEVIS&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-   &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag is false, &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; named &lt;code title=event-unload&gt;unload&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag is
+   false, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-unload&gt;unload&lt;/code&gt; at the
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination
-   nesting level&lt;/a&gt; by one.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; by
+   one.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;unload event&lt;/i&gt; step, then set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-   object's &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state to
-   false and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt;
-   flag to true.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;unload event&lt;/i&gt; step, then set
+   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt;
+   state to false and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#fired-unload&gt;fired unload&lt;/a&gt; flag to
+   true.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run any &lt;a href=#unloading-document-cleanup-steps&gt;unloading document cleanup steps&lt;/a&gt; for
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are defined by this specification and
-   &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run any &lt;a href=#unloading-document-cleanup-steps&gt;unloading document cleanup steps&lt;/a&gt; for &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that are
+   defined by this specification and &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;unload a document&quot; algorithm (i.e. by the steps below that invoke
-   this algorithm for all descendant browsing contexts), then jump to
-   the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;unload a document&quot; algorithm
+   (i.e. by the steps below that invoke this algorithm for all descendant browsing contexts), then
+   jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the
-   descendant browsing contexts&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;a href=#list-of-the-descendant-browsing-contexts&gt;list of the descendant browsing
+   contexts&lt;/a&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;a href=#browsing-context&gt;browsing
+    context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#unload-a-document title=&quot;unload a document&quot;&gt;Unload&lt;/a&gt; the
-     &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
-     &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#unload-a-document title=&quot;unload a document&quot;&gt;Unload&lt;/a&gt; the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
      parameter set to false.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of the &lt;a href=#active-document&gt;active
+     document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=concept-document-salvageable&gt;&lt;a href=#concept-document-salvageable&gt;salvageable&lt;/a&gt;&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
@@ -71856,51 +71744,44 @@
 
   &lt;h5 id=definitions-1&gt;&lt;span class=secno&gt;7.1.4.1 &lt;/span&gt;Definitions&lt;/h5&gt;
 
-  &lt;p&gt;To coordinate events, user interaction, scripts, rendering,
-  networking, and so forth, user agents must use &lt;dfn id=event-loop title=&quot;event
-  loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
+  &lt;p&gt;To coordinate events, user interaction, scripts, rendering, networking, and so forth, user
+  agents must use &lt;dfn id=event-loop title=&quot;event loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
 
-  &lt;p&gt;There must be at least one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per user
-  agent, and at most one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of
-  related similar-origin browsing contexts&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;There must be at least one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; per user agent, and at most one &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; per &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;When there is more than one &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-  for a &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt;, complications
-  arise when a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; in that group is &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; such that it switches from one
-  &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; to
-  another. This specification does not currently describe how to
-  handle these complications.&lt;/p&gt;
+  &lt;p class=note&gt;When there is more than one &lt;a href=#event-loop&gt;event loop&lt;/a&gt; for a &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related
+  browsing contexts&lt;/a&gt;, complications arise when a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; in that group
+  is &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; such that it switches from one &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related
+  similar-origin browsing contexts&lt;/a&gt; to another. This specification does not currently describe
+  how to handle these complications.&lt;/p&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; always has at least one &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt;. If an &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; all go away, then
-  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; goes away as well. A &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; always has an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; coordinating
-  its activities.&lt;/p&gt;
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; always has at least one &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;. If an
+  &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; all go away,
+  then the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; goes away as well. A &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; always has an
+  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; coordinating its activities.&lt;/p&gt;
 
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has one or more &lt;dfn id=task-queue title=&quot;task queue&quot;&gt;task queues&lt;/dfn&gt;. A
+  &lt;a href=#task-queue&gt;task queue&lt;/a&gt; is an ordered list of &lt;dfn id=concept-task title=concept-task&gt;tasks&lt;/dfn&gt;, which can
+  be:&lt;/p&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has one or more &lt;dfn id=task-queue title=&quot;task
-  queue&quot;&gt;task queues&lt;/dfn&gt;. A &lt;a href=#task-queue&gt;task queue&lt;/a&gt; is an ordered
-  list of &lt;dfn id=concept-task title=concept-task&gt;tasks&lt;/dfn&gt;, which can be:&lt;/p&gt;
-
   &lt;dl&gt;&lt;dt&gt;Events&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt; object at a
-    particular &lt;code&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt; object is a task.&lt;/p&gt;
+    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt; object at a particular
+    &lt;code&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt; object is a task.&lt;/p&gt;
 
-    &lt;p class=note&gt;Not all events are dispatched using the &lt;a href=#task-queue&gt;task
-    queue&lt;/a&gt;, many are dispatched synchronously during other
-    tasks.&lt;/p&gt;
+    &lt;p class=note&gt;Not all events are dispatched using the &lt;a href=#task-queue&gt;task queue&lt;/a&gt;, many are
+    dispatched synchronously during other tasks.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
    &lt;dt&gt;Parsing&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; tokenizing one or more bytes,
-   and then processing any resulting tokens, is typically a
-   task.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; tokenizing one or more bytes, and then processing any
+   resulting tokens, is typically a task.&lt;/dd&gt;
 
 
    &lt;dt&gt;Callbacks&lt;/dt&gt;
@@ -71910,81 +71791,64 @@
 
    &lt;dt&gt;Using a resource&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;a href=#fetch title=fetch&gt;fetches&lt;/a&gt; a
-   resource, if the fetching occurs asynchronously then the processing
-   of the resource once some or all of the resource is available is a
-   task.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;a href=#fetch title=fetch&gt;fetches&lt;/a&gt; a resource, if the fetching occurs
+   asynchronously then the processing of the resource once some or all of the resource is available
+   is a task.&lt;/dd&gt;
 
 
    &lt;dt&gt;Reacting to DOM manipulation&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM
-   manipulation, e.g. when that element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an
-   element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
+   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM manipulation, e.g. when that
+   element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the
-  given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;
-  of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from one
-  particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by
-  timers, the events fired for mouse movements, the tasks queued for
-  the parser) must always be added to the same &lt;a href=#task-queue&gt;task
-  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task
-  source&quot;&gt;task sources&lt;/a&gt; may be placed in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from
+  one particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
+  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;a href=#task-queue&gt;task
+  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed
+  in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=example&gt;For example, a user agent could have one
-  &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and key events (the &lt;a href=#user-interaction-task-source&gt;user
-  interaction task source&lt;/a&gt;), and another for everything
-  else. The user agent could then give keyboard and mouse events
-  preference over other tasks three quarters of the time, keeping the
-  interface responsive but not starving other task queues, and never
-  processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of
-  order.&lt;/p&gt;
+  &lt;p class=example&gt;For example, a user agent could have one &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and
+  key events (the &lt;a href=#user-interaction-task-source&gt;user interaction task source&lt;/a&gt;), and another for everything else. The
+  user agent could then give keyboard and mouse events preference over other tasks three quarters of
+  the time, keeping the interface responsive but not starving other task queues, and never
+  processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of
-  an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
-  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in
-  the context of an element, then it is the element's
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt; at the time the task
-  was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the
-  &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt;
+  onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
+  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of an element, then
+  it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt; at the time the task was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is
-  used to control access to shared state like cookies. At any one
-  point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or owned by a
-  particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
+  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
+  shared state like cookies. At any one point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or
+  owned by a particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
 
-  &lt;p&gt;If a user agent does not implement a &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;,
-  it is exempt from implementing the requirements that require it to
-  acquire or release it.&lt;/p&gt;
+  &lt;p&gt;If a user agent does not implement a &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;, it is exempt from implementing
+  the requirements that require it to acquire or release it.&lt;/p&gt;
 
-  &lt;p class=note&gt;User agent implementors have to make a choice
-  between two evils. On the one hand, not implementing the storage
-  mutex means that there is a risk of data corruption: a site could,
-  for instance, try to read a cookie, increment its value, then write
-  it back out, using the new value of the cookie as a unique
-  identifier for the session; if the site does this twice in two
-  different browser windows at the same time, it might end up using
-  the same &quot;unique&quot; identifier for both sessions, with potentially
-  disastrous effects. On the other hand, implementing the storage
-  mutex has potentially serious performance implications: whenever a
-  site uses Web Storage or cookies, all other sites that try to use
-  Web Storage or cookies are blocked until the first site finishes.&lt;/p&gt;
+  &lt;p class=note&gt;User agent implementors have to make a choice between two evils. On the one hand,
+  not implementing the storage mutex means that there is a risk of data corruption: a site could,
+  for instance, try to read a cookie, increment its value, then write it back out, using the new
+  value of the cookie as a unique identifier for the session; if the site does this twice in two
+  different browser windows at the same time, it might end up using the same &quot;unique&quot; identifier for
+  both sessions, with potentially disastrous effects. On the other hand, implementing the storage
+  mutex has potentially serious performance implications: whenever a site uses Web Storage or
+  cookies, all other sites that try to use Web Storage or cookies are blocked until the first site
+  finishes.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; calls into
-  a &lt;a href=#plugin&gt;plugin&lt;/a&gt;, and whenever a &lt;a href=#plugin&gt;plugin&lt;/a&gt; calls into
-  a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, the user agent must
-  release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; calls into a &lt;a href=#plugin&gt;plugin&lt;/a&gt;, and
+  whenever a &lt;a href=#plugin&gt;plugin&lt;/a&gt; calls into a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, the user
+  agent must release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h5 id=processing-model-4&gt;&lt;span class=secno&gt;7.1.4.2 &lt;/span&gt;Processing model&lt;/h5&gt;
 
-  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must continually run through the
-  following steps for as long as it exists:&lt;/p&gt;
+  &lt;p&gt;An &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must continually run through the following steps for as long as it
+  exists:&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- if you add a step here, make sure to go through the spec updating references to the &quot;first
-   step&quot; of the event loop --&gt;&lt;li&gt;&lt;p&gt;Run the oldest &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; on one of the &lt;a href=#event-loop&gt;event
+   step&quot; or &quot;step 1&quot; of the event loop --&gt;&lt;li&gt;&lt;p&gt;Run the oldest &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; on one of the &lt;a href=#event-loop&gt;event
    loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, if any, ignoring tasks whose
    associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;. The user agent may pick any
    &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/li&gt;
@@ -72002,28 +71866,23 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#provide-a-stable-state&gt;Provide a stable state&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect
-   the current state.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect the current state.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=perform-a-microtask-checkpoint&gt;perform a microtask
-  checkpoint&lt;/dfn&gt;, if the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt;
-  flag is false, then the user agent must run the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=perform-a-microtask-checkpoint&gt;perform a microtask checkpoint&lt;/dfn&gt;, if the &lt;a href=#running-mutation-observers&gt;running
+  mutation observers&lt;/a&gt; flag is false, then the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be
-   true.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be true.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#sort-the-tables-with-pending-sorts&gt;Sort the tables with pending sorts&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;Invoke
-    &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/a&gt; for the &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit
-    of related similar-origin browsing contexts&lt;/a&gt; to which the
-    &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; belongs.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;Invoke &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/a&gt; for the
+    &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; to which the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's
+    browsing context&lt;/a&gt; belongs.&lt;/p&gt;
 
     &lt;p class=note&gt;This will typically invoke scripted callbacks, which calls the &lt;a href=#jump-to-a-code-entry-point&gt;jump to a
     code entry-point&lt;/a&gt; algorithm, which calls this &lt;a href=#perform-a-microtask-checkpoint&gt;perform a microtask checkpoint&lt;/a&gt;
@@ -72032,8 +71891,7 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be
-   false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let the &lt;a href=#running-mutation-observers&gt;running mutation observers&lt;/a&gt; flag be false.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When the user agent is to &lt;dfn id=provide-a-stable-state&gt;provide a stable state&lt;/dfn&gt;, if any asynchronously-running
   algorithms are &lt;dfn id=await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a stable state&lt;/dfn&gt;, then the user
@@ -72046,66 +71904,52 @@
   &lt;p class=note&gt;Steps in &lt;a href=#synchronous-section title=&quot;synchronous section&quot;&gt;synchronous sections&lt;/a&gt; are marked
   with &#8987;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When an algorithm says to &lt;dfn id=spin-the-event-loop&gt;spin the event loop&lt;/dfn&gt; until
-  a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run
-  the following steps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When an algorithm says to &lt;dfn id=spin-the-event-loop&gt;spin the event loop&lt;/dfn&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;a href=#task-source&gt;task
-   source&lt;/a&gt; of the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;a href=#task-source&gt;task source&lt;/a&gt; of the currently
+   running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Stop the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, allowing the &lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt; to resume, but continue these steps
-    asynchronously.&lt;/p&gt;
+    loop&lt;/a&gt; to resume, but continue these steps asynchronously.&lt;/p&gt;
 
-    &lt;p class=note&gt;This causes the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; to move on
-    to the second step of its processing model (defined above).&lt;/p&gt;
+    &lt;p class=note&gt;This causes the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; to move on to the second step of its
+    processing model (defined above).&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is
-   met.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to continue running these steps,
-   using the &lt;a href=#task-source&gt;task source&lt;/a&gt; &lt;var title=&quot;&quot;&gt;task
-   source&lt;/var&gt;. Wait until this task runs before continuing these
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to continue running these steps, using the &lt;a href=#task-source&gt;task
+   source&lt;/a&gt; &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt;. Wait until this task runs before continuing these
    steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Return to the caller.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the algorithms in this specification, for historical
-  reasons, require the user agent to &lt;dfn id=pause&gt;pause&lt;/dfn&gt; while running a
-  &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following
-  steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the algorithms in this specification, for historical reasons, require the user agent to
+  &lt;dfn id=pause&gt;pause&lt;/dfn&gt; while running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; until a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;a href=#await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a stable state&lt;/a&gt;, then
-   run their &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; and then resume running
-   their asynchronous algorithm. (See the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-   processing model definition above for details.)&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;a href=#await-a-stable-state title=&quot;await a stable state&quot;&gt;awaiting a
+   stable state&lt;/a&gt;, then run their &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; and then resume running
+   their asynchronous algorithm. (See the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; processing model definition above
+   for details.)&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect
-   the current state.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to reflect the current state.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.
-   While a user agent has a paused &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, the corresponding &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt; must not run further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;, and any script in the currently
-   running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must block. User
-   agents should remain responsive to user input while paused,
-   however, albeit in a reduced capacity since the &lt;a href=#event-loop&gt;event
-   loop&lt;/a&gt; will not be doing anything.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. While a user agent has a paused
+   &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, the corresponding &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must not run
+   further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;, and any script in the currently running &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must block. User agents should remain responsive to user input
+   while paused, however, albeit in a reduced capacity since the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not be
+   doing anything.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=obtain-the-storage-mutex&gt;obtain the storage mutex&lt;/dfn&gt; as
-  part of running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, it must
-  run through the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=obtain-the-storage-mutex&gt;obtain the storage mutex&lt;/dfn&gt; as part of running a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, it must run through the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is already owned by this
-   &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s &lt;a href=#event-loop&gt;event loop&lt;/a&gt;,
-   then abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is already owned by this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, then abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, &lt;a href=#pause&gt;pause&lt;/a&gt; until the &lt;a href=#storage-mutex&gt;storage
-   mutex&lt;/a&gt; can be taken by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Otherwise, &lt;a href=#pause&gt;pause&lt;/a&gt; until the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; can be taken by the
+   &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take ownership of the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -72116,17 +71960,15 @@
 
   &lt;h5 id=generic-task-sources&gt;&lt;span class=secno&gt;7.1.4.3 &lt;/span&gt;Generic task sources&lt;/h5&gt;
 
-  &lt;p&gt;The following &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; are
-  used by a number of mostly unrelated features in this and other
-  specifications.&lt;/p&gt;
+  &lt;p&gt;The following &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; are used by a number of mostly
+  unrelated features in this and other specifications.&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;The &lt;dfn id=dom-manipulation-task-source&gt;DOM manipulation task source&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react
-    to DOM manipulations, such as things that happen asynchronously
-    when an element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react to DOM manipulations, such as
+    things that happen asynchronously when an element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
     document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -72135,14 +71977,12 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react
-    to user interaction, for example keyboard or mouse input.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that react to user interaction, for
+    example keyboard or mouse input.&lt;/p&gt;
 
-    &lt;p&gt;Asynchronous events sent in response to user input (e.g. &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events) must be fired using
-    &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a
-    task&quot;&gt;queued&lt;/a&gt; with the &lt;a href=#user-interaction-task-source&gt;user interaction task
-    source&lt;/a&gt;. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
-    &lt;!-- user interaction events integration point --&gt;
+    &lt;p&gt;Asynchronous events sent in response to user input (e.g. &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events) must be fired using &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; with the &lt;a href=#user-interaction-task-source&gt;user
+    interaction task source&lt;/a&gt;. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user
+    interaction events integration point --&gt;
 
    &lt;/dd&gt;
 
@@ -72150,19 +71990,16 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that trigger
-    in response to network activity.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used for features that trigger in response to network
+    activity.&lt;/p&gt;
 
-    &lt;!-- XHR should use this --&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;The &lt;dfn id=history-traversal-task-source&gt;history traversal task source&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used to queue calls to &lt;code title=dom-history-back&gt;&lt;a href=#dom-history-back&gt;history.back()&lt;/a&gt;&lt;/code&gt; and similar
-    APIs.&lt;/p&gt;
+    &lt;p&gt;This &lt;a href=#task-source&gt;task source&lt;/a&gt; is used to queue calls to &lt;code title=dom-history-back&gt;&lt;a href=#dom-history-back&gt;history.back()&lt;/a&gt;&lt;/code&gt; and similar APIs.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73558,11 +73395,11 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-alert title=dom-alert&gt;&lt;code&gt;alert(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-alert title=dom-alert&gt;&lt;code&gt;alert(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when
+  invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73570,18 +73407,16 @@
    to ignore all alerts, and would thus abort at this step whenever the method was
    invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the
-   user.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for for the
-   user to acknowledge the message.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=#pause&gt;pause&lt;/a&gt; while waiting for for the user to acknowledge the
+   message.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-confirm title=dom-confirm&gt;&lt;code&gt;confirm(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-confirm title=dom-confirm&gt;&lt;code&gt;confirm(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method,
+  when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps, returning
-   false.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps, returning false.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73589,22 +73424,18 @@
    the user the option to ignore all prompts, and would thus abort at this step whenever the method
    was invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to respond with a positive or negative
-   response.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to respond with a
+   positive or negative response.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; until the user responds either positively
-   or negatively.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; until the user responds either positively or negatively.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise,
-   the user responded negatively: return false.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise, the user responded negatively:
+   return false.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-prompt title=dom-prompt&gt;&lt;code&gt;prompt(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-prompt title=dom-prompt&gt;&lt;code&gt;prompt(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting
-   level&lt;/a&gt; is non-zero, optionally abort these steps, returning
-   null.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#termination-nesting-level&gt;termination nesting level&lt;/a&gt; is non-zero,
+   optionally abort these steps, returning null.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;.&lt;/li&gt;
 
@@ -73612,16 +73443,14 @@
    user the option to ignore all prompts, and would thus abort at this step whenever the method was
    invoked.)&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to either respond with a string value or abort. The
-   second argument is optional. If the second argument (&lt;var title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be
-   defaulted to the value given by &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to either respond
+   with a string value or abort. The second argument is optional. If the second argument (&lt;var title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be defaulted to the value given by
+   &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; while waiting for the user's
-   response.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#pause&gt;Pause&lt;/a&gt; while waiting for the user's response.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the
-   string that the user responded with.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the string that the user responded
+   with.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;/div&gt;
 
@@ -73766,29 +73595,22 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the user agent is configured such that this invocation of
-    &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; is
-    somehow disabled, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the user agent is configured such that this invocation of &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; is somehow disabled, then return the empty
+    string and abort these steps.&lt;/p&gt;
 
-    &lt;p class=note&gt;User agents are expected to disable this method in
-    certain cases to avoid user annoyance (e.g. as part of their popup
-    blocker feature). For instance, a user agent could require that a
-    site be white-listed before enabling this method, or the user
-    agent could be configured to only allow one modal dialog at a
-    time.&lt;/p&gt;
+    &lt;p class=note&gt;User agents are expected to disable this method in certain cases to avoid user
+    annoyance (e.g. as part of their popup blocker feature). For instance, a user agent could
+    require that a site be white-listed before enabling this method, or the user agent could be
+    configured to only allow one modal dialog at a time.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt;
-    of the &lt;a href=#active-document&gt;active document&lt;/a&gt;
-    of the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    has its
-    &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary navigation browsing context flag&lt;/a&gt;
-    set, then return the empty string and abort these steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
+    &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary
+    navigation browsing context flag&lt;/a&gt; set, then return the empty string and abort these
+    steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73797,17 +73619,13 @@
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing
     contexts&lt;/var&gt; be a list of all the browsing contexts that:&lt;/p&gt;
 
-    &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing
-     contexts&lt;/a&gt; as the browsing context of the
-     &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was
-     called, and that&lt;/li&gt;
+    &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt; as the browsing context
+     of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called, and that&lt;/li&gt;
 
-     &lt;li&gt;have an &lt;a href=#active-document&gt;active document&lt;/a&gt; whose
-     &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt;
-     as the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method at
-     the time the method was called,&lt;/li&gt; &lt;!-- Note that changing
-     document.domain to talk to another domain doesn't make you able
-     to block that domain --&gt;
+     &lt;li&gt;have an &lt;a href=#active-document&gt;active document&lt;/a&gt; whose &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same
+     origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method at the time the method was
+     called,&lt;/li&gt; &lt;!-- Note that changing document.domain to talk to another domain doesn't make you
+     able to block that domain --&gt;
 
     &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any
     of the browsing contexts matching those conditions.&lt;/p&gt;
@@ -73816,105 +73634,87 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Disable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;. This
-    should prevent the user from navigating those browsing contexts,
-    causing events to be sent to those browsing context, or editing
-    any content in those browsing contexts. However, it does not
-    prevent those browsing contexts from receiving events from sources
-    other than the user, from running scripts, from running
-    animations, and so forth.&lt;/p&gt;
+    &lt;p&gt;Disable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;. This should prevent the user from navigating those browsing
+    contexts, causing events to be sent to those browsing context, or editing any content in those
+    browsing contexts. However, it does not prevent those browsing contexts from receiving events
+    from sources other than the user, from running scripts, from running animations, and so
+    forth.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Create a new &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;, with the
-    &lt;a href=#opener-browsing-context&gt;opener browsing context&lt;/a&gt; being the browsing context of
-    the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was
-    called. The new auxiliary browsing context has no name.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;, with the &lt;a href=#opener-browsing-context&gt;opener browsing
+    context&lt;/a&gt; being the browsing context of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called. The new auxiliary
+    browsing context has no name.&lt;/p&gt;
 
-    &lt;p class=note&gt;This &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s' &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects all implement
-    the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
+    &lt;p class=note&gt;This &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s' &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+    objects all implement the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Set all the flags
-    in the new browsing context's &lt;a href=#popup-sandboxing-flag-set&gt;popup sandboxing flag set&lt;/a&gt;
-    that are set in the
-    &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt;
-    of the &lt;a href=#active-document&gt;active document&lt;/a&gt;
-    of the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method.
-    The &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt;
-    of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    must be set as the new browsing context's
-    &lt;a href=#one-permitted-sandboxed-navigator&gt;one permitted sandboxed navigator&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Set all the flags in the new browsing context's &lt;a href=#popup-sandboxing-flag-set&gt;popup sandboxing flag set&lt;/a&gt; that
+    are set in the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method. The &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked
+    the method must be set as the new browsing context's &lt;a href=#one-permitted-sandboxed-navigator&gt;one permitted sandboxed
+    navigator&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; of the new browsing
-    context be set to the value of &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt;, or
-    the 'undefined' value if the argument was omitted.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; of the new browsing context be set to the value of &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt;, or the 'undefined' value if the argument was omitted.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/a&gt; be the
-    &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/a&gt; be the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that called the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new
-    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;
-    that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement
-    enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
-    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as
-    the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
+    the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as the &lt;a href=#source-browsing-context&gt;source browsing
+    context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the new &lt;a href=#browsing-context&gt;browsing
-    context&lt;/a&gt; is closed. (The user agent must allow the user to
-    indicate that the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is to be
+    &lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is closed. (The
+    user agent must allow the user to indicate that the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is to be
     closed.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Reenable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Reenable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Return the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s
-    &lt;a href=#return-value&gt;return value&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Return the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value&gt;return value&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects of &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s hosted
-  by &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; created
-  by the above algorithm must also implement the
+  &lt;/ol&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects of &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s hosted by &lt;a href=#browsing-context title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/a&gt; created by the above algorithm must also implement the
   &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;p class=note&gt;When this happens, the members of the
-  &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface, in JavaScript environments,
-  appear to actually be part of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface
-  (e.g. they are on the same prototype chain as the &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt; method).&lt;/p&gt;
+  &lt;p class=note&gt;When this happens, the members of the &lt;code&gt;&lt;a href=#windowmodal&gt;WindowModal&lt;/a&gt;&lt;/code&gt; interface, in
+  JavaScript environments, appear to actually be part of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface (e.g.
+  they are on the same prototype chain as the &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt;
+  method).&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -73927,8 +73727,7 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was
-    passed to the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was passed to the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73938,45 +73737,36 @@
 
     &lt;p&gt;Returns the current return value for the window.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the value that will be returned by the
-    &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt;
-    method.&lt;/p&gt;
+    &lt;p&gt;Can be set, to change the value that will be returned by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;Such browsing contexts have associated &lt;dfn id=dialog-arguments&gt;dialog
-  arguments&lt;/dfn&gt;, which are stored along with the &lt;dfn id=&quot;dialog-arguments'-origin&quot;&gt;dialog
-  arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method in the
-  algorithm above, when the browsing context is created, based on the
-  arguments provided to the method.&lt;/p&gt;
+  &lt;p&gt;Such browsing contexts have associated &lt;dfn id=dialog-arguments&gt;dialog arguments&lt;/dfn&gt;, which are stored along with
+  the &lt;dfn id=&quot;dialog-arguments'-origin&quot;&gt;dialog arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method in the algorithm above, when the
+  browsing context is created, based on the arguments provided to the method.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-windowmodal-dialogarguments title=dom-WindowModal-dialogArguments&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must check whether its browsing context's
-  &lt;a href=#active-document&gt;active document&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments'
-  origin&lt;/a&gt;. If it is, then the browsing context's &lt;a href=#dialog-arguments&gt;dialog
-  arguments&lt;/a&gt; must be returned unchanged. Otherwise, if the
-  &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are an object, then the empty string
-  must be returned, and if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are not
-  an object, then the stringification of the &lt;a href=#dialog-arguments&gt;dialog
-  arguments&lt;/a&gt; must be returned.
+  &lt;p&gt;The &lt;dfn id=dom-windowmodal-dialogarguments title=dom-WindowModal-dialogArguments&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute, on getting, must check whether its browsing context's &lt;a href=#active-document&gt;active document&lt;/a&gt;'s
+  &lt;a href=#origin&gt;origin&lt;/a&gt; is the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=&quot;#dialog-arguments'-origin&quot;&gt;dialog arguments'
+  origin&lt;/a&gt;. If it is, then the browsing context's &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; must be
+  returned unchanged. Otherwise, if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are an object, then the empty
+  string must be returned, and if the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; are not an object, then the
+  stringification of the &lt;a href=#dialog-arguments&gt;dialog arguments&lt;/a&gt; must be returned.
 
-  &lt;p&gt;These browsing contexts also have an associated &lt;dfn id=return-value&gt;return
-  value&lt;/dfn&gt;. The &lt;a href=#return-value&gt;return value&lt;/a&gt; of a browsing context
-  must be initialized to the empty string when the browsing context is
-  created.&lt;/p&gt;
+  &lt;p&gt;These browsing contexts also have an associated &lt;dfn id=return-value&gt;return value&lt;/dfn&gt;. The &lt;a href=#return-value&gt;return
+  value&lt;/a&gt; of a browsing context must be initialized to the empty string when the browsing
+  context is created.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-windowmodal-returnvalue title=dom-WindowModal-returnValue&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return the &lt;a href=#return-value&gt;return value&lt;/a&gt;
-  of its browsing context, and on setting, must set the &lt;a href=#return-value&gt;return
-  value&lt;/a&gt; to the given new value.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-windowmodal-returnvalue title=dom-WindowModal-returnValue&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt; IDL attribute, on
+  getting, must return the &lt;a href=#return-value&gt;return value&lt;/a&gt; of its browsing context, and on setting, must
+  set the &lt;a href=#return-value&gt;return value&lt;/a&gt; to the given new value.&lt;/p&gt;
 
   &lt;/div&gt;
 
   &lt;p class=note&gt;The &lt;code title=dom-window-close&gt;&lt;a href=#dom-window-close&gt;window.close()&lt;/a&gt;&lt;/code&gt; method can be used to
   close the browsing context.&lt;/p&gt;
-&lt;!--TOPIC:HTML--&gt;
 
 
 &lt;!--TOPIC:DOM APIs--&gt;
@@ -73986,12 +73776,10 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-navigator title=dom-navigator&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface, which represents
-  the identity and state of the user agent (the client), and allows
-  Web pages to register themselves as potential protocol and content
-  handlers:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-navigator title=dom-navigator&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt; attribute of the
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an instance of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface,
+  which represents the identity and state of the user agent (the client), and allows Web pages to
+  register themselves as potential protocol and content handlers:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74013,9 +73801,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;These interfaces are defined separately so that other
-  specifications can re-use parts of the &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt;
-  interface.&lt;/p&gt;
+  &lt;p&gt;These interfaces are defined separately so that other specifications can re-use parts of the
+  &lt;code&gt;&lt;a href=#navigator&gt;Navigator&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74787,11 +74574,10 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-   &lt;p&gt;The &lt;dfn id=dom-navigator-yieldforstorageupdates title=dom-navigator-yieldForStorageUpdates&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt;
-   method, when invoked, must, if the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is
-   owned by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; of the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that resulted in the method being
-   called, release the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; so that it is once
-   again free. Otherwise, it must do nothing.&lt;/p&gt;
+   &lt;p&gt;The &lt;dfn id=dom-navigator-yieldforstorageupdates title=dom-navigator-yieldForStorageUpdates&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt; method,
+   when invoked, must, if the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is owned by the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; of
+   the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that resulted in the method being called, release the
+   &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; so that it is once again free. Otherwise, it must do nothing.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -74800,10 +74586,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-external title=dom-external&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;&lt;a href=#external&gt;External&lt;/a&gt;&lt;/code&gt; interface. The same object
-  must be returned each time.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-external title=dom-external&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt; attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  interface must return an instance of the &lt;code&gt;&lt;a href=#external&gt;External&lt;/a&gt;&lt;/code&gt; interface. The same object must be
+  returned each time.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -80083,38 +79868,32 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-workerglobalscope-ononline title=handler-WorkerGlobalScope-ononline&gt;ononline&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-self title=dom-WorkerGlobalScope-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object itself.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-self title=dom-WorkerGlobalScope-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute must return the
+  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object itself.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-location title=dom-WorkerGlobalScope-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; object created
-  for the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object when the worker was
-  created. It represents the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of the script
-  that was used to initialize the worker, after any redirects.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-workerglobalscope-location title=dom-WorkerGlobalScope-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; object created for the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
+  object when the worker was created. It represents the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of the script that
+  was used to initialize the worker, after any redirects.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-close title=dom-WorkerGlobalScope-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent
-  must run the following steps (atomically):&lt;/p&gt;
+  method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent must run the following steps
+  (atomically):&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Discard any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that
-   have been added to the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Discard any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that have been added to the
+   &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
-   &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
-   &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true. (This prevents any further tasks from being queued.)&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true. (This prevents any further
+   tasks from being queued.)&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  objects implementing the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
-  interface:&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by objects implementing the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;!-- v2-onclose    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-WorkerGlobalScope-onclose&quot;&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; --&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-workerglobalscope-onerror title=handler-WorkerGlobalScope-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-error&gt;error&lt;/code&gt;
@@ -80223,191 +80002,159 @@
 
   &lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;The event loop&lt;/h4&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event
-  loop&lt;/a&gt; distinct from those defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of
-  related similar-origin browsing contexts&quot;&gt;units of related
-  similar-origin browsing contexts&lt;/a&gt;. This &lt;a href=#event-loop&gt;event
-  loop&lt;/a&gt; has no associated &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and its
-  &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; only have events,
-  callbacks, and networking activity as &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;. The processing model of these
-  &lt;a href=#event-loop title=&quot;event loop&quot;&gt;event loops&lt;/a&gt; is defined below in the
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; distinct from those
+  defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of related similar-origin browsing contexts&quot;&gt;units of related
+  similar-origin browsing contexts&lt;/a&gt;. This &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has no associated
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and its &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; only have
+  events, callbacks, and networking activity as &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;. The
+  processing model of these &lt;a href=#event-loop title=&quot;event loop&quot;&gt;event loops&lt;/a&gt; is defined below in the
   &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object also has a &lt;dfn id=dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/dfn&gt; flag, which must
-  initially be false, but which can get set to true by the algorithms
-  in the processing model section below.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object also has a &lt;dfn id=dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/dfn&gt; flag, which must initially be false, but which
+  can get set to true by the algorithms in the processing model section below.&lt;/p&gt;
 
-  &lt;p&gt;Once the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to
-  true, the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
-  queues&lt;/a&gt; must discard any further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that would be added to them (tasks
-  already on the queue are unaffected except where otherwise
-  specified). Effectively, once the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is true,
-  timers stop firing, notifications for all pending asynchronous
-  operations are dropped, etc.&lt;/p&gt;
+  &lt;p&gt;Once the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true, the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; must discard any further &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that would be added to them (tasks already on the queue are
+  unaffected except where otherwise specified). Effectively, once the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is true, timers stop firing,
+  notifications for all pending asynchronous operations are dropped, etc.&lt;/p&gt;
 
 
 
   &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
 
-  &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
+  &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing
+  contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
   &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global
-  scope&lt;/var&gt; has a list of &lt;dfn id=&quot;the-worker's-ports&quot;&gt;the worker's ports&lt;/dfn&gt;, which
-  consists of all the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects that are
-  entangled with another port and that have one (but only one) port
-  owned by &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. This list includes
-  &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in events
-  pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out
-  because in practice it makes no difference either way as far as I
-  can tell, and it would be hard to strictly implement since these
-  ports might not yet be across the thread boundary)--&gt; the implicit
-  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; in the case of &lt;a href=#dedicatedworkerglobalscope title=DedicatedWorkerGlobalScope&gt;dedicated workers&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; has a list of
+  &lt;dfn id=&quot;the-worker's-ports&quot;&gt;the worker's ports&lt;/dfn&gt;, which consists of all the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects that are
+  entangled with another port and that have one (but only one) port owned by &lt;var title=&quot;&quot;&gt;worker
+  global scope&lt;/var&gt;. This list includes &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in
+  events pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out because in practice it
+  makes no difference either way as far as I can tell, and it would be hard to strictly implement
+  since these ports might not yet be across the thread boundary)--&gt; the implicit
+  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; in the case of &lt;a href=#dedicatedworkerglobalscope title=DedicatedWorkerGlobalScope&gt;dedicated
+  workers&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-workers&quot;&gt;the
-  worker's workers&lt;/dfn&gt;. Initially this list is empty; it is
-  populated when the worker creates or obtains further workers.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-workers&quot;&gt;the worker's workers&lt;/dfn&gt;.
+  Initially this list is empty; it is populated when the worker creates or obtains further
+  workers.&lt;/p&gt;
 
-  &lt;p&gt;Finally, each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of
-  &lt;dfn id=&quot;the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list
-  is empty; it is populated when the worker is created.&lt;/p&gt;
+  &lt;p&gt;Finally, each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; also has a list of &lt;dfn id=&quot;the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list is empty; it is populated when the worker is
+  created.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn id=&quot;add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's documents&quot;&gt;added to the
-  worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for each
-  worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's
-  workers&lt;/a&gt; whose list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; does not contain &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;a href=&quot;#add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's
-  documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;q&lt;/var&gt;'s
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt; &lt;!-- suggestions welcome
-  on making this sentence into understandable English --&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn id=&quot;add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the
+  worker's documents&quot;&gt;added to the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for
+  each worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; whose list of
+  &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; does not contain &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;a href=&quot;#add-a-document-to-the-worker's-documents&quot; title=&quot;add a document to the worker's documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;q&lt;/var&gt;'s &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt; &lt;!-- suggestions welcome on making this sentence into
+  understandable English --&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is &lt;a href=#discard-a-document title=&quot;discard a
-  Document&quot;&gt;discarded&lt;/a&gt;, it must be removed from the list of
-  &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; of each worker
-  whose list contains that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object is &lt;a href=#discard-a-document title=&quot;discard a Document&quot;&gt;discarded&lt;/a&gt;,
+  it must be removed from the list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; of each
+  worker whose list contains that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Given a &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;
-  when creating or obtaining a worker, the &lt;dfn id=list-of-relevant-document-objects-to-add&gt;list of relevant
-  &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type of
-  &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. if we are creating a
-  nested worker), then the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list
-  of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, and the relevant
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is just the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is the
-  &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;Given a &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; when creating or obtaining a
+  worker, the &lt;dfn id=list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type
+  of &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object
+  (i.e. if we are creating a nested worker), then the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s are the
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object,
+  and the relevant &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is just the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is the &lt;a href=#active-document&gt;active
+  document&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;A worker is said to be a &lt;dfn id=permissible-worker&gt;permissible worker&lt;/dfn&gt; if its
-  list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; is not
-  empty.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;A worker is said to be a &lt;dfn id=permissible-worker&gt;permissible worker&lt;/dfn&gt; if its list of &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; is not empty.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn id=protected-worker&gt;protected worker&lt;/dfn&gt; if it is a
-  &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt; and either it has outstanding
-  timers, database transactions, or network connections, or its list
-  of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt; is not empty, or its
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; is actually a
-  &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a
-  shared worker).&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn id=protected-worker&gt;protected worker&lt;/dfn&gt; if it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;
+  and either it has outstanding timers, database transactions, or network connections, or its list
+  of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt; is not empty, or its &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; is actually
+  a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a shared worker).&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be an &lt;dfn id=active-needed-worker&gt;active needed worker&lt;/dfn&gt; if any
-  of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects in &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; are &lt;a href=#fully-active&gt;fully active&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be an &lt;dfn id=active-needed-worker&gt;active needed worker&lt;/dfn&gt; if any of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+  objects in &lt;a href=&quot;#the-worker's-documents&quot;&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/a&gt; are &lt;a href=#fully-active&gt;fully active&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn id=suspendable-worker&gt;suspendable worker&lt;/dfn&gt; if it is
-  not an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; but it is a
-  &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn id=suspendable-worker&gt;suspendable worker&lt;/dfn&gt; if it is not an &lt;a href=#active-needed-worker&gt;active needed
+  worker&lt;/a&gt; but it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with
-  &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an
-  &lt;a href=#origin&gt;origin&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with
-  global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an &lt;a href=#origin&gt;origin&lt;/a&gt; &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it
+  must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
-    &lt;p&gt;Create a separate parallel execution environment (i.e. a
-    separate thread or process or equivalent construct), and run the
-    rest of these steps asynchronously in that context.&lt;/p&gt;
+    &lt;p&gt;Create a separate parallel execution environment (i.e. a separate thread or process or
+    equivalent construct), and run the rest of these steps asynchronously in that context.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a
-   shared worker), and there are any &lt;a href=#relevant-application-cache title=&quot;relevant application
-   cache&quot;&gt;relevant application caches&lt;/a&gt; that are identified by a
-   manifest URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of
-   their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;, then associate the
-   &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; with the &lt;a href=#concept-appcache-selection title=concept-appcache-selection&gt;most appropriate application
+   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a shared worker), and there are
+   any &lt;a href=#relevant-application-cache title=&quot;relevant application cache&quot;&gt;relevant application caches&lt;/a&gt; that are
+   identified by a manifest URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and
+   that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked
+   as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;, then associate the &lt;var title=&quot;&quot;&gt;worker
+   global scope&lt;/var&gt; with the &lt;a href=#concept-appcache-selection title=concept-appcache-selection&gt;most appropriate application
    cache&lt;/a&gt; of those that match.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; the resource
-    identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, from the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt; as the &lt;a href=#referrer-source&gt;referrer source&lt;/a&gt;, with the
-    &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin flag&lt;/i&gt;
-    set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward
-    to CORS) --&gt;
+    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; the resource identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;,
+    from the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt; as the
+    &lt;a href=#referrer-source&gt;referrer source&lt;/a&gt;, with the &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin
+    flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward to CORS) --&gt;
 
-    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; or
-    &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; object associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-    &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at that object. Abort these
+    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; object
+    associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire
+    a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at that object. Abort these
     steps.&lt;/p&gt;
 
-    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be
-    the script resource &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error
-    handling&lt;/a&gt;.
+    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the script resource
+    &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error handling&lt;/a&gt;.
     &lt;/p&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-    &lt;p class=note&gt;As with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, the MIME
-    type of the script is ignored. Unlike with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;
-    elements, there is no way to override the type. It's always
+    &lt;p class=note&gt;As with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, the MIME type of the script is ignored.
+    Unlike with &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements, there is no way to override the type. It's always
     assumed to be JavaScript.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
-   &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; whose &lt;i&gt;global
-   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this is a
-   &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a
-   &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;. (In either case, by
-   definition, it is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.)&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a &lt;a href=#javascript-global-environment&gt;JavaScript global
+   environment&lt;/a&gt; whose &lt;i&gt;global object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this
+   is a &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global
+   scope&lt;/var&gt; is a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a &lt;a href=#shared-worker-environment&gt;shared worker
+   environment&lt;/a&gt;. (In either case, by definition, it is a &lt;a href=#worker-environment&gt;worker
+   environment&lt;/a&gt;.)&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now
-    created, as follows.&lt;/p&gt;
+    &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now created, as follows.&lt;/p&gt;
 
-    &lt;p&gt;Create a new &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt;
-    set up as appropriate for the scripting language &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt; set up as appropriate for the
+    scripting language &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that
-    &lt;a href=#script-execution-environment&gt;script execution environment&lt;/a&gt;, as appropriate for &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a &lt;a href=#list-of-code-entry-points&gt;list of code
-    entry-points&lt;/a&gt;; set the &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt; to
-    the entry-point for any executable code to be immediately run.&lt;/p&gt;
+    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that &lt;a href=#script-execution-environment&gt;script execution
+    environment&lt;/a&gt;, as appropriate for &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a
+    &lt;a href=#list-of-code-entry-points&gt;list of code entry-points&lt;/a&gt;; set the &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt; to the
+    entry-point for any executable code to be immediately run.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner browsing
+    context&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-referrer-source&quot;&gt;script's referrer source&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=&quot;#script's-url-character-encoding&quot;&gt;script's URL character encoding&lt;/a&gt; to
-    UTF-8. (This is just used for encoding non-ASCII characters in the
-    query component of URLs.)&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=&quot;#script's-url-character-encoding&quot;&gt;script's URL character encoding&lt;/a&gt; to UTF-8. (This is just used for
+    encoding non-ASCII characters in the query component of URLs.)&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=&quot;#script's-base-url&quot;&gt;script's base URL&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
@@ -80415,198 +80162,163 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the
-    worker such that no sooner than it stops being either a
-    &lt;a href=#protected-worker&gt;protected worker&lt;/a&gt; or a &lt;a href=#suspendable-worker&gt;suspendable
-    worker&lt;/a&gt;, and no later than it stops being a
-    &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;, &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to true&lt;!-- v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is
-    queued&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
-    title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
+    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the worker such that no sooner than
+    it stops being either a &lt;a href=#protected-worker&gt;protected worker&lt;/a&gt; or a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, and
+    no later than it stops being a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;, &lt;var title=&quot;&quot;&gt;worker global
+    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true&lt;!--
+    v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is queued&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt;--&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the
-    worker, such that whenever &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is false
-    and the worker is a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, the user
-    agent suspends execution of script in that worker until such time
-    as either the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag switches
-    to true or the worker stops being a &lt;a href=#suspendable-worker&gt;suspendable
-    worker&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the worker, such that whenever &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt;
+    flag is false and the worker is a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;, the user agent suspends
+    execution of script in that worker until such time as either the &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag switches to true or the worker stops
+    being a &lt;a href=#suspendable-worker&gt;suspendable worker&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#jump-to-a-code-entry-point title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/a&gt; to the
-    &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code
-    entry-point&lt;/a&gt;&lt;/i&gt;, and let that run until it either returns, fails
-    to catch an exception, or gets prematurely aborted by the
-    &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot;
-    algorithms defined below.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#jump-to-a-code-entry-point title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/a&gt; to the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code entry-point&lt;/a&gt;&lt;/i&gt;, and let that run until
+    it either returns, fails to catch an exception, or gets prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a
+    worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined below.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a
-    worker&lt;/span&gt;&quot; algorithm, then that same algorithm will cause
-    there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
-    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task
-    for the &lt;code title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The
-    &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm removes all the
-    events.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; algorithm, then
+    that same algorithm will cause there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
+    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task for the &lt;code
+    title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm
+    removes all the events.&lt;/p&gt;
 --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is
-   a dedicated worker), then enable the &lt;a href=#port-message-queue&gt;port message
-   queue&lt;/a&gt; of the worker's implicit port.&lt;/li&gt;
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   enable the &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; of the worker's implicit port.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;i title=&quot;&quot;&gt;Event loop&lt;/i&gt;: Wait until either there is a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; in one of the &lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to true.&lt;/p&gt;
+    &lt;p&gt;&lt;i title=&quot;&quot;&gt;Event loop&lt;/i&gt;: Wait until either there is a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; in one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
+    queue&quot;&gt;task queues&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to true.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Run the oldest task on one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s
-    &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, if any. The user
-    agent may pick any &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Run the oldest task on one of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+    queues&lt;/a&gt;, if any. The user agent may pick any &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The handling of events or the execution of
-    callbacks might get prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a
-    worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms
+    &lt;p class=note&gt;The handling of events or the execution of callbacks might get prematurely
+    aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms
     defined below.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is now owned by the worker's
-    &lt;a href=#event-loop&gt;event loop&lt;/a&gt;, release it so that it is once again
-    free.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is now owned by the worker's &lt;a href=#event-loop&gt;event loop&lt;/a&gt;,
+    release it so that it is once again free.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Remove the task just run in the earlier step, if any, from its
-    &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the task just run in the earlier step, if any, from its &lt;a href=#task-queue&gt;task queue&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there are any more events in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s
-    &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; or if &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set
-    to false, then jump back to the step above labeled &lt;i&gt;&lt;a href=#event-loop&gt;event
-    loop&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+    &lt;p&gt;If there are any more events in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+    queues&lt;/a&gt; or if &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag is set to false, then jump back to the
+    step above labeled &lt;i&gt;&lt;a href=#event-loop&gt;event loop&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#list-of-active-timers&gt;list
-    of active timers&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;a href=#list-of-active-timers&gt;list of active timers&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Disentangle all the ports in the list of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's
-    ports&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Disentangle all the ports in the list of &lt;a href=&quot;#the-worker's-ports&quot;&gt;the worker's ports&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
 &lt;!-- v2-onclose
    &lt;li&gt;
 
-    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt;
-    object associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;,
-    &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-    named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
+    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt; object associated with &lt;var
+    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
 
    &lt;/li&gt;
 --&gt;
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=kill-a-worker&gt;kill a worker&lt;/dfn&gt; it must
-  run the following steps in parallel with the worker's main loop (the
-  &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=kill-a-worker&gt;kill a worker&lt;/dfn&gt; it must run the following steps in parallel
+  with the worker's main loop (the &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
-   &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is
-   false, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is false, &lt;span&gt;queue a task&lt;/span&gt; to
+   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
    worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
---&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true.&lt;/li&gt;
+--&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true.&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run
-   a worker&lt;/span&gt;&quot; processing model defined above immediately starts
-   running event listeners registered for the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be
-   zero &mdash; the idea is that the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up
-   when shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing
+   model defined above immediately starts running event listeners registered for the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be zero &mdash; the idea is
+   that the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up when
+   shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;
-   queued in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;&lt;!-- v2-onclose other than the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just
-   added--&gt;, discard them without processing them.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued in the &lt;a href=#event-loop&gt;event
+   loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;&lt;!-- v2-onclose other than the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just added--&gt;, discard them
+   without processing them.&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that
-   this algorithm just queued hasn't yet been dispatched, then abort
-   the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just queued
+   hasn't yet been dispatched, then abort the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
    &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!--
-   v2-onclose (if any script is running, then it will be a handler for
-   the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event)--&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!-- v2-onclose (if any script is running,
+   then it will be a handler for the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt;
+   event)--&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;User agents may invoke the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot;
-  processing model on a worker at any time, e.g. in response to user
-  requests, in response to CPU quota management, or when a worker
-  stops being an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; if the worker
-  continues executing even after its &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag was
-  set to true.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;User agents may invoke the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; processing model on a worker at any
+  time, e.g. in response to user requests, in response to CPU quota management, or when a worker
+  stops being an &lt;a href=#active-needed-worker&gt;active needed worker&lt;/a&gt; if the worker continues executing even after its
+  &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag was set to true.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=terminate-a-worker&gt;terminate a worker&lt;/dfn&gt; it must run
-  the following steps in parallel with the worker's main loop (the
-  &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=terminate-a-worker&gt;terminate a worker&lt;/dfn&gt; it must run the following steps in
+  parallel with the worker's main loop (the &quot;&lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt;&quot; processing model defined
+  above):&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
-   &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to
-   true.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#dom-workerglobalscope-closing title=dom-WorkerGlobalScope-closing&gt;closing&lt;/a&gt; flag to true.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;
-   queued in the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task
-   queue&quot;&gt;task queues&lt;/a&gt;, discard them without processing
+   &lt;li&gt;&lt;p&gt;If there are any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued in the &lt;a href=#event-loop&gt;event
+   loop&lt;/a&gt;'s &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;, discard them without processing
    them.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object is
-   actually a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the
-   worker is a dedicated worker), then empty the &lt;a href=#port-message-queue&gt;port message
-   queue&lt;/a&gt; of the port that the worker's implicit port is
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object is actually a
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   empty the &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; of the port that the worker's implicit port is
    entangled with.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the tasks mentioned above is the
-  &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the tasks mentioned above is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
+  source&lt;/a&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
@@ -80618,9 +80330,9 @@
   &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
   &lt;/p&gt;
 
-  &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; afterwards, or if
-  the error occurred while handling a previous script error, the error
-  may be reported to the user.
+  &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt;
+  afterwards, or if the error occurred while handling a previous script error, the error may be
+  reported to the user.
   &lt;/p&gt;
 
   &lt;p&gt;For dedicated workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not
@@ -80633,20 +80345,18 @@
   error had occurred in the global scope that the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object is in, thus repeating
   the entire runtime script error reporting process one level up.&lt;/p&gt;
 
-  &lt;p&gt;If the implicit port connecting the worker to its
-  &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object has been disentangled (i.e. if the parent
-  worker has been terminated), then the user agent must act as if the
-  &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object had no &lt;code title=event-error&gt;error&lt;/code&gt; event handler and as if that
-  worker's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute
-  was null, but must otherwise act as described above.&lt;/p&gt;
+  &lt;p&gt;If the implicit port connecting the worker to its &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object has been
+  disentangled (i.e. if the parent worker has been terminated), then the user agent must act as if
+  the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object had no &lt;code title=event-error&gt;error&lt;/code&gt; event handler and as
+  if that worker's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute was
+  null, but must otherwise act as described above.&lt;/p&gt;
 
-  &lt;p class=note&gt;Thus, error reports propagate up to the chain of
-  dedicated workers up to the original &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, even if
-  some of the workers along this chain have been terminated and
-  garbage collected.&lt;/p&gt;
+  &lt;p class=note&gt;Thus, error reports propagate up to the chain of dedicated workers up to the
+  original &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, even if some of the workers along this chain have been terminated
+  and garbage collected.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the task mentioned above is the
-  &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the task mentioned above is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
+  source&lt;/a&gt;.&lt;/p&gt;
 
   &lt;hr&gt;&lt;pre class=idl&gt;[Constructor(DOMString type, optional &lt;a href=#erroreventinit&gt;ErrorEventInit&lt;/a&gt; eventInitDict)]
 interface &lt;dfn id=errorevent&gt;ErrorEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
@@ -82626,26 +82336,23 @@
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-websocket-bufferedamount title=dom-WebSocket-bufferedAmount&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of bytes of application data (UTF-8
-  text and binary data) that have been queued using &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; but that, as of the last
-  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, had not yet been transmitted to
-  the network. (This thus includes any text sent during the execution
-  of the current task, regardless of whether the user agent is able to
-  transmit text asynchronously with script execution.) This does not
-  include framing overhead incurred by the protocol, or buffering done
-  by the operating system or network hardware. If the connection is
-  closed, this attribute's value will only increase with each call to
-  the &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; method (the
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-websocket-bufferedamount title=dom-WebSocket-bufferedAmount&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the number of bytes of application data (UTF-8 text and binary data) that have been queued
+  using &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; but that, as of the last time the &lt;a href=#event-loop&gt;event
+  loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;, had not yet been
+  transmitted to the network. (This thus includes any text sent during the execution of the current
+  task, regardless of whether the user agent is able to transmit text asynchronously with script
+  execution.) This does not include framing overhead incurred by the protocol, or buffering done by
+  the operating system or network hardware. If the connection is closed, this attribute's value will
+  only increase with each call to the &lt;code title=dom-WebSocket-send&gt;&lt;a href=#dom-websocket-send&gt;send()&lt;/a&gt;&lt;/code&gt; method (the
   number does not reset to zero once the connection closes).&lt;/p&gt;
 
   &lt;div class=example&gt;
 
    &lt;p&gt;In this simple example, the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-   attribute is used to ensure that updates are sent either at the
-   rate of one update every 50ms, if the network can handle that rate,
-   or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is too
-   fast.&lt;/p&gt;
+   attribute is used to ensure that updates are sent either at the rate of one update every 50ms, if
+   the network can handle that rate, or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is
+   too fast.&lt;/p&gt;
 
    &lt;pre&gt;var socket = new WebSocket('<A HREF="ws://game.example.com:12010/updates">ws://game.example.com:12010/updates</A>');
 socket.onopen = function () {
@@ -82655,60 +82362,46 @@
   }, 50);
 };&lt;/pre&gt;
 
-   &lt;p&gt;The &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-   attribute can also be used to saturate the network without sending
-   the data at a higher rate than the network can handle, though this
-   requires more careful monitoring of the value of the attribute over
-   time.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute can also be
+   used to saturate the network without sending the data at a higher rate than the network can
+   handle, though this requires more careful monitoring of the value of the attribute over time.&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, its &lt;dfn id=dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must be set to the string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On
-  getting, it must return the last value it was set to. On setting,
-  the user agent must set the IDL attribute to the new value.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, its &lt;dfn id=dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL attribute must be set to the
+  string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On getting, it must return the last value it was set to. On
+  setting, the user agent must set the IDL attribute to the new value.&lt;/p&gt;
 
-  &lt;p class=note&gt;This attribute allows authors to control how binary
-  data is exposed to scripts. By setting the attribute to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;
-  form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  returned in &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; form. User agents can use this
-  as a hint for how to handle incoming binary data: if the attribute
-  is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
-  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  likely more efficient to keep the data in memory. Naturally, user
-  agents are encouraged to use more subtle heuristics to decide
-  whether to keep incoming data in memory or not, e.g. based on how
-  big the data is or how common it is for a script to change the
-  attribute at the last minute. This latter aspect is important in
-  particular because it is quite possible for the attribute to be
-  changed after the user agent has received the data but before the
-  user agent has fired the event for it.&lt;/p&gt;
+  &lt;p class=note&gt;This attribute allows authors to control how binary data is exposed to scripts. By
+  setting the attribute to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in
+  &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is returned in
+  &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; form. User agents can use this as a hint for how to handle incoming
+  binary data: if the attribute is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
+  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is likely more efficient to keep
+  the data in memory. Naturally, user agents are encouraged to use more subtle heuristics to decide
+  whether to keep incoming data in memory or not, e.g. based on how big the data is or how common it
+  is for a script to change the attribute at the last minute. This latter aspect is important in
+  particular because it is quite possible for the attribute to be changed after the user agent has
+  received the data but before the user agent has fired the event for it.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
-  connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is
-  &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must
-  throw an &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception. Otherwise, the
-  user agent must run the appropriate set of steps from the following
-  list:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  transmits data using the connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must throw an
+  &lt;code&gt;&lt;a href=#invalidstateerror&gt;InvalidStateError&lt;/a&gt;&lt;/code&gt; exception. Otherwise, the user agent must run the appropriate set
+  of steps from the following list:&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;If the argument is a string&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;a href=#convert-a-domstring-to-a-sequence-of-unicode-characters title=&quot;convert a DOMString to a sequence of Unicode
-    characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a
-    sequence of Unicode characters&lt;/a&gt;. If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket
-    connection is established&lt;/a&gt;&lt;/i&gt; and &lt;i title=&quot;the WebSocket closing
-    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet
-    started&lt;/a&gt;&lt;/i&gt;, then the user agent must &lt;i&gt;send a WebSocket
-    Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a text
-    frame opcode; if the data cannot be sent, e.g. because it would
-    need to be buffered but the buffer is full, the user agent must
-    &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. Any
-    invocation of this method with a string argument that does not
-    throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the number of bytes needed to express the argument as
-    UTF-8. &lt;a href=#refsUNICODE&gt;[UNICODE]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;a href=#convert-a-domstring-to-a-sequence-of-unicode-characters title=&quot;convert a DOMString to a sequence
+    of Unicode characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a sequence of Unicode
+    characters&lt;/a&gt;. If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt; and &lt;i title=&quot;the WebSocket
+    closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the
+    user agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a
+    text frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. Any invocation of this method with a
+    string argument that does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the number of bytes
+    needed to express the argument as UTF-8. &lt;a href=#refsUNICODE&gt;[UNICODE]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -82717,19 +82410,15 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the raw data represented
-    by the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is meant to
-    invoke &quot;This interface represents immutable raw data.&quot; --&gt; Any
-    invocation of this method with a &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the size of the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object's raw data,
-    in bytes. &lt;!-- that sentence is meant to invoke the same as
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the raw data
+    represented by the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is meant to invoke &quot;This
+    interface represents immutable raw data.&quot; --&gt; Any invocation of this method with a
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; argument that does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the size of the
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object's raw data, in bytes. &lt;!-- that sentence is meant to invoke the same as
     Blob.size --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -82739,24 +82428,19 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the data stored in the
-    buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that
-    sentence is meant to invoke &quot;The ArrayBuffer type describes a
-    buffer used to store data for the array buffer views.&quot; at the top
-    of the Typed Array spec, and &quot;Optional byteOffset and length can
-    be used to limit the section of the buffer referenced&quot; in the
-    definition of the TypedArray constructor --&gt; Any invocation of
-    this method with an &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; argument that does
-    not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; in bytes.
-    &lt;!-- that sentence is meant to invoke the same as
-    ArrayBuffer.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the data
+    stored in the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is
+    meant to invoke &quot;The ArrayBuffer type describes a buffer used to store data for the array buffer
+    views.&quot; at the top of the Typed Array spec, and &quot;Optional byteOffset and length can be used to
+    limit the section of the buffer referenced&quot; in the definition of the TypedArray constructor --&gt;
+    Any invocation of this method with an &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; argument that does not throw an
+    exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
+    attribute by the length of the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to
+    invoke the same as ArrayBuffer.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -82765,32 +82449,26 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket
-    closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket
-    connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with
-    prejudice&lt;/a&gt;. The data to be sent is the data stored in the
-    section of the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt;
-    object that the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; object references.
-    &lt;!-- that sentence is meant to invoke &quot;The ArrayBuffer type
-    describes a buffer used to store data for the array buffer views.&quot;
-    at the top of the Typed Array spec, and &quot;Optional byteOffset and
-    length can be used to limit the section of the buffer referenced&quot;
-    in the definition of the TypedArray constructor --&gt; Any invocation
-    of this method with an &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; in
-    bytes. &lt;!-- that sentence is meant to invoke the same as
-    ArrayBufferView.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake has not yet started&lt;/a&gt;&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;&lt;a href=#close-the-websocket-connection&gt;close the WebSocket connection&lt;/a&gt;&lt;/i&gt; &lt;a href=#concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/a&gt;. The data to be sent is the data
+    stored in the section of the buffer described by the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object that the
+    &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; object references. &lt;!-- that sentence is meant to invoke &quot;The
+    ArrayBuffer type describes a buffer used to store data for the array buffer views.&quot; at the top
+    of the Typed Array spec, and &quot;Optional byteOffset and length can be used to limit the section of
+    the buffer referenced&quot; in the definition of the TypedArray constructor --&gt; Any invocation of
+    this method with an &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; argument that does not throw an exception must
+    increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute by the
+    length of the &lt;code&gt;&lt;a href=#arraybufferview&gt;ArrayBufferView&lt;/a&gt;&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to invoke the
+    same as ArrayBufferView.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onopen title=handler-WebSocket-onopen&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-open&gt;open&lt;/code&gt;
@@ -82799,34 +82477,32 @@
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onclose title=handler-WebSocket-onclose&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-socket-close&gt;close&lt;/code&gt;
   &lt;/table&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
 
-  &lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run these steps:&lt;/p&gt;
+  &lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-established&gt;the WebSocket connection is established&lt;/a&gt;&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to run these steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
-   value to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value to
+   &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-extensions&gt;&lt;a href=#dom-websocket-extensions&gt;extensions&lt;/a&gt;&lt;/code&gt; attribute's
-   value to the &lt;i&gt;&lt;a href=#extensions-in-use&gt;extensions in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-extensions&gt;&lt;a href=#dom-websocket-extensions&gt;extensions&lt;/a&gt;&lt;/code&gt; attribute's value to
+   the &lt;i&gt;&lt;a href=#extensions-in-use&gt;extensions in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-protocol&gt;&lt;a href=#dom-websocket-protocol&gt;protocol&lt;/a&gt;&lt;/code&gt; attribute's value to
-   the &lt;i&gt;&lt;a href=#subprotocol-in-use&gt;subprotocol in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-protocol&gt;&lt;a href=#dom-websocket-protocol&gt;protocol&lt;/a&gt;&lt;/code&gt; attribute's value to the
+   &lt;i&gt;&lt;a href=#subprotocol-in-use&gt;subprotocol in use&lt;/a&gt;&lt;/i&gt;, if is not the null value. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;a href=#receives-a-set-cookie-string title=&quot;receives a
-   set-cookie-string&quot;&gt;received a set-cookie-string&lt;/a&gt; consisting
-   of the &lt;i&gt;&lt;a href=&quot;#cookies-set-during-the-server's-opening-handshake&quot;&gt;cookies set during the server's opening handshake&lt;/a&gt;&lt;/i&gt;,
-   for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor. &lt;a href=#refsCOOKIES&gt;[COOKIES]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;a href=#receives-a-set-cookie-string title=&quot;receives a set-cookie-string&quot;&gt;received a
+   set-cookie-string&lt;/a&gt; consisting of the &lt;i&gt;&lt;a href=&quot;#cookies-set-during-the-server's-opening-handshake&quot;&gt;cookies set during the server's opening
+   handshake&lt;/a&gt;&lt;/i&gt;, for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor. &lt;a href=#refsCOOKIES&gt;[COOKIES]&lt;/a&gt; &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
-   object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the
+   &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#a-websocket-message-has-been-received&gt;a WebSocket message has been received&lt;/a&gt;&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to follow these steps: &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#a-websocket-message-has-been-received&gt;a WebSocket message has been received&lt;/a&gt;&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data
+  &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to follow these steps: &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
-    &lt;p&gt;If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-    attribute's value is not &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1), then abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value is not
+    &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1), then abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82839,27 +82515,21 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt; attribute to the
-   &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode
-   serialization&lt;/a&gt; of the &lt;a href=#origin&gt;origin&lt;/a&gt; of the
-   &lt;a href=#url&gt;URL&lt;/a&gt; that was passed to the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
+   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt;
+   attribute to the &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode serialization&lt;/a&gt; of
+   the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#url&gt;URL&lt;/a&gt; that was passed to the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
    object's constructor.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text,
-    then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
-    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
-    as its raw data. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then
+    initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute
+    to a new &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as its raw data. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
-    read-only &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new read-only &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt;
+    object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82870,21 +82540,17 @@
 
    &lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=note&gt;User agents are encouraged to check if they can
-  perform the above steps efficiently before they run the task,
-  picking tasks from other &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;
-  while they prepare the buffers if not. For example, if the &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; attribute was set
-  to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user
-  agent spooled all the data to disk, but just before running the
-  above &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; for this particular
-  message the script switched &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the
-  data back to RAM before running this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; so as to avoid stalling the main
-  thread while it created the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p class=note&gt;User agents are encouraged to check if they can perform the above steps
+  efficiently before they run the task, picking tasks from other &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+  queues&lt;/a&gt; while they prepare the buffers if not. For example, if the &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; attribute was set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user agent spooled all the data to disk, but
+  just before running the above &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; for this particular message
+  the script switched &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the data back to RAM before
+  running this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; so as to avoid stalling the main thread while
+  it created the &lt;code&gt;&lt;a href=#arraybuffer&gt;ArrayBuffer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;Here is an example of how to define a handler for the &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event in the case of text
-   frames:&lt;/p&gt;
+   &lt;p&gt;Here is an example of how to define a handler for the &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event in the case of text frames:&lt;/p&gt;
 
    &lt;pre&gt;mysocket.onmessage = function (event) {
   if (event.data == 'on') {
@@ -82894,31 +82560,24 @@
   }
 };&lt;/pre&gt;
 
-   &lt;p&gt;The protocol here is a trivial one, with the server just sending
-   &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
+   &lt;p&gt;The protocol here is a trivial one, with the server just sending &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake is started&lt;/a&gt;&lt;/i&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2). (If the
-  &lt;code title=dom-WebSocket-close&gt;&lt;a href=#dom-websocket-close&gt;close()&lt;/a&gt;&lt;/code&gt; method was called,
-  the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-  attribute's value will already be set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) when this task
-  runs.) &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When &lt;i&gt;&lt;a href=#the-websocket-closing-handshake-is-started&gt;the WebSocket closing handshake is started&lt;/a&gt;&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
+  value to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2). (If the &lt;code title=dom-WebSocket-close&gt;&lt;a href=#dom-websocket-close&gt;close()&lt;/a&gt;&lt;/code&gt; method was called, the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value will already be set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) when this task runs.) &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p id=closeWebSocket&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is
-  closed&lt;/a&gt;&lt;/i&gt;, possibly &lt;i title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the following substeps:&lt;/p&gt;
+  &lt;hr&gt;&lt;p id=closeWebSocket&gt;When &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is closed&lt;/a&gt;&lt;/i&gt;, possibly &lt;i title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the following
+  substeps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's
-   value to &lt;code title=dom-WebSocket-CLOSED&gt;&lt;a href=#dom-websocket-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt;
-   (3).&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value to
+   &lt;code title=dom-WebSocket-CLOSED&gt;&lt;a href=#dom-websocket-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;&lt;a href=#fail-the-websocket-connection&gt;fail the WebSocket
-   connection&lt;/a&gt;&lt;/i&gt; or &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket connection is closed&lt;/a&gt;&lt;/i&gt; &lt;dfn id=concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/dfn&gt;,
-   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt;
-   at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;&lt;a href=#fail-the-websocket-connection&gt;fail the WebSocket connection&lt;/a&gt;&lt;/i&gt; or &lt;i&gt;&lt;a href=#the-websocket-connection-is-closed&gt;the WebSocket
+   connection is closed&lt;/a&gt;&lt;/i&gt; &lt;dfn id=concept-websocket-close-fail title=concept-websocket-close-fail&gt;with prejudice&lt;/dfn&gt;,
+   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt; at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
+   object. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Create a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event that uses the
    &lt;code&gt;&lt;a href=#closeevent&gt;CloseEvent&lt;/a&gt;&lt;/code&gt; interface, with the event type &lt;code title=event-socket-close&gt;close&lt;/code&gt;, which does not bubble, is not cancelable, has no default
@@ -82931,9 +82590,8 @@
 
   &lt;/ol&gt;&lt;div class=warning&gt;
 
-   &lt;p&gt;User agents must not convey any failure information to scripts
-   in a way that would allow a script to distinguish the following
-   situations:&lt;/p&gt;
+   &lt;p&gt;User agents must not convey any failure information to scripts in a way that would allow a
+   script to distinguish the following situations:&lt;/p&gt;
 
    &lt;ul&gt;&lt;li&gt;A server whose host name could not be resolved.
 
@@ -82941,37 +82599,32 @@
 
     &lt;li&gt;A server that refused the connection on the specified port.
 
-    &lt;li&gt;A server that failed to correctly perform a TLS handshake
-    (e.g., the server certificate can't be verified).
+    &lt;li&gt;A server that failed to correctly perform a TLS handshake (e.g., the server certificate
+    can't be verified).
 
-    &lt;li&gt;A server that did not complete the opening handshake (e.g.
-    because it was not a WebSocket server).
+    &lt;li&gt;A server that did not complete the opening handshake (e.g. because it was not a WebSocket
+    server).
 
-    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but
-    that specified options that caused the client to drop the
-    connection (e.g. the server specified a subprotocol that the
+    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but that specified options that
+    caused the client to drop the connection (e.g. the server specified a subprotocol that the
     client did not offer).
 
-    &lt;li&gt;A WebSocket server that abruptly closed the connection after
-    successfully completing the opening handshake.
+    &lt;li&gt;A WebSocket server that abruptly closed the connection after successfully completing the
+    opening handshake.
 
-   &lt;/ul&gt;&lt;p&gt;In all of these cases, the &lt;i&gt;&lt;a href=#the-websocket-connection-close-code&gt;the WebSocket connection close
-   code&lt;/a&gt;&lt;/i&gt; would be 1006, as required by the WebSocket Protocol
-   specification. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+   &lt;/ul&gt;&lt;p&gt;In all of these cases, the &lt;i&gt;&lt;a href=#the-websocket-connection-close-code&gt;the WebSocket connection close code&lt;/a&gt;&lt;/i&gt; would be 1006, as
+   required by the WebSocket Protocol specification. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-   &lt;p&gt;Allowing a script to distinguish these cases would allow a
-   script to probe the user's local network in preparation for an
-   attack.&lt;/p&gt;
+   &lt;p&gt;Allowing a script to distinguish these cases would allow a script to probe the user's local
+   network in preparation for an attack.&lt;/p&gt;
 
-   &lt;p class=note&gt;In particular, this means the code 1015 is not used
-   by the user agent (unless the server erroneously uses it in its
-   close frame, of course).&lt;/p&gt;
+   &lt;p class=note&gt;In particular, this means the code 1015 is not used by the user agent (unless the
+   server erroneously uses it in its close frame, of course).&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for all &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a
-  task&quot;&gt;queued&lt;/a&gt; in this section is the &lt;dfn id=websocket-task-source&gt;WebSocket task
-  source&lt;/dfn&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for all &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue
+  a task&quot;&gt;queued&lt;/a&gt; in this section is the &lt;dfn id=websocket-task-source&gt;WebSocket task source&lt;/dfn&gt;.&lt;/p&gt;
 
 
   &lt;h4 id=ping-and-pong-frames&gt;&lt;span class=secno&gt;10.3.4 &lt;/span&gt;Ping and Pong frames&lt;/h4&gt;
@@ -83092,38 +82745,33 @@
 
   &lt;h4 id=garbage-collection-1&gt;&lt;span class=secno&gt;10.3.7 &lt;/span&gt;Garbage collection&lt;/h4&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;
-  (0) as of the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started
-  executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be
-  garbage collected if there are any event listeners registered for
-  &lt;code title=event-open&gt;open&lt;/code&gt; events, &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt; events, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt; (0) as of
+  the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected if there are any event listeners
+  registered for &lt;code title=event-open&gt;open&lt;/code&gt; events, &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt; events, or
+  &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) as of
-  the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected if
-  there are any event listeners registered for &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt;, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) as of the last time
+  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be
+  garbage collected if there are any event listeners registered for &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, &lt;code title=event-error&gt;error&lt;/code&gt;, or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
-  was set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) as
-  of the last time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a
-  &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must not be garbage collected
-  if there are any event listeners registered for &lt;code title=event-error&gt;error&lt;/code&gt; or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  attribute's value was set to &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2) as of the last
+  time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; started executing a &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; must
+  not be garbage collected if there are any event listeners registered for &lt;code title=event-error&gt;error&lt;/code&gt; or &lt;code title=event-socket-close&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object with &lt;i title=&quot;the WebSocket
-  connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;an established connection&lt;/a&gt;&lt;/i&gt; that has
-  data queued to be transmitted to the network must not be garbage
-  collected. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object with &lt;i title=&quot;the WebSocket connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;an
+  established connection&lt;/a&gt;&lt;/i&gt; that has data queued to be transmitted to the network must not be
+  garbage collected. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;If a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is garbage collected while its
-  connection is still open, the user agent must &lt;i&gt;&lt;a href=#start-the-websocket-closing-handshake&gt;start the
-  WebSocket closing handshake&lt;/a&gt;&lt;/i&gt;, with no status code&lt;!--CLOSE
-  CODE--&gt; for the Close message. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;If a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is garbage collected while its connection is still open, the
+  user agent must &lt;i&gt;&lt;a href=#start-the-websocket-closing-handshake&gt;start the WebSocket closing handshake&lt;/a&gt;&lt;/i&gt;, with no status code&lt;!--CLOSE CODE--&gt;
+  for the Close message. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;If a user agent is to &lt;dfn id=make-disappear&gt;make disappear&lt;/dfn&gt; a
-  &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object (this happens when a
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object goes away), the user agent must follow
-  the first appropriate set of steps from the following list:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;If a user agent is to &lt;dfn id=make-disappear&gt;make disappear&lt;/dfn&gt; a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object (this happens
+  when a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object goes away), the user agent must follow the first appropriate
+  set of steps from the following list:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;If the WebSocket connection is not yet &lt;i title=&quot;the WebSocket
    connection is established&quot;&gt;&lt;a href=#the-websocket-connection-is-established&gt;established&lt;/a&gt;&lt;/i&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/dt&gt;
@@ -83800,16 +83448,13 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object can be entangled with
-  another (a symmetric relationship). Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt;
-  object also has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=port-message-queue&gt;port
-  message queue&lt;/dfn&gt;, initially empty. A &lt;a href=#port-message-queue&gt;port message
-  queue&lt;/a&gt; can be enabled or disabled, and is initially
-  disabled. Once enabled, a port can never be disabled again (though
-  messages in the queue can get moved to another queue or removed
-  altogether, which has much the same effect).
-  A &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; also has a &lt;dfn id=has-been-shipped&gt;has been shipped&lt;/dfn&gt; flag. It must initially be
-  false.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object can be entangled with another (a symmetric relationship).
+  Each &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object also has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=port-message-queue&gt;port
+  message queue&lt;/dfn&gt;, initially empty. A &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; can be enabled or
+  disabled, and is initially disabled. Once enabled, a port can never be disabled again (though
+  messages in the queue can get moved to another queue or removed altogether, which has much the
+  same effect). A &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; also has a &lt;dfn id=has-been-shipped&gt;has been shipped&lt;/dfn&gt; flag. It must
+  initially be false.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;a href=#event-loop&gt;event loop&lt;/a&gt; has a &lt;a href=#task-source&gt;task source&lt;/a&gt; called the &lt;dfn id=unshipped-port-message-queue&gt;unshipped port
   message queue&lt;/dfn&gt;. This is a virtual &lt;a href=#task-source&gt;task source&lt;/a&gt;: it must act as if it contained
@@ -83828,15 +83473,12 @@
   is true, its &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; acts as a first-class &lt;a href=#task-source&gt;task source&lt;/a&gt;,
   unaffected to any &lt;a href=#unshipped-port-message-queue&gt;unshipped port message queue&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn id=create-a-new-messageport-object&gt;create a new
-  &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a &lt;a href=&quot;#script's-global-object&quot;&gt;script's
-  global object&lt;/a&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must
-  instantiate a new &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object, and let its owner
-  be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn id=create-a-new-messageport-object&gt;create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a
+  &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must instantiate a new
+  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; object, and let its owner be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn id=entangle&gt;entangle&lt;/dfn&gt; two
-  &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects, it must run the following
-  steps:&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn id=entangle&gt;entangle&lt;/dfn&gt; two &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects, it must run
+  the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -84090,29 +83732,24 @@
    title=&quot;&quot;&gt;target port&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
---&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-start title=dom-MessagePort-start&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt;
-  method must enable its port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt;, if it
-  is not already enabled.&lt;/p&gt;
+--&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-start title=dom-MessagePort-start&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt; method must enable its port's
+  &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt;, if it is not already enabled.&lt;/p&gt;
 
-  &lt;p&gt;When a port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; is enabled, the
-  &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must use it as one of its &lt;a href=#task-source title=&quot;task
-  source&quot;&gt;task sources&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When a port's &lt;a href=#port-message-queue&gt;port message queue&lt;/a&gt; is enabled, the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; must use
+  it as one of its &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the port's event
-  listeners' &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt;
-  is not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;, then the messages are lost.&lt;/p&gt;
-  &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
+  &lt;p class=note&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the port's event listeners' &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's
+  global object&quot;&gt;global object&lt;/a&gt; is not &lt;a href=#fully-active&gt;fully active&lt;/a&gt;, then the messages are
+  lost.&lt;/p&gt; &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-close title=dom-MessagePort-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called on a port &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is
-  entangled with another port, must cause the user agents to
-  disentangle the two ports. If the method is called on a port that is
-  not entangled, then the method must do nothing.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-messageport-close title=dom-MessagePort-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method, when called on a port
+  &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is entangled with another port, must cause the user agents to
+  disentangle the two ports. If the method is called on a port that is not entangled, then the
+  method must do nothing.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
-  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their corresponding &lt;a href=#event-handler-event-type title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/a&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-messageport-onmessage title=handler-MessagePort-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt;
@@ -84655,27 +84292,20 @@
   &lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for these tasks is the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
   source&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the event is being fired due to an invocation of the &lt;code title=dom-Storage-setItem&gt;&lt;a href=#dom-storage-setitem&gt;setItem()&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-Storage-removeItem&gt;&lt;a href=#dom-storage-removeitem&gt;removeItem()&lt;/a&gt;&lt;/code&gt; methods, the
-  event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;
-  attribute initialized to the name of the key in question, its &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  the old value of the key in question, or null if the key is newly
-  added, and its &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  the new value of the key in question, or null if the key was
-  removed.&lt;/p&gt;
+  &lt;p&gt;If the event is being fired due to an invocation of the &lt;code title=dom-Storage-setItem&gt;&lt;a href=#dom-storage-setitem&gt;setItem()&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-Storage-removeItem&gt;&lt;a href=#dom-storage-removeitem&gt;removeItem()&lt;/a&gt;&lt;/code&gt; methods, the event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt; attribute initialized to the name of the key in question,
+  its &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt; attribute initialized to the old value
+  of the key in question, or null if the key is newly added, and its &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attribute initialized to the new value of the
+  key in question, or null if the key was removed.&lt;/p&gt;
 
-  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of
-  the &lt;code title=dom-Storage-clear&gt;&lt;a href=#dom-storage-clear&gt;clear()&lt;/a&gt;&lt;/code&gt; method, the event
-  must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attributes
-  initialized to null.&lt;/p&gt;
+  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of the &lt;code title=dom-Storage-clear&gt;&lt;a href=#dom-storage-clear&gt;clear()&lt;/a&gt;&lt;/code&gt; method, the event must have its &lt;code title=dom-StorageEvent-key&gt;&lt;a href=#dom-storageevent-key&gt;key&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-StorageEvent-oldValue&gt;&lt;a href=#dom-storageevent-oldvalue&gt;oldValue&lt;/a&gt;&lt;/code&gt;,
+  and &lt;code title=dom-StorageEvent-newValue&gt;&lt;a href=#dom-storageevent-newvalue&gt;newValue&lt;/a&gt;&lt;/code&gt; attributes initialized to null.&lt;/p&gt;
 
-  &lt;p&gt;In addition, the event must have its &lt;code title=dom-StorageEvent-url&gt;&lt;a href=#dom-storageevent-url&gt;url&lt;/a&gt;&lt;/code&gt; attribute initialized to
-  &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's address&quot;&gt;the address of the
-  document&lt;/a&gt; whose &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object was affected; and
-  its &lt;code title=dom-StorageEvent-storageArea&gt;&lt;a href=#dom-storageevent-storagearea&gt;storageArea&lt;/a&gt;&lt;/code&gt;
-  attribute initialized to the &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object from the
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the target &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that
-  represents the same kind of &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; area as was
-  affected (i.e. session or local).&lt;/p&gt;
+  &lt;p&gt;In addition, the event must have its &lt;code title=dom-StorageEvent-url&gt;&lt;a href=#dom-storageevent-url&gt;url&lt;/a&gt;&lt;/code&gt; attribute
+  initialized to &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's address&quot;&gt;the address of the document&lt;/a&gt; whose
+  &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object was affected; and its &lt;code title=dom-StorageEvent-storageArea&gt;&lt;a href=#dom-storageevent-storagearea&gt;storageArea&lt;/a&gt;&lt;/code&gt; attribute initialized to the
+  &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object from the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the target
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that represents the same kind of &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; area as was affected
+  (i.e. session or local).&lt;/p&gt;
 
 
   &lt;h5 id=event-definition-0&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;Event definition&lt;/h5&gt;
@@ -91636,48 +91266,39 @@
 
       &lt;p&gt;Run these steps:&lt;/p&gt;
 
-      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;a href=#pending-parsing-blocking-script&gt;pending
-       parsing-blocking script&lt;/a&gt;. There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending
-       parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+       script&lt;/a&gt;. There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Block the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;
-       for this instance of the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that
-       the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Block the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; for this instance of the
+       &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style
-       sheet that is blocking scripts&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;the
-       script&lt;/var&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag
-       is not set: &lt;a href=#spin-the-event-loop&gt;spin the event loop&lt;/a&gt; until the parser's
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-       scripts&lt;/a&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
-       &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is
-       set.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-a-style-sheet-that-is-blocking-scripts&gt;has a style sheet that is blocking
+       scripts&lt;/a&gt; or &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt;
+       flag is not set: &lt;a href=#spin-the-event-loop&gt;spin the event loop&lt;/a&gt; until the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+       &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/a&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
+       &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is set.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Unblock the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt;
-       for this instance of the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that
-       &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; can again be
-       run.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Unblock the &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; for this instance of the
+       &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;, such that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke the
+       &lt;a href=#tokenization title=tokenization&gt;tokenizer&lt;/a&gt; can again be run.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the
-       &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next input
+       character&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt;
-       by one (it should be zero before this step, so this sets it to
-       one).&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one (it should be zero
+       before this step, so this sets it to one).&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt;
-       &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; &lt;var title=&quot;&quot;&gt;the
+       script&lt;/var&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt;
-       by one. If the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is
-       zero (which it always should be at this point), then set the
-       &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one. If the parser's
+       &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is zero (which it always should be at this point), then set
+       the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be undefined
-       again.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be undefined again.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If there is once again a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
-       script&lt;/a&gt;, then repeat these steps from step 1.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If there is once again a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then repeat
+       these steps from step 1.&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/dd&gt;
 
@@ -93065,56 +92686,44 @@
   &lt;p&gt;Once the user agent &lt;dfn id=stop-parsing title=&quot;stop parsing&quot;&gt;stops parsing&lt;/dfn&gt;
   the document, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;!-- this happens as part of one of the tasks that runs the parser --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot; &lt;!-- this also synchronously fires an
-   event --&gt; and the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to
+  &lt;ol&gt;&lt;!-- this happens as part of one of the tasks that runs the parser --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#current-document-readiness&gt;current document readiness&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;
+   &lt;!-- this also synchronously fires an event --&gt; and the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to
    undefined.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;a href=#stack-of-open-elements&gt;stack of open
-   elements&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the
-   document has finished parsing&lt;/a&gt; is not empty, run these
-   substeps:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+   parsing&lt;/a&gt; is not empty, run these substeps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the first
-     &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/a&gt; has its
-     &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag set &lt;em&gt;and&lt;/em&gt;
-     the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that
-     is blocking scripts&lt;/a&gt;.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list
+     of scripts that will execute when the document has finished parsing&lt;/a&gt; has its &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready
+     to be parser-executed&quot;&lt;/a&gt; flag set &lt;em&gt;and&lt;/em&gt; the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+     &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking scripts&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the
-     first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; in
+     the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element from the
-     &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has
-     finished parsing&lt;/a&gt; (i.e. shift out the first entry in the
+     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element from the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will
+     execute when the document has finished parsing&lt;/a&gt; (i.e. shift out the first entry in the
      list).&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the
-     document has finished parsing&lt;/a&gt; is still not empty, repeat
-     these substeps again from substep 1.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;a href=#list-of-scripts-that-will-execute-when-the-document-has-finished-parsing&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/a&gt; is still not empty, repeat these substeps again from substep 1.&lt;/p&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-DOMContentLoaded&gt;DOMContentLoaded&lt;/code&gt; at the
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-DOMContentLoaded&gt;DOMContentLoaded&lt;/code&gt; at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the &lt;a href=#set-of-scripts-that-will-execute-as-soon-as-possible&gt;set of
-   scripts that will execute as soon as possible&lt;/a&gt; and the
-   &lt;a href=#list-of-scripts-that-will-execute-in-order-as-soon-as-possible&gt;list of scripts that will execute in order as soon as
-   possible&lt;/a&gt; are empty.&lt;/li&gt; &lt;!-- this step is not redundant
-   with the next one, since &lt;script&gt; nodes delay the load event of the
-   document they are in, but they might change document between being
-   added to one document's set/list and executing those scripts, so
-   they might be delaying another document but still be in this
-   document's set/list. --&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the &lt;a href=#set-of-scripts-that-will-execute-as-soon-as-possible&gt;set of scripts that will execute as soon
+   as possible&lt;/a&gt; and the &lt;a href=#list-of-scripts-that-will-execute-in-order-as-soon-as-possible&gt;list of scripts that will execute in order as soon as
+   possible&lt;/a&gt; are empty.&lt;/li&gt; &lt;!-- this step is not redundant with the next one, since
+   &lt;script&gt; nodes delay the load event of the document they are in, but they might change document
+   between being added to one document's set/list and executing those scripts, so they might be
+   delaying another document but still be in this document's set/list. --&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until there is nothing that
-   &lt;dfn id=delay-the-load-event title=&quot;delay the load event&quot;&gt;delays the load event&lt;/dfn&gt; in
-   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until there is nothing that &lt;dfn id=delay-the-load-event title=&quot;delay the load
+   event&quot;&gt;delays the load event&lt;/dfn&gt; in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -94118,17 +93727,14 @@
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//W3C//DTD&nbsp;XHTML&nbsp;1.1&nbsp;plus&nbsp;MathML&nbsp;2.0&nbsp;plus&nbsp;SVG&nbsp;1.1//EN&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//W3C//DTD&nbsp;MathML&nbsp;2.0//EN&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//WAPFORUM//DTD&nbsp;XHTML&nbsp;Mobile&nbsp;1.0//EN&lt;/code&gt;&lt;/li&gt;
-  &lt;/ul&gt;&lt;p&gt;Furthermore, user agents should attempt to retrieve the above
-  external entity's content when one of the above public identifiers
-  is used, and should not attempt to retrieve any other external
+  &lt;/ul&gt;&lt;p&gt;Furthermore, user agents should attempt to retrieve the above external entity's content when
+  one of the above public identifiers is used, and should not attempt to retrieve any other external
   entity's content.&lt;/p&gt;
 
-  &lt;p class=note&gt;This is not strictly a &lt;a href=#willful-violation title=&quot;willful
-  violation&quot;&gt;violation&lt;/a&gt; of the XML specification, but it does
-  contradict the spirit of the XML specification's requirements. This
-  is motivated by a desire for user agents to all handle entities in
-  an interoperable fashion without requiring any network access for
-  handling external subsets. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+  &lt;p class=note&gt;This is not strictly a &lt;a href=#willful-violation title=&quot;willful violation&quot;&gt;violation&lt;/a&gt; of the XML
+  specification, but it does contradict the spirit of the XML specification's requirements. This is
+  motivated by a desire for user agents to all handle entities in an interoperable fashion without
+  requiring any network access for handling external subsets. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p id=scriptTagXML&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; creates a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element, it
   must be marked as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and its &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag
@@ -94139,45 +93745,36 @@
   &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element. If this causes there to be a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
   script&lt;/a&gt;, then the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Block this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such
-   that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Block this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such that the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
+   will not run &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the parser's
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no style sheet that is blocking
-   scripts&lt;/a&gt; and the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
-   script&lt;/a&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is
-   set.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#spin-the-event-loop&gt;Spin the event loop&lt;/a&gt; until the parser's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#has-no-style-sheet-that-is-blocking-scripts&gt;has no
+   style sheet that is blocking scripts&lt;/a&gt; and the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+   script&lt;/a&gt;'s &lt;a href=#ready-to-be-parser-executed&gt;&quot;ready to be parser-executed&quot;&lt;/a&gt; flag is set.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such
-   that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it can
-   again be run.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;, such that &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that invoke it can again be run.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the
-   &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+   &lt;li&gt;&lt;p&gt;&lt;a href=#execute-the-script-block title=&quot;execute the script block&quot;&gt;Execute&lt;/a&gt; the &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
    script&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;There is no longer a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;.&lt;/li&gt;
+
   &lt;/ol&gt;&lt;p class=note&gt;Since the &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; API is not
-  available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in
-  the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; is not needed in the &lt;a href=#xml-parser&gt;XML
-  parser&lt;/a&gt;.&lt;/p&gt;
+  available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;
+  is not needed in the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the
-  parser&quot;&gt;spoon-feed the parser&lt;/dfn&gt; characters one string at a
-  time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act as it
-  would have if faced with a single string consisting of the
-  concatenation of all those characters.&lt;/p&gt;
+  &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the parser&quot;&gt;spoon-feed the
+  parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act
+  as it would have if faced with a single string consisting of the concatenation of all those
+  characters.&lt;/p&gt;
 
-  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; reaches the end of its input, it
-  must &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;, following the same rules as the
-  &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;. An &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; can also be
-  &lt;a href=#abort-a-parser title=&quot;abort a parser&quot;&gt;aborted&lt;/a&gt;, which must again by
-  done in the same way as for an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; reaches the end of its input, it must &lt;a href=#stop-parsing&gt;stop
+  parsing&lt;/a&gt;, following the same rules as the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;. An &lt;a href=#xml-parser&gt;XML
+  parser&lt;/a&gt; can also be &lt;a href=#abort-a-parser title=&quot;abort a parser&quot;&gt;aborted&lt;/a&gt;, which must again by done in
+  the same way as for an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of conformance checkers, if a resource is
-  determined to be in &lt;a href=#the-xhtml-syntax&gt;the XHTML syntax&lt;/a&gt;, then it is an
-  &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;For the purposes of conformance checkers, if a resource is determined to be in &lt;a href=#the-xhtml-syntax&gt;the XHTML
+  syntax&lt;/a&gt;, then it is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
 
 
 

Modified: source
===================================================================
--- source	2013-02-05 20:33:00 UTC (rev 7694)
+++ source	2013-02-05 22:23:45 UTC (rev 7695)
@@ -12720,30 +12720,24 @@
 
   &lt;h3&gt;Interactions with XPath and XSLT&lt;/h3&gt;
 
-  &lt;p id=&quot;xpath-1.0-processors&quot;&gt;Implementations of XPath 1.0 that
-  operate on &lt;span&gt;HTML documents&lt;/span&gt; parsed or created in the
-  manners described in this specification (e.g. as part of the &lt;code
-  title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the
-  following edit was applied to the XPath 1.0 specification.&lt;/p&gt;
+  &lt;p id=&quot;xpath-1.0-processors&quot;&gt;Implementations of XPath 1.0 that operate on &lt;span&gt;HTML
+  documents&lt;/span&gt; parsed or created in the manners described in this specification (e.g. as part of
+  the &lt;code title=&quot;&quot;&gt;document.evaluate()&lt;/code&gt; API) must act as if the following edit was applied
+  to the XPath 1.0 specification.&lt;/p&gt;
 
   &lt;p&gt;First, remove this paragraph:&lt;/p&gt;
 
   &lt;blockquote cite=&quot;<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests">http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests</A>&quot;&gt;
 
-   &lt;p&gt;A &lt;a
-   href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; in the
-   node test is expanded into an &lt;a
-   href=&quot;<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&quot;&gt;expanded-name&lt;/a&gt;
-   using the namespace declarations from the expression context.  This
-   is the same way expansion is done for element type names in start
-   and end-tags except that the default namespace declared with &lt;code
-   title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a
-   href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; does
-   not have a prefix, then the namespace URI is null (this is the same
-   way attribute names are expanded).  It is an error if the &lt;a
-   href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; has a
-   prefix for which there is no namespace declaration in the
-   expression context.&lt;/p&gt;
+   &lt;p&gt;A &lt;a href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; in the node test is expanded
+   into an &lt;a href=&quot;<A HREF="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name</A>&quot;&gt;expanded-name&lt;/a&gt;
+   using the namespace declarations from the expression context. This is the same way expansion is
+   done for element type names in start and end-tags except that the default namespace declared with
+   &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; is not used: if the &lt;a
+   href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; does not have a prefix, then the
+   namespace URI is null (this is the same way attribute names are expanded). It is an error if the
+   &lt;a href=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names#NT-QName">http://www.w3.org/TR/REC-xml-names#NT-QName</A>&quot;&gt;QName&lt;/a&gt; has a prefix for which there is
+   no namespace declaration in the expression context.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
@@ -12751,99 +12745,80 @@
 
   &lt;blockquote cite=&quot;<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37">http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37</A>&quot;&gt;
 
-   &lt;p&gt;A QName in the node test is expanded into an expanded-name using
-   the namespace declarations from the expression context. If the
-   QName has a prefix, then there must be a&lt;!-- added 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace
-   declaration for this prefix in the expression context, and the
-   corresponding&lt;!-- typo fixed 2009-10-27 -
-   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace
-   URI is the one that is associated with this prefix.  It is an error
-   if the QName has a prefix for which there is no namespace
-   declaration in the expression context. &lt;/p&gt;
+   &lt;p&gt;A QName in the node test is expanded into an expanded-name using the namespace declarations
+   from the expression context. If the QName has a prefix, then there must be a&lt;!-- added 2009-10-27
+   - <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062</A> --&gt; namespace declaration for this prefix in
+   the expression context, and the corresponding&lt;!-- typo fixed 2009-10-27 -
+   <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063">http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063</A> --&gt; namespace URI is the one that is
+   associated with this prefix. It is an error if the QName has a prefix for which there is no
+   namespace declaration in the expression context. &lt;/p&gt;
 
-   &lt;p&gt;If the QName has no prefix and the principal node type of the
-   axis is element, then the default element namespace is
-   used. Otherwise if the QName has no prefix, the namespace URI is
-   null. The default element namespace is a member of the context for
-   the XPath expression. The value of the default element namespace
-   when executing an XPath expression through the DOM3 XPath API is
-   determined in the following way:&lt;/p&gt;
+   &lt;p&gt;If the QName has no prefix and the principal node type of the axis is element, then the
+   default element namespace is used. Otherwise if the QName has no prefix, the namespace URI is
+   null. The default element namespace is a member of the context for the XPath expression. The
+   value of the default element namespace when executing an XPath expression through the DOM3 XPath
+   API is determined in the following way:&lt;/p&gt;
 
    &lt;ol&gt;
 
-    &lt;li&gt;If the context node is from an HTML DOM, the default element
-    namespace is &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
+    &lt;li&gt;If the context node is from an HTML DOM, the default element namespace is
+    &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;.&lt;/li&gt;
 
     &lt;li&gt;Otherwise, the default element namespace URI is null.&lt;/li&gt;
 
    &lt;/ol&gt;
 
-   &lt;p class=&quot;note&quot;&gt;This is equivalent to adding the default element
-   namespace feature of XPath 2.0 to XPath 1.0, and using the HTML
-   namespace as the default element namespace for HTML documents. It
-   is motivated by the desire to have implementations be compatible
-   with legacy HTML content while still supporting the changes that
-   this specification introduces to HTML regarding the namespace used
-   for HTML elements, and by the desire to use XPath 1.0 rather than
-   XPath 2.0.&lt;/p&gt;
+   &lt;p class=&quot;note&quot;&gt;This is equivalent to adding the default element namespace feature of XPath 2.0
+   to XPath 1.0, and using the HTML namespace as the default element namespace for HTML documents.
+   It is motivated by the desire to have implementations be compatible with legacy HTML content
+   while still supporting the changes that this specification introduces to HTML regarding the
+   namespace used for HTML elements, and by the desire to use XPath 1.0 rather than XPath 2.0.&lt;/p&gt;
 
   &lt;/blockquote&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This change is a &lt;span&gt;willful violation&lt;/span&gt; of
-  the XPath 1.0 specification, motivated by desire to have
-  implementations be compatible with legacy content while still
-  supporting the changes that this specification introduces to HTML
-  regarding which namespace is used for HTML elements. &lt;a
-  href=&quot;#refsXPATH10&quot;&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
+  &lt;p class=&quot;note&quot;&gt;This change is a &lt;span&gt;willful violation&lt;/span&gt; of the XPath 1.0 specification,
+  motivated by desire to have implementations be compatible with legacy content while still
+  supporting the changes that this specification introduces to HTML regarding which namespace is
+  used for HTML elements. &lt;a href=&quot;#refsXPATH10&quot;&gt;[XPATH10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for
   this ref --&gt;
 
   &lt;hr&gt;
 
-  &lt;p id=&quot;dom-based-xslt-1.0-processors&quot;&gt;XSLT 1.0 processors outputting
-  to a DOM when the output method is &quot;html&quot; (either explicitly or via
-  the defaulting rule in XSLT 1.0) are affected as follows:&lt;/p&gt;
+  &lt;p id=&quot;dom-based-xslt-1.0-processors&quot;&gt;XSLT 1.0 processors outputting to a DOM when the output
+  method is &quot;html&quot; (either explicitly or via the defaulting rule in XSLT 1.0) are affected as
+  follows:&lt;/p&gt;
 
-  &lt;p&gt;If the transformation program outputs an element in no namespace,
-  the processor must, prior to constructing the corresponding DOM
-  element node, change the namespace of the element to the &lt;span&gt;HTML
-  namespace&lt;/span&gt;, &lt;span title=&quot;converted to ASCII
-  lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt; the element's local name, and
-  &lt;span title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt;
-  the names of any non-namespaced attributes on the element.&lt;/p&gt;
+  &lt;p&gt;If the transformation program outputs an element in no namespace, the processor must, prior to
+  constructing the corresponding DOM element node, change the namespace of the element to the
+  &lt;span&gt;HTML namespace&lt;/span&gt;, &lt;span title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt; the
+  element's local name, and &lt;span title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt; the
+  names of any non-namespaced attributes on the element.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This requirement is a &lt;span&gt;willful violation&lt;/span&gt;
-  of the XSLT 1.0 specification, required because this specification
-  changes the namespaces and case-sensitivity rules of HTML in a
-  manner that would otherwise be incompatible with DOM-based XSLT
-  transformations. (Processors that serialize the output are
-  unaffected.) &lt;a href=&quot;#refsXSLT10&quot;&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note:
-  version matters for this ref --&gt;
+  &lt;p class=&quot;note&quot;&gt;This requirement is a &lt;span&gt;willful violation&lt;/span&gt; of the XSLT 1.0
+  specification, required because this specification changes the namespaces and case-sensitivity
+  rules of HTML in a manner that would otherwise be incompatible with DOM-based XSLT
+  transformations. (Processors that serialize the output are unaffected.) &lt;a
+  href=&quot;#refsXSLT10&quot;&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note: version matters for this ref --&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;This specification does not specify precisely how XSLT processing
-  interacts with the &lt;span&gt;HTML parser&lt;/span&gt; infrastructure (for
-  example, whether an XSLT processor acts as if it puts any elements
-  into a &lt;span&gt;stack of open elements&lt;/span&gt;). However, XSLT
-  processors must &lt;span&gt;stop parsing&lt;/span&gt; if they successfully
-  complete, and must set the &lt;span&gt;current document readiness&lt;/span&gt;
-  first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously
-  fires an event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!--
-  this also synchronously fires an event --&gt; if they are aborted.&lt;/p&gt;
+  &lt;p&gt;This specification does not specify precisely how XSLT processing interacts with the &lt;span&gt;HTML
+  parser&lt;/span&gt; infrastructure (for example, whether an XSLT processor acts as if it puts any
+  elements into a &lt;span&gt;stack of open elements&lt;/span&gt;). However, XSLT processors must &lt;span&gt;stop
+  parsing&lt;/span&gt; if they successfully complete, and must set the &lt;span&gt;current document
+  readiness&lt;/span&gt; first to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;&lt;!-- this synchronously fires an
+  event --&gt; and then to &quot;&lt;code title=&quot;&quot;&gt;complete&lt;/code&gt;&quot;&lt;!-- this also synchronously fires an event
+  --&gt; if they are aborted.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;This specification does not specify how XSLT interacts with the
-  &lt;span title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; algorithm, how it fits in
-  with the &lt;span&gt;event loop&lt;/span&gt;, nor how error pages are to be
-  handled (e.g. whether XSLT errors are to replace an incremental XSLT
+  &lt;p&gt;This specification does not specify how XSLT interacts with the &lt;span
+  title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; algorithm, how it fits in with the &lt;span&gt;event loop&lt;/span&gt;, nor
+  how error pages are to be handled (e.g. whether XSLT errors are to replace an incremental XSLT
   output, or are rendered inline, etc).&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;There are also additional non-normative comments
-  regarding the interaction of XSLT and HTML &lt;a
-  href=&quot;#scriptTagXSLT&quot;&gt;in the &lt;code&gt;script&lt;/code&gt; element
-  section&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;There are also additional non-normative comments regarding the interaction of XSLT
+  and HTML &lt;a href=&quot;#scriptTagXSLT&quot;&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -13109,29 +13084,27 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-document-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-document-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt; object is not flagged as an
-   &lt;span title=&quot;HTML documents&quot;&gt;HTML document&lt;/span&gt;, throw an
-   &lt;code&gt;InvalidStateError&lt;/code&gt; exception and abort these
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt; object is not flagged as an &lt;span title=&quot;HTML documents&quot;&gt;HTML
+   document&lt;/span&gt;, throw an &lt;code&gt;InvalidStateError&lt;/code&gt; exception and abort these
    steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;span&gt;script-created parser&lt;/span&gt; associated
-   with the document, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is no &lt;span&gt;script-created parser&lt;/span&gt; associated with the document, then abort
+   these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert an &lt;span&gt;explicit &quot;EOF&quot; character&lt;/span&gt; at the end
-   of the parser's &lt;span&gt;input stream&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Insert an &lt;span&gt;explicit &quot;EOF&quot; character&lt;/span&gt; at the end of the parser's &lt;span&gt;input
+   stream&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;,
-   then abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there is a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;, then abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are
-   emitted, and stopping when the tokenizer reaches the &lt;span&gt;explicit
-   &quot;EOF&quot; character&lt;/span&gt; or &lt;span title=&quot;spin the event loop&quot;&gt;spins
-   the event loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the tokenizer, processing resulting tokens as they are emitted, and stopping when the
+   tokenizer reaches the &lt;span&gt;explicit &quot;EOF&quot; character&lt;/span&gt; or &lt;span title=&quot;spin the event
+   loop&quot;&gt;spins the event loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -15347,16 +15320,13 @@
 
   &lt;h4 id=&quot;styling&quot;&gt;&lt;dfn title=&quot;styling processing model&quot;&gt;Styling&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;p&gt;The &lt;code&gt;link&lt;/code&gt; and &lt;code&gt;style&lt;/code&gt; elements can provide
-  styling information for the user agent to use when rendering the
-  document. The CSS and CSSOM specifications specify what styling
-  information is to be used by the user agent and how it is to be
-  used. &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt; &lt;a
-  href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;link&lt;/code&gt; and &lt;code&gt;style&lt;/code&gt; elements can provide styling information for the
+  user agent to use when rendering the document. The CSS and CSSOM specifications specify what
+  styling information is to be used by the user agent and how it is to be used. &lt;a
+  href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt; &lt;a href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;style&lt;/code&gt; and &lt;code&gt;link&lt;/code&gt; elements implement
-  the &lt;code&gt;LinkStyle&lt;/code&gt; interface. &lt;a
-  href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;style&lt;/code&gt; and &lt;code&gt;link&lt;/code&gt; elements implement the &lt;code&gt;LinkStyle&lt;/code&gt;
+  interface. &lt;a href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
 
@@ -15383,136 +15353,105 @@
 
    &lt;dt&gt;The style sheet type&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified
-   type. For &lt;code&gt;style&lt;/code&gt; elements, this is the same as the
-   &lt;code title=&quot;attr-style-type&quot;&gt;type&lt;/code&gt; content attribute's
-   value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
-   &lt;code&gt;link&lt;/code&gt; elements, this is the &lt;span
-   title=&quot;Content-Type&quot;&gt;Content-Type metadata of the specified
-   resource&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The style sheet type must be the same as the style's specified type. For
+   &lt;code&gt;style&lt;/code&gt; elements, this is the same as the &lt;code title=&quot;attr-style-type&quot;&gt;type&lt;/code&gt;
+   content attribute's value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted. For
+   &lt;code&gt;link&lt;/code&gt; elements, this is the &lt;span title=&quot;Content-Type&quot;&gt;Content-Type metadata of the
+   specified resource&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet location&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;link&lt;/code&gt; elements, the location must be the
-   result of &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; the
-   &lt;span&gt;URL&lt;/span&gt; given by the element's &lt;code
-   title=&quot;attr-link-href&quot;&gt;href&lt;/code&gt; content attribute, relative to
-   the element, or the empty string if that fails. For
-   &lt;code&gt;style&lt;/code&gt; elements, there is no location.&lt;/p&gt;&lt;/dd&gt; &lt;!--
-   note that this might not match the style sheet URL, if the base URL
-   has changed for instance --&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;link&lt;/code&gt; elements, the location must be the result of &lt;span title=&quot;resolve a
+   url&quot;&gt;resolving&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt; given by the element's &lt;code
+   title=&quot;attr-link-href&quot;&gt;href&lt;/code&gt; content attribute, relative to the element, or the empty
+   string if that fails. For &lt;code&gt;style&lt;/code&gt; elements, there is no location.&lt;/p&gt;&lt;/dd&gt; &lt;!-- note
+   that this might not match the style sheet URL, if the base URL has changed for instance --&gt;
 
    &lt;dt&gt;The style sheet media&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's
-   &lt;code title=&quot;&quot;&gt;media&lt;/code&gt; content attribute, or the empty string,
-   if the attribute is omitted.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The media must be the same as the value of the element's &lt;code title=&quot;&quot;&gt;media&lt;/code&gt;
+   content attribute, or the empty string, if the attribute is omitted.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet title&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's
-   &lt;code title=&quot;dom-title&quot;&gt;title&lt;/code&gt; content attribute, if the
-   attribute is present and has a non-empty value. If the attribute is
-   absent or its value is the empty string, then the style sheet does
-   not have a title (it is the empty string). The title is used for
-   defining &lt;span&gt;alternative style sheet sets&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The title must be the same as the value of the element's &lt;code
+   title=&quot;dom-title&quot;&gt;title&lt;/code&gt; content attribute, if the attribute is present and has a non-empty
+   value. If the attribute is absent or its value is the empty string, then the style sheet does not
+   have a title (it is the empty string). The title is used for defining &lt;span&gt;alternative style
+   sheet sets&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;The style sheet alternate flag&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;link&lt;/code&gt; elements, true if &lt;span&gt;the link is an
-   alternative stylesheet&lt;/span&gt;. In all other cases, false.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;For &lt;code&gt;link&lt;/code&gt; elements, true if &lt;span&gt;the link is an alternative
+   stylesheet&lt;/span&gt;. In all other cases, false.&lt;/p&gt;&lt;/dd&gt;
 
 &lt;!--
-   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt;
-   (not included, because I assume CSSOM will change to not require
-   this spec to initialise the value, but will instead initialise it
-   based on the other values)
+   &lt;dt&gt;The style sheet disabled flag&lt;/dt&gt; (not included, because I assume CSSOM will change to not
+   require this spec to initialise the value, but will instead initialise it based on the other
+   values)
 --&gt;
 
   &lt;/dl&gt;
 
   &lt;p&gt;The same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-LinkStyle-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;link&lt;/code&gt; and &lt;code&gt;style&lt;/code&gt; elements must
-  return false and do nothing on setting, if the &lt;code
-  title=&quot;dom-linkstyle-sheet&quot;&gt;sheet&lt;/code&gt; attribute of their
-  &lt;code&gt;LinkStyle&lt;/code&gt; interface is null. Otherwise, it must return
-  the value of the &lt;code&gt;StyleSheet&lt;/code&gt; interface's &lt;code
-  title=&quot;dom-stylesheet-disabled&quot;&gt;disabled&lt;/code&gt; attribute on
-  getting, and forward the new value to that same attribute on
-  setting.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-LinkStyle-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL attribute on
+  &lt;code&gt;link&lt;/code&gt; and &lt;code&gt;style&lt;/code&gt; elements must return false and do nothing on setting, if
+  the &lt;code title=&quot;dom-linkstyle-sheet&quot;&gt;sheet&lt;/code&gt; attribute of their &lt;code&gt;LinkStyle&lt;/code&gt;
+  interface is null. Otherwise, it must return the value of the &lt;code&gt;StyleSheet&lt;/code&gt; interface's
+  &lt;code title=&quot;dom-stylesheet-disabled&quot;&gt;disabled&lt;/code&gt; attribute on getting, and forward the new
+  value to that same attribute on setting.&lt;/p&gt;
 
-  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet
-  sets&quot;, the term &quot;default style sheet set&quot;, preferred stylesheets,
-  alternative stylesheets, persistent stylesheets, ordering of
-  stylesheets, dynamic additions/removals, window.styleSheets, style
-  sheets given by HTTP Link: headers, and the alternative style sheet
-  API --&gt;
+  &lt;!-- [CSSOM] covers the following: the term &quot;alternative style sheet sets&quot;, the term &quot;default
+  style sheet set&quot;, preferred stylesheets, alternative stylesheets, persistent stylesheets, ordering
+  of stylesheets, dynamic additions/removals, window.styleSheets, style sheets given by HTTP Link:
+  headers, and the alternative style sheet API --&gt;
 
-  &lt;p id=&quot;alternate-style-sheets&quot;&gt;The rules for handling alternative
-  style sheets are defined in the CSS object model specification. &lt;a
-  href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
+  &lt;p id=&quot;alternate-style-sheets&quot;&gt;The rules for handling alternative style sheets are defined in the
+  CSS object model specification. &lt;a href=&quot;#refsCSSOM&quot;&gt;[CSSOM]&lt;/a&gt;&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;Style sheets, whether added by a &lt;code&gt;link&lt;/code&gt; element, a
-  &lt;code&gt;style&lt;/code&gt; element, an &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI,
-  an HTTP &lt;code title=&quot;http-link&quot;&gt;Link:&lt;/code&gt; header, or some other
-  mechanism, have a &lt;dfn&gt;style sheet ready&lt;/dfn&gt; flag, which is
-  initially unset.&lt;/p&gt;
+  &lt;p&gt;Style sheets, whether added by a &lt;code&gt;link&lt;/code&gt; element, a &lt;code&gt;style&lt;/code&gt; element, an
+  &lt;code&gt;&lt;?xml-stylesheet&gt;&lt;/code&gt; PI, an HTTP &lt;code title=&quot;http-link&quot;&gt;Link:&lt;/code&gt; header, or some
+  other mechanism, have a &lt;dfn&gt;style sheet ready&lt;/dfn&gt; flag, which is initially unset.&lt;/p&gt;
 
-  &lt;p&gt;When a style sheet is ready to be applied, its &lt;span&gt;style sheet
-  ready&lt;/span&gt; flag must be set. If the style sheet referenced no
-  other resources (e.g. it was an internal style sheet given by a
-  &lt;code&gt;style&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt;
-  rules), then the style rules must be synchronously made available to
-  script; otherwise, the style rules must only be made available to
-  script once the &lt;span&gt;event loop&lt;/span&gt; reaches its &quot;update the
-  rendering&quot; step.&lt;/p&gt;
+  &lt;p&gt;When a style sheet is ready to be applied, its &lt;span&gt;style sheet ready&lt;/span&gt; flag must be set.
+  If the style sheet referenced no other resources (e.g. it was an internal style sheet given by a
+  &lt;code&gt;style&lt;/code&gt; element with no &lt;code title=&quot;&quot;&gt;@import&lt;/code&gt; rules), then the style rules must
+  be synchronously made available to script; otherwise, the style rules must only be made available
+  to script once the &lt;span&gt;event loop&lt;/span&gt; reaches its &quot;update the rendering&quot; step.&lt;/p&gt;
 
-  &lt;p&gt;A style sheet in the context of the &lt;code&gt;Document&lt;/code&gt; of an
-  &lt;span&gt;HTML parser&lt;/span&gt; or &lt;span&gt;XML parser&lt;/span&gt; is said to be
-  &lt;dfn&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the element was
-  created by that &lt;code&gt;Document&lt;/code&gt;'s parser, and the element is
-  either a &lt;code&gt;style&lt;/code&gt; element or a &lt;code&gt;link&lt;/code&gt; element
-  that was an &lt;span title=&quot;rel-stylesheet&quot;&gt;external resource link that
-  contributes to the styling processing model&lt;/span&gt; when the element
-  was created by the parser, and the element's style sheet was enabled
-  when the element was created by the parser, and the element's
-  &lt;span&gt;style sheet ready&lt;/span&gt; flag is not yet set, and, the last
-  time the &lt;span&gt;event loop&lt;/span&gt; reached step 1, the element was
-  &lt;span title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;,
-  and the user agent hasn't given up on that particular style sheet
-  yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
+  &lt;p&gt;A style sheet in the context of the &lt;code&gt;Document&lt;/code&gt; of an &lt;span&gt;HTML parser&lt;/span&gt; or
+  &lt;span&gt;XML parser&lt;/span&gt; is said to be &lt;dfn&gt;a style sheet that is blocking scripts&lt;/dfn&gt; if the
+  element was created by that &lt;code&gt;Document&lt;/code&gt;'s parser, and the element is either a
+  &lt;code&gt;style&lt;/code&gt; element or a &lt;code&gt;link&lt;/code&gt; element that was an &lt;span
+  title=&quot;rel-stylesheet&quot;&gt;external resource link that contributes to the styling processing
+  model&lt;/span&gt; when the element was created by the parser, and the element's style sheet was enabled
+  when the element was created by the parser, and the element's &lt;span&gt;style sheet ready&lt;/span&gt; flag
+  is not yet set, and, the last time the &lt;span&gt;event loop&lt;/span&gt; reached step 1, the element was
+  &lt;span title=&quot;in a document&quot;&gt;in that &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;, and the user agent hasn't given
+  up on that particular style sheet yet. A user agent may give up on a style sheet at any time.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Giving up on a style sheet before the style sheet
-  loads, if the style sheet eventually does still load, means that the
-  script might end up operating with incorrect information. For
-  example, if a style sheet sets the color of an element to green, but
-  a script that inspects the resulting style is executed before the
-  sheet is loaded, the script will find that the element is black (or
-  whatever the default color is), and might thus make poor choices
-  (e.g. deciding to use black as the color elsewhere on the page,
-  instead of green). Implementors have to balance the likelihood of a
-  script using incorrect information with the performance impact of
-  doing nothing while waiting for a slow network request to
-  finish.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;Giving up on a style sheet before the style sheet loads, if the style sheet
+  eventually does still load, means that the script might end up operating with incorrect
+  information. For example, if a style sheet sets the color of an element to green, but a script
+  that inspects the resulting style is executed before the sheet is loaded, the script will find
+  that the element is black (or whatever the default color is), and might thus make poor choices
+  (e.g. deciding to use black as the color elsewhere on the page, instead of green). Implementors
+  have to balance the likelihood of a script using incorrect information with the performance impact
+  of doing nothing while waiting for a slow network request to finish.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;Document&lt;/code&gt; &lt;dfn&gt;has a style sheet that is blocking
-  scripts&lt;/dfn&gt; if there is either &lt;span&gt;a style sheet that is
-  blocking scripts&lt;/span&gt; in the context of that
-  &lt;code&gt;Document&lt;/code&gt;, or if that &lt;code&gt;Document&lt;/code&gt; is in a
-  &lt;span&gt;browsing context&lt;/span&gt; that has a &lt;span&gt;parent browsing
-  context&lt;/span&gt;, and the &lt;span&gt;active document&lt;/span&gt; of that
-  &lt;span&gt;parent browsing context&lt;/span&gt; itself &lt;span&gt;has a style sheet
-  that is blocking scripts&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;Document&lt;/code&gt; &lt;dfn&gt;has a style sheet that is blocking scripts&lt;/dfn&gt; if there is
+  either &lt;span&gt;a style sheet that is blocking scripts&lt;/span&gt; in the context of that
+  &lt;code&gt;Document&lt;/code&gt;, or if that &lt;code&gt;Document&lt;/code&gt; is in a &lt;span&gt;browsing context&lt;/span&gt; that
+  has a &lt;span&gt;parent browsing context&lt;/span&gt;, and the &lt;span&gt;active document&lt;/span&gt; of that
+  &lt;span&gt;parent browsing context&lt;/span&gt; itself &lt;span&gt;has a style sheet that is blocking
+  scripts&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;Document&lt;/code&gt; &lt;dfn&gt;has no style sheet that is blocking
-  scripts&lt;/dfn&gt; if it does not &lt;span title=&quot;has a style sheet that is
-  blocking scripts&quot;&gt;have a style sheet that is blocking scripts&lt;/span&gt;
-  as defined in the previous paragraph.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;Document&lt;/code&gt; &lt;dfn&gt;has no style sheet that is blocking scripts&lt;/dfn&gt; if it does not
+  &lt;span title=&quot;has a style sheet that is blocking scripts&quot;&gt;have a style sheet that is blocking
+  scripts&lt;/span&gt; as defined in the previous paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -30886,8 +30825,8 @@
       &lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
       title=&quot;event-media-loadedmetadata&quot;&gt;loadedmetadata&lt;/code&gt; at the element.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;Before this task is run, as part of the event loop mechanism, the rendering
-      will have been updated to resize the &lt;code&gt;video&lt;/code&gt; element if appropriate.&lt;/p&gt;
+      &lt;p class=&quot;note&quot;&gt;Before this task is run, as part of the &lt;span&gt;event loop&lt;/span&gt; mechanism, the
+      rendering will have been updated to resize the &lt;code&gt;video&lt;/code&gt; element if appropriate.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -34664,75 +34603,59 @@
 
   &lt;/dl&gt;
 
-  &lt;p&gt;If the &lt;span&gt;text track mode&lt;/span&gt; of the &lt;span&gt;text
-  track&lt;/span&gt; that the &lt;code&gt;TextTrack&lt;/code&gt; object represents is
-  not the &lt;span&gt;text track disabled&lt;/span&gt; mode, then the &lt;dfn
-  title=&quot;dom-TextTrack-cues&quot;&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must
-  return a &lt;span&gt;live&lt;/span&gt; &lt;code&gt;TextTrackCueList&lt;/code&gt; object that
-  represents the subset of the &lt;span&gt;text track list of cues&lt;/span&gt; of
-  the &lt;span&gt;text track&lt;/span&gt; that the &lt;code&gt;TextTrack&lt;/code&gt; object
-  represents whose &lt;span title=&quot;text track cue end time&quot;&gt;end
-  times&lt;/span&gt; occur at or after the &lt;span&gt;earliest possible position
-  when the script started&lt;/span&gt;, in &lt;span&gt;text track cue
-  order&lt;/span&gt;. Otherwise, it must return null. When an object is
-  returned, the same object must be returned each time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;span&gt;text track mode&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
+  &lt;code&gt;TextTrack&lt;/code&gt; object represents is not the &lt;span&gt;text track disabled&lt;/span&gt; mode, then
+  the &lt;dfn title=&quot;dom-TextTrack-cues&quot;&gt;&lt;code&gt;cues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;span&gt;live&lt;/span&gt; &lt;code&gt;TextTrackCueList&lt;/code&gt; object that represents the subset of the
+  &lt;span&gt;text track list of cues&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
+  &lt;code&gt;TextTrack&lt;/code&gt; object represents whose &lt;span title=&quot;text track cue end time&quot;&gt;end
+  times&lt;/span&gt; occur at or after the &lt;span&gt;earliest possible position when the script
+  started&lt;/span&gt;, in &lt;span&gt;text track cue order&lt;/span&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;earliest possible position when the script started&lt;/dfn&gt;
-  is whatever the &lt;span&gt;earliest possible position&lt;/span&gt; was the last
-  time the &lt;span&gt;event loop&lt;/span&gt; reached step 1.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;earliest possible position when the script started&lt;/dfn&gt; is whatever the
+  &lt;span&gt;earliest possible position&lt;/span&gt; was the last time the &lt;span&gt;event loop&lt;/span&gt; reached step
+  1.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;span&gt;text track mode&lt;/span&gt; of the &lt;span&gt;text
-  track&lt;/span&gt; that the &lt;code&gt;TextTrack&lt;/code&gt; object represents is
-  not the &lt;span&gt;text track disabled&lt;/span&gt; mode, then the &lt;dfn
-  title=&quot;dom-TextTrack-activeCues&quot;&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return a &lt;span&gt;live&lt;/span&gt;
-  &lt;code&gt;TextTrackCueList&lt;/code&gt; object that represents the subset of
-  the &lt;span&gt;text track list of cues&lt;/span&gt; of the &lt;span&gt;text
-  track&lt;/span&gt; that the &lt;code&gt;TextTrack&lt;/code&gt; object represents
-  whose &lt;span&gt;active flag was set when the script started&lt;/span&gt;, in
-  &lt;span&gt;text track cue order&lt;/span&gt;. Otherwise, it must return
-  null. When an object is returned, the same object must be returned
-  each time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;span&gt;text track mode&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
+  &lt;code&gt;TextTrack&lt;/code&gt; object represents is not the &lt;span&gt;text track disabled&lt;/span&gt; mode, then
+  the &lt;dfn title=&quot;dom-TextTrack-activeCues&quot;&gt;&lt;code&gt;activeCues&lt;/code&gt;&lt;/dfn&gt; attribute must return a
+  &lt;span&gt;live&lt;/span&gt; &lt;code&gt;TextTrackCueList&lt;/code&gt; object that represents the subset of the
+  &lt;span&gt;text track list of cues&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
+  &lt;code&gt;TextTrack&lt;/code&gt; object represents whose &lt;span&gt;active flag was set when the script
+  started&lt;/span&gt;, in &lt;span&gt;text track cue order&lt;/span&gt;. Otherwise, it must return null. When an
+  object is returned, the same object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;span&gt;text track cue&lt;/span&gt;'s &lt;dfn&gt;active flag was set when
-  the script started&lt;/dfn&gt; if its &lt;span&gt;text track cue active
-  flag&lt;/span&gt; was set the last time the &lt;span&gt;event loop&lt;/span&gt;
-  reached step 1.&lt;/p&gt;
+  &lt;p&gt;A &lt;span&gt;text track cue&lt;/span&gt;'s &lt;dfn&gt;active flag was set when the script started&lt;/dfn&gt; if its
+  &lt;span&gt;text track cue active flag&lt;/span&gt; was set the last time the &lt;span&gt;event loop&lt;/span&gt; reached
+  step 1.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrack-addCue&quot;&gt;&lt;code&gt;addCue(&lt;var
-  title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of &lt;code&gt;TextTrack&lt;/code&gt;
-  objects, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrack-addCue&quot;&gt;&lt;code&gt;addCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  of &lt;code&gt;TextTrack&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;span&gt;text
-   track list of cues&lt;/span&gt;, then remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from
-   that &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in a &lt;span&gt;text track list of cues&lt;/span&gt;, then
+   remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from that &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's
-   &lt;code&gt;TextTrack&lt;/code&gt; object's &lt;span&gt;text track&lt;/span&gt;'s
-   &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the method's &lt;code&gt;TextTrack&lt;/code&gt; object's &lt;span&gt;text
+   track&lt;/span&gt;'s &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-TextTrack-removeCue&quot;&gt;&lt;code&gt;removeCue(&lt;var
-  title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method of
-  &lt;code&gt;TextTrack&lt;/code&gt; objects, when invoked, must run the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrack-removeCue&quot;&gt;&lt;code&gt;removeCue(&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method of &lt;code&gt;TextTrack&lt;/code&gt; objects, when invoked, must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed
-   in the method's &lt;code&gt;TextTrack&lt;/code&gt; object's &lt;span&gt;text
-   track&lt;/span&gt;'s &lt;span&gt;text track list of cues&lt;/span&gt;, then throw a
-   &lt;code&gt;NotFoundError&lt;/code&gt; exception.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the given &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not currently listed in the method's
+   &lt;code&gt;TextTrack&lt;/code&gt; object's &lt;span&gt;text track&lt;/span&gt;'s &lt;span&gt;text track list of cues&lt;/span&gt;,
+   then throw a &lt;code&gt;NotFoundError&lt;/code&gt; exception.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's
-   &lt;code&gt;TextTrack&lt;/code&gt; object's &lt;span&gt;text track&lt;/span&gt;'s
-   &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; from the method's &lt;code&gt;TextTrack&lt;/code&gt; object's
+   &lt;span&gt;text track&lt;/span&gt;'s &lt;span&gt;text track list of cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -34740,13 +34663,11 @@
 
   &lt;div class=&quot;example&quot;&gt;
 
-   &lt;p&gt;In this example, an &lt;code&gt;audio&lt;/code&gt; element is used to play a
-   specific sound-effect from a sound file containing many sound
-   effects. A cue is used to pause the audio, so that it ends exactly
-   at the end of the clip, even if the browser is busy running some
-   script. If the page had relied on script to pause the audio, then
-   the start of the next clip might be heard if the browser was not
-   able to run the script at the exact time specified.&lt;/p&gt;
+   &lt;p&gt;In this example, an &lt;code&gt;audio&lt;/code&gt; element is used to play a specific sound-effect from a
+   sound file containing many sound effects. A cue is used to pause the audio, so that it ends
+   exactly at the end of the clip, even if the browser is busy running some script. If the page had
+   relied on script to pause the audio, then the start of the next clip might be heard if the
+   browser was not able to run the script at the exact time specified.&lt;/p&gt;
 
    &lt;pre&gt;var sfx = new Audio('sfx.wav');
 var sounds = sfx.addTextTrack('metadata');
@@ -34808,38 +34729,29 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;A &lt;code&gt;TextTrackCueList&lt;/code&gt; object represents a dynamically
-  updating list of &lt;span title=&quot;text track cue&quot;&gt;text track
-  cues&lt;/span&gt; in a given order.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;TextTrackCueList&lt;/code&gt; object represents a dynamically updating list of &lt;span
+  title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt; in a given order.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-TextTrackCueList-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of &lt;span title=&quot;text track
-  cue&quot;&gt;cues&lt;/span&gt; in the list represented by the
+  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCueList-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt; attribute must return
+  the number of &lt;span title=&quot;text track cue&quot;&gt;cues&lt;/span&gt; in the list represented by the
   &lt;code&gt;TextTrackCueList&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;span&gt;supported property indices&lt;/span&gt; of a
-  &lt;code&gt;TextTrackCueList&lt;/code&gt; object at any instant are the numbers
-  from zero to the number of &lt;span title=&quot;text track cue&quot;&gt;cues&lt;/span&gt;
-  in the list represented by the &lt;code&gt;TextTrackCueList&lt;/code&gt; object
-  minus one, if any. If there are no &lt;span title=&quot;text track
-  cue&quot;&gt;cues&lt;/span&gt; in the list, there are no &lt;span&gt;supported property
+  &lt;p&gt;The &lt;span&gt;supported property indices&lt;/span&gt; of a &lt;code&gt;TextTrackCueList&lt;/code&gt; object at any
+  instant are the numbers from zero to the number of &lt;span title=&quot;text track cue&quot;&gt;cues&lt;/span&gt; in the
+  list represented by the &lt;code&gt;TextTrackCueList&lt;/code&gt; object minus one, if any. If there are no
+  &lt;span title=&quot;text track cue&quot;&gt;cues&lt;/span&gt; in the list, there are no &lt;span&gt;supported property
   indices&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;To &lt;span&gt;determine the value of an indexed property&lt;/span&gt; for a
-  given index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return
-  the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;span&gt;text track cue&lt;/span&gt; in the
-  list represented by the &lt;code&gt;TextTrackCueList&lt;/code&gt; object.&lt;/p&gt;
+  &lt;p&gt;To &lt;span&gt;determine the value of an indexed property&lt;/span&gt; for a given index &lt;var
+  title=&quot;&quot;&gt;index&lt;/var&gt;, the user agent must return the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;span&gt;text track
+  cue&lt;/span&gt; in the list represented by the &lt;code&gt;TextTrackCueList&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-TextTrackCueList-getCueById&quot;&gt;&lt;code&gt;getCueById(&lt;var
-  title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument
-  other than the empty string, must return the first &lt;span&gt;text track
-  cue&lt;/span&gt; in the list represented by the
-  &lt;code&gt;TextTrackCueList&lt;/code&gt; object whose &lt;span&gt;text track cue
-  identifier&lt;/span&gt; is &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null
-  otherwise. If the argument is the empty string, then the method must
-  return null.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCueList-getCueById&quot;&gt;&lt;code&gt;getCueById(&lt;var
+  title=&quot;&quot;&gt;id&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when called with an argument other than the empty string,
+  must return the first &lt;span&gt;text track cue&lt;/span&gt; in the list represented by the
+  &lt;code&gt;TextTrackCueList&lt;/code&gt; object whose &lt;span&gt;text track cue identifier&lt;/span&gt; is &lt;var
+  title=&quot;&quot;&gt;id&lt;/var&gt;, if any, or null otherwise. If the argument is the empty string, then the method
+  must return null.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -38606,62 +38518,48 @@
 
   &lt;!--END dev-html--&gt;&lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;&lt;!--START dev-html--&gt;
 
-  &lt;p&gt;How accurately various aspects of the &lt;span&gt;media element&lt;/span&gt;
-  API are implemented is considered a quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;How accurately various aspects of the &lt;span&gt;media element&lt;/span&gt; API are implemented is
+  considered a quality-of-implementation issue.&lt;/p&gt;
 
-  &lt;p&gt;For example, when implementing the &lt;code
-  title=&quot;attr-media-buffered&quot;&gt;buffered&lt;/code&gt; attribute, how precise
-  an implementation reports the ranges that have been buffered depends
-  on how carefully the user agent inspects the data. Since the API
-  reports ranges as times, but the data is obtained in byte streams, a
-  user agent receiving a variable-bit-rate stream might only be able
-  to determine precise times by actually decoding all of the data.
-  User agents aren't required to do this, however; they can instead
-  return estimates (e.g. based on the average bit rate seen so far)
-  which get revised as more information becomes available.&lt;/p&gt;
+  &lt;p&gt;For example, when implementing the &lt;code title=&quot;attr-media-buffered&quot;&gt;buffered&lt;/code&gt; attribute,
+  how precise an implementation reports the ranges that have been buffered depends on how carefully
+  the user agent inspects the data. Since the API reports ranges as times, but the data is obtained
+  in byte streams, a user agent receiving a variable-bit-rate stream might only be able to determine
+  precise times by actually decoding all of the data. User agents aren't required to do this,
+  however; they can instead return estimates (e.g. based on the average bit rate seen so far) which
+  get revised as more information becomes available.&lt;/p&gt;
 
-  &lt;p&gt;As a general rule, user agents are urged to be conservative
-  rather than optimistic. For example, it would be bad to report that
-  everything had been buffered when it had not.&lt;/p&gt;
+  &lt;p&gt;As a general rule, user agents are urged to be conservative rather than optimistic. For
+  example, it would be bad to report that everything had been buffered when it had not.&lt;/p&gt;
 
-  &lt;p&gt;Another quality-of-implementation issue would be playing a video
-  backwards when the codec is designed only for forward playback (e.g.
-  there aren't many key frames, and they are far apart, and the
-  intervening frames only have deltas from the previous frame). User
-  agents could do a poor job, e.g. only showing key frames; however,
-  better implementations would do more work and thus do a better job,
-  e.g. actually decoding parts of the video forwards, storing the
-  complete frames, and then playing the frames backwards.&lt;/p&gt;
+  &lt;p&gt;Another quality-of-implementation issue would be playing a video backwards when the codec is
+  designed only for forward playback (e.g. there aren't many key frames, and they are far apart, and
+  the intervening frames only have deltas from the previous frame). User agents could do a poor job,
+  e.g. only showing key frames; however, better implementations would do more work and thus do a
+  better job, e.g. actually decoding parts of the video forwards, storing the complete frames, and
+  then playing the frames backwards.&lt;/p&gt;
 
-  &lt;p&gt;Similarly, while implementations are allowed to drop buffered
-  data at any time (there is no requirement that a user agent keep all
-  the media data obtained for the lifetime of the media element), it
-  is again a quality of implementation issue: user agents with
-  sufficient resources to keep all the data around are encouraged to
-  do so, as this allows for a better user experience. For example, if
-  the user is watching a live stream, a user agent could allow the
-  user only to view the live video; however, a better user agent would
-  buffer everything and allow the user to seek through the earlier
-  material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
+  &lt;p&gt;Similarly, while implementations are allowed to drop buffered data at any time (there is no
+  requirement that a user agent keep all the media data obtained for the lifetime of the media
+  element), it is again a quality of implementation issue: user agents with sufficient resources to
+  keep all the data around are encouraged to do so, as this allows for a better user experience. For
+  example, if the user is watching a live stream, a user agent could allow the user only to view the
+  live video; however, a better user agent would buffer everything and allow the user to seek
+  through the earlier material, pause it, play it forwards and backwards, etc.&lt;/p&gt;
 
-  &lt;p&gt;When multiple tracks are synchronised with a
-  &lt;code&gt;MediaController&lt;/code&gt;, it is possible for scripts to add and
-  remove media elements from the &lt;code&gt;MediaController&lt;/code&gt;'s list
-  of &lt;span&gt;slaved media elements&lt;/span&gt;, even while these tracks are
-  playing. How smoothly the media plays back in such situations is
-  another quality-of-implementation issue.&lt;/p&gt;
+  &lt;p&gt;When multiple tracks are synchronised with a &lt;code&gt;MediaController&lt;/code&gt;, it is possible for
+  scripts to add and remove media elements from the &lt;code&gt;MediaController&lt;/code&gt;'s list of
+  &lt;span&gt;slaved media elements&lt;/span&gt;, even while these tracks are playing. How smoothly the media
+  plays back in such situations is another quality-of-implementation issue.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a &lt;span&gt;media element&lt;/span&gt; that is paused is &lt;span
-  title=&quot;remove an element from a document&quot;&gt;removed from a
-  document&lt;/span&gt; and not reinserted before the next time the
-  &lt;span&gt;event loop&lt;/span&gt; spins, implementations that are resource
-  constrained are encouraged to take that opportunity to release all
-  hardware resources (like video planes, networking resources, and
-  data buffers) used by the &lt;span&gt;media element&lt;/span&gt;. (User agents
-  still have to keep track of the playback position and so forth,
-  though, in case playback is later restarted.)&lt;/p&gt;
+  &lt;p&gt;When a &lt;span&gt;media element&lt;/span&gt; that is paused is &lt;span title=&quot;remove an element from a
+  document&quot;&gt;removed from a document&lt;/span&gt; and not reinserted before the next time the &lt;span&gt;event
+  loop&lt;/span&gt; spins, implementations that are resource constrained are encouraged to take that
+  opportunity to release all hardware resources (like video planes, networking resources, and data
+  buffers) used by the &lt;span&gt;media element&lt;/span&gt;. (User agents still have to keep track of the
+  playback position and so forth, though, in case playback is later restarted.)&lt;/p&gt;
 
   &lt;/div&gt;
   
@@ -43837,17 +43735,15 @@
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
-   rectangle of the bounding box of the intended path.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the rectangle of the bounding box of
+   the intended path.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
-   element that is a rendered child of the &lt;code&gt;canvas&lt;/code&gt; element
-   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical element that is a rendered child
+   of the &lt;code&gt;canvas&lt;/code&gt; element whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
    rectangle&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var
-   title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/span&gt; with the &lt;var
-   title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into
+   view&lt;/span&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;Optionally, &lt;a href=&quot;#inform&quot;&gt;inform the user&lt;/a&gt; that the caret or selection (or both)
    cover &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; of the canvas. If the
@@ -43859,18 +43755,14 @@
 
   &lt;/ol&gt;
 
-  &lt;p class=&quot;note&quot; id=&quot;inform&quot;&gt;&quot;Inform the user&quot;, as used in this
-  section, could mean calling a system accessibility API, which would
-  notify assistive technologies such as magnification tools. To
-  properly drive magnification based on a focus change, a system
-  accessibility API driving a screen magnifier needs the bounds for
-  the newly focused object. The methods above are intended to enable
-  this by allowing the user agent to report the bounding box of the
-  path used to render the focus ring as the bounds of the &lt;var
-  title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
-  element is focused, and the bounding box of the area to which the
-  user agent is scrolling as the bounding box of the current
-  selection.&lt;/p&gt;
+  &lt;p class=&quot;note&quot; id=&quot;inform&quot;&gt;&quot;Inform the user&quot;, as used in this section, could mean calling a
+  system accessibility API, which would notify assistive technologies such as magnification tools.
+  To properly drive magnification based on a focus change, a system accessibility API driving a
+  screen magnifier needs the bounds for the newly focused object. The methods above are intended to
+  enable this by allowing the user agent to report the bounding box of the path used to render the
+  focus ring as the bounds of the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; element passed as an argument, if that
+  element is focused, and the bounding box of the area to which the user agent is scrolling as the
+  bounding box of the current selection.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -43880,9 +43772,8 @@
   be implicitly closed when computing the clipping region, without affecting the actual subpaths.
   The new clipping region replaces the current clipping region.&lt;/p&gt;
 
-  &lt;p&gt;When the context is initialized, the clipping region must be set
-  to the rectangle with the top left corner at (0,0) and the width and
-  height of the coordinate space.&lt;/p&gt;
+  &lt;p&gt;When the context is initialized, the clipping region must be set to the rectangle with the top
+  left corner at (0,0) and the width and height of the coordinate space.&lt;/p&gt;
 
   &lt;!-- v6
    Jordan OSETE suggests:
@@ -80577,25 +80468,23 @@
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;p&gt;A &lt;code&gt;Document&lt;/code&gt; has a &lt;dfn
-  title=&quot;concept-document-salvageable&quot;&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt;
-  state, which must initially be true, a &lt;dfn&gt;fired unload&lt;/dfn&gt; flag,
-  which must initially be false, and a &lt;dfn&gt;page showing&lt;/dfn&gt; flag,
-  which must initially be false.&lt;/p&gt;
+  title=&quot;concept-document-salvageable&quot;&gt;&lt;var&gt;salvageable&lt;/var&gt;&lt;/dfn&gt; state, which must initially be
+  true, a &lt;dfn&gt;fired unload&lt;/dfn&gt; flag, which must initially be false, and a &lt;dfn&gt;page showing&lt;/dfn&gt;
+  flag, which must initially be false.&lt;/p&gt;
 
-  &lt;p&gt;&lt;span title=&quot;event loop&quot;&gt;Event loops&lt;/span&gt; have a
-  &lt;dfn&gt;termination nesting level&lt;/dfn&gt; counter, which must initially
-  be zero.&lt;/p&gt;
+  &lt;p&gt;&lt;span title=&quot;event loop&quot;&gt;Event loops&lt;/span&gt; have a &lt;dfn&gt;termination nesting level&lt;/dfn&gt;
+  counter, which must initially be zero.&lt;/p&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;prompt to unload a document&lt;/dfn&gt;,
-  it must run the following steps.&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;prompt to unload a document&lt;/dfn&gt;, it must run the following
+  steps.&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination
-   nesting level&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;Document&lt;/code&gt;'s
-   &lt;span&gt;ignore-opens-during-unload counter&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;ignore-opens-during-unload counter&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; be a new &lt;span title=&quot;concept-events-trusted&quot;&gt;trusted&lt;/span&gt;
    &lt;code&gt;BeforeUnloadEvent&lt;/code&gt; event object with the name &lt;code
@@ -80604,103 +80493,87 @@
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Dispatch&lt;/i&gt;: &lt;span title=&quot;concept-event-dispatch&quot;&gt;Dispatch&lt;/span&gt; &lt;var
    title=&quot;&quot;&gt;event&lt;/var&gt; at the &lt;code&gt;Document&lt;/code&gt;'s &lt;code&gt;Window&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination
-   nesting level&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;dispatch&lt;/i&gt; step, then set the &lt;code&gt;Document&lt;/code&gt;'s &lt;var
-   title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state to
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;dispatch&lt;/i&gt; step, then set the
+   &lt;code&gt;Document&lt;/code&gt;'s &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state to
    false.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;code
-    title=&quot;dom-BeforeUnloadEvent-returnValue&quot;&gt;returnValue&lt;/code&gt;
-    attribute of the &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty
-    string, or if the event was canceled, then the user agent should
-    ask the user to confirm that they wish to unload the document.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=&quot;dom-BeforeUnloadEvent-returnValue&quot;&gt;returnValue&lt;/code&gt; attribute of the
+    &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; object is not the empty string, or if the event was canceled, then the
+    user agent should ask the user to confirm that they wish to unload the document.&lt;/p&gt;
 
-    &lt;p&gt;The prompt shown by the user agent may include the string of
-    the &lt;code
-    title=&quot;dom-BeforeUnloadEvent-returnValue&quot;&gt;returnValue&lt;/code&gt;
-    attribute, or some leading subset thereof. (A user agent may want
-    to truncate the string to 1024 characters for display, for
+    &lt;p&gt;The prompt shown by the user agent may include the string of the &lt;code
+    title=&quot;dom-BeforeUnloadEvent-returnValue&quot;&gt;returnValue&lt;/code&gt; attribute, or some leading subset
+    thereof. (A user agent may want to truncate the string to 1024 characters for display, for
     instance.)&lt;/p&gt;
 
-    &lt;p&gt;The user agent must &lt;span&gt;pause&lt;/span&gt; while waiting for the
-    user's response.&lt;/p&gt;
+    &lt;p&gt;The user agent must &lt;span&gt;pause&lt;/span&gt; while waiting for the user's response.&lt;/p&gt;
 
-    &lt;p&gt;If the user did not confirm the page navigation, then the user
-    agent &lt;dfn&gt;refused to allow the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
+    &lt;p&gt;If the user did not confirm the page navigation, then the user agent &lt;dfn&gt;refused to allow
+    the document to be unloaded&lt;/dfn&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;prompt to unload a document&quot; algorithm (i.e. through the steps
-   below that invoke this algorithm for all descendant browsing
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;prompt to unload a document&quot;
+   algorithm (i.e. through the steps below that invoke this algorithm for all descendant browsing
    contexts), then jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;span&gt;list of the
-   descendant browsing contexts&lt;/span&gt; of the
-   &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;span&gt;list of the descendant browsing
+   contexts&lt;/span&gt; of the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;span&gt;browsing
+    context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;prompt to unload a document&quot;&gt;Prompt to
-     unload&lt;/span&gt; the &lt;span&gt;active document&lt;/span&gt; of the
-     &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
-     &lt;span&gt;refused to allow the document to be unloaded&lt;/span&gt;, then
-     the user implicitly also &lt;span title=&quot;refused to allow the
-     document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document
-     to be unloaded&lt;/span&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;prompt to unload a document&quot;&gt;Prompt to unload&lt;/span&gt; the &lt;span&gt;active
+     document&lt;/span&gt; of the &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;. If the user
+     &lt;span&gt;refused to allow the document to be unloaded&lt;/span&gt;, then the user implicitly also &lt;span
+     title=&quot;refused to allow the document to be unloaded&quot;&gt;refused to allow &lt;em&gt;this&lt;/em&gt; document to
+     be unloaded&lt;/span&gt;; jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var
-     title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of
-     the &lt;span&gt;active document&lt;/span&gt; of the &lt;span&gt;browsing
-     context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var
-     title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of the &lt;span&gt;active
+     document&lt;/span&gt; of the &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/p&gt;&lt;/li&gt;
 
     &lt;/ol&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;Document&lt;/code&gt;'s
-   &lt;span&gt;ignore-opens-during-unload counter&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: Decrease the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;ignore-opens-during-unload
+   counter&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;unload a document&lt;/dfn&gt;, it must run
-  the following steps. These steps are passed an argument, &lt;var
-  title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false, indicating
-  whether the &lt;code&gt;Document&lt;/code&gt; object is going to be
-  re-used. (This is set by the &lt;code
-  title=&quot;dom-document-open&quot;&gt;document.open()&lt;/code&gt; method.)&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;unload a document&lt;/dfn&gt;, it must run the following steps. These
+  steps are passed an argument, &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;, which is either true or false,
+  indicating whether the &lt;code&gt;Document&lt;/code&gt; object is going to be re-used. (This is set by the
+  &lt;code title=&quot;dom-document-open&quot;&gt;document.open()&lt;/code&gt; method.)&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination
-   nesting level&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;Document&lt;/code&gt;'s
-   &lt;span&gt;ignore-opens-during-unload counter&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Increase the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;ignore-opens-during-unload counter&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;page showing&lt;/span&gt;
-   flag is false, then jump to the step labeled &lt;i&gt;unload event&lt;/i&gt;
-   below (i.e. skip firing the &lt;code
-   title=&quot;event-pagehide&quot;&gt;pagehide&lt;/code&gt; even and don't rerun the
-   &lt;span&gt;unloading document visibility change steps&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;page showing&lt;/span&gt; flag is false, then jump to the
+   step labeled &lt;i&gt;unload event&lt;/i&gt; below (i.e. skip firing the &lt;code
+   title=&quot;event-pagehide&quot;&gt;pagehide&lt;/code&gt; even and don't rerun the &lt;span&gt;unloading document
+   visibility change steps&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;page showing&lt;/span&gt;
-   flag to false.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;page showing&lt;/span&gt; flag to false.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;span title=&quot;concept-event-fire&quot;&gt;Fire&lt;/span&gt; a &lt;span
    title=&quot;concept-events-trusted&quot;&gt;trusted&lt;/span&gt; event with the name &lt;code
@@ -80713,64 +80586,54 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Run any &lt;dfn&gt;unloading document visibility change steps&lt;/dfn&gt;
-    for &lt;code&gt;Document&lt;/code&gt; that are defined by &lt;span&gt;other
-    applicable specifications&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Run any &lt;dfn&gt;unloading document visibility change steps&lt;/dfn&gt; for &lt;code&gt;Document&lt;/code&gt; that
+    are defined by &lt;span&gt;other applicable specifications&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;This is specifically intended for use by the Page
-    Visibility specification. &lt;a href=&quot;#refsPAGEVIS&quot;&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This is specifically intended for use by the Page Visibility specification. &lt;a
+    href=&quot;#refsPAGEVIS&quot;&gt;[PAGEVIS]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;Document&lt;/code&gt;'s
-   &lt;span&gt;fired unload&lt;/span&gt; flag is false, &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-unload&quot;&gt;unload&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Unload event&lt;/i&gt;: If the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;fired unload&lt;/span&gt; flag is
+   false, &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-unload&quot;&gt;unload&lt;/code&gt; at the
    &lt;code&gt;Document&lt;/code&gt;'s &lt;code&gt;Window&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Decrease the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination
-   nesting level&lt;/span&gt; by one.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Decrease the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; by
+   one.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier
-   &lt;i&gt;unload event&lt;/i&gt; step, then set the &lt;code&gt;Document&lt;/code&gt;
-   object's &lt;var
-   title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state to
-   false and set the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;fired unload&lt;/span&gt;
-   flag to true.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any event listeners were triggered by the earlier &lt;i&gt;unload event&lt;/i&gt; step, then set
+   the &lt;code&gt;Document&lt;/code&gt; object's &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt;
+   state to false and set the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;fired unload&lt;/span&gt; flag to
+   true.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Run any &lt;span&gt;unloading document cleanup steps&lt;/span&gt; for
-   &lt;code&gt;Document&lt;/code&gt; that are defined by this specification and
-   &lt;span&gt;other applicable specifications&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run any &lt;span&gt;unloading document cleanup steps&lt;/span&gt; for &lt;code&gt;Document&lt;/code&gt; that are
+   defined by this specification and &lt;span&gt;other applicable specifications&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the
-   &quot;unload a document&quot; algorithm (i.e. by the steps below that invoke
-   this algorithm for all descendant browsing contexts), then jump to
-   the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If this algorithm was invoked by another instance of the &quot;unload a document&quot; algorithm
+   (i.e. by the steps below that invoke this algorithm for all descendant browsing contexts), then
+   jump to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;span&gt;list of the
-   descendant browsing contexts&lt;/span&gt; of the
-   &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; be the &lt;span&gt;list of the descendant browsing
+   contexts&lt;/span&gt; of the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then
-    for each &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in
-    &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following substeps:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; is not an empty list, then for each &lt;span&gt;browsing
+    context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;descendants&lt;/var&gt; run the following
+    substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;unload a document&quot;&gt;Unload&lt;/span&gt; the
-     &lt;span&gt;active document&lt;/span&gt; of the &lt;span&gt;browsing context&lt;/span&gt;
-     &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;unload a document&quot;&gt;Unload&lt;/span&gt; the &lt;span&gt;active document&lt;/span&gt; of the
+     &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;recycle&lt;/var&gt;
      parameter set to false.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var
-     title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of
-     the &lt;span&gt;active document&lt;/span&gt; of the &lt;span&gt;browsing
-     context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set the &lt;var
-     title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of
-     &lt;em&gt;this&lt;/em&gt; document to false also.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of the &lt;span&gt;active
+     document&lt;/span&gt; of the &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; is false, then set
+     the &lt;var title=&quot;concept-document-salvageable&quot;&gt;salvageable&lt;/var&gt; state of &lt;em&gt;this&lt;/em&gt; document
+     to false also.&lt;/p&gt;&lt;/li&gt;
 
     &lt;/ol&gt;
 
@@ -84039,60 +83902,46 @@
 
   &lt;h5&gt;Definitions&lt;/h5&gt;
 
-  &lt;p&gt;To coordinate events, user interaction, scripts, rendering,
-  networking, and so forth, user agents must use &lt;dfn title=&quot;event
-  loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
+  &lt;p&gt;To coordinate events, user interaction, scripts, rendering, networking, and so forth, user
+  agents must use &lt;dfn title=&quot;event loop&quot;&gt;event loops&lt;/dfn&gt; as described in this section.&lt;/p&gt;
 
-  &lt;p&gt;There must be at least one &lt;span&gt;event loop&lt;/span&gt; per user
-  agent, and at most one &lt;span&gt;event loop&lt;/span&gt; per &lt;span&gt;unit of
-  related similar-origin browsing contexts&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;There must be at least one &lt;span&gt;event loop&lt;/span&gt; per user agent, and at most one &lt;span&gt;event
+  loop&lt;/span&gt; per &lt;span&gt;unit of related similar-origin browsing contexts&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;When there is more than one &lt;span&gt;event loop&lt;/span&gt;
-  for a &lt;span&gt;unit of related browsing contexts&lt;/span&gt;, complications
-  arise when a &lt;span&gt;browsing context&lt;/span&gt; in that group is &lt;span
-  title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; such that it switches from one
-  &lt;span&gt;unit of related similar-origin browsing contexts&lt;/span&gt; to
-  another. This specification does not currently describe how to
-  handle these complications.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;When there is more than one &lt;span&gt;event loop&lt;/span&gt; for a &lt;span&gt;unit of related
+  browsing contexts&lt;/span&gt;, complications arise when a &lt;span&gt;browsing context&lt;/span&gt; in that group
+  is &lt;span title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; such that it switches from one &lt;span&gt;unit of related
+  similar-origin browsing contexts&lt;/span&gt; to another. This specification does not currently describe
+  how to handle these complications.&lt;/p&gt;
 
-  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; always has at least one &lt;span&gt;browsing
-  context&lt;/span&gt;. If an &lt;span&gt;event loop&lt;/span&gt;'s &lt;span
-  title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt; all go away, then
-  the &lt;span&gt;event loop&lt;/span&gt; goes away as well. A &lt;span&gt;browsing
-  context&lt;/span&gt; always has an &lt;span&gt;event loop&lt;/span&gt; coordinating
-  its activities.&lt;/p&gt;
+  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; always has at least one &lt;span&gt;browsing context&lt;/span&gt;. If an
+  &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt; all go away,
+  then the &lt;span&gt;event loop&lt;/span&gt; goes away as well. A &lt;span&gt;browsing context&lt;/span&gt; always has an
+  &lt;span&gt;event loop&lt;/span&gt; coordinating its activities.&lt;/p&gt;
 
-  &lt;!--END complete--&gt;
-  &lt;p class=&quot;note&quot;&gt;Other specifications can define new kinds of event
-  loops that aren't associated with browsing contexts; in particular,
-  the Web Workers specification does so.&lt;/p&gt;
-  &lt;!--START complete--&gt;
+  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; has one or more &lt;dfn title=&quot;task queue&quot;&gt;task queues&lt;/dfn&gt;. A
+  &lt;span&gt;task queue&lt;/span&gt; is an ordered list of &lt;dfn title=&quot;concept-task&quot;&gt;tasks&lt;/dfn&gt;, which can
+  be:&lt;/p&gt;
 
-  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; has one or more &lt;dfn title=&quot;task
-  queue&quot;&gt;task queues&lt;/dfn&gt;. A &lt;span&gt;task queue&lt;/span&gt; is an ordered
-  list of &lt;dfn title=&quot;concept-task&quot;&gt;tasks&lt;/dfn&gt;, which can be:&lt;/p&gt;
-
   &lt;dl&gt;
 
    &lt;dt&gt;Events&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;Event&lt;/code&gt; object at a
-    particular &lt;code&gt;EventTarget&lt;/code&gt; object is a task.&lt;/p&gt;
+    &lt;p&gt;Asynchronously dispatching an &lt;code&gt;Event&lt;/code&gt; object at a particular
+    &lt;code&gt;EventTarget&lt;/code&gt; object is a task.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;Not all events are dispatched using the &lt;span&gt;task
-    queue&lt;/span&gt;, many are dispatched synchronously during other
-    tasks.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;Not all events are dispatched using the &lt;span&gt;task queue&lt;/span&gt;, many are
+    dispatched synchronously during other tasks.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
    &lt;dt&gt;Parsing&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The &lt;span&gt;HTML parser&lt;/span&gt; tokenizing one or more bytes,
-   and then processing any resulting tokens, is typically a
-   task.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;The &lt;span&gt;HTML parser&lt;/span&gt; tokenizing one or more bytes, and then processing any
+   resulting tokens, is typically a task.&lt;/p&gt;&lt;/dd&gt;
 
 
    &lt;dt&gt;Callbacks&lt;/dt&gt;
@@ -84102,89 +83951,71 @@
 
    &lt;dt&gt;Using a resource&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;span title=&quot;fetch&quot;&gt;fetches&lt;/span&gt; a
-   resource, if the fetching occurs asynchronously then the processing
-   of the resource once some or all of the resource is available is a
-   task.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;When an algorithm &lt;span title=&quot;fetch&quot;&gt;fetches&lt;/span&gt; a resource, if the fetching occurs
+   asynchronously then the processing of the resource once some or all of the resource is available
+   is a task.&lt;/p&gt;&lt;/dd&gt;
 
 
    &lt;dt&gt;Reacting to DOM manipulation&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM
-   manipulation, e.g. when that element is &lt;span title=&quot;insert an
-   element into a document&quot;&gt;inserted into the document&lt;/span&gt;.&lt;/p&gt;
+   &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM manipulation, e.g. when that
+   element is &lt;span title=&quot;insert an element into a document&quot;&gt;inserted into the document&lt;/span&gt;.&lt;/p&gt;
 
   &lt;/dl&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;queue a task&lt;/dfn&gt;, it must add the
-  given task to one of the &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;
-  of the relevant &lt;span&gt;event loop&lt;/span&gt;. All the tasks from one
-  particular &lt;dfn&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by
-  timers, the events fired for mouse movements, the tasks queued for
-  the parser) must always be added to the same &lt;span&gt;task
-  queue&lt;/span&gt;, but tasks from different &lt;span title=&quot;task
-  source&quot;&gt;task sources&lt;/span&gt; may be placed in different &lt;span
-  title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;span
+  title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; of the relevant &lt;span&gt;event loop&lt;/span&gt;. All the tasks from
+  one particular &lt;dfn&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
+  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;span&gt;task
+  queue&lt;/span&gt;, but tasks from different &lt;span title=&quot;task source&quot;&gt;task sources&lt;/span&gt; may be placed
+  in different &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;example&quot;&gt;For example, a user agent could have one
-  &lt;span&gt;task queue&lt;/span&gt; for mouse and key events (the &lt;span&gt;user
-  interaction task source&lt;/span&gt;), and another for everything
-  else. The user agent could then give keyboard and mouse events
-  preference over other tasks three quarters of the time, keeping the
-  interface responsive but not starving other task queues, and never
-  processing events from any one &lt;span&gt;task source&lt;/span&gt; out of
-  order.&lt;/p&gt;
+  &lt;p class=&quot;example&quot;&gt;For example, a user agent could have one &lt;span&gt;task queue&lt;/span&gt; for mouse and
+  key events (the &lt;span&gt;user interaction task source&lt;/span&gt;), and another for everything else. The
+  user agent could then give keyboard and mouse events preference over other tasks three quarters of
+  the time, keeping the interface responsive but not starving other task queues, and never
+  processing events from any one &lt;span&gt;task source&lt;/span&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span
-  title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; onto a &lt;span&gt;task queue&lt;/span&gt; of
-  an &lt;span&gt;event loop&lt;/span&gt; defined by this specification is
-  associated with a &lt;code&gt;Document&lt;/code&gt;; if the task was queued in
-  the context of an element, then it is the element's
-  &lt;code&gt;Document&lt;/code&gt;; if the task was queued in the context of a
-  &lt;span&gt;browsing context&lt;/span&gt;, then it is the &lt;span&gt;browsing
-  context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt; at the time the task
-  was queued; if the task was queued by or for a &lt;span
-  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; then the document is the
-  &lt;span&gt;script's document&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt;
+  onto a &lt;span&gt;task queue&lt;/span&gt; of an &lt;span&gt;event loop&lt;/span&gt; defined by this specification is
+  associated with a &lt;code&gt;Document&lt;/code&gt;; if the task was queued in the context of an element, then
+  it is the element's &lt;code&gt;Document&lt;/code&gt;; if the task was queued in the context of a
+  &lt;span&gt;browsing context&lt;/span&gt;, then it is the &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span&gt;active
+  document&lt;/span&gt; at the time the task was queued; if the task was queued by or for a &lt;span
+  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; then the document is the &lt;span&gt;script's document&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A user agent may have one &lt;dfn&gt;storage mutex&lt;/dfn&gt;. This mutex is
-  used to control access to shared state like cookies. At any one
-  point, the &lt;span&gt;storage mutex&lt;/span&gt; is either free, or owned by a
-  particular &lt;span&gt;event loop&lt;/span&gt; or instance of the &lt;span
+  &lt;p&gt;A user agent may have one &lt;dfn&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
+  shared state like cookies. At any one point, the &lt;span&gt;storage mutex&lt;/span&gt; is either free, or
+  owned by a particular &lt;span&gt;event loop&lt;/span&gt; or instance of the &lt;span
   title=&quot;fetch&quot;&gt;fetching&lt;/span&gt; algorithm.&lt;/p&gt;
 
-  &lt;p&gt;If a user agent does not implement a &lt;span&gt;storage mutex&lt;/span&gt;,
-  it is exempt from implementing the requirements that require it to
-  acquire or release it.&lt;/p&gt;
+  &lt;p&gt;If a user agent does not implement a &lt;span&gt;storage mutex&lt;/span&gt;, it is exempt from implementing
+  the requirements that require it to acquire or release it.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;User agent implementors have to make a choice
-  between two evils. On the one hand, not implementing the storage
-  mutex means that there is a risk of data corruption: a site could,
-  for instance, try to read a cookie, increment its value, then write
-  it back out, using the new value of the cookie as a unique
-  identifier for the session; if the site does this twice in two
-  different browser windows at the same time, it might end up using
-  the same &quot;unique&quot; identifier for both sessions, with potentially
-  disastrous effects. On the other hand, implementing the storage
-  mutex has potentially serious performance implications: whenever a
-  site uses Web Storage or cookies, all other sites that try to use
-  Web Storage or cookies are blocked until the first site finishes.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;User agent implementors have to make a choice between two evils. On the one hand,
+  not implementing the storage mutex means that there is a risk of data corruption: a site could,
+  for instance, try to read a cookie, increment its value, then write it back out, using the new
+  value of the cookie as a unique identifier for the session; if the site does this twice in two
+  different browser windows at the same time, it might end up using the same &quot;unique&quot; identifier for
+  both sessions, with potentially disastrous effects. On the other hand, implementing the storage
+  mutex has potentially serious performance implications: whenever a site uses Web Storage or
+  cookies, all other sites that try to use Web Storage or cookies are blocked until the first site
+  finishes.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; calls into
-  a &lt;span&gt;plugin&lt;/span&gt;, and whenever a &lt;span&gt;plugin&lt;/span&gt; calls into
-  a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;, the user agent must
-  release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; calls into a &lt;span&gt;plugin&lt;/span&gt;, and
+  whenever a &lt;span&gt;plugin&lt;/span&gt; calls into a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;, the user
+  agent must release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;
 
 
   &lt;h5&gt;Processing model&lt;/h5&gt;
 
-  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; must continually run through the
-  following steps for as long as it exists:&lt;/p&gt;
+  &lt;p&gt;An &lt;span&gt;event loop&lt;/span&gt; must continually run through the following steps for as long as it
+  exists:&lt;/p&gt;
 
   &lt;ol&gt;
 
    &lt;!-- if you add a step here, make sure to go through the spec updating references to the &quot;first
-   step&quot; of the event loop --&gt;
+   step&quot; or &quot;step 1&quot; of the event loop --&gt;
 
    &lt;li&gt;&lt;p&gt;Run the oldest &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; on one of the &lt;span&gt;event
    loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;, if any, ignoring tasks whose
@@ -84204,34 +84035,29 @@
 
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Provide a stable state&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;Document&lt;/code&gt; or &lt;span&gt;browsing context&lt;/span&gt; to reflect
-   the current state.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;Document&lt;/code&gt; or
+   &lt;span&gt;browsing context&lt;/span&gt; to reflect the current state.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;span&gt;event
-   loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Return to the first step of the &lt;span&gt;event loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;perform a microtask
-  checkpoint&lt;/dfn&gt;, if the &lt;span&gt;running mutation observers&lt;/span&gt;
-  flag is false, then the user agent must run the following steps:&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;perform a microtask checkpoint&lt;/dfn&gt;, if the &lt;span&gt;running
+  mutation observers&lt;/span&gt; flag is false, then the user agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;running mutation observers&lt;/span&gt; flag be
-   true.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;running mutation observers&lt;/span&gt; flag be true.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Sort the tables with pending sorts&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;span title=&quot;concept-mo-invoke&quot;&gt;Invoke
-    &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/span&gt; for the &lt;span&gt;unit
-    of related similar-origin browsing contexts&lt;/span&gt; to which the
-    &lt;span&gt;script's browsing context&lt;/span&gt; belongs.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;concept-mo-invoke&quot;&gt;Invoke &lt;code&gt;MutationObserver&lt;/code&gt; objects&lt;/span&gt; for the
+    &lt;span&gt;unit of related similar-origin browsing contexts&lt;/span&gt; to which the &lt;span&gt;script's
+    browsing context&lt;/span&gt; belongs.&lt;/p&gt;
 
     &lt;p class=&quot;note&quot;&gt;This will typically invoke scripted callbacks, which calls the &lt;span&gt;jump to a
     code entry-point&lt;/span&gt; algorithm, which calls this &lt;span&gt;perform a microtask checkpoint&lt;/span&gt;
@@ -84240,8 +84066,7 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;running mutation observers&lt;/span&gt; flag be
-   false.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;running mutation observers&lt;/span&gt; flag be false.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -84261,34 +84086,28 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;When an algorithm says to &lt;dfn&gt;spin the event loop&lt;/dfn&gt; until
-  a condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;When an algorithm says to &lt;dfn&gt;spin the event loop&lt;/dfn&gt; until a condition &lt;var
+  title=&quot;&quot;&gt;goal&lt;/var&gt; is met, the user agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;span&gt;task
-   source&lt;/span&gt; of the currently running &lt;span
-   title=&quot;concept-task&quot;&gt;task&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt; be the &lt;span&gt;task source&lt;/span&gt; of the currently
+   running &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Stop the currently running &lt;span
-    title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, allowing the &lt;span&gt;event
-    loop&lt;/span&gt; to resume, but continue these steps
-    asynchronously.&lt;/p&gt;
+    &lt;p&gt;Stop the currently running &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, allowing the &lt;span&gt;event
+    loop&lt;/span&gt; to resume, but continue these steps asynchronously.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;This causes the &lt;span&gt;event loop&lt;/span&gt; to move on
-    to the second step of its processing model (defined above).&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This causes the &lt;span&gt;event loop&lt;/span&gt; to move on to the second step of its
+    processing model (defined above).&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is
-   met.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to continue running these steps,
-   using the &lt;span&gt;task source&lt;/span&gt; &lt;var title=&quot;&quot;&gt;task
-   source&lt;/var&gt;. Wait until this task runs before continuing these
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to continue running these steps, using the &lt;span&gt;task
+   source&lt;/span&gt; &lt;var title=&quot;&quot;&gt;task source&lt;/var&gt;. Wait until this task runs before continuing these
    steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Return to the caller.&lt;/p&gt;&lt;/li&gt;
@@ -84297,50 +84116,41 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;Some of the algorithms in this specification, for historical
-  reasons, require the user agent to &lt;dfn&gt;pause&lt;/dfn&gt; while running a
-  &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; until a condition &lt;var
-  title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following
-  steps:&lt;/p&gt;
+  &lt;p&gt;Some of the algorithms in this specification, for historical reasons, require the user agent to
+  &lt;dfn&gt;pause&lt;/dfn&gt; while running a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; until a condition &lt;var
+  title=&quot;&quot;&gt;goal&lt;/var&gt; is met. This means running the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;span
-   title=&quot;await a stable state&quot;&gt;awaiting a stable state&lt;/span&gt;, then
-   run their &lt;span&gt;synchronous section&lt;/span&gt; and then resume running
-   their asynchronous algorithm. (See the &lt;span&gt;event loop&lt;/span&gt;
-   processing model definition above for details.)&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If any asynchronously-running algorithms are &lt;span title=&quot;await a stable state&quot;&gt;awaiting a
+   stable state&lt;/span&gt;, then run their &lt;span&gt;synchronous section&lt;/span&gt; and then resume running
+   their asynchronous algorithm. (See the &lt;span&gt;event loop&lt;/span&gt; processing model definition above
+   for details.)&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any
-   &lt;code&gt;Document&lt;/code&gt; or &lt;span&gt;browsing context&lt;/span&gt; to reflect
-   the current state.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If necessary, update the rendering or user interface of any &lt;code&gt;Document&lt;/code&gt; or
+   &lt;span&gt;browsing context&lt;/span&gt; to reflect the current state.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met.
-   While a user agent has a paused &lt;span
-   title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, the corresponding &lt;span&gt;event
-   loop&lt;/span&gt; must not run further &lt;span
-   title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;, and any script in the currently
-   running &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must block. User
-   agents should remain responsive to user input while paused,
-   however, albeit in a reduced capacity since the &lt;span&gt;event
-   loop&lt;/span&gt; will not be doing anything.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait until the condition &lt;var title=&quot;&quot;&gt;goal&lt;/var&gt; is met. While a user agent has a paused
+   &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, the corresponding &lt;span&gt;event loop&lt;/span&gt; must not run
+   further &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;, and any script in the currently running &lt;span
+   title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must block. User agents should remain responsive to user input
+   while paused, however, albeit in a reduced capacity since the &lt;span&gt;event loop&lt;/span&gt; will not be
+   doing anything.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;obtain the storage mutex&lt;/dfn&gt; as
-  part of running a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, it must
-  run through the following steps:&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;obtain the storage mutex&lt;/dfn&gt; as part of running a &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, it must run through the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;storage mutex&lt;/span&gt; is already owned by this
-   &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;'s &lt;span&gt;event loop&lt;/span&gt;,
-   then abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;storage mutex&lt;/span&gt; is already owned by this &lt;span
+   title=&quot;concept-task&quot;&gt;task&lt;/span&gt;'s &lt;span&gt;event loop&lt;/span&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, &lt;span&gt;pause&lt;/span&gt; until the &lt;span&gt;storage
-   mutex&lt;/span&gt; can be taken by the &lt;span&gt;event loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Otherwise, &lt;span&gt;pause&lt;/span&gt; until the &lt;span&gt;storage mutex&lt;/span&gt; can be taken by the
+   &lt;span&gt;event loop&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take ownership of the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -84353,9 +84163,8 @@
 
   &lt;h5&gt;Generic task sources&lt;/h5&gt;
 
-  &lt;p&gt;The following &lt;span title=&quot;task source&quot;&gt;task sources&lt;/span&gt; are
-  used by a number of mostly unrelated features in this and other
-  specifications.&lt;/p&gt;
+  &lt;p&gt;The following &lt;span title=&quot;task source&quot;&gt;task sources&lt;/span&gt; are used by a number of mostly
+  unrelated features in this and other specifications.&lt;/p&gt;
 
   &lt;dl&gt;
 
@@ -84363,9 +84172,8 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that react
-    to DOM manipulations, such as things that happen asynchronously
-    when an element is &lt;span title=&quot;insert an element into a
+    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that react to DOM manipulations, such as
+    things that happen asynchronously when an element is &lt;span title=&quot;insert an element into a
     document&quot;&gt;inserted into the document&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -84374,15 +84182,14 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that react
-    to user interaction, for example keyboard or mouse input.&lt;/p&gt;
+    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that react to user interaction, for
+    example keyboard or mouse input.&lt;/p&gt;
 
     &lt;p&gt;Asynchronous events sent in response to user input (e.g. &lt;code
-    title=&quot;event-click&quot;&gt;click&lt;/code&gt; events) must be fired using
-    &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; &lt;span title=&quot;queue a
-    task&quot;&gt;queued&lt;/span&gt; with the &lt;span&gt;user interaction task
-    source&lt;/span&gt;. &lt;a href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
-    &lt;!-- user interaction events integration point --&gt;
+    title=&quot;event-click&quot;&gt;click&lt;/code&gt; events) must be fired using &lt;span
+    title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; with the &lt;span&gt;user
+    interaction task source&lt;/span&gt;. &lt;a href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user
+    interaction events integration point --&gt;
 
    &lt;/dd&gt;
 
@@ -84390,11 +84197,9 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that trigger
-    in response to network activity.&lt;/p&gt;
+    &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used for features that trigger in response to network
+    activity.&lt;/p&gt;
 
-    &lt;!-- XHR should use this --&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;The &lt;dfn&gt;history traversal task source&lt;/dfn&gt;&lt;/dt&gt;
@@ -84402,8 +84207,7 @@
    &lt;dd&gt;
 
     &lt;p&gt;This &lt;span&gt;task source&lt;/span&gt; is used to queue calls to &lt;code
-    title=&quot;dom-history-back&quot;&gt;history.back()&lt;/code&gt; and similar
-    APIs.&lt;/p&gt;
+    title=&quot;dom-history-back&quot;&gt;history.back()&lt;/code&gt; and similar APIs.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -86019,14 +85823,13 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-alert&quot;&gt;&lt;code&gt;alert(&lt;var
-  title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-alert&quot;&gt;&lt;code&gt;alert(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when
+  invoked, must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting
-   level&lt;/span&gt; is non-zero, optionally abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; is non-zero,
+   optionally abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -86034,23 +85837,20 @@
    to ignore all alerts, and would thus abort at this step whenever the method was
    invoked.)&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the
-   user.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Optionally, &lt;span&gt;pause&lt;/span&gt; while waiting for for the
-   user to acknowledge the message.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Optionally, &lt;span&gt;pause&lt;/span&gt; while waiting for for the user to acknowledge the
+   message.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-confirm&quot;&gt;&lt;code&gt;confirm(&lt;var
-  title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-confirm&quot;&gt;&lt;code&gt;confirm(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method,
+  when invoked, must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting
-   level&lt;/span&gt; is non-zero, optionally abort these steps, returning
-   false.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; is non-zero,
+   optionally abort these steps, returning false.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -86058,27 +85858,23 @@
    the user the option to ignore all prompts, and would thus abort at this step whenever the method
    was invoked.)&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to respond with a positive or negative
-   response.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to respond with a
+   positive or negative response.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; until the user responds either positively
-   or negatively.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; until the user responds either positively or negatively.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise,
-   the user responded negatively: return false.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user responded positively, return true; otherwise, the user responded negatively:
+   return false.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-prompt&quot;&gt;&lt;code&gt;prompt(&lt;var
-  title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method, when invoked, must run the following steps:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-prompt&quot;&gt;&lt;code&gt;prompt(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;default&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting
-   level&lt;/span&gt; is non-zero, optionally abort these steps, returning
-   null.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span&gt;termination nesting level&lt;/span&gt; is non-zero,
+   optionally abort these steps, returning null.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Release the &lt;span&gt;storage mutex&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -86086,18 +85882,15 @@
    user the option to ignore all prompts, and would thus abort at this step whenever the method was
    invoked.)&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and
-   ask the user to either respond with a string value or abort. The
-   second argument is optional. If the second argument (&lt;var
-   title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be
-   defaulted to the value given by &lt;var
-   title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Show the given &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to the user, and ask the user to either respond
+   with a string value or abort. The second argument is optional. If the second argument (&lt;var
+   title=&quot;&quot;&gt;default&lt;/var&gt;) is present, then the response must be defaulted to the value given by
+   &lt;var title=&quot;&quot;&gt;default&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; while waiting for the user's
-   response.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; while waiting for the user's response.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the
-   string that the user responded with.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user aborts, then return null; otherwise, return the string that the user responded
+   with.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -86264,29 +86057,24 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the user agent is configured such that this invocation of
-    &lt;code title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; is
-    somehow disabled, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the user agent is configured such that this invocation of &lt;code
+    title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; is somehow disabled, then return the empty
+    string and abort these steps.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;User agents are expected to disable this method in
-    certain cases to avoid user annoyance (e.g. as part of their popup
-    blocker feature). For instance, a user agent could require that a
-    site be white-listed before enabling this method, or the user
-    agent could be configured to only allow one modal dialog at a
-    time.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;User agents are expected to disable this method in certain cases to avoid user
+    annoyance (e.g. as part of their popup blocker feature). For instance, a user agent could
+    require that a site be white-listed before enabling this method, or the user agent could be
+    configured to only allow one modal dialog at a time.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;span&gt;active sandboxing flag set&lt;/span&gt;
-    of the &lt;span&gt;active document&lt;/span&gt;
-    of the &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt;
-    of the &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method
-    has its
-    &lt;span&gt;sandboxed auxiliary navigation browsing context flag&lt;/span&gt;
-    set, then return the empty string and abort these steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;active sandboxing flag set&lt;/span&gt; of the &lt;span&gt;active document&lt;/span&gt; of the
+    &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span
+    title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method has its &lt;span&gt;sandboxed auxiliary
+    navigation browsing context flag&lt;/span&gt; set, then return the empty string and abort these
+    steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -86297,20 +86085,16 @@
 
     &lt;ul&gt;
 
-     &lt;li&gt;are part of the same &lt;span&gt;unit of related browsing
-     contexts&lt;/span&gt; as the browsing context of the
-     &lt;code&gt;Window&lt;/code&gt; object on which the &lt;code
-     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method was
-     called, and that&lt;/li&gt;
+     &lt;li&gt;are part of the same &lt;span&gt;unit of related browsing contexts&lt;/span&gt; as the browsing context
+     of the &lt;code&gt;Window&lt;/code&gt; object on which the &lt;code
+     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method was called, and that&lt;/li&gt;
 
-     &lt;li&gt;have an &lt;span&gt;active document&lt;/span&gt; whose
-     &lt;span&gt;origin&lt;/span&gt; is the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt;
-     as the &lt;span&gt;origin&lt;/span&gt; of the &lt;span
+     &lt;li&gt;have an &lt;span&gt;active document&lt;/span&gt; whose &lt;span&gt;origin&lt;/span&gt; is the &lt;span title=&quot;same
+     origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;origin&lt;/span&gt; of the &lt;span
      title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that called the &lt;code
-     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method at
-     the time the method was called,&lt;/li&gt; &lt;!-- Note that changing
-     document.domain to talk to another domain doesn't make you able
-     to block that domain --&gt;
+     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method at the time the method was
+     called,&lt;/li&gt; &lt;!-- Note that changing document.domain to talk to another domain doesn't make you
+     able to block that domain --&gt;
 
     &lt;/ul&gt;
 
@@ -86321,59 +86105,49 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Disable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;. This
-    should prevent the user from navigating those browsing contexts,
-    causing events to be sent to those browsing context, or editing
-    any content in those browsing contexts. However, it does not
-    prevent those browsing contexts from receiving events from sources
-    other than the user, from running scripts, from running
-    animations, and so forth.&lt;/p&gt;
+    &lt;p&gt;Disable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;. This should prevent the user from navigating those browsing
+    contexts, causing events to be sent to those browsing context, or editing any content in those
+    browsing contexts. However, it does not prevent those browsing contexts from receiving events
+    from sources other than the user, from running scripts, from running animations, and so
+    forth.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Create a new &lt;span&gt;auxiliary browsing context&lt;/span&gt;, with the
-    &lt;span&gt;opener browsing context&lt;/span&gt; being the browsing context of
-    the &lt;code&gt;Window&lt;/code&gt; object on which the &lt;code
-    title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method was
-    called. The new auxiliary browsing context has no name.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;span&gt;auxiliary browsing context&lt;/span&gt;, with the &lt;span&gt;opener browsing
+    context&lt;/span&gt; being the browsing context of the &lt;code&gt;Window&lt;/code&gt; object on which the &lt;code
+    title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method was called. The new auxiliary
+    browsing context has no name.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;This &lt;span&gt;browsing context&lt;/span&gt;'s
-    &lt;code&gt;Document&lt;/code&gt;s' &lt;code&gt;Window&lt;/code&gt; objects all implement
-    the &lt;code&gt;WindowModal&lt;/code&gt; interface.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This &lt;span&gt;browsing context&lt;/span&gt;'s &lt;code&gt;Document&lt;/code&gt;s' &lt;code&gt;Window&lt;/code&gt;
+    objects all implement the &lt;code&gt;WindowModal&lt;/code&gt; interface.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Set all the flags
-    in the new browsing context's &lt;span&gt;popup sandboxing flag set&lt;/span&gt;
-    that are set in the
-    &lt;span&gt;active sandboxing flag set&lt;/span&gt;
-    of the &lt;span&gt;active document&lt;/span&gt;
-    of the &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt;
-    of the &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method.
-    The &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt;
-    of the &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method
-    must be set as the new browsing context's
-    &lt;span&gt;one permitted sandboxed navigator&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Set all the flags in the new browsing context's &lt;span&gt;popup sandboxing flag set&lt;/span&gt; that
+    are set in the &lt;span&gt;active sandboxing flag set&lt;/span&gt; of the &lt;span&gt;active document&lt;/span&gt; of
+    the &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span
+    title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method. The &lt;span title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked
+    the method must be set as the new browsing context's &lt;span&gt;one permitted sandboxed
+    navigator&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;span&gt;dialog arguments&lt;/span&gt; of the new browsing
-    context be set to the value of &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt;, or
-    the 'undefined' value if the argument was omitted.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;span&gt;dialog arguments&lt;/span&gt; of the new browsing context be set to the value of &lt;var
+    title=&quot;&quot;&gt;argument&lt;/var&gt;, or the 'undefined' value if the argument was omitted.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let the &lt;span&gt;dialog arguments' origin&lt;/span&gt; be the
-    &lt;span&gt;origin&lt;/span&gt; of the &lt;span
+    &lt;p&gt;Let the &lt;span&gt;dialog arguments' origin&lt;/span&gt; be the &lt;span&gt;origin&lt;/span&gt; of the &lt;span
     title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that called the &lt;code
     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method.&lt;/p&gt;
 
@@ -86381,52 +86155,46 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV showModalDialog--&gt; the new
-    &lt;span&gt;browsing context&lt;/span&gt; to the &lt;span&gt;absolute URL&lt;/span&gt;
-    that resulted from &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt;
-    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;span&gt;replacement
-    enabled&lt;/span&gt;, and with the &lt;span title=&quot;script's browsing
-    context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span
-    title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method as
-    the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;span&gt;browsing context&lt;/span&gt; to
+    the &lt;span&gt;absolute URL&lt;/span&gt; that resulted from &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;span&gt;replacement enabled&lt;/span&gt;, and with the &lt;span
+    title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span
+    title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method as the &lt;span&gt;source browsing
+    context&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the new &lt;span&gt;browsing
-    context&lt;/span&gt; is closed. (The user agent must allow the user to
-    indicate that the &lt;span&gt;browsing context&lt;/span&gt; is to be
+    &lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the new &lt;span&gt;browsing context&lt;/span&gt; is closed. (The
+    user agent must allow the user to indicate that the &lt;span&gt;browsing context&lt;/span&gt; is to be
     closed.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Reenable the user interface for all the browsing contexts in
-    &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Reenable the user interface for all the browsing contexts in &lt;var title=&quot;&quot;&gt;the list of
+    background browsing contexts&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Return the &lt;span&gt;auxiliary browsing context&lt;/span&gt;'s
-    &lt;span&gt;return value&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Return the &lt;span&gt;auxiliary browsing context&lt;/span&gt;'s &lt;span&gt;return value&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;code&gt;Window&lt;/code&gt; objects of &lt;code&gt;Document&lt;/code&gt;s hosted
-  by &lt;span title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt; created
-  by the above algorithm must also implement the
+  &lt;p&gt;The &lt;code&gt;Window&lt;/code&gt; objects of &lt;code&gt;Document&lt;/code&gt;s hosted by &lt;span title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/span&gt; created by the above algorithm must also implement the
   &lt;code&gt;WindowModal&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;When this happens, the members of the
-  &lt;code&gt;WindowModal&lt;/code&gt; interface, in JavaScript environments,
-  appear to actually be part of the &lt;code&gt;Window&lt;/code&gt; interface
-  (e.g. they are on the same prototype chain as the &lt;code
-  title=&quot;dom-alert&quot;&gt;window.alert()&lt;/code&gt; method).&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;When this happens, the members of the &lt;code&gt;WindowModal&lt;/code&gt; interface, in
+  JavaScript environments, appear to actually be part of the &lt;code&gt;Window&lt;/code&gt; interface (e.g.
+  they are on the same prototype chain as the &lt;code title=&quot;dom-alert&quot;&gt;window.alert()&lt;/code&gt;
+  method).&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -86441,8 +86209,7 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was
-    passed to the &lt;code
+    &lt;p&gt;Returns the &lt;var title=&quot;&quot;&gt;argument&lt;/var&gt; argument that was passed to the &lt;code
     title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -86453,9 +86220,8 @@
 
     &lt;p&gt;Returns the current return value for the window.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the value that will be returned by the
-    &lt;code title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt;
-    method.&lt;/p&gt;
+    &lt;p&gt;Can be set, to change the value that will be returned by the &lt;code
+    title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -86463,42 +86229,31 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;Such browsing contexts have associated &lt;dfn&gt;dialog
-  arguments&lt;/dfn&gt;, which are stored along with the &lt;dfn&gt;dialog
-  arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code
-  title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method in the
-  algorithm above, when the browsing context is created, based on the
-  arguments provided to the method.&lt;/p&gt;
+  &lt;p&gt;Such browsing contexts have associated &lt;dfn&gt;dialog arguments&lt;/dfn&gt;, which are stored along with
+  the &lt;dfn&gt;dialog arguments' origin&lt;/dfn&gt;. These values are set by the &lt;code
+  title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method in the algorithm above, when the
+  browsing context is created, based on the arguments provided to the method.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-WindowModal-dialogArguments&quot;&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must check whether its browsing context's
-  &lt;span&gt;active document&lt;/span&gt;'s &lt;span&gt;origin&lt;/span&gt; is the &lt;span
-  title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;dialog arguments'
-  origin&lt;/span&gt;. If it is, then the browsing context's &lt;span&gt;dialog
-  arguments&lt;/span&gt; must be returned unchanged. Otherwise, if the
-  &lt;span&gt;dialog arguments&lt;/span&gt; are an object, then the empty string
-  must be returned, and if the &lt;span&gt;dialog arguments&lt;/span&gt; are not
-  an object, then the stringification of the &lt;span&gt;dialog
-  arguments&lt;/span&gt; must be returned.
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WindowModal-dialogArguments&quot;&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute, on getting, must check whether its browsing context's &lt;span&gt;active document&lt;/span&gt;'s
+  &lt;span&gt;origin&lt;/span&gt; is the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;dialog arguments'
+  origin&lt;/span&gt;. If it is, then the browsing context's &lt;span&gt;dialog arguments&lt;/span&gt; must be
+  returned unchanged. Otherwise, if the &lt;span&gt;dialog arguments&lt;/span&gt; are an object, then the empty
+  string must be returned, and if the &lt;span&gt;dialog arguments&lt;/span&gt; are not an object, then the
+  stringification of the &lt;span&gt;dialog arguments&lt;/span&gt; must be returned.
 
-  &lt;p&gt;These browsing contexts also have an associated &lt;dfn&gt;return
-  value&lt;/dfn&gt;. The &lt;span&gt;return value&lt;/span&gt; of a browsing context
-  must be initialized to the empty string when the browsing context is
-  created.&lt;/p&gt;
+  &lt;p&gt;These browsing contexts also have an associated &lt;dfn&gt;return value&lt;/dfn&gt;. The &lt;span&gt;return
+  value&lt;/span&gt; of a browsing context must be initialized to the empty string when the browsing
+  context is created.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-WindowModal-returnValue&quot;&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return the &lt;span&gt;return value&lt;/span&gt;
-  of its browsing context, and on setting, must set the &lt;span&gt;return
-  value&lt;/span&gt; to the given new value.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WindowModal-returnValue&quot;&gt;&lt;code&gt;returnValue&lt;/code&gt;&lt;/dfn&gt; IDL attribute, on
+  getting, must return the &lt;span&gt;return value&lt;/span&gt; of its browsing context, and on setting, must
+  set the &lt;span&gt;return value&lt;/span&gt; to the given new value.&lt;/p&gt;
 
   &lt;/div&gt;
 
-  &lt;p class=&quot;note&quot;&gt;The &lt;code
-  title=&quot;dom-window-close&quot;&gt;window.close()&lt;/code&gt; method can be used to
+  &lt;p class=&quot;note&quot;&gt;The &lt;code title=&quot;dom-window-close&quot;&gt;window.close()&lt;/code&gt; method can be used to
   close the browsing context.&lt;/p&gt;
-&lt;!--TOPIC:HTML--&gt;
 
 
 &lt;!--TOPIC:DOM APIs--&gt;
@@ -86508,12 +86263,10 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-navigator&quot;&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;Window&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;Navigator&lt;/code&gt; interface, which represents
-  the identity and state of the user agent (the client), and allows
-  Web pages to register themselves as potential protocol and content
-  handlers:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-navigator&quot;&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt; attribute of the
+  &lt;code&gt;Window&lt;/code&gt; interface must return an instance of the &lt;code&gt;Navigator&lt;/code&gt; interface,
+  which represents the identity and state of the user agent (the client), and allows Web pages to
+  register themselves as potential protocol and content handlers:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -86535,9 +86288,8 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;These interfaces are defined separately so that other
-  specifications can re-use parts of the &lt;code&gt;Navigator&lt;/code&gt;
-  interface.&lt;/p&gt;
+  &lt;p&gt;These interfaces are defined separately so that other specifications can re-use parts of the
+  &lt;code&gt;Navigator&lt;/code&gt; interface.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -87420,12 +87172,10 @@
   &lt;div class=&quot;impl&quot;&gt;
 
    &lt;p&gt;The &lt;dfn
-   title=&quot;dom-navigator-yieldForStorageUpdates&quot;&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt;
-   method, when invoked, must, if the &lt;span&gt;storage mutex&lt;/span&gt; is
-   owned by the &lt;span&gt;event loop&lt;/span&gt; of the &lt;span
-   title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that resulted in the method being
-   called, release the &lt;span&gt;storage mutex&lt;/span&gt; so that it is once
-   again free. Otherwise, it must do nothing.&lt;/p&gt;
+   title=&quot;dom-navigator-yieldForStorageUpdates&quot;&gt;&lt;code&gt;yieldForStorageUpdates()&lt;/code&gt;&lt;/dfn&gt; method,
+   when invoked, must, if the &lt;span&gt;storage mutex&lt;/span&gt; is owned by the &lt;span&gt;event loop&lt;/span&gt; of
+   the &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that resulted in the method being called, release the
+   &lt;span&gt;storage mutex&lt;/span&gt; so that it is once again free. Otherwise, it must do nothing.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -87434,10 +87184,9 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-external&quot;&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;Window&lt;/code&gt; interface must return an
-  instance of the &lt;code&gt;External&lt;/code&gt; interface. The same object
-  must be returned each time.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-external&quot;&gt;&lt;code&gt;external&lt;/code&gt;&lt;/dfn&gt; attribute of the &lt;code&gt;Window&lt;/code&gt;
+  interface must return an instance of the &lt;code&gt;External&lt;/code&gt; interface. The same object must be
+  returned each time.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -92857,49 +92606,41 @@
            attribute &lt;span&gt;EventHandler&lt;/span&gt; &lt;span title=&quot;handler-WorkerGlobalScope-ononline&quot;&gt;ononline&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-WorkerGlobalScope-self&quot;&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object itself.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WorkerGlobalScope-self&quot;&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; attribute must return the
+  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object itself.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-WorkerGlobalScope-location&quot;&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;WorkerLocation&lt;/code&gt; object created
-  for the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object when the worker was
-  created. It represents the &lt;span&gt;absolute URL&lt;/span&gt; of the script
-  that was used to initialize the worker, after any redirects.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WorkerGlobalScope-location&quot;&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the &lt;code&gt;WorkerLocation&lt;/code&gt; object created for the &lt;code&gt;WorkerGlobalScope&lt;/code&gt;
+  object when the worker was created. It represents the &lt;span&gt;absolute URL&lt;/span&gt; of the script that
+  was used to initialize the worker, after any redirects.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a script invokes the &lt;dfn
-  title=&quot;dom-WorkerGlobalScope-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method on a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, the user agent
-  must run the following steps (atomically):&lt;/p&gt;
+  &lt;p&gt;When a script invokes the &lt;dfn title=&quot;dom-WorkerGlobalScope-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
+  method on a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, the user agent must run the following steps
+  (atomically):&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Discard any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that
-   have been added to the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task
-   queue&quot;&gt;task queues&lt;/span&gt;.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Discard any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that have been added to the
+   &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
-   &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
-   &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to
-   true. (This prevents any further tasks from being queued.)&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to true. (This prevents any further
+   tasks from being queued.)&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
-  corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/span&gt;) that must be supported, as IDL attributes, by
-  objects implementing the &lt;code&gt;WorkerGlobalScope&lt;/code&gt;
-  interface:&lt;/p&gt;
+  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their corresponding &lt;span title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/span&gt;) that must be supported, as IDL attributes,
+  by objects implementing the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;
    &lt;thead&gt;
@@ -93030,168 +92771,131 @@
 
   &lt;h4&gt;The event loop&lt;/h4&gt;
 
-  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object has an &lt;span&gt;event
-  loop&lt;/span&gt; distinct from those defined for &lt;span title=&quot;unit of
-  related similar-origin browsing contexts&quot;&gt;units of related
-  similar-origin browsing contexts&lt;/span&gt;. This &lt;span&gt;event
-  loop&lt;/span&gt; has no associated &lt;span&gt;browsing context&lt;/span&gt;, and its
-  &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; only have events,
-  callbacks, and networking activity as &lt;span
-  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;. The processing model of these
-  &lt;span title=&quot;event loop&quot;&gt;event loops&lt;/span&gt; is defined below in the
+  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object has an &lt;span&gt;event loop&lt;/span&gt; distinct from those
+  defined for &lt;span title=&quot;unit of related similar-origin browsing contexts&quot;&gt;units of related
+  similar-origin browsing contexts&lt;/span&gt;. This &lt;span&gt;event loop&lt;/span&gt; has no associated
+  &lt;span&gt;browsing context&lt;/span&gt;, and its &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; only have
+  events, callbacks, and networking activity as &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;. The
+  processing model of these &lt;span title=&quot;event loop&quot;&gt;event loops&lt;/span&gt; is defined below in the
   &lt;span&gt;run a worker&lt;/span&gt; algorithm.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object also has a &lt;dfn
-  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/dfn&gt; flag, which must
-  initially be false, but which can get set to true by the algorithms
-  in the processing model section below.&lt;/p&gt;
+  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/dfn&gt; flag, which must initially be false, but which
+  can get set to true by the algorithms in the processing model section below.&lt;/p&gt;
 
   &lt;p&gt;Once the &lt;code&gt;WorkerGlobalScope&lt;/code&gt;'s &lt;span
-  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set to
-  true, the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task
-  queues&lt;/span&gt; must discard any further &lt;span
-  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that would be added to them (tasks
-  already on the queue are unaffected except where otherwise
-  specified). Effectively, once the &lt;span
-  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is true,
-  timers stop firing, notifications for all pending asynchronous
-  operations are dropped, etc.&lt;/p&gt;
+  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set to true, the &lt;span&gt;event
+  loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; must discard any further &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that would be added to them (tasks already on the queue are
+  unaffected except where otherwise specified). Effectively, once the &lt;span
+  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is true, timers stop firing,
+  notifications for all pending asynchronous operations are dropped, etc.&lt;/p&gt;
 
 
 
   &lt;h4&gt;The worker's lifetime&lt;/h4&gt;
 
-  &lt;p&gt;Workers communicate with other workers and with &lt;span
-  title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt; through &lt;span
-  title=&quot;channel messaging&quot;&gt;message channels&lt;/span&gt; and their
+  &lt;p&gt;Workers communicate with other workers and with &lt;span title=&quot;browsing context&quot;&gt;browsing
+  contexts&lt;/span&gt; through &lt;span title=&quot;channel messaging&quot;&gt;message channels&lt;/span&gt; and their
   &lt;code&gt;MessagePort&lt;/code&gt; objects.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global
-  scope&lt;/var&gt; has a list of &lt;dfn&gt;the worker's ports&lt;/dfn&gt;, which
-  consists of all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are
-  entangled with another port and that have one (but only one) port
-  owned by &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. This list includes
-  &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in events
-  pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out
-  because in practice it makes no difference either way as far as I
-  can tell, and it would be hard to strictly implement since these
-  ports might not yet be across the thread boundary)--&gt; the implicit
-  &lt;code&gt;MessagePort&lt;/code&gt; in the case of &lt;span
-  title=&quot;DedicatedWorkerGlobalScope&quot;&gt;dedicated workers&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; has a list of
+  &lt;dfn&gt;the worker's ports&lt;/dfn&gt;, which consists of all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are
+  entangled with another port and that have one (but only one) port owned by &lt;var title=&quot;&quot;&gt;worker
+  global scope&lt;/var&gt;. This list includes &lt;!--all the &lt;code&gt;MessagePort&lt;/code&gt; objects that are in
+  events pending in the &lt;span&gt;event loop&lt;/span&gt;, as well as (commented out because in practice it
+  makes no difference either way as far as I can tell, and it would be hard to strictly implement
+  since these ports might not yet be across the thread boundary)--&gt; the implicit
+  &lt;code&gt;MessagePort&lt;/code&gt; in the case of &lt;span title=&quot;DedicatedWorkerGlobalScope&quot;&gt;dedicated
+  workers&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; also has a list of &lt;dfn&gt;the
-  worker's workers&lt;/dfn&gt;. Initially this list is empty; it is
-  populated when the worker creates or obtains further workers.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; also has a list of &lt;dfn&gt;the worker's workers&lt;/dfn&gt;.
+  Initially this list is empty; it is populated when the worker creates or obtains further
+  workers.&lt;/p&gt;
 
-  &lt;p&gt;Finally, each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; also has a list of
-  &lt;dfn&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list
-  is empty; it is populated when the worker is created.&lt;/p&gt;
+  &lt;p&gt;Finally, each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; also has a list of &lt;dfn&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;. Initially this list is empty; it is populated when the worker is
+  created.&lt;/p&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn
-  title=&quot;add a document to the worker's documents&quot;&gt;added to the
-  worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for each
-  worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;span&gt;the worker's
-  workers&lt;/span&gt; whose list of &lt;span&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; does not contain &lt;var
-  title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;span title=&quot;add a document to the worker's
-  documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;q&lt;/var&gt;'s
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/span&gt;.&lt;/p&gt; &lt;!-- suggestions welcome
-  on making this sentence into understandable English --&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; is &lt;dfn title=&quot;add a document to the
+  worker's documents&quot;&gt;added to the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/dfn&gt;, the user agent must, for
+  each worker &lt;var title=&quot;&quot;&gt;q&lt;/var&gt; in the list of &lt;span&gt;the worker's workers&lt;/span&gt; whose list of
+  &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; does not contain &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;span
+  title=&quot;add a document to the worker's documents&quot;&gt;add &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; to &lt;var
+  title=&quot;&quot;&gt;q&lt;/var&gt;'s &lt;code&gt;WorkerGlobalScope&lt;/code&gt; owner's list of &lt;span&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;&lt;/span&gt;.&lt;/p&gt; &lt;!-- suggestions welcome on making this sentence into
+  understandable English --&gt;
 
-  &lt;p&gt;Whenever a &lt;code&gt;Document&lt;/code&gt; object is &lt;span title=&quot;discard a
-  Document&quot;&gt;discarded&lt;/span&gt;, it must be removed from the list of
-  &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; of each worker
-  whose list contains that &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;Whenever a &lt;code&gt;Document&lt;/code&gt; object is &lt;span title=&quot;discard a Document&quot;&gt;discarded&lt;/span&gt;,
+  it must be removed from the list of &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; of each
+  worker whose list contains that &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Given a &lt;span&gt;script's global object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;
-  when creating or obtaining a worker, the &lt;dfn&gt;list of relevant
-  &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type of
-  &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object (i.e. if we are creating a
-  nested worker), then the relevant &lt;code&gt;Document&lt;/code&gt;s are the
-  &lt;code&gt;Document&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list
-  of &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;. Otherwise, &lt;var
-  title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;Window&lt;/code&gt; object, and the relevant
-  &lt;code&gt;Document&lt;/code&gt; is just the &lt;code&gt;Document&lt;/code&gt; that is the
-  &lt;span&gt;active document&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object &lt;var
-  title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;Given a &lt;span&gt;script's global object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; when creating or obtaining a
+  worker, the &lt;dfn&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to add&lt;/dfn&gt; depends on the type
+  of &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object
+  (i.e. if we are creating a nested worker), then the relevant &lt;code&gt;Document&lt;/code&gt;s are the
+  &lt;code&gt;Document&lt;/code&gt;s that are in &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;'s own list of &lt;span&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;o&lt;/var&gt; is a &lt;code&gt;Window&lt;/code&gt; object,
+  and the relevant &lt;code&gt;Document&lt;/code&gt; is just the &lt;code&gt;Document&lt;/code&gt; that is the &lt;span&gt;active
+  document&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;o&lt;/var&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn&gt;permissible worker&lt;/dfn&gt; if its
-  list of &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; is not
-  empty.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn&gt;permissible worker&lt;/dfn&gt; if its list of &lt;span&gt;the worker's
+  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; is not empty.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn&gt;protected worker&lt;/dfn&gt; if it is a
-  &lt;span&gt;permissible worker&lt;/span&gt; and either it has outstanding
-  timers, database transactions, or network connections, or its list
-  of &lt;span&gt;the worker's ports&lt;/span&gt; is not empty, or its
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; is actually a
-  &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a
-  shared worker).&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn&gt;protected worker&lt;/dfn&gt; if it is a &lt;span&gt;permissible worker&lt;/span&gt;
+  and either it has outstanding timers, database transactions, or network connections, or its list
+  of &lt;span&gt;the worker's ports&lt;/span&gt; is not empty, or its &lt;code&gt;WorkerGlobalScope&lt;/code&gt; is actually
+  a &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a shared worker).&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be an &lt;dfn&gt;active needed worker&lt;/dfn&gt; if any
-  of the &lt;code&gt;Document&lt;/code&gt; objects in &lt;span&gt;the worker's
-  &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; are &lt;span&gt;fully active&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be an &lt;dfn&gt;active needed worker&lt;/dfn&gt; if any of the &lt;code&gt;Document&lt;/code&gt;
+  objects in &lt;span&gt;the worker's &lt;code&gt;Document&lt;/code&gt;s&lt;/span&gt; are &lt;span&gt;fully active&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;A worker is said to be a &lt;dfn&gt;suspendable worker&lt;/dfn&gt; if it is
-  not an &lt;span&gt;active needed worker&lt;/span&gt; but it is a
-  &lt;span&gt;permissible worker&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;A worker is said to be a &lt;dfn&gt;suspendable worker&lt;/dfn&gt; if it is not an &lt;span&gt;active needed
+  worker&lt;/span&gt; but it is a &lt;span&gt;permissible worker&lt;/span&gt;.&lt;/p&gt;
 
 
   &lt;h4&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;run a worker&lt;/dfn&gt; for a script with
-  &lt;span&gt;URL&lt;/span&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;span&gt;browsing
-  context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
-  &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an
-  &lt;span&gt;origin&lt;/span&gt; &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with
-  global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it must run
-  the following steps:&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;run a worker&lt;/dfn&gt; for a script with &lt;span&gt;URL&lt;/span&gt; &lt;var
+  title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;span&gt;browsing context&lt;/span&gt; &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, a
+  &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, an &lt;span&gt;origin&lt;/span&gt; &lt;var
+  title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with global scope &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, it
+  must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Create a separate parallel execution environment (i.e. a
-    separate thread or process or equivalent construct), and run the
-    rest of these steps asynchronously in that context.&lt;/p&gt;
+    &lt;p&gt;Create a separate parallel execution environment (i.e. a separate thread or process or
+    equivalent construct), and run the rest of these steps asynchronously in that context.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a
-   shared worker), and there are any &lt;span title=&quot;relevant application
-   cache&quot;&gt;relevant application caches&lt;/span&gt; that are identified by a
-   manifest URL with the &lt;span&gt;same origin&lt;/span&gt; as &lt;var
-   title=&quot;&quot;&gt;url&lt;/var&gt; and that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of
-   their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked as &lt;span
-   title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;, then associate the
-   &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; with the &lt;span
-   title=&quot;concept-appcache-selection&quot;&gt;most appropriate application
+   &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a shared worker), and there are
+   any &lt;span title=&quot;relevant application cache&quot;&gt;relevant application caches&lt;/span&gt; that are
+   identified by a manifest URL with the &lt;span&gt;same origin&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and
+   that have &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; as one of their entries, &lt;em&gt;not&lt;/em&gt; excluding entries marked
+   as &lt;span title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;, then associate the &lt;var title=&quot;&quot;&gt;worker
+   global scope&lt;/var&gt; with the &lt;span title=&quot;concept-appcache-selection&quot;&gt;most appropriate application
    cache&lt;/span&gt; of those that match.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;span&gt;fetch&lt;/span&gt;&lt;!--FETCH--&gt; the resource
-    identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, from the &lt;var
-    title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt; as the &lt;span&gt;referrer source&lt;/span&gt;, with the
-    &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin flag&lt;/i&gt;
-    set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward
-    to CORS) --&gt;
+    &lt;p&gt;Attempt to &lt;span&gt;fetch&lt;/span&gt;&lt;!--FETCH--&gt; the resource identified by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;,
+    from the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt; as the
+    &lt;span&gt;referrer source&lt;/span&gt;, with the &lt;i&gt;synchronous flag&lt;/i&gt; set and the &lt;i&gt;force same-origin
+    flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy sensitive (looking forward to CORS) --&gt;
 
-    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;Worker&lt;/code&gt; or
-    &lt;code&gt;SharedWorker&lt;/code&gt; object associated with &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to
-    &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
-    title=&quot;event-error&quot;&gt;error&lt;/code&gt; at that object. Abort these
+    &lt;p&gt;If the attempt fails, then for each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt; object
+    associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire
+    a simple event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at that object. Abort these
     steps.&lt;/p&gt;
 
-    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be
-    the script resource &lt;span&gt;decoded as UTF-8, with error
-    handling&lt;/span&gt;.
+    &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the script resource
+    &lt;span&gt;decoded as UTF-8, with error handling&lt;/span&gt;.
     &lt;!--END complete--&gt;
     &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;
     &lt;!--START complete--&gt;
@@ -93199,188 +92903,153 @@
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;As with &lt;code&gt;script&lt;/code&gt; elements, the MIME
-    type of the script is ignored. Unlike with &lt;code&gt;script&lt;/code&gt;
-    elements, there is no way to override the type. It's always
+    &lt;p class=&quot;note&quot;&gt;As with &lt;code&gt;script&lt;/code&gt; elements, the MIME type of the script is ignored.
+    Unlike with &lt;code&gt;script&lt;/code&gt; elements, there is no way to override the type. It's always
     assumed to be JavaScript.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
-   &lt;span&gt;JavaScript global environment&lt;/span&gt; whose &lt;i&gt;global
-   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var
-   title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object, then this is a
-   &lt;span&gt;dedicated worker environment&lt;/span&gt;. Otherwise, &lt;var
-   title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
-   &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object, and this is a
-   &lt;span&gt;shared worker environment&lt;/span&gt;. (In either case, by
-   definition, it is a &lt;span&gt;worker environment&lt;/span&gt;.)&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a &lt;span&gt;JavaScript global
+   environment&lt;/span&gt; whose &lt;i&gt;global object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var
+   title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object, then this
+   is a &lt;span&gt;dedicated worker environment&lt;/span&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global
+   scope&lt;/var&gt; is a &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object, and this is a &lt;span&gt;shared worker
+   environment&lt;/span&gt;. (In either case, by definition, it is a &lt;span&gt;worker
+   environment&lt;/span&gt;.)&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;A new &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is now
-    created, as follows.&lt;/p&gt;
+    &lt;p&gt;A new &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is now created, as follows.&lt;/p&gt;
 
-    &lt;p&gt;Create a new &lt;span&gt;script execution environment&lt;/span&gt;
-    set up as appropriate for the scripting language &lt;var
-    title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Create a new &lt;span&gt;script execution environment&lt;/span&gt; set up as appropriate for the
+    scripting language &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that
-    &lt;span&gt;script execution environment&lt;/span&gt;, as appropriate for &lt;var
-    title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a &lt;span&gt;list of code
-    entry-points&lt;/span&gt;; set the &lt;i&gt;initial code entry-point&lt;/i&gt; to
-    the entry-point for any executable code to be immediately run.&lt;/p&gt;
+    &lt;p&gt;Parse/compile/initialize &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; using that &lt;span&gt;script execution
+    environment&lt;/span&gt;, as appropriate for &lt;var title=&quot;&quot;&gt;language&lt;/var&gt;, and thus obtain a
+    &lt;span&gt;list of code entry-points&lt;/span&gt;; set the &lt;i&gt;initial code entry-point&lt;/i&gt; to the
+    entry-point for any executable code to be immediately run.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;script's global object&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;script's global object&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;script's browsing context&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;script's browsing context&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;owner browsing
+    context&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;script's document&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;owner
-    document&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;script's document&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;span&gt;script's referrer source&lt;/span&gt; to &lt;var
     title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;script's URL character encoding&lt;/span&gt; to
-    UTF-8. (This is just used for encoding non-ASCII characters in the
-    query component of URLs.)&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;script's URL character encoding&lt;/span&gt; to UTF-8. (This is just used for
+    encoding non-ASCII characters in the query component of URLs.)&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;script's base URL&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;script's base URL&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the
-    worker such that no sooner than it stops being either a
-    &lt;span&gt;protected worker&lt;/span&gt; or a &lt;span&gt;suspendable
-    worker&lt;/span&gt;, and no later than it stops being a
-    &lt;span&gt;permissible worker&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;span
-    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set
-    to true&lt;!-- v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is
-    queued&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
-    title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
+    &lt;p&gt;&lt;strong&gt;Closing orphan workers&lt;/strong&gt;: Start monitoring the worker such that no sooner than
+    it stops being either a &lt;span&gt;protected worker&lt;/span&gt; or a &lt;span&gt;suspendable worker&lt;/span&gt;, and
+    no later than it stops being a &lt;span&gt;permissible worker&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;worker global
+    scope&lt;/var&gt;'s &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set to true&lt;!--
+    v2-onclose and &lt;span title=&quot;queue a task&quot;&gt;a task is queued&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt;--&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the
-    worker, such that whenever &lt;var title=&quot;&quot;&gt;worker global
-    scope&lt;/var&gt;'s &lt;span
-    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is false
-    and the worker is a &lt;span&gt;suspendable worker&lt;/span&gt;, the user
-    agent suspends execution of script in that worker until such time
-    as either the &lt;span
-    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag switches
-    to true or the worker stops being a &lt;span&gt;suspendable
-    worker&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;strong&gt;Suspending workers&lt;/strong&gt;: Start monitoring the worker, such that whenever &lt;var
+    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt;
+    flag is false and the worker is a &lt;span&gt;suspendable worker&lt;/span&gt;, the user agent suspends
+    execution of script in that worker until such time as either the &lt;span
+    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag switches to true or the worker stops
+    being a &lt;span&gt;suspendable worker&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;span title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/span&gt; to the
-    &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;'s &lt;i&gt;initial code
-    entry-point&lt;/i&gt;, and let that run until it either returns, fails
-    to catch an exception, or gets prematurely aborted by the
-    &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot;
-    algorithms defined below.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;jump to a code entry-point&quot;&gt;Jump&lt;/span&gt; to the &lt;span
+    title=&quot;concept-script&quot;&gt;script&lt;/span&gt;'s &lt;i&gt;initial code entry-point&lt;/i&gt;, and let that run until
+    it either returns, fails to catch an exception, or gets prematurely aborted by the &quot;&lt;span&gt;kill a
+    worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms defined below.&lt;/p&gt;
 
 &lt;!-- v2-onclose
-    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a
-    worker&lt;/span&gt;&quot; algorithm, then that same algorithm will cause
-    there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
-    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task
-    for the &lt;code title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The
-    &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm removes all the
-    events.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;If the script gets aborted by the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; algorithm, then
+    that same algorithm will cause there to only be a single &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;
+    in the &lt;span&gt;event loop&lt;/span&gt; at the next step, namely the task for the &lt;code
+    title=&quot;message-close&quot;&gt;close&lt;/code&gt; event. The &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithm
+    removes all the events.&lt;/p&gt;
 --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is actually a
-   &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is
-   a dedicated worker), then enable the &lt;span&gt;port message
-   queue&lt;/span&gt; of the worker's implicit port.&lt;/p&gt;&lt;/li&gt;
+   &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   enable the &lt;span&gt;port message queue&lt;/span&gt; of the worker's implicit port.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;&lt;i title=&quot;&quot;&gt;Event loop&lt;/i&gt;: Wait until either there is a &lt;span
-    title=&quot;concept-task&quot;&gt;task&lt;/span&gt; in one of the &lt;span&gt;event
-    loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; or &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span
-    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set
-    to true.&lt;/p&gt;
+    title=&quot;concept-task&quot;&gt;task&lt;/span&gt; in one of the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task
+    queue&quot;&gt;task queues&lt;/span&gt; or &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span
+    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set to true.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Run the oldest task on one of the &lt;span&gt;event loop&lt;/span&gt;'s
-    &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;, if any. The user
-    agent may pick any &lt;span&gt;task queue&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Run the oldest task on one of the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task
+    queues&lt;/span&gt;, if any. The user agent may pick any &lt;span&gt;task queue&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The handling of events or the execution of
-    callbacks might get prematurely aborted by the &quot;&lt;span&gt;kill a
-    worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms
+    &lt;p class=&quot;note&quot;&gt;The handling of events or the execution of callbacks might get prematurely
+    aborted by the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms
     defined below.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;span&gt;storage mutex&lt;/span&gt; is now owned by the worker's
-    &lt;span&gt;event loop&lt;/span&gt;, release it so that it is once again
-    free.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;storage mutex&lt;/span&gt; is now owned by the worker's &lt;span&gt;event loop&lt;/span&gt;,
+    release it so that it is once again free.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Remove the task just run in the earlier step, if any, from its
-    &lt;span&gt;task queue&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the task just run in the earlier step, if any, from its &lt;span&gt;task queue&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there are any more events in the &lt;span&gt;event loop&lt;/span&gt;'s
-    &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; or if &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span
-    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set
-    to false, then jump back to the step above labeled &lt;i&gt;event
-    loop&lt;/i&gt;.&lt;/p&gt;
+    &lt;p&gt;If there are any more events in the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task
+    queues&lt;/span&gt; or if &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span
+    title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is set to false, then jump back to the
+    step above labeled &lt;i&gt;event loop&lt;/i&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span&gt;list
-    of active timers&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Empty the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;'s &lt;span&gt;list of active timers&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Disentangle all the ports in the list of &lt;span&gt;the worker's
-    ports&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Disentangle all the ports in the list of &lt;span&gt;the worker's ports&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
 &lt;!-- v2-onclose
    &lt;li&gt;
 
-    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt;
-    object associated with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;,
-    &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-    named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
+    &lt;p&gt;For each &lt;code&gt;Worker&lt;/code&gt; or &lt;code&gt;SharedWorker&lt;/code&gt; object associated with &lt;var
+    title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+    event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at that object.&lt;/p&gt;
 
    &lt;/li&gt;
 --&gt;
@@ -93388,93 +93057,80 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;kill a worker&lt;/dfn&gt; it must
-  run the following steps in parallel with the worker's main loop (the
-  &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;kill a worker&lt;/dfn&gt; it must run the following steps in parallel
+  with the worker's main loop (the &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing model defined above):&lt;/p&gt;
 
   &lt;ol&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
-   &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is
-   false, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag is false, &lt;span&gt;queue a task&lt;/span&gt; to
+   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; at the
    worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
    &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
-   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to
-   true.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to true.&lt;/p&gt;&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run
-   a worker&lt;/span&gt;&quot; processing model defined above immediately starts
-   running event listeners registered for the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be
-   zero &mdash; the idea is that the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up
-   when shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time. If the &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing
+   model defined above immediately starts running event listeners registered for the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event, this time should not be zero &mdash; the idea is
+   that the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event can be used to clean up when
+   shutting down unexpectedly.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;
-   queued in the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task
-   queue&quot;&gt;task queues&lt;/span&gt;&lt;!-- v2-onclose other than the &lt;code
-   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just
-   added--&gt;, discard them without processing them.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there are any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued in the &lt;span&gt;event
+   loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;&lt;!-- v2-onclose other than the &lt;code
+   title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just added--&gt;, discard them
+   without processing them.&lt;/p&gt;&lt;/li&gt;
 
 &lt;!-- v2-onclose
-   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that
-   this algorithm just queued hasn't yet been dispatched, then abort
-   the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event that this algorithm just queued
+   hasn't yet been dispatched, then abort the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
 --&gt;
 
    &lt;li&gt;&lt;p&gt;Wait a user-agent-defined amount of time.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!--
-   v2-onclose (if any script is running, then it will be a handler for
-   the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt; event)--&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker&lt;!-- v2-onclose (if any script is running,
+   then it will be a handler for the &lt;code title=&quot;event-worker-close&quot;&gt;close&lt;/code&gt;
+   event)--&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
-  &lt;p&gt;User agents may invoke the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot;
-  processing model on a worker at any time, e.g. in response to user
-  requests, in response to CPU quota management, or when a worker
-  stops being an &lt;span&gt;active needed worker&lt;/span&gt; if the worker
-  continues executing even after its &lt;span
-  title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag was
-  set to true.&lt;/p&gt;
+  &lt;p&gt;User agents may invoke the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; processing model on a worker at any
+  time, e.g. in response to user requests, in response to CPU quota management, or when a worker
+  stops being an &lt;span&gt;active needed worker&lt;/span&gt; if the worker continues executing even after its
+  &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag was set to true.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;terminate a worker&lt;/dfn&gt; it must run
-  the following steps in parallel with the worker's main loop (the
-  &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing model defined above):&lt;/p&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;terminate a worker&lt;/dfn&gt; it must run the following steps in
+  parallel with the worker's main loop (the &quot;&lt;span&gt;run a worker&lt;/span&gt;&quot; processing model defined
+  above):&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
-   &lt;span title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to
-   true.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's &lt;span
+   title=&quot;dom-WorkerGlobalScope-closing&quot;&gt;closing&lt;/span&gt; flag to true.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;
-   queued in the &lt;span&gt;event loop&lt;/span&gt;'s &lt;span title=&quot;task
-   queue&quot;&gt;task queues&lt;/span&gt;, discard them without processing
+   &lt;li&gt;&lt;p&gt;If there are any &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued in the &lt;span&gt;event
+   loop&lt;/span&gt;'s &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;, discard them without processing
    them.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Abort the script currently running in the worker.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object is
-   actually a &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object (i.e. the
-   worker is a dedicated worker), then empty the &lt;span&gt;port message
-   queue&lt;/span&gt; of the port that the worker's implicit port is
+   &lt;li&gt;&lt;p&gt;If the worker's &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object is actually a
+   &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object (i.e. the worker is a dedicated worker), then
+   empty the &lt;span&gt;port message queue&lt;/span&gt; of the port that the worker's implicit port is
    entangled with.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the tasks mentioned above is the
-  &lt;span&gt;DOM manipulation task source&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the tasks mentioned above is the &lt;span&gt;DOM manipulation task
+  source&lt;/span&gt;.&lt;/p&gt;
 
 
   &lt;h4&gt;Runtime script errors&lt;/h4&gt;
@@ -93489,10 +93145,9 @@
   &lt;!--START complete--&gt;
   &lt;/p&gt;
 
-  &lt;p&gt;For shared workers, if the error is still &lt;i
-  title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt; afterwards, or if
-  the error occurred while handling a previous script error, the error
-  may be reported to the user.
+  &lt;p&gt;For shared workers, if the error is still &lt;i title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt;
+  afterwards, or if the error occurred while handling a previous script error, the error may be
+  reported to the user.
   &lt;!--END complete--&gt;
   &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;
   &lt;!--START complete--&gt;
@@ -93511,22 +93166,18 @@
   error had occurred in the global scope that the &lt;code&gt;Worker&lt;/code&gt; object is in, thus repeating
   the entire runtime script error reporting process one level up.&lt;/p&gt;
 
-  &lt;p&gt;If the implicit port connecting the worker to its
-  &lt;code&gt;Worker&lt;/code&gt; object has been disentangled (i.e. if the parent
-  worker has been terminated), then the user agent must act as if the
-  &lt;code&gt;Worker&lt;/code&gt; object had no &lt;code
-  title=&quot;event-error&quot;&gt;error&lt;/code&gt; event handler and as if that
-  worker's &lt;code
-  title=&quot;handler-WorkerGlobalScope-onerror&quot;&gt;onerror&lt;/code&gt; attribute
-  was null, but must otherwise act as described above.&lt;/p&gt;
+  &lt;p&gt;If the implicit port connecting the worker to its &lt;code&gt;Worker&lt;/code&gt; object has been
+  disentangled (i.e. if the parent worker has been terminated), then the user agent must act as if
+  the &lt;code&gt;Worker&lt;/code&gt; object had no &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; event handler and as
+  if that worker's &lt;code title=&quot;handler-WorkerGlobalScope-onerror&quot;&gt;onerror&lt;/code&gt; attribute was
+  null, but must otherwise act as described above.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Thus, error reports propagate up to the chain of
-  dedicated workers up to the original &lt;code&gt;Document&lt;/code&gt;, even if
-  some of the workers along this chain have been terminated and
-  garbage collected.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;Thus, error reports propagate up to the chain of dedicated workers up to the
+  original &lt;code&gt;Document&lt;/code&gt;, even if some of the workers along this chain have been terminated
+  and garbage collected.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the task mentioned above is the
-  &lt;span&gt;DOM manipulation task source&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the task mentioned above is the &lt;span&gt;DOM manipulation task
+  source&lt;/span&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -95864,30 +95515,23 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of bytes of application data (UTF-8
-  text and binary data) that have been queued using &lt;code
-  title=&quot;dom-WebSocket-send&quot;&gt;send()&lt;/code&gt; but that, as of the last
-  time the &lt;span&gt;event loop&lt;/span&gt; started executing a &lt;span
-  title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, had not yet been transmitted to
-  the network. (This thus includes any text sent during the execution
-  of the current task, regardless of whether the user agent is able to
-  transmit text asynchronously with script execution.) This does not
-  include framing overhead incurred by the protocol, or buffering done
-  by the operating system or network hardware. If the connection is
-  closed, this attribute's value will only increase with each call to
-  the &lt;code title=&quot;dom-WebSocket-send&quot;&gt;send()&lt;/code&gt; method (the
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;&lt;code&gt;bufferedAmount&lt;/code&gt;&lt;/dfn&gt; attribute must
+  return the number of bytes of application data (UTF-8 text and binary data) that have been queued
+  using &lt;code title=&quot;dom-WebSocket-send&quot;&gt;send()&lt;/code&gt; but that, as of the last time the &lt;span&gt;event
+  loop&lt;/span&gt; started executing a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt;, had not yet been
+  transmitted to the network. (This thus includes any text sent during the execution of the current
+  task, regardless of whether the user agent is able to transmit text asynchronously with script
+  execution.) This does not include framing overhead incurred by the protocol, or buffering done by
+  the operating system or network hardware. If the connection is closed, this attribute's value will
+  only increase with each call to the &lt;code title=&quot;dom-WebSocket-send&quot;&gt;send()&lt;/code&gt; method (the
   number does not reset to zero once the connection closes).&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
-   &lt;p&gt;In this simple example, the &lt;code
-   title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-   attribute is used to ensure that updates are sent either at the
-   rate of one update every 50ms, if the network can handle that rate,
-   or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is too
-   fast.&lt;/p&gt;
+   &lt;p&gt;In this simple example, the &lt;code title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
+   attribute is used to ensure that updates are sent either at the rate of one update every 50ms, if
+   the network can handle that rate, or at whatever rate the network &lt;em&gt;can&lt;/em&gt; handle, if that is
+   too fast.&lt;/p&gt;
 
    &lt;pre&gt;var socket = new WebSocket('<A HREF="ws://game.example.com:12010/updates">ws://game.example.com:12010/updates</A>');
 socket.onopen = function () {
@@ -95897,48 +95541,37 @@
   }, 50);
 };&lt;/pre&gt;
 
-   &lt;p&gt;The &lt;code
-   title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-   attribute can also be used to saturate the network without sending
-   the data at a higher rate than the network can handle, though this
-   requires more careful monitoring of the value of the attribute over
-   time.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt; attribute can also be
+   used to saturate the network without sending the data at a higher rate than the network can
+   handle, though this requires more careful monitoring of the value of the attribute over time.&lt;/p&gt;
 
   &lt;/div&gt;
 
   &lt;hr&gt;
 
   &lt;p&gt;When a &lt;code&gt;WebSocket&lt;/code&gt; object is created, its &lt;dfn
-  title=&quot;dom-WebSocket-binaryType&quot;&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must be set to the string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On
-  getting, it must return the last value it was set to. On setting,
-  the user agent must set the IDL attribute to the new value.&lt;/p&gt;
+  title=&quot;dom-WebSocket-binaryType&quot;&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL attribute must be set to the
+  string &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;. On getting, it must return the last value it was set to. On
+  setting, the user agent must set the IDL attribute to the new value.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This attribute allows authors to control how binary
-  data is exposed to scripts. By setting the attribute to &quot;&lt;code
-  title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in &lt;code&gt;Blob&lt;/code&gt;
-  form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  returned in &lt;code&gt;ArrayBuffer&lt;/code&gt; form. User agents can use this
-  as a hint for how to handle incoming binary data: if the attribute
-  is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
-  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is
-  likely more efficient to keep the data in memory. Naturally, user
-  agents are encouraged to use more subtle heuristics to decide
-  whether to keep incoming data in memory or not, e.g. based on how
-  big the data is or how common it is for a script to change the
-  attribute at the last minute. This latter aspect is important in
-  particular because it is quite possible for the attribute to be
-  changed after the user agent has received the data but before the
-  user agent has fired the event for it.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;This attribute allows authors to control how binary data is exposed to scripts. By
+  setting the attribute to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, binary data is returned in
+  &lt;code&gt;Blob&lt;/code&gt; form; by setting it to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is returned in
+  &lt;code&gt;ArrayBuffer&lt;/code&gt; form. User agents can use this as a hint for how to handle incoming
+  binary data: if the attribute is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, it is safe to spool it to
+  disk, and if it is set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, it is likely more efficient to keep
+  the data in memory. Naturally, user agents are encouraged to use more subtle heuristics to decide
+  whether to keep incoming data in memory or not, e.g. based on how big the data is or how common it
+  is for a script to change the attribute at the last minute. This latter aspect is important in
+  particular because it is quite possible for the attribute to be changed after the user agent has
+  received the data but before the user agent has fired the event for it.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-send&quot;&gt;&lt;code&gt;send(&lt;var
-  title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
-  connection. If the &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute is
-  &lt;code title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;, it must
-  throw an &lt;code&gt;InvalidStateError&lt;/code&gt; exception. Otherwise, the
-  user agent must run the appropriate set of steps from the following
-  list:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-send&quot;&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  transmits data using the connection. If the &lt;code
+  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute is &lt;code
+  title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;, it must throw an
+  &lt;code&gt;InvalidStateError&lt;/code&gt; exception. Otherwise, the user agent must run the appropriate set
+  of steps from the following list:&lt;/p&gt;
 
   &lt;dl&gt;
 
@@ -95946,23 +95579,17 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;span
-    title=&quot;convert a DOMString to a sequence of Unicode
-    characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a
-    sequence of Unicode characters&lt;/span&gt;. If &lt;i&gt;the WebSocket
-    connection is established&lt;/i&gt; and &lt;i title=&quot;the WebSocket closing
-    handshake is started&quot;&gt;the WebSocket closing handshake has not yet
-    started&lt;/i&gt;, then the user agent must &lt;i&gt;send a WebSocket
-    Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a text
-    frame opcode; if the data cannot be sent, e.g. because it would
-    need to be buffered but the buffer is full, the user agent must
-    &lt;i&gt;close the WebSocket connection&lt;/i&gt; &lt;span
-    title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/span&gt;. Any
-    invocation of this method with a string argument that does not
-    throw an exception must increase the &lt;code
-    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-    attribute by the number of bytes needed to express the argument as
-    UTF-8. &lt;a href=&quot;#refsUNICODE&quot;&gt;[UNICODE]&lt;/a&gt; &lt;a
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the result of &lt;span title=&quot;convert a DOMString to a sequence
+    of Unicode characters&quot;&gt;converting the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument to a sequence of Unicode
+    characters&lt;/span&gt;. If &lt;i&gt;the WebSocket connection is established&lt;/i&gt; and &lt;i title=&quot;the WebSocket
+    closing handshake is started&quot;&gt;the WebSocket closing handshake has not yet started&lt;/i&gt;, then the
+    user agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a
+    text frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;close the WebSocket connection&lt;/i&gt; &lt;span
+    title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/span&gt;. Any invocation of this method with a
+    string argument that does not throw an exception must increase the &lt;code
+    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt; attribute by the number of bytes
+    needed to express the argument as UTF-8. &lt;a href=&quot;#refsUNICODE&quot;&gt;[UNICODE]&lt;/a&gt; &lt;a
     href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -95972,24 +95599,18 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i
-    title=&quot;the WebSocket closing handshake is started&quot;&gt;the WebSocket
-    closing handshake has not yet started&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var
-    title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;close the WebSocket
-    connection&lt;/i&gt; &lt;span title=&quot;concept-websocket-close-fail&quot;&gt;with
-    prejudice&lt;/span&gt;. The data to be sent is the raw data represented
-    by the &lt;code&gt;Blob&lt;/code&gt; object. &lt;!-- that sentence is meant to
-    invoke &quot;This interface represents immutable raw data.&quot; --&gt; Any
-    invocation of this method with a &lt;code&gt;Blob&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code
-    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-    attribute by the size of the &lt;code&gt;Blob&lt;/code&gt; object's raw data,
-    in bytes. &lt;!-- that sentence is meant to invoke the same as
-    Blob.size --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
-    href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;the WebSocket closing handshake has not yet started&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;close the WebSocket connection&lt;/i&gt; &lt;span
+    title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/span&gt;. The data to be sent is the raw data
+    represented by the &lt;code&gt;Blob&lt;/code&gt; object. &lt;!-- that sentence is meant to invoke &quot;This
+    interface represents immutable raw data.&quot; --&gt; Any invocation of this method with a
+    &lt;code&gt;Blob&lt;/code&gt; argument that does not throw an exception must increase the &lt;code
+    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt; attribute by the size of the
+    &lt;code&gt;Blob&lt;/code&gt; object's raw data, in bytes. &lt;!-- that sentence is meant to invoke the same as
+    Blob.size --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -95998,27 +95619,20 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i
-    title=&quot;the WebSocket closing handshake is started&quot;&gt;the WebSocket
-    closing handshake has not yet started&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var
-    title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;close the WebSocket
-    connection&lt;/i&gt; &lt;span title=&quot;concept-websocket-close-fail&quot;&gt;with
-    prejudice&lt;/span&gt;. The data to be sent is the data stored in the
-    buffer described by the &lt;code&gt;ArrayBuffer&lt;/code&gt; object. &lt;!-- that
-    sentence is meant to invoke &quot;The ArrayBuffer type describes a
-    buffer used to store data for the array buffer views.&quot; at the top
-    of the Typed Array spec, and &quot;Optional byteOffset and length can
-    be used to limit the section of the buffer referenced&quot; in the
-    definition of the TypedArray constructor --&gt; Any invocation of
-    this method with an &lt;code&gt;ArrayBuffer&lt;/code&gt; argument that does
-    not throw an exception must increase the &lt;code
-    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;ArrayBuffer&lt;/code&gt; in bytes.
-    &lt;!-- that sentence is meant to invoke the same as
-    ArrayBuffer.byteLength --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
+    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;the WebSocket closing handshake has not yet started&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;close the WebSocket connection&lt;/i&gt; &lt;span
+    title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/span&gt;. The data to be sent is the data
+    stored in the buffer described by the &lt;code&gt;ArrayBuffer&lt;/code&gt; object. &lt;!-- that sentence is
+    meant to invoke &quot;The ArrayBuffer type describes a buffer used to store data for the array buffer
+    views.&quot; at the top of the Typed Array spec, and &quot;Optional byteOffset and length can be used to
+    limit the section of the buffer referenced&quot; in the definition of the TypedArray constructor --&gt;
+    Any invocation of this method with an &lt;code&gt;ArrayBuffer&lt;/code&gt; argument that does not throw an
+    exception must increase the &lt;code title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
+    attribute by the length of the &lt;code&gt;ArrayBuffer&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to
+    invoke the same as ArrayBuffer.byteLength --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
     href=&quot;#refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -96028,28 +95642,21 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i
-    title=&quot;the WebSocket closing handshake is started&quot;&gt;the WebSocket
-    closing handshake has not yet started&lt;/i&gt;, then the user agent
-    must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var
-    title=&quot;&quot;&gt;data&lt;/var&gt; using a binary frame opcode; if the data
-    cannot be sent, e.g. because it would need to be buffered but the
-    buffer is full, the user agent must &lt;i&gt;close the WebSocket
-    connection&lt;/i&gt; &lt;span title=&quot;concept-websocket-close-fail&quot;&gt;with
-    prejudice&lt;/span&gt;. The data to be sent is the data stored in the
-    section of the buffer described by the &lt;code&gt;ArrayBuffer&lt;/code&gt;
-    object that the &lt;code&gt;ArrayBufferView&lt;/code&gt; object references.
-    &lt;!-- that sentence is meant to invoke &quot;The ArrayBuffer type
-    describes a buffer used to store data for the array buffer views.&quot;
-    at the top of the Typed Array spec, and &quot;Optional byteOffset and
-    length can be used to limit the section of the buffer referenced&quot;
-    in the definition of the TypedArray constructor --&gt; Any invocation
-    of this method with an &lt;code&gt;ArrayBufferView&lt;/code&gt; argument that
-    does not throw an exception must increase the &lt;code
-    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
-    attribute by the length of the &lt;code&gt;ArrayBufferView&lt;/code&gt; in
-    bytes. &lt;!-- that sentence is meant to invoke the same as
-    ArrayBufferView.byteLength --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
+    &lt;p&gt;If &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, and &lt;i title=&quot;the WebSocket closing
+    handshake is started&quot;&gt;the WebSocket closing handshake has not yet started&lt;/i&gt;, then the user
+    agent must &lt;i&gt;send a WebSocket Message&lt;/i&gt; comprised of &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using a binary
+    frame opcode; if the data cannot be sent, e.g. because it would need to be buffered but the
+    buffer is full, the user agent must &lt;i&gt;close the WebSocket connection&lt;/i&gt; &lt;span
+    title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/span&gt;. The data to be sent is the data
+    stored in the section of the buffer described by the &lt;code&gt;ArrayBuffer&lt;/code&gt; object that the
+    &lt;code&gt;ArrayBufferView&lt;/code&gt; object references. &lt;!-- that sentence is meant to invoke &quot;The
+    ArrayBuffer type describes a buffer used to store data for the array buffer views.&quot; at the top
+    of the Typed Array spec, and &quot;Optional byteOffset and length can be used to limit the section of
+    the buffer referenced&quot; in the definition of the TypedArray constructor --&gt; Any invocation of
+    this method with an &lt;code&gt;ArrayBufferView&lt;/code&gt; argument that does not throw an exception must
+    increase the &lt;code title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt; attribute by the
+    length of the &lt;code&gt;ArrayBufferView&lt;/code&gt; in bytes. &lt;!-- that sentence is meant to invoke the
+    same as ArrayBufferView.byteLength --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
     href=&quot;#refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -96058,10 +95665,9 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
-  corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/span&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;WebSocket&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their corresponding &lt;span title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/span&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;WebSocket&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;
    &lt;thead&gt;
@@ -96077,55 +95683,43 @@
 
   &lt;h4&gt;Feedback from the protocol&lt;/h4&gt;
 
-  &lt;p&gt;When &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to run these steps:&lt;/p&gt;
+  &lt;p&gt;When &lt;i&gt;the WebSocket connection is established&lt;/i&gt;, the user agent must &lt;span&gt;queue a
+  task&lt;/span&gt; to run these steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code
-   title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's
-   value to &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1).&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value to
+   &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1).&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code
-   title=&quot;dom-WebSocket-extensions&quot;&gt;extensions&lt;/code&gt; attribute's
-   value to the &lt;i&gt;extensions in use&lt;/i&gt;, if is not the null value. &lt;a
-   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=&quot;dom-WebSocket-extensions&quot;&gt;extensions&lt;/code&gt; attribute's value to
+   the &lt;i&gt;extensions in use&lt;/i&gt;, if is not the null value. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code
-   title=&quot;dom-WebSocket-protocol&quot;&gt;protocol&lt;/code&gt; attribute's value to
-   the &lt;i&gt;subprotocol in use&lt;/i&gt;, if is not the null value. &lt;a
-   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=&quot;dom-WebSocket-protocol&quot;&gt;protocol&lt;/code&gt; attribute's value to the
+   &lt;i&gt;subprotocol in use&lt;/i&gt;, if is not the null value. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;span title=&quot;receives a
-   set-cookie-string&quot;&gt;received a set-cookie-string&lt;/span&gt; consisting
-   of the &lt;i&gt;cookies set during the server's opening handshake&lt;/i&gt;,
-   for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code
-   title=&quot;dom-WebSocket&quot;&gt;WebSocket()&lt;/code&gt; constructor. &lt;a
-   href=&quot;#refsCOOKIES&quot;&gt;[COOKIES]&lt;/a&gt; &lt;a
-   href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt; &lt;a
-   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Act as if the user agent had &lt;span title=&quot;receives a set-cookie-string&quot;&gt;received a
+   set-cookie-string&lt;/span&gt; consisting of the &lt;i&gt;cookies set during the server's opening
+   handshake&lt;/i&gt;, for the URL &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; given to the &lt;code
+   title=&quot;dom-WebSocket&quot;&gt;WebSocket()&lt;/code&gt; constructor. &lt;a href=&quot;#refsCOOKIES&quot;&gt;[COOKIES]&lt;/a&gt; &lt;a
+   href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
-   title=&quot;event-open&quot;&gt;open&lt;/code&gt; at the &lt;code&gt;WebSocket&lt;/code&gt;
-   object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-open&quot;&gt;open&lt;/code&gt; at the
+   &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;/ol&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with type &lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt; and data &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to follow these steps: &lt;a
+  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data
+  &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to follow these steps: &lt;a
   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
   &lt;ol&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
-    attribute's value is not &lt;code
-    title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1), then abort these
-    steps.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value is not
+    &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1), then abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -96142,35 +95736,28 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
-   title=&quot;dom-MessageEvent-origin&quot;&gt;origin&lt;/code&gt; attribute to the
-   &lt;span title=&quot;Unicode serialization of an origin&quot;&gt;Unicode
-   serialization&lt;/span&gt; of the &lt;span&gt;origin&lt;/span&gt; of the
-   &lt;span&gt;URL&lt;/span&gt; that was passed to the &lt;code&gt;WebSocket&lt;/code&gt;
+   &lt;li&gt;&lt;p&gt;Initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=&quot;dom-MessageEvent-origin&quot;&gt;origin&lt;/code&gt;
+   attribute to the &lt;span title=&quot;Unicode serialization of an origin&quot;&gt;Unicode serialization&lt;/span&gt; of
+   the &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;URL&lt;/span&gt; that was passed to the &lt;code&gt;WebSocket&lt;/code&gt;
    object's constructor.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text,
-    then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
-    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to &lt;var
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text, then initialize &lt;var
+    title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to &lt;var
     title=&quot;&quot;&gt;data&lt;/var&gt;.
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then initialize &lt;var
-    title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
-    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to a new
-    &lt;code&gt;Blob&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
-    as its raw data. &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code
+    title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is set to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot;, then
+    initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute
+    to a new &lt;code&gt;Blob&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as its raw data. &lt;a
+    href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
-    and &lt;code title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is
-    set to &quot;&lt;code title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var
-    title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
-    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to a new
-    read-only &lt;code&gt;ArrayBuffer&lt;/code&gt; object whose contents are &lt;var
-    title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary, and &lt;code
+    title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is set to &quot;&lt;code
+    title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, then initialize &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
+    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to a new read-only &lt;code&gt;ArrayBuffer&lt;/code&gt;
+    object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a
     href=&quot;#refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/li&gt;
@@ -96184,26 +95771,21 @@
 
   &lt;/ol&gt;
 
-  &lt;p class=&quot;note&quot;&gt;User agents are encouraged to check if they can
-  perform the above steps efficiently before they run the task,
-  picking tasks from other &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;
-  while they prepare the buffers if not. For example, if the &lt;code
-  title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; attribute was set
-  to &quot;&lt;code title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user
-  agent spooled all the data to disk, but just before running the
-  above &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; for this particular
-  message the script switched &lt;code
-  title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; to &quot;&lt;code
-  title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the
-  data back to RAM before running this &lt;span
-  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; so as to avoid stalling the main
-  thread while it created the &lt;code&gt;ArrayBuffer&lt;/code&gt; object.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;User agents are encouraged to check if they can perform the above steps
+  efficiently before they run the task, picking tasks from other &lt;span title=&quot;task queue&quot;&gt;task
+  queues&lt;/span&gt; while they prepare the buffers if not. For example, if the &lt;code
+  title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; attribute was set to &quot;&lt;code
+  title=&quot;&quot;&gt;blob&lt;/code&gt;&quot; when the data arrived, and the user agent spooled all the data to disk, but
+  just before running the above &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; for this particular message
+  the script switched &lt;code title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; to &quot;&lt;code
+  title=&quot;&quot;&gt;arraybuffer&lt;/code&gt;&quot;, the user agent would want to page the data back to RAM before
+  running this &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; so as to avoid stalling the main thread while
+  it created the &lt;code&gt;ArrayBuffer&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
    &lt;p&gt;Here is an example of how to define a handler for the &lt;code
-   title=&quot;event-message&quot;&gt;message&lt;/code&gt; event in the case of text
-   frames:&lt;/p&gt;
+   title=&quot;event-message&quot;&gt;message&lt;/code&gt; event in the case of text frames:&lt;/p&gt;
 
    &lt;pre&gt;mysocket.onmessage = function (event) {
   if (event.data == 'on') {
@@ -96213,42 +95795,35 @@
   }
 };&lt;/pre&gt;
 
-   &lt;p&gt;The protocol here is a trivial one, with the server just sending
-   &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
+   &lt;p&gt;The protocol here is a trivial one, with the server just sending &quot;on&quot; or &quot;off&quot; messages.&lt;/p&gt;
 
   &lt;/div&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;When &lt;i&gt;the WebSocket closing handshake is started&lt;/i&gt;, the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to change the &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value
-  to &lt;code title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2). (If the
-  &lt;code title=&quot;dom-WebSocket-close&quot;&gt;close()&lt;/code&gt; method was called,
-  the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
-  attribute's value will already be set to &lt;code
-  title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2) when this task
-  runs.) &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;When &lt;i&gt;the WebSocket closing handshake is started&lt;/i&gt;, the user agent must &lt;span&gt;queue a
+  task&lt;/span&gt; to change the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's
+  value to &lt;code title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2). (If the &lt;code
+  title=&quot;dom-WebSocket-close&quot;&gt;close()&lt;/code&gt; method was called, the &lt;code
+  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value will already be set to &lt;code
+  title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2) when this task runs.) &lt;a
+  href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p id=&quot;closeWebSocket&quot;&gt;When &lt;i&gt;the WebSocket connection is
-  closed&lt;/i&gt;, possibly &lt;i title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must
-  &lt;span&gt;queue a task&lt;/span&gt; to run the following substeps:&lt;/p&gt;
+  &lt;p id=&quot;closeWebSocket&quot;&gt;When &lt;i&gt;the WebSocket connection is closed&lt;/i&gt;, possibly &lt;i
+  title=&quot;&quot;&gt;cleanly&lt;/i&gt;, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to run the following
+  substeps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Change the &lt;code
-   title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's
-   value to &lt;code title=&quot;dom-WebSocket-CLOSED&quot;&gt;CLOSED&lt;/code&gt;
-   (3).&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Change the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value to
+   &lt;code title=&quot;dom-WebSocket-CLOSED&quot;&gt;CLOSED&lt;/code&gt; (3).&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;fail the WebSocket
-   connection&lt;/i&gt; or &lt;i&gt;the WebSocket connection is closed&lt;/i&gt; &lt;dfn
-   title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/dfn&gt;,
-   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt;
-   at the &lt;code&gt;WebSocket&lt;/code&gt; object. &lt;a
-   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the user agent was required to &lt;i&gt;fail the WebSocket connection&lt;/i&gt; or &lt;i&gt;the WebSocket
+   connection is closed&lt;/i&gt; &lt;dfn title=&quot;concept-websocket-close-fail&quot;&gt;with prejudice&lt;/dfn&gt;,
+   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;&quot;&gt;error&lt;/code&gt; at the &lt;code&gt;WebSocket&lt;/code&gt;
+   object. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Create a &lt;span title=&quot;concept-events-trusted&quot;&gt;trusted&lt;/span&gt; event that uses the
    &lt;code&gt;CloseEvent&lt;/code&gt; interface, with the event type &lt;code
@@ -96265,9 +95840,8 @@
 
   &lt;div class=&quot;warning&quot;&gt;
 
-   &lt;p&gt;User agents must not convey any failure information to scripts
-   in a way that would allow a script to distinguish the following
-   situations:&lt;/p&gt;
+   &lt;p&gt;User agents must not convey any failure information to scripts in a way that would allow a
+   script to distinguish the following situations:&lt;/p&gt;
 
    &lt;ul&gt;
 
@@ -96277,42 +95851,36 @@
 
     &lt;li&gt;A server that refused the connection on the specified port.
 
-    &lt;li&gt;A server that failed to correctly perform a TLS handshake
-    (e.g., the server certificate can't be verified).
+    &lt;li&gt;A server that failed to correctly perform a TLS handshake (e.g., the server certificate
+    can't be verified).
 
-    &lt;li&gt;A server that did not complete the opening handshake (e.g.
-    because it was not a WebSocket server).
+    &lt;li&gt;A server that did not complete the opening handshake (e.g. because it was not a WebSocket
+    server).
 
-    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but
-    that specified options that caused the client to drop the
-    connection (e.g. the server specified a subprotocol that the
+    &lt;li&gt;A WebSocket server that sent a correct opening handshake, but that specified options that
+    caused the client to drop the connection (e.g. the server specified a subprotocol that the
     client did not offer).
 
-    &lt;li&gt;A WebSocket server that abruptly closed the connection after
-    successfully completing the opening handshake.
+    &lt;li&gt;A WebSocket server that abruptly closed the connection after successfully completing the
+    opening handshake.
 
    &lt;/ul&gt;
 
-   &lt;p&gt;In all of these cases, the &lt;i&gt;the WebSocket connection close
-   code&lt;/i&gt; would be 1006, as required by the WebSocket Protocol
-   specification. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+   &lt;p&gt;In all of these cases, the &lt;i&gt;the WebSocket connection close code&lt;/i&gt; would be 1006, as
+   required by the WebSocket Protocol specification. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-   &lt;p&gt;Allowing a script to distinguish these cases would allow a
-   script to probe the user's local network in preparation for an
-   attack.&lt;/p&gt;
+   &lt;p&gt;Allowing a script to distinguish these cases would allow a script to probe the user's local
+   network in preparation for an attack.&lt;/p&gt;
 
-   &lt;p class=&quot;note&quot;&gt;In particular, this means the code 1015 is not used
-   by the user agent (unless the server erroneously uses it in its
-   close frame, of course).&lt;/p&gt;
+   &lt;p class=&quot;note&quot;&gt;In particular, this means the code 1015 is not used by the user agent (unless the
+   server erroneously uses it in its close frame, of course).&lt;/p&gt;
 
   &lt;/div&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for all &lt;span
-  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; &lt;span title=&quot;queue a
-  task&quot;&gt;queued&lt;/span&gt; in this section is the &lt;dfn&gt;WebSocket task
-  source&lt;/dfn&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for all &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; &lt;span title=&quot;queue
+  a task&quot;&gt;queued&lt;/span&gt; in this section is the &lt;dfn&gt;WebSocket task source&lt;/dfn&gt;.&lt;/p&gt;
 
 
   &lt;h4&gt;Ping and Pong frames&lt;/h4&gt;
@@ -96452,52 +96020,40 @@
 
   &lt;h4&gt;Garbage collection&lt;/h4&gt;
 
-  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value
-  was set to &lt;code title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;
-  (0) as of the last time the &lt;span&gt;event loop&lt;/span&gt; started
-  executing a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must not be
-  garbage collected if there are any event listeners registered for
-  &lt;code title=&quot;event-open&quot;&gt;open&lt;/code&gt; events, &lt;code
-  title=&quot;event-message&quot;&gt;message&lt;/code&gt; events, &lt;code
-  title=&quot;event-error&quot;&gt;error&lt;/code&gt; events, or &lt;code
-  title=&quot;event-socket-close&quot;&gt;close&lt;/code&gt; events.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value
-  was set to &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1) as of
+  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
+  attribute's value was set to &lt;code title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt; (0) as of
   the last time the &lt;span&gt;event loop&lt;/span&gt; started executing a &lt;span
-  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must not be garbage collected if
-  there are any event listeners registered for &lt;code
-  title=&quot;event-message&quot;&gt;message&lt;/code&gt; events, &lt;code
-  title=&quot;event-error&quot;&gt;error&lt;/code&gt;, or &lt;code
-  title=&quot;event-socket-close&quot;&gt;close&lt;/code&gt; events.&lt;/p&gt;
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must not be garbage collected if there are any event listeners
+  registered for &lt;code title=&quot;event-open&quot;&gt;open&lt;/code&gt; events, &lt;code
+  title=&quot;event-message&quot;&gt;message&lt;/code&gt; events, &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; events, or
+  &lt;code title=&quot;event-socket-close&quot;&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value
-  was set to &lt;code title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2) as
-  of the last time the &lt;span&gt;event loop&lt;/span&gt; started executing a
-  &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must not be garbage collected
-  if there are any event listeners registered for &lt;code
-  title=&quot;event-error&quot;&gt;error&lt;/code&gt; or &lt;code
+  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
+  attribute's value was set to &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1) as of the last time
+  the &lt;span&gt;event loop&lt;/span&gt; started executing a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must not be
+  garbage collected if there are any event listeners registered for &lt;code
+  title=&quot;event-message&quot;&gt;message&lt;/code&gt; events, &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt;, or &lt;code
   title=&quot;event-socket-close&quot;&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object with &lt;i title=&quot;the WebSocket
-  connection is established&quot;&gt;an established connection&lt;/i&gt; that has
-  data queued to be transmitted to the network must not be garbage
-  collected. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object whose &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
+  attribute's value was set to &lt;code title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2) as of the last
+  time the &lt;span&gt;event loop&lt;/span&gt; started executing a &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; must
+  not be garbage collected if there are any event listeners registered for &lt;code
+  title=&quot;event-error&quot;&gt;error&lt;/code&gt; or &lt;code title=&quot;event-socket-close&quot;&gt;close&lt;/code&gt; events.&lt;/p&gt;
 
-  &lt;p&gt;If a &lt;code&gt;WebSocket&lt;/code&gt; object is garbage collected while its
-  connection is still open, the user agent must &lt;i&gt;start the
-  WebSocket closing handshake&lt;/i&gt;, with no status code&lt;!--CLOSE
-  CODE--&gt; for the Close message. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object with &lt;i title=&quot;the WebSocket connection is established&quot;&gt;an
+  established connection&lt;/i&gt; that has data queued to be transmitted to the network must not be
+  garbage collected. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p&gt;If a &lt;code&gt;WebSocket&lt;/code&gt; object is garbage collected while its connection is still open, the
+  user agent must &lt;i&gt;start the WebSocket closing handshake&lt;/i&gt;, with no status code&lt;!--CLOSE CODE--&gt;
+  for the Close message. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+
   &lt;hr&gt;
 
-  &lt;p&gt;If a user agent is to &lt;dfn&gt;make disappear&lt;/dfn&gt; a
-  &lt;code&gt;WebSocket&lt;/code&gt; object (this happens when a
-  &lt;code&gt;Document&lt;/code&gt; object goes away), the user agent must follow
-  the first appropriate set of steps from the following list:&lt;/p&gt;
+  &lt;p&gt;If a user agent is to &lt;dfn&gt;make disappear&lt;/dfn&gt; a &lt;code&gt;WebSocket&lt;/code&gt; object (this happens
+  when a &lt;code&gt;Document&lt;/code&gt; object goes away), the user agent must follow the first appropriate
+  set of steps from the following list:&lt;/p&gt;
 
   &lt;dl class=&quot;switch&quot;&gt;
 
@@ -97278,16 +96834,13 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;Each &lt;code&gt;MessagePort&lt;/code&gt; object can be entangled with
-  another (a symmetric relationship). Each &lt;code&gt;MessagePort&lt;/code&gt;
-  object also has a &lt;span&gt;task source&lt;/span&gt; called the &lt;dfn&gt;port
-  message queue&lt;/dfn&gt;, initially empty. A &lt;span&gt;port message
-  queue&lt;/span&gt; can be enabled or disabled, and is initially
-  disabled. Once enabled, a port can never be disabled again (though
-  messages in the queue can get moved to another queue or removed
-  altogether, which has much the same effect).
-  A &lt;code&gt;MessagePort&lt;/code&gt; also has a &lt;dfn&gt;has been shipped&lt;/dfn&gt; flag. It must initially be
-  false.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;MessagePort&lt;/code&gt; object can be entangled with another (a symmetric relationship).
+  Each &lt;code&gt;MessagePort&lt;/code&gt; object also has a &lt;span&gt;task source&lt;/span&gt; called the &lt;dfn&gt;port
+  message queue&lt;/dfn&gt;, initially empty. A &lt;span&gt;port message queue&lt;/span&gt; can be enabled or
+  disabled, and is initially disabled. Once enabled, a port can never be disabled again (though
+  messages in the queue can get moved to another queue or removed altogether, which has much the
+  same effect). A &lt;code&gt;MessagePort&lt;/code&gt; also has a &lt;dfn&gt;has been shipped&lt;/dfn&gt; flag. It must
+  initially be false.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;span&gt;event loop&lt;/span&gt; has a &lt;span&gt;task source&lt;/span&gt; called the &lt;dfn&gt;unshipped port
   message queue&lt;/dfn&gt;. This is a virtual &lt;span&gt;task source&lt;/span&gt;: it must act as if it contained
@@ -97307,15 +96860,12 @@
   is true, its &lt;span&gt;port message queue&lt;/span&gt; acts as a first-class &lt;span&gt;task source&lt;/span&gt;,
   unaffected to any &lt;span&gt;unshipped port message queue&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn&gt;create a new
-  &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a &lt;span&gt;script's
-  global object&lt;/span&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must
-  instantiate a new &lt;code&gt;MessagePort&lt;/code&gt; object, and let its owner
-  be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn&gt;create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/dfn&gt; owned by a
+  &lt;span&gt;script's global object&lt;/span&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must instantiate a new
+  &lt;code&gt;MessagePort&lt;/code&gt; object, and let its owner be &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent is to &lt;dfn&gt;entangle&lt;/dfn&gt; two
-  &lt;code&gt;MessagePort&lt;/code&gt; objects, it must run the following
-  steps:&lt;/p&gt;
+  &lt;p&gt;When the user agent is to &lt;dfn&gt;entangle&lt;/dfn&gt; two &lt;code&gt;MessagePort&lt;/code&gt; objects, it must run
+  the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
@@ -97630,33 +97180,28 @@
 --&gt;
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-MessagePort-start&quot;&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt;
-  method must enable its port's &lt;span&gt;port message queue&lt;/span&gt;, if it
-  is not already enabled.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-MessagePort-start&quot;&gt;&lt;code&gt;start()&lt;/code&gt;&lt;/dfn&gt; method must enable its port's
+  &lt;span&gt;port message queue&lt;/span&gt;, if it is not already enabled.&lt;/p&gt;
 
-  &lt;p&gt;When a port's &lt;span&gt;port message queue&lt;/span&gt; is enabled, the
-  &lt;span&gt;event loop&lt;/span&gt; must use it as one of its &lt;span title=&quot;task
-  source&quot;&gt;task sources&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When a port's &lt;span&gt;port message queue&lt;/span&gt; is enabled, the &lt;span&gt;event loop&lt;/span&gt; must use
+  it as one of its &lt;span title=&quot;task source&quot;&gt;task sources&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;If the &lt;code&gt;Document&lt;/code&gt; of the port's event
-  listeners' &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt;
-  is not &lt;span&gt;fully active&lt;/span&gt;, then the messages are lost.&lt;/p&gt;
-  &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
+  &lt;p class=&quot;note&quot;&gt;If the &lt;code&gt;Document&lt;/code&gt; of the port's event listeners' &lt;span title=&quot;script's
+  global object&quot;&gt;global object&lt;/span&gt; is not &lt;span&gt;fully active&lt;/span&gt;, then the messages are
+  lost.&lt;/p&gt; &lt;!-- because of the jump-to-entry-point algorithm first step --&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-MessagePort-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called on a port &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is
-  entangled with another port, must cause the user agents to
-  disentangle the two ports. If the method is called on a port that is
-  not entangled, then the method must do nothing.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-MessagePort-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt; method, when called on a port
+  &lt;var title=&quot;&quot;&gt;local port&lt;/var&gt; that is entangled with another port, must cause the user agents to
+  disentangle the two ports. If the method is called on a port that is not entangled, then the
+  method must do nothing.&lt;/p&gt;
 
   &lt;hr&gt;
 
-  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
-  corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
-  event types&lt;/span&gt;) that must be supported, as IDL attributes, by
-  all objects implementing the &lt;code&gt;MessagePort&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their corresponding &lt;span title=&quot;event
+  handler event type&quot;&gt;event handler event types&lt;/span&gt;) that must be supported, as IDL attributes,
+  by all objects implementing the &lt;code&gt;MessagePort&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;table&gt;
    &lt;thead&gt;
@@ -98255,32 +97800,25 @@
 
   &lt;p&gt;If the event is being fired due to an invocation of the &lt;code
   title=&quot;dom-Storage-setItem&quot;&gt;setItem()&lt;/code&gt; or &lt;code
-  title=&quot;dom-Storage-removeItem&quot;&gt;removeItem()&lt;/code&gt; methods, the
-  event must have its &lt;code title=&quot;dom-StorageEvent-key&quot;&gt;key&lt;/code&gt;
-  attribute initialized to the name of the key in question, its &lt;code
-  title=&quot;dom-StorageEvent-oldValue&quot;&gt;oldValue&lt;/code&gt; attribute initialized to
-  the old value of the key in question, or null if the key is newly
-  added, and its &lt;code
-  title=&quot;dom-StorageEvent-newValue&quot;&gt;newValue&lt;/code&gt; attribute initialized to
-  the new value of the key in question, or null if the key was
-  removed.&lt;/p&gt;
+  title=&quot;dom-Storage-removeItem&quot;&gt;removeItem()&lt;/code&gt; methods, the event must have its &lt;code
+  title=&quot;dom-StorageEvent-key&quot;&gt;key&lt;/code&gt; attribute initialized to the name of the key in question,
+  its &lt;code title=&quot;dom-StorageEvent-oldValue&quot;&gt;oldValue&lt;/code&gt; attribute initialized to the old value
+  of the key in question, or null if the key is newly added, and its &lt;code
+  title=&quot;dom-StorageEvent-newValue&quot;&gt;newValue&lt;/code&gt; attribute initialized to the new value of the
+  key in question, or null if the key was removed.&lt;/p&gt;
 
-  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of
-  the &lt;code title=&quot;dom-Storage-clear&quot;&gt;clear()&lt;/code&gt; method, the event
-  must have its &lt;code title=&quot;dom-StorageEvent-key&quot;&gt;key&lt;/code&gt;, &lt;code
-  title=&quot;dom-StorageEvent-oldValue&quot;&gt;oldValue&lt;/code&gt;, and &lt;code
-  title=&quot;dom-StorageEvent-newValue&quot;&gt;newValue&lt;/code&gt; attributes
-  initialized to null.&lt;/p&gt;
+  &lt;p&gt;Otherwise, if the event is being fired due to an invocation of the &lt;code
+  title=&quot;dom-Storage-clear&quot;&gt;clear()&lt;/code&gt; method, the event must have its &lt;code
+  title=&quot;dom-StorageEvent-key&quot;&gt;key&lt;/code&gt;, &lt;code title=&quot;dom-StorageEvent-oldValue&quot;&gt;oldValue&lt;/code&gt;,
+  and &lt;code title=&quot;dom-StorageEvent-newValue&quot;&gt;newValue&lt;/code&gt; attributes initialized to null.&lt;/p&gt;
 
-  &lt;p&gt;In addition, the event must have its &lt;code
-  title=&quot;dom-StorageEvent-url&quot;&gt;url&lt;/code&gt; attribute initialized to
-  &lt;span title=&quot;the document's address&quot;&gt;the address of the
-  document&lt;/span&gt; whose &lt;code&gt;Storage&lt;/code&gt; object was affected; and
-  its &lt;code title=&quot;dom-StorageEvent-storageArea&quot;&gt;storageArea&lt;/code&gt;
-  attribute initialized to the &lt;code&gt;Storage&lt;/code&gt; object from the
-  &lt;code&gt;Window&lt;/code&gt; object of the target &lt;code&gt;Document&lt;/code&gt; that
-  represents the same kind of &lt;code&gt;Storage&lt;/code&gt; area as was
-  affected (i.e. session or local).&lt;/p&gt;
+  &lt;p&gt;In addition, the event must have its &lt;code title=&quot;dom-StorageEvent-url&quot;&gt;url&lt;/code&gt; attribute
+  initialized to &lt;span title=&quot;the document's address&quot;&gt;the address of the document&lt;/span&gt; whose
+  &lt;code&gt;Storage&lt;/code&gt; object was affected; and its &lt;code
+  title=&quot;dom-StorageEvent-storageArea&quot;&gt;storageArea&lt;/code&gt; attribute initialized to the
+  &lt;code&gt;Storage&lt;/code&gt; object from the &lt;code&gt;Window&lt;/code&gt; object of the target
+  &lt;code&gt;Document&lt;/code&gt; that represents the same kind of &lt;code&gt;Storage&lt;/code&gt; area as was affected
+  (i.e. session or local).&lt;/p&gt;
 
 
   &lt;h6&gt;Event definition&lt;/h6&gt;
@@ -106164,51 +105702,41 @@
 
       &lt;ol&gt;
 
-       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;span&gt;pending
-       parsing-blocking script&lt;/span&gt;. There is no longer a &lt;span&gt;pending
-       parsing-blocking script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be the &lt;span&gt;pending parsing-blocking
+       script&lt;/span&gt;. There is no longer a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Block the &lt;span title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt;
-       for this instance of the &lt;span&gt;HTML parser&lt;/span&gt;, such that
-       the &lt;span&gt;event loop&lt;/span&gt; will not run &lt;span
+       &lt;li&gt;&lt;p&gt;Block the &lt;span title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt; for this instance of the
+       &lt;span&gt;HTML parser&lt;/span&gt;, such that the &lt;span&gt;event loop&lt;/span&gt; will not run &lt;span
        title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke the &lt;span
        title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has a style
-       sheet that is blocking scripts&lt;/span&gt; or &lt;var title=&quot;&quot;&gt;the
-       script&lt;/var&gt;'s &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag
-       is not set: &lt;span&gt;spin the event loop&lt;/span&gt; until the parser's
-       &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has no style sheet that is blocking
-       scripts&lt;/span&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
-       &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag is
-       set.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If the parser's &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has a style sheet that is blocking
+       scripts&lt;/span&gt; or &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt;
+       flag is not set: &lt;span&gt;spin the event loop&lt;/span&gt; until the parser's &lt;code&gt;Document&lt;/code&gt;
+       &lt;span&gt;has no style sheet that is blocking scripts&lt;/span&gt; and &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;'s
+       &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag is set.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Unblock the &lt;span title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt;
-       for this instance of the &lt;span&gt;HTML parser&lt;/span&gt;, such that
-       &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke the &lt;span
-       title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt; can again be
-       run.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Unblock the &lt;span title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt; for this instance of the
+       &lt;span&gt;HTML parser&lt;/span&gt;, such that &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke the
+       &lt;span title=&quot;tokenization&quot;&gt;tokenizer&lt;/span&gt; can again be run.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be just before the
-       &lt;span&gt;next input character&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be just before the &lt;span&gt;next input
+       character&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;span&gt;script nesting level&lt;/span&gt;
-       by one (it should be zero before this step, so this sets it to
-       one).&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Increment the parser's &lt;span&gt;script nesting level&lt;/span&gt; by one (it should be zero
+       before this step, so this sets it to one).&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt;
-       &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt; &lt;var title=&quot;&quot;&gt;the
+       script&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;span&gt;script nesting level&lt;/span&gt;
-       by one. If the parser's &lt;span&gt;script nesting level&lt;/span&gt; is
-       zero (which it always should be at this point), then set the
-       &lt;span&gt;parser pause flag&lt;/span&gt; to false.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Decrement the parser's &lt;span&gt;script nesting level&lt;/span&gt; by one. If the parser's
+       &lt;span&gt;script nesting level&lt;/span&gt; is zero (which it always should be at this point), then set
+       the &lt;span&gt;parser pause flag&lt;/span&gt; to false.&lt;/p&gt;
 
-       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be undefined
-       again.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be undefined again.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;If there is once again a &lt;span&gt;pending parsing-blocking
-       script&lt;/span&gt;, then repeat these steps from step 1.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If there is once again a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;, then repeat
+       these steps from step 1.&lt;/p&gt;&lt;/li&gt;
 
       &lt;/ol&gt;
 
@@ -107742,62 +107270,49 @@
 
    &lt;!-- this happens as part of one of the tasks that runs the parser --&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;current document readiness&lt;/span&gt; to &quot;&lt;code
-   title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot; &lt;!-- this also synchronously fires an
-   event --&gt; and the &lt;span&gt;insertion point&lt;/span&gt; to
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;current document readiness&lt;/span&gt; to &quot;&lt;code title=&quot;&quot;&gt;interactive&lt;/code&gt;&quot;
+   &lt;!-- this also synchronously fires an event --&gt; and the &lt;span&gt;insertion point&lt;/span&gt; to
    undefined.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;span&gt;stack of open
-   elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Pop &lt;em&gt;all&lt;/em&gt; the nodes off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;list of scripts that will execute when the
-   document has finished parsing&lt;/span&gt; is not empty, run these
-   substeps:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;list of scripts that will execute when the document has finished
+   parsing&lt;/span&gt; is not empty, run these substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the first
-     &lt;code&gt;script&lt;/code&gt; in the &lt;span&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/span&gt; has its
-     &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag set &lt;em&gt;and&lt;/em&gt;
-     the parser's &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has no style sheet that
-     is blocking scripts&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the first &lt;code&gt;script&lt;/code&gt; in the &lt;span&gt;list
+     of scripts that will execute when the document has finished parsing&lt;/span&gt; has its &lt;span&gt;&quot;ready
+     to be parser-executed&quot;&lt;/span&gt; flag set &lt;em&gt;and&lt;/em&gt; the parser's &lt;code&gt;Document&lt;/code&gt;
+     &lt;span&gt;has no style sheet that is blocking scripts&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt; the
-     first &lt;code&gt;script&lt;/code&gt; in the &lt;span&gt;list of scripts that will
-     execute when the document has finished parsing&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt; the first &lt;code&gt;script&lt;/code&gt; in
+     the &lt;span&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;script&lt;/code&gt; element from the
-     &lt;span&gt;list of scripts that will execute when the document has
-     finished parsing&lt;/span&gt; (i.e. shift out the first entry in the
+     &lt;li&gt;&lt;p&gt;Remove the first &lt;code&gt;script&lt;/code&gt; element from the &lt;span&gt;list of scripts that will
+     execute when the document has finished parsing&lt;/span&gt; (i.e. shift out the first entry in the
      list).&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;list of scripts that will execute when the
-     document has finished parsing&lt;/span&gt; is still not empty, repeat
-     these substeps again from substep 1.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;list of scripts that will execute when the document has finished
+     parsing&lt;/span&gt; is still not empty, repeat these substeps again from substep 1.&lt;/p&gt;
 
     &lt;/ol&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; that bubbles named &lt;code
-   title=&quot;event-DOMContentLoaded&quot;&gt;DOMContentLoaded&lt;/code&gt; at the
-   &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
+   title=&quot;event-DOMContentLoaded&quot;&gt;DOMContentLoaded&lt;/code&gt; at the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the &lt;span&gt;set of
-   scripts that will execute as soon as possible&lt;/span&gt; and the
-   &lt;span&gt;list of scripts that will execute in order as soon as
-   possible&lt;/span&gt; are empty.&lt;/p&gt;&lt;/li&gt; &lt;!-- this step is not redundant
-   with the next one, since &lt;script&gt; nodes delay the load event of the
-   document they are in, but they might change document between being
-   added to one document's set/list and executing those scripts, so
-   they might be delaying another document but still be in this
-   document's set/list. --&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the &lt;span&gt;set of scripts that will execute as soon
+   as possible&lt;/span&gt; and the &lt;span&gt;list of scripts that will execute in order as soon as
+   possible&lt;/span&gt; are empty.&lt;/p&gt;&lt;/li&gt; &lt;!-- this step is not redundant with the next one, since
+   &lt;script&gt; nodes delay the load event of the document they are in, but they might change document
+   between being added to one document's set/list and executing those scripts, so they might be
+   delaying another document but still be in this document's set/list. --&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until there is nothing that
-   &lt;dfn title=&quot;delay the load event&quot;&gt;delays the load event&lt;/dfn&gt; in
-   the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until there is nothing that &lt;dfn title=&quot;delay the load
+   event&quot;&gt;delays the load event&lt;/dfn&gt; in the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -108972,17 +108487,14 @@
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;-//WAPFORUM//DTD&nbsp;XHTML&nbsp;Mobile&nbsp;1.0//EN&lt;/code&gt;&lt;/li&gt;
   &lt;/ul&gt;
 
-  &lt;p&gt;Furthermore, user agents should attempt to retrieve the above
-  external entity's content when one of the above public identifiers
-  is used, and should not attempt to retrieve any other external
+  &lt;p&gt;Furthermore, user agents should attempt to retrieve the above external entity's content when
+  one of the above public identifiers is used, and should not attempt to retrieve any other external
   entity's content.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This is not strictly a &lt;span title=&quot;willful
-  violation&quot;&gt;violation&lt;/span&gt; of the XML specification, but it does
-  contradict the spirit of the XML specification's requirements. This
-  is motivated by a desire for user agents to all handle entities in
-  an interoperable fashion without requiring any network access for
-  handling external subsets. &lt;a href=&quot;#refsXML&quot;&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;This is not strictly a &lt;span title=&quot;willful violation&quot;&gt;violation&lt;/span&gt; of the XML
+  specification, but it does contradict the spirit of the XML specification's requirements. This is
+  motivated by a desire for user agents to all handle entities in an interoperable fashion without
+  requiring any network access for handling external subsets. &lt;a href=&quot;#refsXML&quot;&gt;[XML]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p id=&quot;scriptTagXML&quot;&gt;When an &lt;span&gt;XML parser&lt;/span&gt; creates a &lt;code&gt;script&lt;/code&gt; element, it
   must be marked as being &lt;span&gt;&quot;parser-inserted&quot;&lt;/span&gt; and its &lt;span&gt;&quot;force-async&quot;&lt;/span&gt; flag
@@ -108995,49 +108507,39 @@
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Block this instance of the &lt;span&gt;XML parser&lt;/span&gt;, such
-   that the &lt;span&gt;event loop&lt;/span&gt; will not run &lt;span
-   title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke it.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Block this instance of the &lt;span&gt;XML parser&lt;/span&gt;, such that the &lt;span&gt;event loop&lt;/span&gt;
+   will not run &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke it.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the parser's
-   &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has no style sheet that is blocking
-   scripts&lt;/span&gt; and the &lt;span&gt;pending parsing-blocking
-   script&lt;/span&gt;'s &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag is
-   set.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Spin the event loop&lt;/span&gt; until the parser's &lt;code&gt;Document&lt;/code&gt; &lt;span&gt;has no
+   style sheet that is blocking scripts&lt;/span&gt; and the &lt;span&gt;pending parsing-blocking
+   script&lt;/span&gt;'s &lt;span&gt;&quot;ready to be parser-executed&quot;&lt;/span&gt; flag is set.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;span&gt;XML parser&lt;/span&gt;, such
-   that &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke it can
-   again be run.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Unblock this instance of the &lt;span&gt;XML parser&lt;/span&gt;, such that &lt;span
+   title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that invoke it can again be run.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt; the
-   &lt;span&gt;pending parsing-blocking script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;There is no longer a &lt;span&gt;pending parsing-blocking
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;execute the script block&quot;&gt;Execute&lt;/span&gt; the &lt;span&gt;pending parsing-blocking
    script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;There is no longer a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
   &lt;/ol&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Since the &lt;code
-  title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt; API is not
-  available for &lt;span&gt;XML documents&lt;/span&gt;, much of the complexity in
-  the &lt;span&gt;HTML parser&lt;/span&gt; is not needed in the &lt;span&gt;XML
-  parser&lt;/span&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;Since the &lt;code title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt; API is not
+  available for &lt;span&gt;XML documents&lt;/span&gt;, much of the complexity in the &lt;span&gt;HTML parser&lt;/span&gt;
+  is not needed in the &lt;span&gt;XML parser&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Certain algorithms in this specification &lt;dfn title=&quot;feed the
-  parser&quot;&gt;spoon-feed the parser&lt;/dfn&gt; characters one string at a
-  time. In such cases, the &lt;span&gt;XML parser&lt;/span&gt; must act as it
-  would have if faced with a single string consisting of the
-  concatenation of all those characters.&lt;/p&gt;
+  &lt;p&gt;Certain algorithms in this specification &lt;dfn title=&quot;feed the parser&quot;&gt;spoon-feed the
+  parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;span&gt;XML parser&lt;/span&gt; must act
+  as it would have if faced with a single string consisting of the concatenation of all those
+  characters.&lt;/p&gt;
 
-  &lt;p&gt;When an &lt;span&gt;XML parser&lt;/span&gt; reaches the end of its input, it
-  must &lt;span&gt;stop parsing&lt;/span&gt;, following the same rules as the
-  &lt;span&gt;HTML parser&lt;/span&gt;. An &lt;span&gt;XML parser&lt;/span&gt; can also be
-  &lt;span title=&quot;abort a parser&quot;&gt;aborted&lt;/span&gt;, which must again by
-  done in the same way as for an &lt;span&gt;HTML parser&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When an &lt;span&gt;XML parser&lt;/span&gt; reaches the end of its input, it must &lt;span&gt;stop
+  parsing&lt;/span&gt;, following the same rules as the &lt;span&gt;HTML parser&lt;/span&gt;. An &lt;span&gt;XML
+  parser&lt;/span&gt; can also be &lt;span title=&quot;abort a parser&quot;&gt;aborted&lt;/span&gt;, which must again by done in
+  the same way as for an &lt;span&gt;HTML parser&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of conformance checkers, if a resource is
-  determined to be in &lt;span&gt;the XHTML syntax&lt;/span&gt;, then it is an
-  &lt;span title=&quot;XML documents&quot;&gt;XML document&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;For the purposes of conformance checkers, if a resource is determined to be in &lt;span&gt;the XHTML
+  syntax&lt;/span&gt;, then it is an &lt;span title=&quot;XML documents&quot;&gt;XML document&lt;/span&gt;.&lt;/p&gt;
 
 
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014553.html">[html5] r7693 - [e] (0) Fix confusion of cross-references. Fixing	https://www.w3.org/Bugs/Public [...]
</A></li>
	<LI>Next message: <A HREF="014555.html">[html5] r7696 - [e] (0) Integrate the 'event loop' mechanism of	workers and windows together, an [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14554">[ date ]</a>
              <a href="thread.html#14554">[ thread ]</a>
              <a href="subject.html#14554">[ subject ]</a>
              <a href="author.html#14554">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
