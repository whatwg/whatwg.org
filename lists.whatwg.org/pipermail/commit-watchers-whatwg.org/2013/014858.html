<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8000 - / images
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8000%20-%20/%20images&In-Reply-To=%3C20130628224418.84D60806656E%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014857.html">
   <LINK REL="Next"  HREF="014859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8000 - / images</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8000%20-%20/%20images&In-Reply-To=%3C20130628224418.84D60806656E%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8000 - / images">whatwg at whatwg.org
       </A><BR>
    <I>Fri Jun 28 15:44:18 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014857.html">[html5] r7999 - [giow] (3) Another very risky change! Please	review! This attempts to refactor t [...]
</A></li>
        <LI>Next message: <A HREF="014859.html">[html5] r8001 - [cgiow] (3) Change the HTML parser from using 'act	as if' tokens to inlining the [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14858">[ date ]</a>
              <a href="thread.html#14858">[ thread ]</a>
              <a href="subject.html#14858">[ subject ]</a>
              <a href="author.html#14858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-06-28 15:44:17 -0700 (Fri, 28 Jun 2013)
New Revision: 8000

Modified:
   complete.html
   images/content-venn.svg
   index
   source
Log:
[cgiow] (1) Integrate &lt;template&gt; into HTML.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=17930">https://www.w3.org/Bugs/Public/show_bug.cgi?id=17930</A>
Affected topics: DOM APIs, HTML, HTML Syntax and Parsing, Rendering

Modified: complete.html
===================================================================
--- complete.html	2013-06-25 20:55:18 UTC (rev 7999)
+++ complete.html	2013-06-28 22:44:17 UTC (rev 8000)
@@ -256,7 +256,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 25 June 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 June 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -471,7 +471,10 @@
        &lt;li&gt;&lt;a href=#restrictions-for-contents-of-script-elements&gt;&lt;span class=secno&gt;4.3.1.2 &lt;/span&gt;Restrictions for contents of &lt;code&gt;script&lt;/code&gt; elements&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#inline-documentation-for-external-scripts&gt;&lt;span class=secno&gt;4.3.1.3 &lt;/span&gt;Inline documentation for external scripts&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#scriptTagXSLT&gt;&lt;span class=secno&gt;4.3.1.4 &lt;/span&gt;Interaction of &lt;code&gt;script&lt;/code&gt; elements and XSLT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-template-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;code&gt;template&lt;/code&gt; element&lt;/a&gt;
+      &lt;ol&gt;
+       &lt;li&gt;&lt;a href=#template-XSLT-XPath&gt;&lt;span class=secno&gt;4.3.3.1 &lt;/span&gt;Interaction of &lt;code&gt;template&lt;/code&gt; elements with XSLT and XPath&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#the-body-element&gt;&lt;span class=secno&gt;4.4.1 &lt;/span&gt;The &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
@@ -1281,11 +1284,12 @@
          &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;12.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;12.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;12.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intemplate&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;in template&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.23 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;12.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
@@ -10309,8 +10313,11 @@
   &lt;h4 id=content-models&gt;&lt;span class=secno&gt;3.2.5 &lt;/span&gt;&lt;dfn&gt;Content models&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;Each element defined in this specification has a content model: a description of the element's
-  expected contents. An &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; must have contents that
-  match the requirements described in the element's content model.&lt;/p&gt;
+  expected &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;. An &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; must have contents that
+  match the requirements described in the element's content model. The &lt;dfn id=concept-html-contents title=concept-html-contents&gt;contents&lt;/dfn&gt; of an element are
+  its children in the DOM, except for &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, where the children are those
+  in the &lt;a href=#template-contents&gt;template contents&lt;/a&gt; (a separate &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; assigned to the
+  element when the element is created).&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt; are always allowed between elements.
   User agents represent these characters between elements in the source markup as &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt;
@@ -10403,6 +10410,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
   &lt;/ul&gt;&lt;p&gt;Elements from other namespaces whose semantics are primarily metadata-related (e.g. RDF) are
   also &lt;a href=#metadata-content&gt;metadata content&lt;/a&gt;.&lt;/p&gt;
@@ -10520,6 +10528,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10614,6 +10623,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10621,13 +10631,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-wbr-element&gt;wbr&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;Text&lt;/a&gt;&lt;/li&gt;
-  &lt;/ul&gt;&lt;p&gt;As a general rule, elements whose content model allows any &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should
-  have either at least one descendant &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node that is not &lt;a href=#inter-element-whitespace&gt;inter-element
-  whitespace&lt;/a&gt;, or at least one descendant element node that is &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;.
-  For the purposes of this requirement, nodes that are descendants of &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; elements must
-  not be counted as contributing to the ancestors of the &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
-
-  &lt;p class=note&gt;Most elements that are categorized as phrasing content can only contain elements
+  &lt;/ul&gt;&lt;p class=note&gt;Most elements that are categorized as phrasing content can only contain elements
   that are themselves categorized as phrasing content, not any flow content.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=text-content title=&quot;text content&quot;&gt;Text&lt;/dfn&gt;, in the context of content models, means either nothing,
@@ -10813,7 +10817,7 @@
   &lt;h6 id=palpable-content-0&gt;&lt;span class=secno&gt;3.2.5.1.8 &lt;/span&gt;Palpable content&lt;/h6&gt;
 
   &lt;p&gt;As a general rule, elements whose content model allows any &lt;a href=#flow-content&gt;flow content&lt;/a&gt; or
-  &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should have at least one child node that is &lt;dfn id=palpable-content&gt;palpable
+  &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should have at least one node in its &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt; that is &lt;dfn id=palpable-content&gt;palpable
   content&lt;/dfn&gt; and that does not have the &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute
   specified.&lt;/p&gt;
 
@@ -10923,7 +10927,7 @@
      without first violating the earlier requirement)
   &lt;p&gt;Furthermore, when a content model includes a part that is &quot;transparent&quot;, those parts must not
   contain content that would not be conformant if all transparent elements in the tree were
-  replaced, in their parent element, by the children in the &quot;transparent&quot; part of their content
+  replaced, in their parent element, by the &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt; in the &quot;transparent&quot; part of their content
   model, retaining order.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
@@ -11028,7 +11032,7 @@
 
   &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;view&lt;/var&gt; be a view of the DOM that replaces all &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-ins-element&gt;ins&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; elements in the document with their
-  contents. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;
+  &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;
   nodes uninterrupted by other types of content, in an element that accepts content other than
   &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; as well as &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, let &lt;var title=&quot;&quot;&gt;first&lt;/var&gt; be the first node of the run, and let &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; be the last
   node of the run. For each such run that consists of at least one node that is neither
@@ -11142,7 +11146,7 @@
 
   &lt;h4 id=requirements-relating-to-bidirectional-algorithm-formatting-characters&gt;&lt;span class=secno&gt;3.2.6 &lt;/span&gt;Requirements relating to bidirectional-algorithm formatting characters&lt;/h4&gt;
 
-  &lt;p&gt;&lt;a href=#text-content&gt;Text content&lt;/a&gt; in &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; with child &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes, and
+  &lt;p&gt;&lt;a href=#text-content&gt;Text content&lt;/a&gt; in &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; with &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes in their &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;, and
   text in attributes of &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; that allow free-form text, may contain characters
   in the ranges U+202A to U+202E and U+2066 to U+2069 (the bidirectional-algorithm formatting
   characters). However, the use of these characters is restricted so that any embedding or overrides
@@ -11441,6 +11445,9 @@
     &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt; element
      &lt;td&gt;&lt;a href=#concept-role-none title=concept-role-none&gt;No role&lt;/a&gt;
 
+    &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element
+     &lt;td&gt;&lt;a href=#concept-role-none title=concept-role-none&gt;No role&lt;/a&gt;, with the &lt;code title=attr-aria-hidden&gt;aria-hidden&lt;/code&gt; state set to &quot;true&quot;
+
     &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element
      &lt;td&gt;&lt;code title=attr-aria-role-textbox&gt;textbox&lt;/code&gt; role, with the &lt;code title=attr-aria-multiline&gt;aria-multiline&lt;/code&gt; property set to &quot;true&quot;, and the &lt;code title=attr-aria-readonly&gt;aria-readonly&lt;/code&gt; property set to &quot;true&quot; if the element has a &lt;code title=attr-textarea-readonly&gt;&lt;a href=#attr-textarea-readonly&gt;readonly&lt;/a&gt;&lt;/code&gt; attribute
 
@@ -11771,7 +11778,9 @@
   output, or are rendered inline, etc).&lt;/p&gt;
 
   &lt;p class=note&gt;There are also additional non-normative comments regarding the interaction of XSLT
-  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
+  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;, and of
+  XSLT, XPath, and HTML &lt;a href=#template-XSLT-XPath&gt;in the &lt;code&gt;template&lt;/code&gt; element
+  section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -15436,7 +15445,186 @@
   &lt;/div&gt;
 
 
+  &lt;h4 id=the-template-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;template&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
+  &lt;dl class=element&gt;&lt;dt&gt;&lt;a href=#element-dfn-categories title=element-dfn-categories&gt;Categories&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;a href=#metadata-content&gt;Metadata content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Where &lt;a href=#metadata-content&gt;metadata content&lt;/a&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element that doesn't have a &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Either: &lt;a href=#metadata-content&gt;Metadata content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: &lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state&gt;popup menu state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
+   &lt;dd&gt;
+&lt;pre class=idl&gt;interface &lt;dfn id=htmltemplateelement&gt;HTMLTemplateElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
+  readonly attribute &lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt; &lt;a href=#dom-template-content title=dom-template-content&gt;content&lt;/a&gt;;
+};&lt;/pre&gt;
+&lt;/dd&gt;
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element is used to declare fragments of HTML that can be cloned and
+  inserted in the document by script.&lt;/p&gt;
+
+  &lt;p&gt;In a rendering, the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; nothing.&lt;/p&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;template&lt;/var&gt; . &lt;code title=dom-template-content&gt;&lt;a href=#dom-template-content&gt;content&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the contents of the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, which are stored in a
+    &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; associated with a different &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; so as to avoid
+    the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; contents interfering with the main &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;. (For
+    example, this avoids form controls from being submitted, scripts from executing, and so
+    forth.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element has an associated &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object that
+  is its &lt;dfn id=template-contents&gt;template contents&lt;/dfn&gt;. When a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element is created, the user
+  agent must run the following steps to establish the &lt;a href=#template-contents&gt;template contents&lt;/a&gt;:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; be the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; has an associated &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; be a new &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; (that does not have a
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;).&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; is an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;, mark
+     &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; as an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;
+     also.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt; to the newly
+   created &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-template-content title=dom-template-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attribute must return the
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;a href=#concept-node-clone-ext title=concept-node-clone-ext&gt;cloning steps&lt;/a&gt; for a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+  element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; being cloned to a copy &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt; must run the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;clone children flag&lt;/var&gt; is not set in the calling &lt;a href=#concept-node-clone title=concept-node-clone&gt;clone&lt;/a&gt; algorithm, abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; be the result of &lt;a href=#concept-node-clone title=concept-node-clone&gt;cloning&lt;/a&gt; all the children of &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;'s
+   &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;ownerDocument&lt;/var&gt; set to &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;a href=#template-contents&gt;template contents&lt;/a&gt;'s &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt;, and with the &lt;var title=&quot;&quot;&gt;clone children
+   flag&lt;/var&gt; set.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;In this example, a script populates a table with data from a data structure, using a
+   &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; to provide the element structure instead of manually generating the
+   structure from markup.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;!DOCTYPE html&gt;
+&lt;title&gt;Cat data&lt;/title&gt;
+&lt;script&gt;
+ // Data is hard-coded here, but could come from the server
+ var data = [
+   { name: 'Pillar', color: 'Ticked Tabby', sex: 'Female (neutered)', legs: 3 },
+   { name: 'Hedral', color: 'Tuxedo', sex: 'Male (neutered)', legs: 4 },
+ ];
+&lt;/script&gt;
+&lt;table&gt;
+ &lt;thead&gt;
+  &lt;tr&gt;
+   &lt;th&gt;Name &lt;th&gt;Color &lt;th&gt;Sex &lt;th&gt;Legs
+ &lt;tbody&gt;
+  &lt;template id=&quot;row&quot;&gt;
+   &lt;tr&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;
+  &lt;/template&gt;
+&lt;/table&gt;
+&lt;script&gt;
+ var template = document.querySelector('#row');
+ for (var i in data) {
+   var cat = data[i];
+   var clone = template.content.cloneNode(true);
+   var cells = clone.querySelectorAll('td');
+   cells[0].textContent = cat.name;
+   cells[1].textContent = cat.color;
+   cells[2].textContent = cat.sex;
+   cells[3].textContent = cat.legs;
+   template.parentNode.appendChild(clone);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;div class=impl&gt;
+
+  &lt;h5 id=template-XSLT-XPath&gt;&lt;span class=secno&gt;4.3.3.1 &lt;/span&gt;Interaction of &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements with XSLT and XPath&lt;/h5&gt;
+
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;This specification does not define how XSLT and XPath interact with the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+  element. However, in the absence of another specification actually defining this, here are some
+  guidelines for implementors, which are intended to be consistent with other processing described
+  in this specification:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;&lt;p&gt;An XSLT processor based on an XML parser that acts &lt;a href=#xml-parser title=&quot;xml parser&quot;&gt;as described
+   in this specification&lt;/a&gt; needs to act as if &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements contain as
+   descendants their &lt;a href=#template-contents&gt;template contents&lt;/a&gt; for the purposes of the transform.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;An XSLT processor that outputs a DOM needs to ensure that nodes that would go into a
+   &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element are instead placed into the element's &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;XPath evaluation using the XPath DOM API when applied to a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; parsed
+   using the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; described in this specification
+   needs to ignore &lt;a href=#template-contents&gt;template contents&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;/ul&gt;&lt;/div&gt;
+
+
   &lt;h3 id=sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/h3&gt;
 
   &lt;h4 id=the-body-element&gt;&lt;span class=secno&gt;4.4.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
@@ -16215,7 +16403,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18159,7 +18347,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18323,7 +18511,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18491,9 +18679,9 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more groups each consisting of one or more
-   &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; elements followed by one or more &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;
-   elements.&lt;/dd&gt;
+   &lt;dd&gt;Either: Zero or more groups each consisting of one or more &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; elements followed by one or more &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, followed by zero or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; elements, followed by a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -39274,7 +39462,7 @@
    &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected, but only if there is a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected, but only if there is a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element ancestor or a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
@@ -39314,7 +39502,7 @@
   map&lt;/a&gt;, or a dead area on an image map.&lt;/p&gt;
 
   &lt;p&gt;An &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element with a parent node must have a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element
-  ancestor.&lt;/p&gt;
+  ancestor or a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element has an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute, then the
   &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element represents a &lt;a href=#hyperlink&gt;hyperlink&lt;/a&gt;. In
@@ -39949,7 +40137,7 @@
    &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; elements or one or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;
    elements, followed optionally by a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element (but
    there can only be one &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element child in
-   total).&lt;/dd&gt;
+   total), optionally with one or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements between any of the other elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -40692,7 +40880,7 @@
    elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is present: Empty.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-start-tag title=syntax-start-tag&gt;start tag&lt;/a&gt; can be omitted if the
    first thing inside the &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element is a
@@ -40790,7 +40978,7 @@
    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-start-tag title=syntax-start-tag&gt;start tag&lt;/a&gt; can be omitted if the
    first thing inside the &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element is a
@@ -40895,7 +41083,7 @@
    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element is
@@ -40974,7 +41162,7 @@
    are no other &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element is
@@ -41011,7 +41199,7 @@
    elements, but only if there are no &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; elements that
    are children of the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element is
@@ -50665,7 +50853,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -51199,7 +51387,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;An &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; can be omitted if the
    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element &lt;!--has an ancestor
@@ -56471,8 +56659,8 @@
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: as the child of a &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state: either zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements, or &lt;a href=#flow-content&gt;flow content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: in any order, zero or more &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; elements, and zero or more &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attributes are in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state: either zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, or, &lt;a href=#flow-content&gt;flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: in any order, zero or more &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attributes are in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state, and zero or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -84224,12 +84412,12 @@
   start tag that is marked as self-closing, in which case they must
   not have an end tag.&lt;/p&gt;
 
-  &lt;p&gt;The contents of the element must be placed between just after the
+  &lt;p&gt;The &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt; of the element must be placed between just after the
   start tag (which &lt;a href=#syntax-tag-omission title=syntax-tag-omission&gt;might be implied,
   in certain cases&lt;/a&gt;) and just before the end tag (which again,
   &lt;a href=#syntax-tag-omission title=syntax-tag-omission&gt;might be implied in certain
   cases&lt;/a&gt;). The exact allowed contents of each individual element
-  depend on the content model of that element, as described earlier in
+  depend on the &lt;a href=#content-models title=&quot;content models&quot;&gt;content model&lt;/a&gt; of that element, as described earlier in
   this specification. Elements must not contain content that their
   content model disallows. In addition to the restrictions placed on
   the contents by those content models, however, the five types of
@@ -84878,6 +85066,8 @@
   HYPHEN-MINUS, U+003E GREATER-THAN SIGN (&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;).&lt;/p&gt;
 
 
+&lt;!--HTMLPARSER--&gt;
+
   &lt;div class=impl&gt;
 
   &lt;h3 id=parsing&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
@@ -86007,7 +86197,8 @@
   row&quot;&gt;in row&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in
   cell&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in
   select&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in
-  select in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after
+  select in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+  template&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after
   body&quot;&gt;after body&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in
   frameset&quot;&gt;in frameset&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after
   frameset&quot;&gt;after frameset&lt;/a&gt;&quot;, &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode:
@@ -86036,7 +86227,15 @@
   is also set. This is the insertion mode to which the tree
   construction stage will return.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When the steps below require the UA to &lt;dfn id=reset-the-insertion-mode-appropriately&gt;reset the insertion
+  &lt;p&gt;Similarly, to parse nested &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, a &lt;dfn id=stack-of-template-insertion-modes&gt;stack of template insertion
+  modes&lt;/dfn&gt; is used. It is initially empty. The &lt;dfn id=current-template-insertion-mode&gt;current template insertion mode&lt;/dfn&gt; is the
+  insertion mode that was most recently added to the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt;.
+  The algorithms in the sections below will &lt;i&gt;push&lt;/i&gt; insertion modes onto this stack, meaning
+  that the specified insertion mode is to be added to the stack, and &lt;i&gt;pop&lt;/i&gt; insertion modes from
+  the stack, which means that the most recently added insertion mode must be removed from the
+  stack.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;!--CLEANUP--&gt;&lt;!--&lt;p&gt;s--&gt;&lt;p&gt;When the steps below require the UA to &lt;dfn id=reset-the-insertion-mode-appropriately&gt;reset the insertion
   mode appropriately&lt;/dfn&gt;, it means the UA must follow these
   steps:&lt;/p&gt;
 
@@ -86050,10 +86249,34 @@
    true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.
    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
-   steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is the first node in the &lt;a href=#stack-of-open-elements&gt;stack of open
+     elements&lt;/a&gt;, jump to the step below labeled &lt;i&gt;done&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the node before &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; in the
+     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; node, jump to the step below
+     labeled &lt;i&gt;done&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; node, switch the &lt;a href=#insertion-mode&gt;insertion
+     mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/a&gt;&quot; and
+     abort these steps.&lt;/li&gt;
+      &lt;!-- consider &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;select&gt;&lt;template&gt;&lt;/template&gt;&lt;caption&gt;&lt;/table&gt;
+           <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374</A> --&gt;
+
+     &lt;li&gt;&lt;p&gt;Jump back to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Done&lt;/i&gt;: Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in
+     select&quot;&gt;in select&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; or
    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is false, then
    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
@@ -86074,26 +86297,36 @@
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; and
-   abort these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; (&quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;! &lt;em&gt; not &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;&lt;/em&gt;!) and abort
-   these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt; &lt;!-- This is only
-   here for now in case people think that the spec accidentally
-   omitted it and try to &quot;fix&quot; it. Note that noscript-in-head is also
-   handled this way. This is all intentional. The only thing it
-   doesn't handle is the scripting-disabled fragment parsing case for
-   a &lt;head&gt; element containing a &lt;noscript&gt; which itself contains
-   something other than a &lt;link&gt; or a &lt;style&gt; element; you'd expect
-   that to break out of the &lt;noscript&gt; but it doesn't. This is an edge
-   case that doesn't affect the spec, since the algorithm for fragment
-   parsing is only used for innerHTML/outerHTML/insertAdjacentHTML(),
-   where we know scripting is enabled. --&gt;
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then switch the
+   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; and abort these
+   steps.&lt;/li&gt;
 
+&lt;!--
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;head&lt;/code&gt; element
+   and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is true,
+   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+   title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; (&quot;&lt;span
+   title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;! &lt;em&gt; not &quot;&lt;span
+   title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;&lt;/em&gt;!) and abort
+   these steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+--&gt;&lt;!-- The above is only here in case people think that the spec accidentally omitted it and try to
+        &quot;fix&quot; it. Note that noscript-in-head is also handled this way. This is all intentional. The
+        only thing it doesn't handle is the scripting-disabled fragment parsing case for a &lt;head&gt;
+        element containing a &lt;noscript&gt; which itself contains something other than a &lt;link&gt; or a
+        &lt;style&gt; element; you'd expect that to break out of the &lt;noscript&gt; but it doesn't. This is an
+        edge case that doesn't affect the spec, since the algorithm for fragment parsing is only
+        used for innerHTML/outerHTML/insertAdjacentHTML(), where we know scripting is enabled. --&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is
+   false, then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+   head&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt; &lt;!-- for the case of &lt;head&gt;&lt;template&gt;&lt;/template&gt;... --&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
@@ -86148,6 +86381,7 @@
   &lt;p&gt;Elements in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; fall into the following categories:&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=special&gt;Special&lt;/dfn&gt;&lt;/dt&gt;
+&lt;!--CLEANUP--&gt;
    &lt;dd&gt;&lt;p&gt;The following elements have varying levels of special parsing rules: HTML's
    &lt;code&gt;&lt;a href=#the-address-element&gt;address&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-aside-element&gt;aside&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#basefont&gt;basefont&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#bgsound&gt;bgsound&lt;/a&gt;&lt;/code&gt;,
@@ -86167,7 +86401,7 @@
    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#plaintext&gt;plaintext&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-wbr-element&gt;wbr&lt;/a&gt;&lt;/code&gt;, and
    &lt;code&gt;&lt;a href=#xmp&gt;xmp&lt;/a&gt;&lt;/code&gt;; MathML's &lt;code title=&quot;&quot;&gt;mi&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mo&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mn&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;ms&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mtext&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;annotation-xml&lt;/code&gt;; and SVG's &lt;code title=&quot;&quot;&gt;foreignObject&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;desc&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;title&lt;/code&gt;.&lt;/dd&gt; &lt;!-- we could actually put all
    non-HTML elements in this list, I think --&gt;
@@ -86209,6 +86443,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mi&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mo&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mn&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
@@ -86239,6 +86474,7 @@
 
   &lt;ul class=brief&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt; &lt;!-- (This can only happen if the &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the topmost node of the &lt;span&gt;stack of open elements&lt;/span&gt;, and prevents the next step from being invoked if there are no more elements in the stack.) --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
   &lt;/ul&gt;&lt;p&gt;The &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is said to &lt;dfn id=has-an-element-in-select-scope title=&quot;has an element in select
   scope&quot;&gt;have an element in select scope&lt;/dfn&gt; when it &lt;a href=#has-an-element-in-the-specific-scope&gt;has an element in the specific
   scope&lt;/a&gt; consisting of all element types &lt;em&gt;except&lt;/em&gt; the following:&lt;/p&gt;
@@ -88637,6 +88873,9 @@
 
   &lt;h5 id=creating-and-inserting-nodes&gt;&lt;span class=secno&gt;12.2.5.1 &lt;/span&gt;Creating and inserting nodes&lt;/h5&gt;
 
+  &lt;p&gt;While the parser is processing a token, it can enable or disable &lt;dfn id=foster-parent title=&quot;foster
+  parent&quot;&gt;foster parenting&lt;/dfn&gt;. This affects the following algorithm.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=appropriate-place-for-inserting-a-node&gt;appropriate place for inserting a node&lt;/dfn&gt;, optionally using a particular
   &lt;i&gt;override target&lt;/i&gt;, is the position in an element returned by running the following steps:&lt;/p&gt;
 
@@ -88654,42 +88893,59 @@
     &lt;p&gt;Determine the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; using the first matching steps
     from the following list:&lt;/p&gt;
 
-    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;dfn id=foster-parent title=&quot;foster parent&quot;&gt;foster parenting&lt;/dfn&gt; is enabled and &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;,
+    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;a href=#foster-parent title=&quot;foster parent&quot;&gt;foster parenting&lt;/a&gt; is enabled and &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;,
      &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
 
      &lt;dd&gt;
 
       &lt;p class=note&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
 
-      &lt;p&gt;The &lt;dfn id=foster-parent-element&gt;foster parent element&lt;/dfn&gt; is the parent element of the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-      element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if there is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element and
-      it has such a parent element.&lt;/p&gt;
+      &lt;p&gt;Run these substeps:&lt;/p&gt;
 
-      &lt;p class=note&gt;It might have no parent or some other kind parent if a script manipulated the
-      DOM after the element was inserted by the parser.&lt;/p&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; be the last &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element in the
+       &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-      &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-      (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;), then the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the first element in the
-      &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; (the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element). Otherwise, if there is a
-      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, but the last
-      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has no parent, or its
-      parent node is not an element, then the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the element before the
-      last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; be the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the
+       &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-      &lt;p&gt;If the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the parent element of the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-      element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then the &lt;var title=&quot;&quot;&gt;adjusted insertion
-      location&lt;/var&gt; is inside the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt;, immediately &lt;em&gt;before&lt;/em&gt; the
-      last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;; otherwise, the
-      &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt;,
-      after its last child (if any).&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; and either there is no &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, or there is one, but &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; is lower
+       (more recently added) than &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open
+       elements&lt;/a&gt;, then: let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt;'s &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, after its last child (if any),
+       and abort these substeps.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, &lt;!-- there's also implicitly no last
+       template, since we didn't hit the previous step --&gt; then let &lt;var title=&quot;&quot;&gt;adjusted insertion
+       location&lt;/var&gt; be inside the first element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; (the
+       &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element), after its last child (if any), and abort these substeps.
+       (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+
+       &lt;!-- if we get here, we know there's a last table, and if there's a last template, it's older
+       than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; has a parent element, then let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;'s parent
+       element, immediately before &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, and abort these
+       substeps.&lt;/li&gt;
+
+       &lt;!-- if we get here, we know there's a last table, but it has no parent, and if there's a
+       last template, it's older than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;previous element&lt;/var&gt; be the element immediately above &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;previous
+       element&lt;/var&gt;, after its last child (if any).&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;p class=note&gt;These steps are involved in part because it's possible for elements, the
+      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in this case in particular, to have been moved by a script around
+      in the DOM, or indeed removed from the DOM entirely, after the element was inserted by the
+      parser.&lt;/p&gt;
+
      &lt;/dd&gt;
 
      &lt;dt&gt;Otherwise&lt;/dt&gt;
 
      &lt;dd&gt;
 
-      &lt;p&gt;The &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
       after its last child (if any).&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -88698,6 +88954,14 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+    element, let it instead be inside the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template
+    contents&lt;/a&gt;, after its last child (if any).&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;Return the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -88754,9 +89018,18 @@
    pointer&lt;/a&gt;, and suppress the running of the &lt;a href=#reset-the-form-owner&gt;reset the form owner&lt;/a&gt; algorithm in
    the next step.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
-   location&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If it is possible to insert an element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;, then insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; cannot accept more
+    elements, e.g. because it's a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that already has an element child, then the
+    newly created element is dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Push the element onto the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; so that it is the new
    &lt;a href=#current-node&gt;current node&lt;/a&gt;.&lt;/li&gt;
 
@@ -88882,6 +89155,16 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is in a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; node,
+    then abort these steps.
+
+    &lt;p class=note&gt;The DOM will not let &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; nodes have &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node
+    children, so they are dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node immediately before the &lt;var title=&quot;&quot;&gt;adjusted insertion
     location&lt;/var&gt;, then append &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to that &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node's data.&lt;/p&gt;
 
@@ -89407,6 +89690,7 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt id=scriptTag&gt;A start tag whose tag name is &quot;script&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
@@ -89470,6 +89754,53 @@
     &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
+
+    &lt;p&gt;Insert a marker at the end of the &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting elements&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/a&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in template&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of
+    template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, run these steps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#generate-implied-end-tags&gt;Generate implied end tags&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not an element with
+     the same tag name as that of the token, then this is a
+     &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
+     until an element with the same tag name as the token has been
+     popped from the stack.&lt;/li&gt;
+
+     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the
+     last marker&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+     insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
+     parser's insertion mode appropriately&lt;/a&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/dd&gt;
+
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
@@ -89689,7 +90020,12 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. For each attribute on the token,
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, for each attribute on the token,
     check to see if the attribute is already present on the top
     element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not,
     add the attribute and its corresponding value to that element.&lt;/p&gt;
@@ -89708,8 +90044,9 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
+    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, if the
     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
+    or if there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
     then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;;
@@ -89726,6 +90063,7 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
     &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
@@ -89763,8 +90101,13 @@
     this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
     fragment cases) --&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; is not empty, then process the token
+    &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;!-- this is needed to handle &lt;head&gt;&lt;template&gt;...[EOF] - otherwise we don't construct the &lt;body&gt; element --&gt;
 
+    &lt;p&gt;Otherwise, &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -90811,6 +91154,15 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;A start &lt;!--or end--&gt; tag whose tag name is one of: &quot;caption&quot;,
    &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;head&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
    &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
@@ -91107,9 +91459,6 @@
     the tag name &quot;table&quot; had been seen, then, if that token wasn't
     ignored, reprocess the current token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
@@ -91117,8 +91466,7 @@
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/a&gt; with the same tag name as the token, this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91187,18 +91535,21 @@
 
    &lt;!-- &quot;form&quot; end tag falls through to in-body, which does the right thing --&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; can only be the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91213,8 +91564,8 @@
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-context&gt;clear the stack
   back to a table context&lt;/dfn&gt;, it means that the UA must, while
-  the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-  element or an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
+  the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
   &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; being an
@@ -91375,13 +91726,10 @@
    &lt;dt&gt;An end tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;; ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; ignore the token.&lt;/p&gt; &lt;!-- e.g. colgroup fragment case, or &lt;template&gt;&lt;col&gt;&lt;/colgroup&gt; --&gt;
 
-    &lt;p&gt;Otherwise, pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be
-    a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element) from the &lt;a href=#stack-of-open-elements&gt;stack of open
+    &lt;p&gt;Otherwise, pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; from the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
     &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
@@ -91392,16 +91740,21 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
-    element, then &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, act as described in the &quot;anything else&quot; entry
-    below.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91411,9 +91764,6 @@
     seen, and then, if that token wasn't ignored, reprocess the
     current token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;12.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
@@ -91466,8 +91816,7 @@
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have a
     &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tfoot&lt;/code&gt;
     element in table scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91495,7 +91844,7 @@
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-body-context&gt;clear the stack
   back to a table body context&lt;/dfn&gt;, it means that the UA must,
   while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
+  &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
   element, pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open
   elements&lt;/a&gt;.&lt;/p&gt;
 
@@ -91528,8 +91877,7 @@
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/a&gt; with the same tag name as the token, this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91553,9 +91901,6 @@
     then, if that token wasn't ignored, reprocess the current
     token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
@@ -91585,8 +91930,8 @@
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-row-context&gt;clear the stack
   back to a table row context&lt;/dfn&gt;, it means that the UA must,
-  while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;
-  element or an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
+  while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
   &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; being an
@@ -91623,7 +91968,7 @@
 
     &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot;.&lt;/p&gt; &lt;!-- current
     node here will be a &lt;tr&gt; normally; but could be &lt;html&gt; in the
-    fragment case --&gt;
+    fragment case, or &lt;template&gt; in the template case --&gt;
 
    &lt;/dd&gt;
 
@@ -91653,9 +91998,7 @@
    &lt;dd&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
-    scope&lt;/a&gt; with the same tag name as that of the token (which
-    can only happen for &quot;tbody&quot;, &quot;tfoot&quot; and &quot;thead&quot;, or in the
-    &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;), then this is a &lt;a href=#parse-error&gt;parse
+    scope&lt;/a&gt; with the same tag name as that of the token, then this is a &lt;a href=#parse-error&gt;parse
     error&lt;/a&gt; and the token must be ignored.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, &lt;a href=#close-the-cell&gt;close the cell&lt;/a&gt; (see below) and
@@ -91816,18 +92159,21 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; can only be the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91866,8 +92212,124 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intemplate&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in template&quot;&gt;in template&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
+  &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in template&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
+
+  &lt;dl class=switch&gt;&lt;!-- first, tokens we always ignore: --&gt;&lt;!-- html: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;&lt;!-- head: ignored in &quot;in body&quot; mode always --&gt;&lt;!-- body: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;&lt;!-- frameset: ignored in &quot;in body&quot; mode if frameset-ok is set to not-ok, which &lt;template&gt; sets it to --&gt;&lt;!-- second, tokens that are ambiguous (allowed in multiple modes), let's just handle them in a generic way and not pick a mode: --&gt;&lt;dt&gt;A character token&lt;/dt&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- now, tokens that imply certain modes --&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of
+    template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in
+    table&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; onto the
+    &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template
+    insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in
+    column group&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack
+    of template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in
+    table body&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in
+    row&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;!-- default to in-body mode --&gt;
+
+   &lt;dt&gt;Any other start tag&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- EOF --&gt;
+
+
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; act as if an end tag with the tag name
+    &quot;template&quot; had been seen and reprocess the current token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of U+0009 CHARACTER
@@ -91922,7 +92384,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92011,7 +92473,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92061,7 +92523,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92092,7 +92554,7 @@
     reprocess the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.23 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92849,6 +93311,7 @@
   been seen up to this point.&lt;/p&gt;
 
 
+&lt;!--/HTMLPARSER--&gt;
 
 
   &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
@@ -92865,6 +93328,9 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; be a string, and initialize it to
    the empty string.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then let &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt; instead be the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt; (a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; node).&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;For each child node of &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt;, in
@@ -93233,6 +93699,15 @@
 
      &lt;li&gt;
 
+      &lt;p&gt;If the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is a
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, push &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+      template&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; so that it is the new
+      &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
       &lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
       parser's insertion mode appropriately&lt;/a&gt;.&lt;/p&gt;
 
@@ -93351,6 +93826,8 @@
   the rules given in the XML specification to map a string of bytes or characters into a
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
+  &lt;p class=note&gt;At the time of writing, no such rules actually exist.&lt;/p&gt;
+
   &lt;p&gt;An &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is either associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object when it is
   created, or creates one implicitly.&lt;/p&gt;
 
@@ -93421,6 +93898,17 @@
   available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;
   is not needed in the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p id=templateTagXML&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; would append a node to a
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, it must instead append it to the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's
+  &lt;a href=#template-contents&gt;template contents&lt;/a&gt; (a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; node).&lt;/p&gt;
+
+  &lt;p class=note&gt;This is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XML specification; unfortunately,
+  XML is not formally extensible in the manner that is needed for &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; processing.
+  &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; creates a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt; object, its &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; must be set to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of
+  the node into which the newly created node is to be inserted.&lt;/p&gt;
+
   &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the parser&quot;&gt;spoon-feed the
   parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act
   as it would have if faced with a single string consisting of the concatenation of all those
@@ -93435,7 +93923,9 @@
   syntax&lt;/a&gt;, then it is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
 
 
+&lt;!--//HTMLPARSER--&gt;
 
+
   &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-serialization-algorithm&gt;XML fragment serialization algorithm&lt;/dfn&gt; for a
@@ -93453,14 +93943,25 @@
 
   &lt;p&gt;In both cases, the string returned must be XML
   namespace-well-formed and must be an isomorphic serialization of all
-  of that node's child nodes, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;. User agents
+  of that node's &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt;, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;. User agents
   may adjust prefixes and namespace declarations in the serialization
   (and indeed might be forced to do so in some cases to obtain
   namespace-well-formed XML). User agents may use a combination of
   regular text and character references to represent
   &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes in the DOM.&lt;/p&gt;
 
-  &lt;p&gt;For &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;s, if any of the elements in the
+  &lt;p&gt;A node's &lt;dfn id=relevant-child-nodes&gt;relevant child nodes&lt;/dfn&gt; are those that apply given the following rules:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;For &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt; are the child nodes of the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+   element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, if any.&lt;/dd&gt;
+
+   &lt;dt&gt;For all other nodes&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt; are the child nodes of node itself, if any.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;s, if any of the elements in the
   serialization are in no namespace, the default namespace in scope
   for those elements must be explicitly declared as the empty
   string.&lt;!-- because otherwise round-tripping might break since it'll
@@ -93717,7 +94218,7 @@
 
 [hidden], area, base, basefont, datalist, head, input[type=hidden i],
 link, menu[type=popup i], meta, noembed, noframes, param, rp, script,
-source, style, track, title {
+source, style, template, track, title {
   display: none;
 }
 
@@ -98715,7 +99216,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Base URL and default target &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; for &lt;a href=#attr-hyperlink-target title=attr-hyperlink-target&gt;hyperlinks&lt;/a&gt; and &lt;a href=#attr-fs-target title=attr-fs-target&gt;forms&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-base-href&gt;&lt;a href=#attr-base-href&gt;href&lt;/a&gt;&lt;/code&gt;;
@@ -98813,7 +99315,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table caption&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablecaptionelement&gt;HTMLTableCaptionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98836,7 +99339,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table column&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-col-span&gt;&lt;a href=#attr-col-span&gt;span&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98844,28 +99348,13 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of columns in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablecolelement&gt;HTMLTableColElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-     &lt;td&gt;Menu command&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
-         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
-         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
-         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
-         &lt;code title=attr-menuitem-type&gt;&lt;a href=#attr-menuitem-type&gt;type&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;label&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-icon&gt;&lt;a href=#attr-menuitem-icon&gt;icon&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-disabled&gt;&lt;a href=#attr-menuitem-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-checked&gt;&lt;a href=#attr-menuitem-checked&gt;checked&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-radiogroup&gt;&lt;a href=#attr-menuitem-radiogroup&gt;radiogroup&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-command&gt;&lt;a href=#attr-menuitem-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuitemelement&gt;HTMLMenuItemElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-data-element&gt;data&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Machine-readable equivalent&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
@@ -98887,7 +99376,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Content for corresponding &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98924,10 +99414,8 @@
      &lt;td&gt;Dialog box or window&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#sectioning-root title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;;
-         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmldialogelement&gt;HTMLDialogElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98943,13 +99431,15 @@
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmldlistelement&gt;HTMLDListElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Legend for corresponding &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98993,7 +99483,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99056,7 +99547,7 @@
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#heading-content title=&quot;Heading content&quot;&gt;heading&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99216,14 +99707,18 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-legend-element&gt;legend&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmllegendelement&gt;HTMLLegendElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;List item&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;; &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;; &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-li-value&gt;&lt;a href=#attr-li-value&gt;value&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
@@ -99234,6 +99729,7 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -99280,17 +99776,34 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuelement&gt;HTMLMenuElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Menu command&lt;/td&gt;
+     &lt;td&gt;none&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;;     
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;empty&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
+         &lt;code title=attr-menuitem-type&gt;&lt;a href=#attr-menuitem-type&gt;type&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;label&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-icon&gt;&lt;a href=#attr-menuitem-icon&gt;icon&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-disabled&gt;&lt;a href=#attr-menuitem-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-checked&gt;&lt;a href=#attr-menuitem-checked&gt;checked&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-radiogroup&gt;&lt;a href=#attr-menuitem-radiogroup&gt;radiogroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-command&gt;&lt;a href=#attr-menuitem-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuitemelement&gt;HTMLMenuItemElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Text metadata&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -99329,6 +99842,7 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;varies*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
@@ -99359,7 +99873,8 @@
      &lt;td&gt;Ordered list&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-ol-reversed&gt;&lt;a href=#attr-ol-reversed&gt;reversed&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-ol-start&gt;&lt;a href=#attr-ol-start&gt;start&lt;/a&gt;&lt;/code&gt;;
@@ -99368,8 +99883,10 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of options in a list box&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-optgroup-disabled&gt;&lt;a href=#attr-optgroup-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99379,7 +99896,8 @@
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;text&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-option-disabled&gt;&lt;a href=#attr-option-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
@@ -99412,7 +99930,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parameter for &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-param-name&gt;&lt;a href=#attr-param-name&gt;name&lt;/a&gt;&lt;/code&gt;;
@@ -99448,14 +99967,16 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parenthesis for ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99542,7 +100063,8 @@
      &lt;td&gt;Media source for &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-source-src&gt;&lt;a href=#attr-source-src&gt;src&lt;/a&gt;&lt;/code&gt;;
@@ -99610,26 +100132,38 @@
          &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltableelement&gt;HTMLTableElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table cell&lt;/td&gt;
      &lt;td&gt;&lt;a href=#sectioning-root title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-tdth-colspan&gt;&lt;a href=#attr-tdth-colspan&gt;colspan&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-tdth-rowspan&gt;&lt;a href=#attr-tdth-rowspan&gt;rowspan&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-tdth-headers&gt;&lt;a href=#attr-tdth-headers&gt;headers&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltabledatacellelement&gt;HTMLTableDataCellElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Template&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
+         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
+         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
+     &lt;td colspan=2&gt;it's complicated*&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Multiline text field&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
@@ -99659,14 +100193,17 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of footer rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table header cell&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-tdth-colspan&gt;&lt;a href=#attr-tdth-colspan&gt;colspan&lt;/a&gt;&lt;/code&gt;;
@@ -99678,8 +100215,10 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of heading rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99694,7 +100233,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Document title&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;text&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltitleelement&gt;HTMLTitleElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99704,16 +100244,19 @@
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablerowelement&gt;HTMLTableRowElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Timed text track&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-track-default&gt;&lt;a href=#attr-track-default&gt;default&lt;/a&gt;&lt;/code&gt;;
@@ -99734,7 +100277,8 @@
      &lt;td&gt;List&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlulistelement&gt;HTMLUListElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-var-element&gt;var&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99805,6 +100349,7 @@
       &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;
       &mdash;
@@ -99885,6 +100430,7 @@
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;;
@@ -99967,6 +100513,7 @@
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;;
@@ -101631,6 +102178,9 @@
     &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#htmltabledatacellelement&gt;HTMLTableDataCellElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmltablecellelement&gt;HTMLTableCellElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
 
+    &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+     &lt;td&gt; &lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
+
     &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#htmltextareaelement&gt;HTMLTextAreaElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
 
@@ -101771,6 +102321,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltableheadercellelement&gt;HTMLTableHeaderCellElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltablerowelement&gt;HTMLTableRowElement&lt;/a&gt;&lt;/code&gt;, &lt;a href=#HTMLTableRowElement-partial&gt;partial&lt;/a&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;, &lt;a href=#HTMLTableSectionElement-partial&gt;partial&lt;/a&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltextareaelement&gt;HTMLTextAreaElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltimeelement&gt;HTMLTimeElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltitleelement&gt;HTMLTitleElement&lt;/a&gt;&lt;/code&gt;
@@ -102302,6 +102853,7 @@
   Adam Barth,
   Adam de Boor,
   Adam Hepton,
+  Adam Klein,
   Adam Roben,
   Addison Phillips,
   Adele Peterson,
@@ -102805,6 +103357,7 @@
   Pravir Gupta,
   &#26446;&#26222;&#21531; (Pujun Li)&lt;!-- masa jack --&gt;,
   Rachid Finge,
+  Rafael Weinstein,
   Rafa&#322; Mi&#322;ecki,
   Raj Doshi,
   Rajas Moonka,
@@ -102916,6 +103469,7 @@
   Tom Baker,
   Tom Pike,
   Tommy Thorsen,
+  Tony Ross,
   Travis Leithead,
   Tyler Close,
   Victor Carbune,

Modified: images/content-venn.svg
===================================================================
--- images/content-venn.svg	2013-06-25 20:55:18 UTC (rev 7999)
+++ images/content-venn.svg	2013-06-28 22:44:17 UTC (rev 8000)
@@ -100,6 +100,7 @@
      &lt;li&gt;&lt;code&gt;sup&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;svg&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;table&lt;/code&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;textarea&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;time&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;u&lt;/code&gt;&lt;/li&gt;
@@ -159,6 +160,7 @@
      &lt;li&gt;&lt;code&gt;noscript&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;script&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;style&lt;/code&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;title&lt;/code&gt;&lt;/li&gt;
     &lt;/ul&gt;
    &lt;/div&gt;
@@ -246,6 +248,7 @@
      &lt;li&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;sup&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;svg&lt;/code&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;textarea&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;time&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;u&lt;/code&gt;&lt;/li&gt;

Modified: index
===================================================================
--- index	2013-06-25 20:55:18 UTC (rev 7999)
+++ index	2013-06-28 22:44:17 UTC (rev 8000)
@@ -256,7 +256,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 25 June 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 June 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -471,7 +471,10 @@
        &lt;li&gt;&lt;a href=#restrictions-for-contents-of-script-elements&gt;&lt;span class=secno&gt;4.3.1.2 &lt;/span&gt;Restrictions for contents of &lt;code&gt;script&lt;/code&gt; elements&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#inline-documentation-for-external-scripts&gt;&lt;span class=secno&gt;4.3.1.3 &lt;/span&gt;Inline documentation for external scripts&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#scriptTagXSLT&gt;&lt;span class=secno&gt;4.3.1.4 &lt;/span&gt;Interaction of &lt;code&gt;script&lt;/code&gt; elements and XSLT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-template-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;code&gt;template&lt;/code&gt; element&lt;/a&gt;
+      &lt;ol&gt;
+       &lt;li&gt;&lt;a href=#template-XSLT-XPath&gt;&lt;span class=secno&gt;4.3.3.1 &lt;/span&gt;Interaction of &lt;code&gt;template&lt;/code&gt; elements with XSLT and XPath&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#the-body-element&gt;&lt;span class=secno&gt;4.4.1 &lt;/span&gt;The &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
@@ -1281,11 +1284,12 @@
          &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;12.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;12.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;12.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intemplate&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;in template&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.23 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;12.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
@@ -10309,8 +10313,11 @@
   &lt;h4 id=content-models&gt;&lt;span class=secno&gt;3.2.5 &lt;/span&gt;&lt;dfn&gt;Content models&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;Each element defined in this specification has a content model: a description of the element's
-  expected contents. An &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; must have contents that
-  match the requirements described in the element's content model.&lt;/p&gt;
+  expected &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;. An &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; must have contents that
+  match the requirements described in the element's content model. The &lt;dfn id=concept-html-contents title=concept-html-contents&gt;contents&lt;/dfn&gt; of an element are
+  its children in the DOM, except for &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, where the children are those
+  in the &lt;a href=#template-contents&gt;template contents&lt;/a&gt; (a separate &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; assigned to the
+  element when the element is created).&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt; are always allowed between elements.
   User agents represent these characters between elements in the source markup as &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt;
@@ -10403,6 +10410,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
   &lt;/ul&gt;&lt;p&gt;Elements from other namespaces whose semantics are primarily metadata-related (e.g. RDF) are
   also &lt;a href=#metadata-content&gt;metadata content&lt;/a&gt;.&lt;/p&gt;
@@ -10520,6 +10528,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10614,6 +10623,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10621,13 +10631,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-wbr-element&gt;wbr&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;Text&lt;/a&gt;&lt;/li&gt;
-  &lt;/ul&gt;&lt;p&gt;As a general rule, elements whose content model allows any &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should
-  have either at least one descendant &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node that is not &lt;a href=#inter-element-whitespace&gt;inter-element
-  whitespace&lt;/a&gt;, or at least one descendant element node that is &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;.
-  For the purposes of this requirement, nodes that are descendants of &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; elements must
-  not be counted as contributing to the ancestors of the &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
-
-  &lt;p class=note&gt;Most elements that are categorized as phrasing content can only contain elements
+  &lt;/ul&gt;&lt;p class=note&gt;Most elements that are categorized as phrasing content can only contain elements
   that are themselves categorized as phrasing content, not any flow content.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=text-content title=&quot;text content&quot;&gt;Text&lt;/dfn&gt;, in the context of content models, means either nothing,
@@ -10813,7 +10817,7 @@
   &lt;h6 id=palpable-content-0&gt;&lt;span class=secno&gt;3.2.5.1.8 &lt;/span&gt;Palpable content&lt;/h6&gt;
 
   &lt;p&gt;As a general rule, elements whose content model allows any &lt;a href=#flow-content&gt;flow content&lt;/a&gt; or
-  &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should have at least one child node that is &lt;dfn id=palpable-content&gt;palpable
+  &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; should have at least one node in its &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt; that is &lt;dfn id=palpable-content&gt;palpable
   content&lt;/dfn&gt; and that does not have the &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute
   specified.&lt;/p&gt;
 
@@ -10923,7 +10927,7 @@
      without first violating the earlier requirement)
   &lt;p&gt;Furthermore, when a content model includes a part that is &quot;transparent&quot;, those parts must not
   contain content that would not be conformant if all transparent elements in the tree were
-  replaced, in their parent element, by the children in the &quot;transparent&quot; part of their content
+  replaced, in their parent element, by the &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt; in the &quot;transparent&quot; part of their content
   model, retaining order.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
@@ -11028,7 +11032,7 @@
 
   &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;view&lt;/var&gt; be a view of the DOM that replaces all &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-ins-element&gt;ins&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; elements in the document with their
-  contents. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;
+  &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;
   nodes uninterrupted by other types of content, in an element that accepts content other than
   &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; as well as &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, let &lt;var title=&quot;&quot;&gt;first&lt;/var&gt; be the first node of the run, and let &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; be the last
   node of the run. For each such run that consists of at least one node that is neither
@@ -11142,7 +11146,7 @@
 
   &lt;h4 id=requirements-relating-to-bidirectional-algorithm-formatting-characters&gt;&lt;span class=secno&gt;3.2.6 &lt;/span&gt;Requirements relating to bidirectional-algorithm formatting characters&lt;/h4&gt;
 
-  &lt;p&gt;&lt;a href=#text-content&gt;Text content&lt;/a&gt; in &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; with child &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes, and
+  &lt;p&gt;&lt;a href=#text-content&gt;Text content&lt;/a&gt; in &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; with &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes in their &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt;, and
   text in attributes of &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; that allow free-form text, may contain characters
   in the ranges U+202A to U+202E and U+2066 to U+2069 (the bidirectional-algorithm formatting
   characters). However, the use of these characters is restricted so that any embedding or overrides
@@ -11441,6 +11445,9 @@
     &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt; element
      &lt;td&gt;&lt;a href=#concept-role-none title=concept-role-none&gt;No role&lt;/a&gt;
 
+    &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element
+     &lt;td&gt;&lt;a href=#concept-role-none title=concept-role-none&gt;No role&lt;/a&gt;, with the &lt;code title=attr-aria-hidden&gt;aria-hidden&lt;/code&gt; state set to &quot;true&quot;
+
     &lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element
      &lt;td&gt;&lt;code title=attr-aria-role-textbox&gt;textbox&lt;/code&gt; role, with the &lt;code title=attr-aria-multiline&gt;aria-multiline&lt;/code&gt; property set to &quot;true&quot;, and the &lt;code title=attr-aria-readonly&gt;aria-readonly&lt;/code&gt; property set to &quot;true&quot; if the element has a &lt;code title=attr-textarea-readonly&gt;&lt;a href=#attr-textarea-readonly&gt;readonly&lt;/a&gt;&lt;/code&gt; attribute
 
@@ -11771,7 +11778,9 @@
   output, or are rendered inline, etc).&lt;/p&gt;
 
   &lt;p class=note&gt;There are also additional non-normative comments regarding the interaction of XSLT
-  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
+  and HTML &lt;a href=#scriptTagXSLT&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;, and of
+  XSLT, XPath, and HTML &lt;a href=#template-XSLT-XPath&gt;in the &lt;code&gt;template&lt;/code&gt; element
+  section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -15436,7 +15445,186 @@
   &lt;/div&gt;
 
 
+  &lt;h4 id=the-template-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;template&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
+  &lt;dl class=element&gt;&lt;dt&gt;&lt;a href=#element-dfn-categories title=element-dfn-categories&gt;Categories&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;a href=#metadata-content&gt;Metadata content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Where &lt;a href=#metadata-content&gt;metadata content&lt;/a&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element that doesn't have a &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Either: &lt;a href=#metadata-content&gt;Metadata content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: &lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state&gt;popup menu state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
+   &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
+   &lt;dd&gt;
+&lt;pre class=idl&gt;interface &lt;dfn id=htmltemplateelement&gt;HTMLTemplateElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
+  readonly attribute &lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt; &lt;a href=#dom-template-content title=dom-template-content&gt;content&lt;/a&gt;;
+};&lt;/pre&gt;
+&lt;/dd&gt;
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element is used to declare fragments of HTML that can be cloned and
+  inserted in the document by script.&lt;/p&gt;
+
+  &lt;p&gt;In a rendering, the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; nothing.&lt;/p&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;template&lt;/var&gt; . &lt;code title=dom-template-content&gt;&lt;a href=#dom-template-content&gt;content&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the contents of the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, which are stored in a
+    &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; associated with a different &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; so as to avoid
+    the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; contents interfering with the main &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;. (For
+    example, this avoids form controls from being submitted, scripts from executing, and so
+    forth.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element has an associated &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object that
+  is its &lt;dfn id=template-contents&gt;template contents&lt;/dfn&gt;. When a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element is created, the user
+  agent must run the following steps to establish the &lt;a href=#template-contents&gt;template contents&lt;/a&gt;:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; be the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; has an associated &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; be a new &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; (that does not have a
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;).&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; is an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;, mark
+     &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; as an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt;
+     also.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt; to the newly
+   created &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-template-content title=dom-template-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attribute must return the
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;a href=#concept-node-clone-ext title=concept-node-clone-ext&gt;cloning steps&lt;/a&gt; for a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+  element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; being cloned to a copy &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt; must run the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;clone children flag&lt;/var&gt; is not set in the calling &lt;a href=#concept-node-clone title=concept-node-clone&gt;clone&lt;/a&gt; algorithm, abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; be the result of &lt;a href=#concept-node-clone title=concept-node-clone&gt;cloning&lt;/a&gt; all the children of &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;'s
+   &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;ownerDocument&lt;/var&gt; set to &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;a href=#template-contents&gt;template contents&lt;/a&gt;'s &lt;code title=dom-node-ownerdocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt;, and with the &lt;var title=&quot;&quot;&gt;clone children
+   flag&lt;/var&gt; set.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;In this example, a script populates a table with data from a data structure, using a
+   &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; to provide the element structure instead of manually generating the
+   structure from markup.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;!DOCTYPE html&gt;
+&lt;title&gt;Cat data&lt;/title&gt;
+&lt;script&gt;
+ // Data is hard-coded here, but could come from the server
+ var data = [
+   { name: 'Pillar', color: 'Ticked Tabby', sex: 'Female (neutered)', legs: 3 },
+   { name: 'Hedral', color: 'Tuxedo', sex: 'Male (neutered)', legs: 4 },
+ ];
+&lt;/script&gt;
+&lt;table&gt;
+ &lt;thead&gt;
+  &lt;tr&gt;
+   &lt;th&gt;Name &lt;th&gt;Color &lt;th&gt;Sex &lt;th&gt;Legs
+ &lt;tbody&gt;
+  &lt;template id=&quot;row&quot;&gt;
+   &lt;tr&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;
+  &lt;/template&gt;
+&lt;/table&gt;
+&lt;script&gt;
+ var template = document.querySelector('#row');
+ for (var i in data) {
+   var cat = data[i];
+   var clone = template.content.cloneNode(true);
+   var cells = clone.querySelectorAll('td');
+   cells[0].textContent = cat.name;
+   cells[1].textContent = cat.color;
+   cells[2].textContent = cat.sex;
+   cells[3].textContent = cat.legs;
+   template.parentNode.appendChild(clone);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;div class=impl&gt;
+
+  &lt;h5 id=template-XSLT-XPath&gt;&lt;span class=secno&gt;4.3.3.1 &lt;/span&gt;Interaction of &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements with XSLT and XPath&lt;/h5&gt;
+
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;This specification does not define how XSLT and XPath interact with the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+  element. However, in the absence of another specification actually defining this, here are some
+  guidelines for implementors, which are intended to be consistent with other processing described
+  in this specification:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;&lt;p&gt;An XSLT processor based on an XML parser that acts &lt;a href=#xml-parser title=&quot;xml parser&quot;&gt;as described
+   in this specification&lt;/a&gt; needs to act as if &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements contain as
+   descendants their &lt;a href=#template-contents&gt;template contents&lt;/a&gt; for the purposes of the transform.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;An XSLT processor that outputs a DOM needs to ensure that nodes that would go into a
+   &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element are instead placed into the element's &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;XPath evaluation using the XPath DOM API when applied to a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; parsed
+   using the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; or the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; described in this specification
+   needs to ignore &lt;a href=#template-contents&gt;template contents&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;/ul&gt;&lt;/div&gt;
+
+
   &lt;h3 id=sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/h3&gt;
 
   &lt;h4 id=the-body-element&gt;&lt;span class=secno&gt;4.4.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
@@ -16215,7 +16403,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18159,7 +18347,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18323,7 +18511,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -18491,9 +18679,9 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more groups each consisting of one or more
-   &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; elements followed by one or more &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;
-   elements.&lt;/dd&gt;
+   &lt;dd&gt;Either: Zero or more groups each consisting of one or more &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; elements followed by one or more &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, followed by zero or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; elements, followed by a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -39274,7 +39462,7 @@
    &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected, but only if there is a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected, but only if there is a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element ancestor or a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
@@ -39314,7 +39502,7 @@
   map&lt;/a&gt;, or a dead area on an image map.&lt;/p&gt;
 
   &lt;p&gt;An &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element with a parent node must have a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element
-  ancestor.&lt;/p&gt;
+  ancestor or a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element ancestor.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element has an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute, then the
   &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element represents a &lt;a href=#hyperlink&gt;hyperlink&lt;/a&gt;. In
@@ -39949,7 +40137,7 @@
    &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; elements or one or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;
    elements, followed optionally by a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element (but
    there can only be one &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element child in
-   total).&lt;/dd&gt;
+   total), optionally with one or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements between any of the other elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -40692,7 +40880,7 @@
    elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is present: Empty.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-start-tag title=syntax-start-tag&gt;start tag&lt;/a&gt; can be omitted if the
    first thing inside the &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element is a
@@ -40790,7 +40978,7 @@
    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-start-tag title=syntax-start-tag&gt;start tag&lt;/a&gt; can be omitted if the
    first thing inside the &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element is a
@@ -40895,7 +41083,7 @@
    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element is
@@ -40974,7 +41162,7 @@
    are no other &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; elements that are children of the
    &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element is
@@ -41011,7 +41199,7 @@
    elements, but only if there are no &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; elements that
    are children of the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end
    tag&lt;/a&gt; can be omitted if the &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element is
@@ -50665,7 +50853,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -51199,7 +51387,7 @@
    &lt;dt&gt;&lt;a href=#element-dfn-contexts title=element-dfn-contexts&gt;Contexts in which this element can be used&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;As a child of a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;An &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; can be omitted if the
    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element &lt;!--has an ancestor
@@ -56471,8 +56659,8 @@
    &lt;dd&gt;Where &lt;a href=#flow-content&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: as the child of a &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state: either zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; elements, or &lt;a href=#flow-content&gt;flow content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: in any order, zero or more &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; elements, and zero or more &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attributes are in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state: either zero or more &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, or, &lt;a href=#flow-content&gt;flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state: in any order, zero or more &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt; elements whose &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attributes are in the &lt;a href=#popup-menu-state title=&quot;popup menu state&quot;&gt;popup menu&lt;/a&gt; state, and zero or more &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
@@ -84224,12 +84412,12 @@
   start tag that is marked as self-closing, in which case they must
   not have an end tag.&lt;/p&gt;
 
-  &lt;p&gt;The contents of the element must be placed between just after the
+  &lt;p&gt;The &lt;a href=#concept-html-contents title=concept-html-contents&gt;contents&lt;/a&gt; of the element must be placed between just after the
   start tag (which &lt;a href=#syntax-tag-omission title=syntax-tag-omission&gt;might be implied,
   in certain cases&lt;/a&gt;) and just before the end tag (which again,
   &lt;a href=#syntax-tag-omission title=syntax-tag-omission&gt;might be implied in certain
   cases&lt;/a&gt;). The exact allowed contents of each individual element
-  depend on the content model of that element, as described earlier in
+  depend on the &lt;a href=#content-models title=&quot;content models&quot;&gt;content model&lt;/a&gt; of that element, as described earlier in
   this specification. Elements must not contain content that their
   content model disallows. In addition to the restrictions placed on
   the contents by those content models, however, the five types of
@@ -84878,6 +85066,8 @@
   HYPHEN-MINUS, U+003E GREATER-THAN SIGN (&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;).&lt;/p&gt;
 
 
+&lt;!--HTMLPARSER--&gt;
+
   &lt;div class=impl&gt;
 
   &lt;h3 id=parsing&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
@@ -86007,7 +86197,8 @@
   row&quot;&gt;in row&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in
   cell&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in
   select&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in
-  select in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after
+  select in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+  template&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after
   body&quot;&gt;after body&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in
   frameset&quot;&gt;in frameset&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after
   frameset&quot;&gt;after frameset&lt;/a&gt;&quot;, &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode:
@@ -86036,7 +86227,15 @@
   is also set. This is the insertion mode to which the tree
   construction stage will return.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When the steps below require the UA to &lt;dfn id=reset-the-insertion-mode-appropriately&gt;reset the insertion
+  &lt;p&gt;Similarly, to parse nested &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements, a &lt;dfn id=stack-of-template-insertion-modes&gt;stack of template insertion
+  modes&lt;/dfn&gt; is used. It is initially empty. The &lt;dfn id=current-template-insertion-mode&gt;current template insertion mode&lt;/dfn&gt; is the
+  insertion mode that was most recently added to the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt;.
+  The algorithms in the sections below will &lt;i&gt;push&lt;/i&gt; insertion modes onto this stack, meaning
+  that the specified insertion mode is to be added to the stack, and &lt;i&gt;pop&lt;/i&gt; insertion modes from
+  the stack, which means that the most recently added insertion mode must be removed from the
+  stack.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;!--CLEANUP--&gt;&lt;!--&lt;p&gt;s--&gt;&lt;p&gt;When the steps below require the UA to &lt;dfn id=reset-the-insertion-mode-appropriately&gt;reset the insertion
   mode appropriately&lt;/dfn&gt;, it means the UA must follow these
   steps:&lt;/p&gt;
 
@@ -86050,10 +86249,34 @@
    true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.
    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
-   steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is the first node in the &lt;a href=#stack-of-open-elements&gt;stack of open
+     elements&lt;/a&gt;, jump to the step below labeled &lt;i&gt;done&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the node before &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; in the
+     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; node, jump to the step below
+     labeled &lt;i&gt;done&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; node, switch the &lt;a href=#insertion-mode&gt;insertion
+     mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/a&gt;&quot; and
+     abort these steps.&lt;/li&gt;
+      &lt;!-- consider &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;select&gt;&lt;template&gt;&lt;/template&gt;&lt;caption&gt;&lt;/table&gt;
+           <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374</A> --&gt;
+
+     &lt;li&gt;&lt;p&gt;Jump back to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Done&lt;/i&gt;: Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in
+     select&quot;&gt;in select&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; or
    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is false, then
    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
@@ -86074,26 +86297,36 @@
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; and
-   abort these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; (&quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;! &lt;em&gt; not &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;&lt;/em&gt;!) and abort
-   these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt; &lt;!-- This is only
-   here for now in case people think that the spec accidentally
-   omitted it and try to &quot;fix&quot; it. Note that noscript-in-head is also
-   handled this way. This is all intentional. The only thing it
-   doesn't handle is the scripting-disabled fragment parsing case for
-   a &lt;head&gt; element containing a &lt;noscript&gt; which itself contains
-   something other than a &lt;link&gt; or a &lt;style&gt; element; you'd expect
-   that to break out of the &lt;noscript&gt; but it doesn't. This is an edge
-   case that doesn't affect the spec, since the algorithm for fragment
-   parsing is only used for innerHTML/outerHTML/insertAdjacentHTML(),
-   where we know scripting is enabled. --&gt;
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then switch the
+   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; and abort these
+   steps.&lt;/li&gt;
 
+&lt;!--
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;head&lt;/code&gt; element
+   and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is true,
+   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+   title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; (&quot;&lt;span
+   title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;! &lt;em&gt; not &quot;&lt;span
+   title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;&lt;/em&gt;!) and abort
+   these steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+--&gt;&lt;!-- The above is only here in case people think that the spec accidentally omitted it and try to
+        &quot;fix&quot; it. Note that noscript-in-head is also handled this way. This is all intentional. The
+        only thing it doesn't handle is the scripting-disabled fragment parsing case for a &lt;head&gt;
+        element containing a &lt;noscript&gt; which itself contains something other than a &lt;link&gt; or a
+        &lt;style&gt; element; you'd expect that to break out of the &lt;noscript&gt; but it doesn't. This is an
+        edge case that doesn't affect the spec, since the algorithm for fragment parsing is only
+        used for innerHTML/outerHTML/insertAdjacentHTML(), where we know scripting is enabled. --&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is
+   false, then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+   head&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt; &lt;!-- for the case of &lt;head&gt;&lt;template&gt;&lt;/template&gt;... --&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
@@ -86148,6 +86381,7 @@
   &lt;p&gt;Elements in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; fall into the following categories:&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=special&gt;Special&lt;/dfn&gt;&lt;/dt&gt;
+&lt;!--CLEANUP--&gt;
    &lt;dd&gt;&lt;p&gt;The following elements have varying levels of special parsing rules: HTML's
    &lt;code&gt;&lt;a href=#the-address-element&gt;address&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-aside-element&gt;aside&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#basefont&gt;basefont&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#bgsound&gt;bgsound&lt;/a&gt;&lt;/code&gt;,
@@ -86167,7 +86401,7 @@
    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#plaintext&gt;plaintext&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-wbr-element&gt;wbr&lt;/a&gt;&lt;/code&gt;, and
    &lt;code&gt;&lt;a href=#xmp&gt;xmp&lt;/a&gt;&lt;/code&gt;; MathML's &lt;code title=&quot;&quot;&gt;mi&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mo&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mn&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;ms&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mtext&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;annotation-xml&lt;/code&gt;; and SVG's &lt;code title=&quot;&quot;&gt;foreignObject&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;desc&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;title&lt;/code&gt;.&lt;/dd&gt; &lt;!-- we could actually put all
    non-HTML elements in this list, I think --&gt;
@@ -86209,6 +86443,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mi&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mo&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mn&lt;/code&gt; in the &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;&lt;/li&gt;
@@ -86239,6 +86474,7 @@
 
   &lt;ul class=brief&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt; &lt;!-- (This can only happen if the &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the topmost node of the &lt;span&gt;stack of open elements&lt;/span&gt;, and prevents the next step from being invoked if there are no more elements in the stack.) --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;/li&gt;
   &lt;/ul&gt;&lt;p&gt;The &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is said to &lt;dfn id=has-an-element-in-select-scope title=&quot;has an element in select
   scope&quot;&gt;have an element in select scope&lt;/dfn&gt; when it &lt;a href=#has-an-element-in-the-specific-scope&gt;has an element in the specific
   scope&lt;/a&gt; consisting of all element types &lt;em&gt;except&lt;/em&gt; the following:&lt;/p&gt;
@@ -88637,6 +88873,9 @@
 
   &lt;h5 id=creating-and-inserting-nodes&gt;&lt;span class=secno&gt;12.2.5.1 &lt;/span&gt;Creating and inserting nodes&lt;/h5&gt;
 
+  &lt;p&gt;While the parser is processing a token, it can enable or disable &lt;dfn id=foster-parent title=&quot;foster
+  parent&quot;&gt;foster parenting&lt;/dfn&gt;. This affects the following algorithm.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=appropriate-place-for-inserting-a-node&gt;appropriate place for inserting a node&lt;/dfn&gt;, optionally using a particular
   &lt;i&gt;override target&lt;/i&gt;, is the position in an element returned by running the following steps:&lt;/p&gt;
 
@@ -88654,42 +88893,59 @@
     &lt;p&gt;Determine the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; using the first matching steps
     from the following list:&lt;/p&gt;
 
-    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;dfn id=foster-parent title=&quot;foster parent&quot;&gt;foster parenting&lt;/dfn&gt; is enabled and &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;,
+    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;a href=#foster-parent title=&quot;foster parent&quot;&gt;foster parenting&lt;/a&gt; is enabled and &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;,
      &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
 
      &lt;dd&gt;
 
       &lt;p class=note&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
 
-      &lt;p&gt;The &lt;dfn id=foster-parent-element&gt;foster parent element&lt;/dfn&gt; is the parent element of the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-      element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if there is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element and
-      it has such a parent element.&lt;/p&gt;
+      &lt;p&gt;Run these substeps:&lt;/p&gt;
 
-      &lt;p class=note&gt;It might have no parent or some other kind parent if a script manipulated the
-      DOM after the element was inserted by the parser.&lt;/p&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; be the last &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element in the
+       &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-      &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-      (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;), then the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the first element in the
-      &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; (the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element). Otherwise, if there is a
-      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, but the last
-      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has no parent, or its
-      parent node is not an element, then the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the element before the
-      last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; be the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the
+       &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-      &lt;p&gt;If the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the parent element of the last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-      element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then the &lt;var title=&quot;&quot;&gt;adjusted insertion
-      location&lt;/var&gt; is inside the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt;, immediately &lt;em&gt;before&lt;/em&gt; the
-      last &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;; otherwise, the
-      &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside the &lt;i&gt;&lt;a href=#foster-parent-element&gt;foster parent element&lt;/a&gt;&lt;/i&gt;,
-      after its last child (if any).&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; and either there is no &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, or there is one, but &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; is lower
+       (more recently added) than &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open
+       elements&lt;/a&gt;, then: let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt;'s &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, after its last child (if any),
+       and abort these substeps.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, &lt;!-- there's also implicitly no last
+       template, since we didn't hit the previous step --&gt; then let &lt;var title=&quot;&quot;&gt;adjusted insertion
+       location&lt;/var&gt; be inside the first element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; (the
+       &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element), after its last child (if any), and abort these substeps.
+       (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+
+       &lt;!-- if we get here, we know there's a last table, and if there's a last template, it's older
+       than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; has a parent element, then let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;'s parent
+       element, immediately before &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, and abort these
+       substeps.&lt;/li&gt;
+
+       &lt;!-- if we get here, we know there's a last table, but it has no parent, and if there's a
+       last template, it's older than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;previous element&lt;/var&gt; be the element immediately above &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;previous
+       element&lt;/var&gt;, after its last child (if any).&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;p class=note&gt;These steps are involved in part because it's possible for elements, the
+      &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element in this case in particular, to have been moved by a script around
+      in the DOM, or indeed removed from the DOM entirely, after the element was inserted by the
+      parser.&lt;/p&gt;
+
      &lt;/dd&gt;
 
      &lt;dt&gt;Otherwise&lt;/dt&gt;
 
      &lt;dd&gt;
 
-      &lt;p&gt;The &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
       after its last child (if any).&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -88698,6 +88954,14 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+    element, let it instead be inside the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template
+    contents&lt;/a&gt;, after its last child (if any).&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;Return the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -88754,9 +89018,18 @@
    pointer&lt;/a&gt;, and suppress the running of the &lt;a href=#reset-the-form-owner&gt;reset the form owner&lt;/a&gt; algorithm in
    the next step.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
-   location&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If it is possible to insert an element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;, then insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; cannot accept more
+    elements, e.g. because it's a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that already has an element child, then the
+    newly created element is dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Push the element onto the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; so that it is the new
    &lt;a href=#current-node&gt;current node&lt;/a&gt;.&lt;/li&gt;
 
@@ -88882,6 +89155,16 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is in a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; node,
+    then abort these steps.
+
+    &lt;p class=note&gt;The DOM will not let &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; nodes have &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node
+    children, so they are dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node immediately before the &lt;var title=&quot;&quot;&gt;adjusted insertion
     location&lt;/var&gt;, then append &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to that &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node's data.&lt;/p&gt;
 
@@ -89407,6 +89690,7 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt id=scriptTag&gt;A start tag whose tag name is &quot;script&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
@@ -89470,6 +89754,53 @@
     &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
+
+    &lt;p&gt;Insert a marker at the end of the &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting elements&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/a&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in template&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of
+    template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, run these steps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#generate-implied-end-tags&gt;Generate implied end tags&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not an element with
+     the same tag name as that of the token, then this is a
+     &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
+     until an element with the same tag name as the token has been
+     popped from the stack.&lt;/li&gt;
+
+     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the
+     last marker&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+     insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
+     parser's insertion mode appropriately&lt;/a&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/dd&gt;
+
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
@@ -89689,7 +90020,12 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. For each attribute on the token,
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, for each attribute on the token,
     check to see if the attribute is already present on the top
     element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not,
     add the attribute and its corresponding value to that element.&lt;/p&gt;
@@ -89708,8 +90044,9 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
+    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, if the
     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
+    or if there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
     then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;;
@@ -89726,6 +90063,7 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
     &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
@@ -89763,8 +90101,13 @@
     this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
     fragment cases) --&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; is not empty, then process the token
+    &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;!-- this is needed to handle &lt;head&gt;&lt;template&gt;...[EOF] - otherwise we don't construct the &lt;body&gt; element --&gt;
 
+    &lt;p&gt;Otherwise, &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -90811,6 +91154,15 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;A start &lt;!--or end--&gt; tag whose tag name is one of: &quot;caption&quot;,
    &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;head&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
    &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
@@ -91107,9 +91459,6 @@
     the tag name &quot;table&quot; had been seen, then, if that token wasn't
     ignored, reprocess the current token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
@@ -91117,8 +91466,7 @@
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/a&gt; with the same tag name as the token, this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91187,18 +91535,21 @@
 
    &lt;!-- &quot;form&quot; end tag falls through to in-body, which does the right thing --&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; can only be the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91213,8 +91564,8 @@
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-context&gt;clear the stack
   back to a table context&lt;/dfn&gt;, it means that the UA must, while
-  the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
-  element or an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
+  the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
   &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; being an
@@ -91375,13 +91726,10 @@
    &lt;dt&gt;An end tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;; ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; ignore the token.&lt;/p&gt; &lt;!-- e.g. colgroup fragment case, or &lt;template&gt;&lt;col&gt;&lt;/colgroup&gt; --&gt;
 
-    &lt;p&gt;Otherwise, pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be
-    a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element) from the &lt;a href=#stack-of-open-elements&gt;stack of open
+    &lt;p&gt;Otherwise, pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; from the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
     &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
@@ -91392,16 +91740,21 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
-    element, then &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, act as described in the &quot;anything else&quot; entry
-    below.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91411,9 +91764,6 @@
     seen, and then, if that token wasn't ignored, reprocess the
     current token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;12.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
@@ -91466,8 +91816,7 @@
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have a
     &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tfoot&lt;/code&gt;
     element in table scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91495,7 +91844,7 @@
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-body-context&gt;clear the stack
   back to a table body context&lt;/dfn&gt;, it means that the UA must,
   while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
+  &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;
   element, pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open
   elements&lt;/a&gt;.&lt;/p&gt;
 
@@ -91528,8 +91877,7 @@
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/a&gt; with the same tag name as the token, this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token. (&lt;a href=#fragment-case&gt;fragment
-    case&lt;/a&gt;)&lt;/p&gt;
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -91553,9 +91901,6 @@
     then, if that token wasn't ignored, reprocess the current
     token.&lt;/p&gt;
 
-    &lt;p class=note&gt;The fake end tag token here can only be
-    ignored in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
@@ -91585,8 +91930,8 @@
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-row-context&gt;clear the stack
   back to a table row context&lt;/dfn&gt;, it means that the UA must,
-  while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;
-  element or an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
+  while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, pop elements from the
   &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; being an
@@ -91623,7 +91968,7 @@
 
     &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot;.&lt;/p&gt; &lt;!-- current
     node here will be a &lt;tr&gt; normally; but could be &lt;html&gt; in the
-    fragment case --&gt;
+    fragment case, or &lt;template&gt; in the template case --&gt;
 
    &lt;/dd&gt;
 
@@ -91653,9 +91998,7 @@
    &lt;dd&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;have an element in table
-    scope&lt;/a&gt; with the same tag name as that of the token (which
-    can only happen for &quot;tbody&quot;, &quot;tfoot&quot; and &quot;thead&quot;, or in the
-    &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;), then this is a &lt;a href=#parse-error&gt;parse
+    scope&lt;/a&gt; with the same tag name as that of the token, then this is a &lt;a href=#parse-error&gt;parse
     error&lt;/a&gt; and the token must be ignored.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, &lt;a href=#close-the-cell&gt;close the cell&lt;/a&gt; (see below) and
@@ -91816,18 +92159,21 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#current-node&gt;current node&lt;/a&gt; can only be the root
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;a href=#stop-parsing&gt;Stop parsing&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -91866,8 +92212,124 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intemplate&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in template&quot;&gt;in template&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
+  &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in template&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
+
+  &lt;dl class=switch&gt;&lt;!-- first, tokens we always ignore: --&gt;&lt;!-- html: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;&lt;!-- head: ignored in &quot;in body&quot; mode always --&gt;&lt;!-- body: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;&lt;!-- frameset: ignored in &quot;in body&quot; mode if frameset-ok is set to not-ok, which &lt;template&gt; sets it to --&gt;&lt;!-- second, tokens that are ambiguous (allowed in multiple modes), let's just handle them in a generic way and not pick a mode: --&gt;&lt;dt&gt;A character token&lt;/dt&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- now, tokens that imply certain modes --&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of
+    template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in
+    table&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; onto the
+    &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template
+    insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in
+    column group&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack
+    of template insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in
+    table body&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in
+    row&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;!-- default to in-body mode --&gt;
+
+   &lt;dt&gt;Any other start tag&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
+    insertion modes&lt;/a&gt; so that it is the new &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- EOF --&gt;
+
+
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
+    &lt;a href=#stop-parsing&gt;stop parsing&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; act as if an end tag with the tag name
+    &quot;template&quot; had been seen and reprocess the current token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of U+0009 CHARACTER
@@ -91922,7 +92384,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92011,7 +92473,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92061,7 +92523,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92092,7 +92554,7 @@
     reprocess the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.23 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -92849,6 +93311,7 @@
   been seen up to this point.&lt;/p&gt;
 
 
+&lt;!--/HTMLPARSER--&gt;
 
 
   &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
@@ -92865,6 +93328,9 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; be a string, and initialize it to
    the empty string.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then let &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt; instead be the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#template-contents&gt;template
+   contents&lt;/a&gt; (a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; node).&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;For each child node of &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt;, in
@@ -93233,6 +93699,15 @@
 
      &lt;li&gt;
 
+      &lt;p&gt;If the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is a
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, push &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
+      template&lt;/a&gt;&quot; onto the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; so that it is the new
+      &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
       &lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
       parser's insertion mode appropriately&lt;/a&gt;.&lt;/p&gt;
 
@@ -93351,6 +93826,8 @@
   the rules given in the XML specification to map a string of bytes or characters into a
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
+  &lt;p class=note&gt;At the time of writing, no such rules actually exist.&lt;/p&gt;
+
   &lt;p&gt;An &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; is either associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object when it is
   created, or creates one implicitly.&lt;/p&gt;
 
@@ -93421,6 +93898,17 @@
   available for &lt;a href=#xml-documents&gt;XML documents&lt;/a&gt;, much of the complexity in the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt;
   is not needed in the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p id=templateTagXML&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; would append a node to a
+  &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, it must instead append it to the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element's
+  &lt;a href=#template-contents&gt;template contents&lt;/a&gt; (a &lt;code&gt;&lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt;&lt;/code&gt; node).&lt;/p&gt;
+
+  &lt;p class=note&gt;This is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of the XML specification; unfortunately,
+  XML is not formally extensible in the manner that is needed for &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; processing.
+  &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When an &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; creates a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt; object, its &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; must be set to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of
+  the node into which the newly created node is to be inserted.&lt;/p&gt;
+
   &lt;p&gt;Certain algorithms in this specification &lt;dfn id=feed-the-parser title=&quot;feed the parser&quot;&gt;spoon-feed the
   parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;a href=#xml-parser&gt;XML parser&lt;/a&gt; must act
   as it would have if faced with a single string consisting of the concatenation of all those
@@ -93435,7 +93923,9 @@
   syntax&lt;/a&gt;, then it is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;.&lt;/p&gt;
 
 
+&lt;!--//HTMLPARSER--&gt;
 
+
   &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-serialization-algorithm&gt;XML fragment serialization algorithm&lt;/dfn&gt; for a
@@ -93453,14 +93943,25 @@
 
   &lt;p&gt;In both cases, the string returned must be XML
   namespace-well-formed and must be an isomorphic serialization of all
-  of that node's child nodes, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;. User agents
+  of that node's &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt;, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;. User agents
   may adjust prefixes and namespace declarations in the serialization
   (and indeed might be forced to do so in some cases to obtain
   namespace-well-formed XML). User agents may use a combination of
   regular text and character references to represent
   &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; nodes in the DOM.&lt;/p&gt;
 
-  &lt;p&gt;For &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;s, if any of the elements in the
+  &lt;p&gt;A node's &lt;dfn id=relevant-child-nodes&gt;relevant child nodes&lt;/dfn&gt; are those that apply given the following rules:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;For &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; elements&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt; are the child nodes of the &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+   element's &lt;a href=#template-contents&gt;template contents&lt;/a&gt;, if any.&lt;/dd&gt;
+
+   &lt;dt&gt;For all other nodes&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#relevant-child-nodes&gt;relevant child nodes&lt;/a&gt; are the child nodes of node itself, if any.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;s, if any of the elements in the
   serialization are in no namespace, the default namespace in scope
   for those elements must be explicitly declared as the empty
   string.&lt;!-- because otherwise round-tripping might break since it'll
@@ -93717,7 +94218,7 @@
 
 [hidden], area, base, basefont, datalist, head, input[type=hidden i],
 link, menu[type=popup i], meta, noembed, noframes, param, rp, script,
-source, style, track, title {
+source, style, template, track, title {
   display: none;
 }
 
@@ -98715,7 +99216,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Base URL and default target &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; for &lt;a href=#attr-hyperlink-target title=attr-hyperlink-target&gt;hyperlinks&lt;/a&gt; and &lt;a href=#attr-fs-target title=attr-fs-target&gt;forms&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-base-href&gt;&lt;a href=#attr-base-href&gt;href&lt;/a&gt;&lt;/code&gt;;
@@ -98813,7 +99315,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table caption&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablecaptionelement&gt;HTMLTableCaptionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98836,7 +99339,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table column&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-col-span&gt;&lt;a href=#attr-col-span&gt;span&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98844,28 +99348,13 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of columns in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-colgroup-span&gt;&lt;a href=#attr-colgroup-span&gt;span&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablecolelement&gt;HTMLTableColElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-     &lt;td&gt;Menu command&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
-         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
-         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
-         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
-         &lt;code title=attr-menuitem-type&gt;&lt;a href=#attr-menuitem-type&gt;type&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;label&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-icon&gt;&lt;a href=#attr-menuitem-icon&gt;icon&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-disabled&gt;&lt;a href=#attr-menuitem-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-checked&gt;&lt;a href=#attr-menuitem-checked&gt;checked&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-radiogroup&gt;&lt;a href=#attr-menuitem-radiogroup&gt;radiogroup&lt;/a&gt;&lt;/code&gt;;
-         &lt;code title=attr-menuitem-command&gt;&lt;a href=#attr-menuitem-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuitemelement&gt;HTMLMenuItemElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-data-element&gt;data&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Machine-readable equivalent&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
@@ -98887,7 +99376,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Content for corresponding &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98924,10 +99414,8 @@
      &lt;td&gt;Dialog box or window&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#sectioning-root title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;;
-         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmldialogelement&gt;HTMLDialogElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98943,13 +99431,15 @@
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmldlistelement&gt;HTMLDListElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Legend for corresponding &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -98993,7 +99483,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99056,7 +99547,7 @@
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#heading-content title=&quot;Heading content&quot;&gt;heading&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;One or more &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99216,14 +99707,18 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-legend-element&gt;legend&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmllegendelement&gt;HTMLLegendElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;List item&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;; &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;; &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-li-value&gt;&lt;a href=#attr-li-value&gt;value&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
@@ -99234,6 +99729,7 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -99280,17 +99776,34 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuelement&gt;HTMLMenuElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-menuitem-element&gt;menuitem&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Menu command&lt;/td&gt;
+     &lt;td&gt;none&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-menu-element&gt;menu&lt;/a&gt;&lt;/code&gt;;     
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;empty&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
+         &lt;code title=attr-menuitem-type&gt;&lt;a href=#attr-menuitem-type&gt;type&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;label&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-icon&gt;&lt;a href=#attr-menuitem-icon&gt;icon&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-disabled&gt;&lt;a href=#attr-menuitem-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-checked&gt;&lt;a href=#attr-menuitem-checked&gt;checked&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-radiogroup&gt;&lt;a href=#attr-menuitem-radiogroup&gt;radiogroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code title=attr-menuitem-command&gt;&lt;a href=#attr-menuitem-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#htmlmenuitemelement&gt;HTMLMenuItemElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Text metadata&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -99329,6 +99842,7 @@
          &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;*;
          &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;varies*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
@@ -99359,7 +99873,8 @@
      &lt;td&gt;Ordered list&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-ol-reversed&gt;&lt;a href=#attr-ol-reversed&gt;reversed&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-ol-start&gt;&lt;a href=#attr-ol-start&gt;start&lt;/a&gt;&lt;/code&gt;;
@@ -99368,8 +99883,10 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of options in a list box&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-optgroup-disabled&gt;&lt;a href=#attr-optgroup-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99379,7 +99896,8 @@
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;text&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-option-disabled&gt;&lt;a href=#attr-option-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt;;
@@ -99412,7 +99930,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parameter for &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-param-name&gt;&lt;a href=#attr-param-name&gt;name&lt;/a&gt;&lt;/code&gt;;
@@ -99448,14 +99967,16 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parenthesis for ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-ruby-element&gt;ruby&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99542,7 +100063,8 @@
      &lt;td&gt;Media source for &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-source-src&gt;&lt;a href=#attr-source-src&gt;src&lt;/a&gt;&lt;/code&gt;;
@@ -99610,26 +100132,38 @@
          &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;*;
          &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;*;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltableelement&gt;HTMLTableElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table cell&lt;/td&gt;
      &lt;td&gt;&lt;a href=#sectioning-root title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-tdth-colspan&gt;&lt;a href=#attr-tdth-colspan&gt;colspan&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-tdth-rowspan&gt;&lt;a href=#attr-tdth-rowspan&gt;rowspan&lt;/a&gt;&lt;/code&gt;;
          &lt;code title=attr-tdth-headers&gt;&lt;a href=#attr-tdth-headers&gt;headers&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltabledatacellelement&gt;HTMLTableDataCellElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Template&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;;
+         &lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
+         &lt;a href=#phrasing-content title=&quot;Phrasing content&quot;&gt;phrasing&lt;/a&gt;&lt;/td&gt;
+     &lt;td colspan=2&gt;it's complicated*&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Multiline text field&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;;
@@ -99659,14 +100193,17 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of footer rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table header cell&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-tdth-colspan&gt;&lt;a href=#attr-tdth-colspan&gt;colspan&lt;/a&gt;&lt;/code&gt;;
@@ -99678,8 +100215,10 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of heading rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99694,7 +100233,8 @@
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Document title&lt;/td&gt;
      &lt;td&gt;&lt;a href=#metadata-content title=&quot;Metadata content&quot;&gt;metadata&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#text-content title=&quot;text content&quot;&gt;text&lt;/a&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltitleelement&gt;HTMLTitleElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
@@ -99704,16 +100244,19 @@
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;;
          &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;*;
-         &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmltablerowelement&gt;HTMLTableRowElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Timed text track&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt;;
-         &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;;
          &lt;code title=attr-track-default&gt;&lt;a href=#attr-track-default&gt;default&lt;/a&gt;&lt;/code&gt;;
@@ -99734,7 +100277,8 @@
      &lt;td&gt;List&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#flow-content title=&quot;Flow content&quot;&gt;flow&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;;
+         &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;a href=#global-attributes title=&quot;global attributes&quot;&gt;globals&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#htmlulistelement&gt;HTMLUListElement&lt;/a&gt;&lt;/code&gt;&lt;/td&gt;
     &lt;tr&gt;&lt;th&gt;&lt;code&gt;&lt;a href=#the-var-element&gt;var&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
@@ -99805,6 +100349,7 @@
       &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;
       &mdash;
@@ -99885,6 +100430,7 @@
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;;
@@ -99967,6 +100513,7 @@
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;;
+      &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-u-element&gt;u&lt;/a&gt;&lt;/code&gt;;
@@ -101631,6 +102178,9 @@
     &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#htmltabledatacellelement&gt;HTMLTableDataCellElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmltablecellelement&gt;HTMLTableCellElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
 
+    &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+     &lt;td&gt; &lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
+
     &lt;tr&gt;&lt;td&gt; &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#htmltextareaelement&gt;HTMLTextAreaElement&lt;/a&gt;&lt;/code&gt; : &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
 
@@ -101771,6 +102321,7 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltableheadercellelement&gt;HTMLTableHeaderCellElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltablerowelement&gt;HTMLTableRowElement&lt;/a&gt;&lt;/code&gt;, &lt;a href=#HTMLTableRowElement-partial&gt;partial&lt;/a&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltablesectionelement&gt;HTMLTableSectionElement&lt;/a&gt;&lt;/code&gt;, &lt;a href=#HTMLTableSectionElement-partial&gt;partial&lt;/a&gt;
+   &lt;li&gt;&lt;code&gt;&lt;a href=#htmltemplateelement&gt;HTMLTemplateElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltextareaelement&gt;HTMLTextAreaElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltimeelement&gt;HTMLTimeElement&lt;/a&gt;&lt;/code&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#htmltitleelement&gt;HTMLTitleElement&lt;/a&gt;&lt;/code&gt;
@@ -102302,6 +102853,7 @@
   Adam Barth,
   Adam de Boor,
   Adam Hepton,
+  Adam Klein,
   Adam Roben,
   Addison Phillips,
   Adele Peterson,
@@ -102805,6 +103357,7 @@
   Pravir Gupta,
   &#26446;&#26222;&#21531; (Pujun Li)&lt;!-- masa jack --&gt;,
   Rachid Finge,
+  Rafael Weinstein,
   Rafa&#322; Mi&#322;ecki,
   Raj Doshi,
   Rajas Moonka,
@@ -102916,6 +103469,7 @@
   Tom Baker,
   Tom Pike,
   Tommy Thorsen,
+  Tony Ross,
   Travis Leithead,
   Tyler Close,
   Victor Carbune,

Modified: source
===================================================================
--- source	2013-06-25 20:55:18 UTC (rev 7999)
+++ source	2013-06-28 22:44:17 UTC (rev 8000)
@@ -10314,8 +10314,11 @@
   &lt;h4&gt;&lt;dfn&gt;Content models&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;Each element defined in this specification has a content model: a description of the element's
-  expected contents. An &lt;span title=&quot;HTML elements&quot;&gt;HTML element&lt;/span&gt; must have contents that
-  match the requirements described in the element's content model.&lt;/p&gt;
+  expected &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt;. An &lt;span title=&quot;HTML elements&quot;&gt;HTML element&lt;/span&gt; must have contents that
+  match the requirements described in the element's content model. The &lt;dfn title=&quot;concept-html-contents&quot;&gt;contents&lt;/dfn&gt; of an element are
+  its children in the DOM, except for &lt;code&gt;template&lt;/code&gt; elements, where the children are those
+  in the &lt;span&gt;template contents&lt;/span&gt; (a separate &lt;code&gt;DocumentFragment&lt;/code&gt; assigned to the
+  element when the element is created).&lt;/p&gt;
 
   &lt;p&gt;The &lt;span title=&quot;space character&quot;&gt;space characters&lt;/span&gt; are always allowed between elements.
   User agents represent these characters between elements in the source markup as &lt;code&gt;Text&lt;/code&gt;
@@ -10412,6 +10415,7 @@
    &lt;li&gt;&lt;code&gt;noscript&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;script&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;style&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;title&lt;/code&gt;&lt;/li&gt;
   &lt;/ul&gt;
 
@@ -10532,6 +10536,7 @@
    &lt;li&gt;&lt;code&gt;sup&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;svg&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;table&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;textarea&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;time&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;u&lt;/code&gt;&lt;/li&gt;
@@ -10638,6 +10643,7 @@
    &lt;li&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;sup&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;svg&lt;/code&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;template&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;textarea&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;time&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;u&lt;/code&gt;&lt;/li&gt;
@@ -10647,12 +10653,6 @@
    &lt;li&gt;&lt;span title=&quot;text content&quot;&gt;Text&lt;/span&gt;&lt;/li&gt;
   &lt;/ul&gt;
 
-  &lt;p&gt;As a general rule, elements whose content model allows any &lt;span&gt;phrasing content&lt;/span&gt; should
-  have either at least one descendant &lt;code&gt;Text&lt;/code&gt; node that is not &lt;span&gt;inter-element
-  whitespace&lt;/span&gt;, or at least one descendant element node that is &lt;span&gt;embedded content&lt;/span&gt;.
-  For the purposes of this requirement, nodes that are descendants of &lt;code&gt;del&lt;/code&gt; elements must
-  not be counted as contributing to the ancestors of the &lt;code&gt;del&lt;/code&gt; element.&lt;/p&gt;
-
   &lt;p class=&quot;note&quot;&gt;Most elements that are categorized as phrasing content can only contain elements
   that are themselves categorized as phrasing content, not any flow content.&lt;/p&gt;
 
@@ -10861,7 +10861,7 @@
   &lt;h6&gt;Palpable content&lt;/h6&gt;
 
   &lt;p&gt;As a general rule, elements whose content model allows any &lt;span&gt;flow content&lt;/span&gt; or
-  &lt;span&gt;phrasing content&lt;/span&gt; should have at least one child node that is &lt;dfn&gt;palpable
+  &lt;span&gt;phrasing content&lt;/span&gt; should have at least one node in its &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt; that is &lt;dfn&gt;palpable
   content&lt;/dfn&gt; and that does not have the &lt;code title=&quot;attr-hidden&quot;&gt;hidden&lt;/code&gt; attribute
   specified.&lt;/p&gt;
 
@@ -10975,7 +10975,7 @@
      without first violating the earlier requirement)
   &lt;p&gt;Furthermore, when a content model includes a part that is &quot;transparent&quot;, those parts must not
   contain content that would not be conformant if all transparent elements in the tree were
-  replaced, in their parent element, by the children in the &quot;transparent&quot; part of their content
+  replaced, in their parent element, by the &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt; in the &quot;transparent&quot; part of their content
   model, retaining order.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
@@ -11080,7 +11080,7 @@
 
   &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;view&lt;/var&gt; be a view of the DOM that replaces all &lt;code&gt;a&lt;/code&gt;,
   &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;del&lt;/code&gt;, and &lt;code&gt;map&lt;/code&gt; elements in the document with their
-  contents. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;span&gt;phrasing content&lt;/span&gt;
+  &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt;. Then, in &lt;var title=&quot;&quot;&gt;view&lt;/var&gt;, for each run of sibling &lt;span&gt;phrasing content&lt;/span&gt;
   nodes uninterrupted by other types of content, in an element that accepts content other than
   &lt;span&gt;phrasing content&lt;/span&gt; as well as &lt;span&gt;phrasing content&lt;/span&gt;, let &lt;var
   title=&quot;&quot;&gt;first&lt;/var&gt; be the first node of the run, and let &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; be the last
@@ -11200,7 +11200,7 @@
 
   &lt;h4&gt;Requirements relating to bidirectional-algorithm formatting characters&lt;/h4&gt;
 
-  &lt;p&gt;&lt;span&gt;Text content&lt;/span&gt; in &lt;span&gt;HTML elements&lt;/span&gt; with child &lt;code&gt;Text&lt;/code&gt; nodes, and
+  &lt;p&gt;&lt;span&gt;Text content&lt;/span&gt; in &lt;span&gt;HTML elements&lt;/span&gt; with &lt;code&gt;Text&lt;/code&gt; nodes in their &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt;, and
   text in attributes of &lt;span&gt;HTML elements&lt;/span&gt; that allow free-form text, may contain characters
   in the ranges U+202A to U+202E and U+2066 to U+2069 (the bidirectional-algorithm formatting
   characters). However, the use of these characters is restricted so that any embedding or overrides
@@ -11571,6 +11571,10 @@
      &lt;td&gt;&lt;span title=&quot;concept-role-none&quot;&gt;No role&lt;/span&gt;
 
     &lt;tr&gt;
+     &lt;td&gt;&lt;code&gt;template&lt;/code&gt; element
+     &lt;td&gt;&lt;span title=&quot;concept-role-none&quot;&gt;No role&lt;/span&gt;, with the &lt;code title=&quot;attr-aria-hidden&quot;&gt;aria-hidden&lt;/code&gt; state set to &quot;true&quot;
+
+    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;textarea&lt;/code&gt; element
      &lt;td&gt;&lt;code title=&quot;attr-aria-role-textbox&quot;&gt;textbox&lt;/code&gt; role, with the &lt;code title=&quot;attr-aria-multiline&quot;&gt;aria-multiline&lt;/code&gt; property set to &quot;true&quot;, and the &lt;code title=&quot;attr-aria-readonly&quot;&gt;aria-readonly&lt;/code&gt; property set to &quot;true&quot; if the element has a &lt;code title=&quot;attr-textarea-readonly&quot;&gt;readonly&lt;/code&gt; attribute
 
@@ -11966,7 +11970,9 @@
   output, or are rendered inline, etc).&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;There are also additional non-normative comments regarding the interaction of XSLT
-  and HTML &lt;a href=&quot;#scriptTagXSLT&quot;&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;.&lt;/p&gt;
+  and HTML &lt;a href=&quot;#scriptTagXSLT&quot;&gt;in the &lt;code&gt;script&lt;/code&gt; element section&lt;/a&gt;, and of
+  XSLT, XPath, and HTML &lt;a href=&quot;#template-XSLT-XPath&quot;&gt;in the &lt;code&gt;template&lt;/code&gt; element
+  section&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -16045,7 +16051,215 @@
   &lt;/div&gt;
 
 
+  &lt;h4 id=&quot;the-template-element&quot;&gt;The &lt;dfn&gt;&lt;code&gt;template&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
+  &lt;dl class=&quot;element&quot;&gt;
+   &lt;dt&gt;&lt;span title=&quot;element-dfn-categories&quot;&gt;Categories&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;span&gt;Metadata content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Phrasing content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Where &lt;span&gt;metadata content&lt;/span&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;hgroup&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;ol&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;ul&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;dl&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;table&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;colgroup&lt;/code&gt; element that doesn't have a &lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt; attribute.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;thead&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;tbody&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;tfoot&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;tr&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;select&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of an &lt;code&gt;optgroup&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;As a child of a &lt;code&gt;menu&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;Either: &lt;span&gt;Metadata content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: &lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;ol&lt;/code&gt; and &lt;code&gt;ul&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;dl&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;figure&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;ruby&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;object&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;video&lt;/code&gt; and &lt;code&gt;audio&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;table&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;colgroup&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;thead&lt;/code&gt;, &lt;code&gt;tbody&lt;/code&gt;, and &lt;code&gt;tfoot&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;tr&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;fieldset&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;select&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;details&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: The content model of &lt;code&gt;menu&lt;/code&gt; elements whose &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span&gt;popup menu state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
+   &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
+   &lt;dd&gt;
+&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLTemplateElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
+  readonly attribute &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-template-content&quot;&gt;content&lt;/span&gt;;
+};&lt;/pre&gt;
+&lt;/dd&gt;
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;
+
+  &lt;p&gt;The &lt;code&gt;template&lt;/code&gt; element is used to declare fragments of HTML that can be cloned and
+  inserted in the document by script.&lt;/p&gt;
+
+  &lt;p&gt;In a rendering, the &lt;code&gt;template&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; nothing.&lt;/p&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;template&lt;/var&gt; . &lt;code title=&quot;dom-template-content&quot;&gt;content&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the contents of the &lt;code&gt;template&lt;/code&gt;, which are stored in a
+    &lt;code&gt;DocumentFragment&lt;/code&gt; associated with a different &lt;code&gt;Document&lt;/code&gt; so as to avoid
+    the &lt;code&gt;template&lt;/code&gt; contents interfering with the main &lt;code&gt;Document&lt;/code&gt;. (For
+    example, this avoids form controls from being submitted, scripts from executing, and so
+    forth.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;Each &lt;code&gt;template&lt;/code&gt; element has an associated &lt;code&gt;DocumentFragment&lt;/code&gt; object that
+  is its &lt;dfn&gt;template contents&lt;/dfn&gt;. When a &lt;code&gt;template&lt;/code&gt; element is created, the user
+  agent must run the following steps to establish the &lt;span&gt;template contents&lt;/span&gt;:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; be the &lt;code&gt;template&lt;/code&gt; element's &lt;code
+   title=&quot;dom-node-ownerdocument&quot;&gt;ownerDocument&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; has an associated &lt;span&gt;browsing context&lt;/span&gt;, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; be a new &lt;code&gt;Document&lt;/code&gt; (that does not have a
+     &lt;span&gt;browsing context&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; is an &lt;span title=&quot;HTML documents&quot;&gt;HTML document&lt;/span&gt;, mark
+     &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt; as an &lt;span title=&quot;HTML documents&quot;&gt;HTML document&lt;/span&gt;
+     also.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;new doc&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;DocumentFragment&lt;/code&gt; object whose &lt;code
+   title=&quot;dom-node-ownerdocument&quot;&gt;ownerDocument&lt;/code&gt; is &lt;var title=&quot;&quot;&gt;doc&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;template&lt;/code&gt; element's &lt;span&gt;template contents&lt;/span&gt; to the newly
+   created &lt;code&gt;DocumentFragment&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-template-content&quot;&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attribute must return the
+  &lt;code&gt;template&lt;/code&gt; element's &lt;span&gt;template contents&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;span title=&quot;concept-node-clone-ext&quot;&gt;cloning steps&lt;/span&gt; for a &lt;code&gt;template&lt;/code&gt;
+  element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; being cloned to a copy &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt; must run the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;clone children flag&lt;/var&gt; is not set in the calling &lt;span
+   title=&quot;concept-node-clone&quot;&gt;clone&lt;/span&gt; algorithm, abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; be the result of &lt;span
+   title=&quot;concept-node-clone&quot;&gt;cloning&lt;/span&gt; all the children of &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;'s
+   &lt;span&gt;template contents&lt;/span&gt;, with &lt;var title=&quot;&quot;&gt;ownerDocument&lt;/var&gt; set to &lt;var
+   title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;span&gt;template contents&lt;/span&gt;'s &lt;code
+   title=&quot;dom-node-ownerdocument&quot;&gt;ownerDocument&lt;/code&gt;, and with the &lt;var title=&quot;&quot;&gt;clone children
+   flag&lt;/var&gt; set.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;copied contents&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;copy&lt;/var&gt;'s &lt;span&gt;template
+   contents&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;In this example, a script populates a table with data from a data structure, using a
+   &lt;code&gt;template&lt;/code&gt; to provide the element structure instead of manually generating the
+   structure from markup.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;!DOCTYPE html&gt;
+&lt;title&gt;Cat data&lt;/title&gt;
+&lt;script&gt;
+ // Data is hard-coded here, but could come from the server
+ var data = [
+   { name: 'Pillar', color: 'Ticked Tabby', sex: 'Female (neutered)', legs: 3 },
+   { name: 'Hedral', color: 'Tuxedo', sex: 'Male (neutered)', legs: 4 },
+ ];
+&lt;/script&gt;
+&lt;table&gt;
+ &lt;thead&gt;
+  &lt;tr&gt;
+   &lt;th&gt;Name &lt;th&gt;Color &lt;th&gt;Sex &lt;th&gt;Legs
+ &lt;tbody&gt;
+  &lt;template id=&quot;row&quot;&gt;
+   &lt;tr&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;&lt;td&gt;
+  &lt;/template&gt;
+&lt;/table&gt;
+&lt;script&gt;
+ var template = document.querySelector('#row');
+ for (var i in data) {
+   var cat = data[i];
+   var clone = template.content.cloneNode(true);
+   var cells = clone.querySelectorAll('td');
+   cells[0].textContent = cat.name;
+   cells[1].textContent = cat.color;
+   cells[2].textContent = cat.sex;
+   cells[3].textContent = cat.legs;
+   template.parentNode.appendChild(clone);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;h5 id=&quot;template-XSLT-XPath&quot;&gt;Interaction of &lt;code&gt;template&lt;/code&gt; elements with XSLT and XPath&lt;/h5&gt;
+
+  &lt;!--END dev-html--&gt;&lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;&lt;!--START dev-html--&gt;
+
+  &lt;p&gt;This specification does not define how XSLT and XPath interact with the &lt;code&gt;template&lt;/code&gt;
+  element. However, in the absence of another specification actually defining this, here are some
+  guidelines for implementors, which are intended to be consistent with other processing described
+  in this specification:&lt;/p&gt;
+
+  &lt;ul&gt;
+
+   &lt;li&gt;&lt;p&gt;An XSLT processor based on an XML parser that acts &lt;span title=&quot;xml parser&quot;&gt;as described
+   in this specification&lt;/span&gt; needs to act as if &lt;code&gt;template&lt;/code&gt; elements contain as
+   descendants their &lt;span&gt;template contents&lt;/span&gt; for the purposes of the transform.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;An XSLT processor that outputs a DOM needs to ensure that nodes that would go into a
+   &lt;code&gt;template&lt;/code&gt; element are instead placed into the element's &lt;span&gt;template
+   contents&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;XPath evaluation using the XPath DOM API when applied to a &lt;code&gt;Document&lt;/code&gt; parsed
+   using the &lt;span&gt;HTML parser&lt;/span&gt; or the &lt;span&gt;XML parser&lt;/span&gt; described in this specification
+   needs to ignore &lt;span&gt;template contents&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;/ul&gt;
+
+  &lt;/div&gt;
+
+
   &lt;h3&gt;Sections&lt;/h3&gt;
 
   &lt;h4 id=&quot;the-body-element&quot;&gt;The &lt;dfn&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
@@ -16826,7 +17040,7 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;One or more &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;, and &lt;code&gt;h6&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;One or more &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;, &lt;code&gt;h6&lt;/code&gt;, and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -18927,7 +19141,7 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;li&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;li&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-ol-reversed&quot;&gt;reversed&lt;/code&gt;&lt;/dd&gt;
@@ -19110,7 +19324,7 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;li&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;li&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -19275,9 +19489,9 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more groups each consisting of one or more
-   &lt;code&gt;dt&lt;/code&gt; elements followed by one or more &lt;code&gt;dd&lt;/code&gt;
-   elements.&lt;/dd&gt;
+   &lt;dd&gt;Either: Zero or more groups each consisting of one or more &lt;code&gt;dt&lt;/code&gt; elements followed by one or more &lt;code&gt;dd&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;template&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;Or: A &lt;code&gt;template&lt;/code&gt; element or a &lt;code&gt;dt&lt;/code&gt; element, followed by zero or more &lt;code&gt;template&lt;/code&gt;, &lt;code&gt;dt&lt;/code&gt;, and &lt;code&gt;dd&lt;/code&gt; elements, followed by a &lt;code&gt;template&lt;/code&gt; element or a &lt;code&gt;dd&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -42828,7 +43042,7 @@
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Phrasing content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected, but only if there is a &lt;code&gt;map&lt;/code&gt; element ancestor.&lt;/dd&gt;
+   &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected, but only if there is a &lt;code&gt;map&lt;/code&gt; element ancestor or a &lt;code&gt;template&lt;/code&gt; element ancestor.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
@@ -42867,7 +43081,7 @@
   map&lt;/span&gt;, or a dead area on an image map.&lt;/p&gt;
 
   &lt;p&gt;An &lt;code&gt;area&lt;/code&gt; element with a parent node must have a &lt;code&gt;map&lt;/code&gt; element
-  ancestor.&lt;/p&gt;
+  ancestor or a &lt;code&gt;template&lt;/code&gt; element ancestor.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code&gt;area&lt;/code&gt; element has an &lt;code
   title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; attribute, then the
@@ -43626,7 +43840,7 @@
    &lt;code&gt;tbody&lt;/code&gt; elements or one or more &lt;code&gt;tr&lt;/code&gt;
    elements, followed optionally by a &lt;code&gt;tfoot&lt;/code&gt; element (but
    there can only be one &lt;code&gt;tfoot&lt;/code&gt; element child in
-   total).&lt;/dd&gt;
+   total), optionally with one or more &lt;code&gt;template&lt;/code&gt; elements between any of the other elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-table-sortable&quot;&gt;sortable&lt;/code&gt;&lt;/dd&gt;
@@ -44440,7 +44654,7 @@
    elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;If the &lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt; attribute is present: Empty.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;col&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt; attribute is absent: Zero or more &lt;code&gt;col&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt;&lt;/dd&gt;
@@ -44539,7 +44753,7 @@
    &lt;code&gt;tr&lt;/code&gt; elements that are children of the
    &lt;code&gt;table&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -44647,7 +44861,7 @@
    &lt;code&gt;thead&lt;/code&gt; elements that are children of the
    &lt;code&gt;table&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -44726,7 +44940,7 @@
    are no other &lt;code&gt;tfoot&lt;/code&gt; elements that are children of the
    &lt;code&gt;table&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;tr&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -44763,7 +44977,7 @@
    elements, but only if there are no &lt;code&gt;tbody&lt;/code&gt; elements that
    are children of the &lt;code&gt;table&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;td&lt;/code&gt; or &lt;code&gt;th&lt;/code&gt; elements&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;td&lt;/code&gt;, &lt;code&gt;th&lt;/code&gt;, and &lt;code&gt;template&lt;/code&gt; elements&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -55616,7 +55830,7 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;option&lt;/code&gt; or &lt;code&gt;optgroup&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;option&lt;/code&gt;, &lt;code&gt;optgroup&lt;/code&gt;, and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-fe-autofocus&quot;&gt;autofocus&lt;/code&gt;&lt;/dd&gt;
@@ -56227,7 +56441,7 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-contexts&quot;&gt;Contexts in which this element can be used&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;As a child of a &lt;code&gt;select&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Zero or more &lt;code&gt;option&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;Zero or more &lt;code&gt;option&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-optgroup-disabled&quot;&gt;disabled&lt;/code&gt;&lt;/dd&gt;
@@ -62424,8 +62638,8 @@
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dd&gt;If the element's &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state: as the child of a &lt;code&gt;menu&lt;/code&gt; element whose &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-content-model&quot;&gt;Content model&lt;/span&gt;:&lt;/dt&gt;
-   &lt;dd&gt;If the element's &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;toolbar state&quot;&gt;toolbar&lt;/span&gt; state: either zero or more &lt;code&gt;li&lt;/code&gt; elements, or &lt;span&gt;flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;If the element's &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state: in any order, zero or more &lt;code&gt;menuitem&lt;/code&gt; elements, zero or more &lt;code&gt;hr&lt;/code&gt; elements, and zero or more &lt;code&gt;menu&lt;/code&gt; elements whose &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attributes are in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;toolbar state&quot;&gt;toolbar&lt;/span&gt; state: either zero or more &lt;code&gt;li&lt;/code&gt; and &lt;code&gt;template&lt;/code&gt; elements, or, &lt;span&gt;flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;If the element's &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state: in any order, zero or more &lt;code&gt;menuitem&lt;/code&gt; elements, zero or more &lt;code&gt;hr&lt;/code&gt; elements, zero or more &lt;code&gt;menu&lt;/code&gt; elements whose &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt; attributes are in the &lt;span title=&quot;popup menu state&quot;&gt;popup menu&lt;/span&gt; state, and zero or more &lt;code&gt;template&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt;&lt;/dd&gt;
@@ -93968,12 +94182,12 @@
   start tag that is marked as self-closing, in which case they must
   not have an end tag.&lt;/p&gt;
 
-  &lt;p&gt;The contents of the element must be placed between just after the
+  &lt;p&gt;The &lt;span title=&quot;concept-html-contents&quot;&gt;contents&lt;/span&gt; of the element must be placed between just after the
   start tag (which &lt;span title=&quot;syntax-tag-omission&quot;&gt;might be implied,
   in certain cases&lt;/span&gt;) and just before the end tag (which again,
   &lt;span title=&quot;syntax-tag-omission&quot;&gt;might be implied in certain
   cases&lt;/span&gt;). The exact allowed contents of each individual element
-  depend on the content model of that element, as described earlier in
+  depend on the &lt;span title=&quot;content models&quot;&gt;content model&lt;/span&gt; of that element, as described earlier in
   this specification. Elements must not contain content that their
   content model disallows. In addition to the restrictions placed on
   the contents by those content models, however, the five types of
@@ -94704,6 +94918,8 @@
   title=&quot;&quot;&gt;--&gt;&lt;/code&gt;).&lt;/p&gt;
 
 
+&lt;!--HTMLPARSER--&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;h3 id=&quot;parsing&quot;&gt;Parsing HTML documents&lt;/h3&gt;
@@ -95984,7 +96200,8 @@
   row&quot;&gt;in row&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: in cell&quot;&gt;in
   cell&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: in select&quot;&gt;in
   select&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: in select in table&quot;&gt;in
-  select in table&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: after
+  select in table&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in
+  template&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: after
   body&quot;&gt;after body&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: in
   frameset&quot;&gt;in frameset&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode: after
   frameset&quot;&gt;after frameset&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;insertion mode:
@@ -96015,8 +96232,17 @@
   is also set. This is the insertion mode to which the tree
   construction stage will return.&lt;/p&gt;
 
+  &lt;p&gt;Similarly, to parse nested &lt;code&gt;template&lt;/code&gt; elements, a &lt;dfn&gt;stack of template insertion
+  modes&lt;/dfn&gt; is used. It is initially empty. The &lt;dfn&gt;current template insertion mode&lt;/dfn&gt; is the
+  insertion mode that was most recently added to the &lt;span&gt;stack of template insertion modes&lt;/span&gt;.
+  The algorithms in the sections below will &lt;i&gt;push&lt;/i&gt; insertion modes onto this stack, meaning
+  that the specified insertion mode is to be added to the stack, and &lt;i&gt;pop&lt;/i&gt; insertion modes from
+  the stack, which means that the most recently added insertion mode must be removed from the
+  stack.&lt;/p&gt;
+
   &lt;hr&gt;
 
+&lt;!--CLEANUP--&gt;&lt;!--&lt;p&gt;s--&gt;
   &lt;p&gt;When the steps below require the UA to &lt;dfn&gt;reset the insertion
   mode appropriately&lt;/dfn&gt;, it means the UA must follow these
   steps:&lt;/p&gt;
@@ -96034,11 +96260,38 @@
    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element.
    (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;select&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-   title=&quot;insertion mode: in select&quot;&gt;in select&lt;/span&gt;&quot; and abort these
-   steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;select&lt;/code&gt; element, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is the first node in the &lt;span&gt;stack of open
+     elements&lt;/span&gt;, jump to the step below labeled &lt;i&gt;done&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the node before &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; in the
+     &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;template&lt;/code&gt; node, jump to the step below
+     labeled &lt;i&gt;done&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is a &lt;code&gt;table&lt;/code&gt; node, switch the &lt;span&gt;insertion
+     mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/span&gt;&quot; and
+     abort these steps.&lt;/p&gt;&lt;/li&gt;
+      &lt;!-- consider &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;select&gt;&lt;template&gt;&lt;/template&gt;&lt;caption&gt;&lt;/table&gt;
+           <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2374</A> --&gt;
+
+     &lt;li&gt;&lt;p&gt;Jump back to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;i&gt;Done&lt;/i&gt;: Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in
+     select&quot;&gt;in select&lt;/span&gt;&quot; and abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;td&lt;/code&gt; or
    &lt;code&gt;th&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is false, then
    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion
@@ -96061,30 +96314,37 @@
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;colgroup&lt;/code&gt; element,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
    title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/span&gt;&quot; and
-   abort these steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+   abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;table&lt;/code&gt; element,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
    title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot; and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;head&lt;/code&gt; element,
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;template&lt;/code&gt; element, then switch the
+   &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;current template insertion mode&lt;/span&gt; and abort these
+   steps.&lt;/li&gt;
+
+&lt;!--
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;head&lt;/code&gt; element
+   and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is true,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; (&quot;&lt;span
    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;! &lt;em&gt; not &quot;&lt;span
    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;&lt;/em&gt;!) and abort
-   these steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt; &lt;!-- This is only
-   here for now in case people think that the spec accidentally
-   omitted it and try to &quot;fix&quot; it. Note that noscript-in-head is also
-   handled this way. This is all intentional. The only thing it
-   doesn't handle is the scripting-disabled fragment parsing case for
-   a &lt;head&gt; element containing a &lt;noscript&gt; which itself contains
-   something other than a &lt;link&gt; or a &lt;style&gt; element; you'd expect
-   that to break out of the &lt;noscript&gt; but it doesn't. This is an edge
-   case that doesn't affect the spec, since the algorithm for fragment
-   parsing is only used for innerHTML/outerHTML/insertAdjacentHTML(),
-   where we know scripting is enabled. --&gt;
+   these steps. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+--&gt;&lt;!-- The above is only here in case people think that the spec accidentally omitted it and try to
+        &quot;fix&quot; it. Note that noscript-in-head is also handled this way. This is all intentional. The
+        only thing it doesn't handle is the scripting-disabled fragment parsing case for a &lt;head&gt;
+        element containing a &lt;noscript&gt; which itself contains something other than a &lt;link&gt; or a
+        &lt;style&gt; element; you'd expect that to break out of the &lt;noscript&gt; but it doesn't. This is an
+        edge case that doesn't affect the spec, since the algorithm for fragment parsing is only
+        used for innerHTML/outerHTML/insertAdjacentHTML(), where we know scripting is enabled. --&gt;
 
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;head&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is
+   false, then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+   head&lt;/span&gt;&quot; and abort these steps.&lt;/li&gt; &lt;!-- for the case of &lt;head&gt;&lt;template&gt;&lt;/template&gt;... --&gt;
+
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;body&lt;/code&gt; element,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; and abort these
@@ -96147,6 +96407,7 @@
   &lt;dl&gt;
 
    &lt;dt&gt;&lt;dfn&gt;Special&lt;/dfn&gt;&lt;/dt&gt;
+&lt;!--CLEANUP--&gt;
    &lt;dd&gt;&lt;p&gt;The following elements have varying levels of special parsing rules: HTML's
    &lt;code&gt;address&lt;/code&gt;, &lt;code&gt;applet&lt;/code&gt;, &lt;code&gt;area&lt;/code&gt;, &lt;code&gt;article&lt;/code&gt;,
    &lt;code&gt;aside&lt;/code&gt;, &lt;code&gt;base&lt;/code&gt;, &lt;code&gt;basefont&lt;/code&gt;, &lt;code&gt;bgsound&lt;/code&gt;,
@@ -96166,7 +96427,7 @@
    &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;param&lt;/code&gt;, &lt;code&gt;plaintext&lt;/code&gt;, &lt;code&gt;pre&lt;/code&gt;,
    &lt;code&gt;script&lt;/code&gt;, &lt;code&gt;section&lt;/code&gt;, &lt;code&gt;select&lt;/code&gt;, &lt;code&gt;source&lt;/code&gt;,
    &lt;code&gt;style&lt;/code&gt;, &lt;code&gt;summary&lt;/code&gt;, &lt;code&gt;table&lt;/code&gt;, &lt;code&gt;tbody&lt;/code&gt;,
-   &lt;code&gt;td&lt;/code&gt;, &lt;code&gt;textarea&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;th&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+   &lt;code&gt;td&lt;/code&gt;, &lt;code&gt;template&lt;/code&gt;, &lt;code&gt;textarea&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;th&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
    &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;, &lt;code&gt;track&lt;/code&gt;, &lt;code&gt;ul&lt;/code&gt;, &lt;code&gt;wbr&lt;/code&gt;, and
    &lt;code&gt;xmp&lt;/code&gt;; MathML's &lt;code title=&quot;&quot;&gt;mi&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mo&lt;/code&gt;, &lt;code
    title=&quot;&quot;&gt;mn&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;ms&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;mtext&lt;/code&gt;, and &lt;code
@@ -96220,6 +96481,7 @@
    &lt;li&gt;&lt;code&gt;th&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;marquee&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;object&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;template&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mi&lt;/code&gt; in the &lt;span&gt;MathML namespace&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mo&lt;/code&gt; in the &lt;span&gt;MathML namespace&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;mn&lt;/code&gt; in the &lt;span&gt;MathML namespace&lt;/span&gt;&lt;/li&gt;
@@ -96259,6 +96521,7 @@
   &lt;ul class=&quot;brief&quot;&gt;
    &lt;li&gt;&lt;code&gt;html&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt; &lt;!-- (This can only happen if the &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the topmost node of the &lt;span&gt;stack of open elements&lt;/span&gt;, and prevents the next step from being invoked if there are no more elements in the stack.) --&gt;
    &lt;li&gt;&lt;code&gt;table&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;code&gt;template&lt;/code&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;&lt;/li&gt;
   &lt;/ul&gt;
 
   &lt;p&gt;The &lt;span&gt;stack of open elements&lt;/span&gt; is said to &lt;dfn title=&quot;has an element in select
@@ -99020,6 +99283,9 @@
 
   &lt;h5&gt;Creating and inserting nodes&lt;/h5&gt;
 
+  &lt;p&gt;While the parser is processing a token, it can enable or disable &lt;dfn title=&quot;foster
+  parent&quot;&gt;foster parenting&lt;/dfn&gt;. This affects the following algorithm.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn&gt;appropriate place for inserting a node&lt;/dfn&gt;, optionally using a particular
   &lt;i&gt;override target&lt;/i&gt;, is the position in an element returned by running the following steps:&lt;/p&gt;
 
@@ -99041,7 +99307,7 @@
 
     &lt;dl class=&quot;switch&quot;&gt;
 
-     &lt;dt&gt;If &lt;dfn title=&quot;foster parent&quot;&gt;foster parenting&lt;/dfn&gt; is enabled and &lt;var
+     &lt;dt&gt;If &lt;span title=&quot;foster parent&quot;&gt;foster parenting&lt;/span&gt; is enabled and &lt;var
      title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;code&gt;table&lt;/code&gt;, &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;,
      &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tr&lt;/code&gt; element&lt;/dt&gt;
 
@@ -99049,35 +99315,60 @@
 
       &lt;p class=&quot;note&quot;&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
 
-      &lt;p&gt;The &lt;dfn&gt;foster parent element&lt;/dfn&gt; is the parent element of the last &lt;code&gt;table&lt;/code&gt;
-      element in the &lt;span&gt;stack of open elements&lt;/span&gt;, if there is a &lt;code&gt;table&lt;/code&gt; element and
-      it has such a parent element.&lt;/p&gt;
+      &lt;p&gt;Run these substeps:&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;It might have no parent or some other kind parent if a script manipulated the
-      DOM after the element was inserted by the parser.&lt;/p&gt;
+      &lt;ol&gt;
 
-      &lt;p&gt;If there is no &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open elements&lt;/span&gt;
-      (&lt;span&gt;fragment case&lt;/span&gt;), then the &lt;i&gt;foster parent element&lt;/i&gt; is the first element in the
-      &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt; element). Otherwise, if there is a
-      &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open elements&lt;/span&gt;, but the last
-      &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open elements&lt;/span&gt; has no parent, or its
-      parent node is not an element, then the &lt;i&gt;foster parent element&lt;/i&gt; is the element before the
-      last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; be the last &lt;code&gt;template&lt;/code&gt; element in the
+       &lt;span&gt;stack of open elements&lt;/span&gt;, if any.&lt;/p&gt;
 
-      &lt;p&gt;If the &lt;i&gt;foster parent element&lt;/i&gt; is the parent element of the last &lt;code&gt;table&lt;/code&gt;
-      element in the &lt;span&gt;stack of open elements&lt;/span&gt;, then the &lt;var title=&quot;&quot;&gt;adjusted insertion
-      location&lt;/var&gt; is inside the &lt;i&gt;foster parent element&lt;/i&gt;, immediately &lt;em&gt;before&lt;/em&gt; the
-      last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open elements&lt;/span&gt;; otherwise, the
-      &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside the &lt;i&gt;foster parent element&lt;/i&gt;,
-      after its last child (if any).&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; be the last &lt;code&gt;table&lt;/code&gt; element in the
+       &lt;span&gt;stack of open elements&lt;/span&gt;, if any.&lt;/p&gt;
 
+       &lt;li&gt;&lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; and either there is no &lt;var
+       title=&quot;&quot;&gt;last table&lt;/var&gt;, or there is one, but &lt;var title=&quot;&quot;&gt;last template&lt;/var&gt; is lower
+       (more recently added) than &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;span&gt;stack of open
+       elements&lt;/span&gt;, then: let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var
+       title=&quot;&quot;&gt;last template&lt;/var&gt;'s &lt;span&gt;template contents&lt;/span&gt;, after its last child (if any),
+       and abort these substeps.&lt;/p&gt;&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, &lt;!-- there's also implicitly no last
+       template, since we didn't hit the previous step --&gt; then let &lt;var title=&quot;&quot;&gt;adjusted insertion
+       location&lt;/var&gt; be inside the first element in the &lt;span&gt;stack of open elements&lt;/span&gt; (the
+       &lt;code&gt;html&lt;/code&gt; element), after its last child (if any), and abort these substeps.
+       (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+
+       &lt;!-- if we get here, we know there's a last table, and if there's a last template, it's older
+       than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt; has a parent element, then let &lt;var
+       title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;'s parent
+       element, immediately before &lt;var title=&quot;&quot;&gt;last table&lt;/var&gt;, and abort these
+       substeps.&lt;/p&gt;&lt;/li&gt;
+
+       &lt;!-- if we get here, we know there's a last table, but it has no parent, and if there's a
+       last template, it's older than the last table. --&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;previous element&lt;/var&gt; be the element immediately above &lt;var
+       title=&quot;&quot;&gt;last table&lt;/var&gt; in the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;previous
+       element&lt;/var&gt;, after its last child (if any).&lt;/p&gt;&lt;/li&gt;
+
+      &lt;/ol&gt;
+
+      &lt;p class=&quot;note&quot;&gt;These steps are involved in part because it's possible for elements, the
+      &lt;code&gt;table&lt;/code&gt; element in this case in particular, to have been moved by a script around
+      in the DOM, or indeed removed from the DOM entirely, after the element was inserted by the
+      parser.&lt;/p&gt;
+
      &lt;/dd&gt;
 
      &lt;dt&gt;Otherwise&lt;/dt&gt;
 
      &lt;dd&gt;
 
-      &lt;p&gt;The &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be inside &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;,
       after its last child (if any).&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -99088,6 +99379,14 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is inside a &lt;code&gt;template&lt;/code&gt;
+    element, let it instead be inside the &lt;code&gt;template&lt;/code&gt; element's &lt;span&gt;template
+    contents&lt;/span&gt;, after its last child (if any).&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;Return the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -99161,9 +99460,18 @@
    pointer&lt;/span&gt;, and suppress the running of the &lt;span&gt;reset the form owner&lt;/span&gt; algorithm in
    the next step.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
-   location&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If it is possible to insert an element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;, then insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
+    location&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; cannot accept more
+    elements, e.g. because it's a &lt;code&gt;Document&lt;/code&gt; that already has an element child, then the
+    newly created element is dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Push the element onto the &lt;span&gt;stack of open elements&lt;/span&gt; so that it is the new
    &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -99308,6 +99616,16 @@
 
    &lt;li&gt;
 
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; is in a &lt;code&gt;Document&lt;/code&gt; node,
+    then abort these steps.
+
+    &lt;p class=&quot;note&quot;&gt;The DOM will not let &lt;code&gt;Document&lt;/code&gt; nodes have &lt;code&gt;Text&lt;/code&gt; node
+    children, so they are dropped on the floor.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
     &lt;p&gt;If there is a &lt;code&gt;Text&lt;/code&gt; node immediately before the &lt;var title=&quot;&quot;&gt;adjusted insertion
     location&lt;/var&gt;, then append &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to that &lt;code&gt;Text&lt;/code&gt; node's data.&lt;/p&gt;
 
@@ -99913,6 +100231,7 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt id=&quot;scriptTag&quot;&gt;A start tag whose tag name is &quot;script&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
@@ -99982,6 +100301,57 @@
     &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+
+    &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/span&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in template&lt;/span&gt;&quot; onto the &lt;span&gt;stack of
+    template insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;, then
+    this is a &lt;span&gt;parse error&lt;/span&gt;; ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, run these steps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not an element with
+     the same tag name as that of the token, then this is a
+     &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;span&gt;stack of open elements&lt;/span&gt;
+     until an element with the same tag name as the token has been
+     popped from the stack.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;span&gt;Clear the list of active formatting elements up to the
+     last marker&lt;/span&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+     insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
+     parser's insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
@@ -100225,7 +100595,12 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. For each attribute on the token,
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;If there is a &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;, then
+    ignore the token.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, for each attribute on the token,
     check to see if the attribute is already present on the top
     element of the &lt;span&gt;stack of open elements&lt;/span&gt;. If it is not,
     add the attribute and its corresponding value to that element.&lt;/p&gt;
@@ -100245,8 +100620,9 @@
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;If the second element on the &lt;span&gt;stack of open
-    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, or, if the
+    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, if the
     &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
+    or if there is a &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;,
     then ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise, set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;;
@@ -100263,6 +100639,7 @@
 
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
     &lt;p&gt;If the second element on the &lt;span&gt;stack of open
     elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, or, if the
     &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
@@ -100305,8 +100682,13 @@
     this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are
     fragment cases) --&gt;
 
-    &lt;p&gt;&lt;span&gt;Stop parsing&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of template insertion modes&lt;/span&gt; is not empty, then process the token
+    &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in
+    template&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;!-- this is needed to handle &lt;head&gt;&lt;template&gt;...[EOF] - otherwise we don't construct the &lt;body&gt; element --&gt;
 
+    &lt;p&gt;Otherwise, &lt;span&gt;stop parsing&lt;/span&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -101431,6 +101813,16 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;A start &lt;!--or end--&gt; tag whose tag name is one of: &quot;caption&quot;,
    &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;head&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
    &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
@@ -101765,9 +102157,6 @@
     the tag name &quot;table&quot; had been seen, then, if that token wasn't
     ignored, reprocess the current token.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
@@ -101776,8 +102165,7 @@
     &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
     title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/span&gt; with the same tag name as the token, this is a
-    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-    case&lt;/span&gt;)&lt;/p&gt;
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -101848,18 +102236,23 @@
 
    &lt;!-- &quot;form&quot; end tag falls through to in-body, which does the right thing --&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not the root
-    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; can only be the root
-    &lt;code&gt;html&lt;/code&gt; element in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Stop parsing&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -101876,8 +102269,8 @@
 
   &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
   back to a table context&lt;/dfn&gt;, it means that the UA must, while
-  the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;table&lt;/code&gt;
-  element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
+  the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;table&lt;/code&gt;,
+  &lt;code&gt;template&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt; element, pop elements from the
   &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
@@ -102055,13 +102448,10 @@
    &lt;dt&gt;An end tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root
-    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;; ignore the token. (&lt;span&gt;fragment
-    case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;colgroup&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;; ignore the token.&lt;/p&gt; &lt;!-- e.g. colgroup fragment case, or &lt;template&gt;&lt;col&gt;&lt;/colgroup&gt; --&gt;
 
-    &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; (which will be
-    a &lt;code&gt;colgroup&lt;/code&gt; element) from the &lt;span&gt;stack of open
+    &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; from the &lt;span&gt;stack of open
     elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
     &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
 
@@ -102072,16 +102462,23 @@
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root &lt;code&gt;html&lt;/code&gt;
-    element, then &lt;span&gt;stop parsing&lt;/span&gt;. (&lt;span&gt;fragment
-    case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, act as described in the &quot;anything else&quot; entry
-    below.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -102091,9 +102488,6 @@
     seen, and then, if that token wasn't ignored, reprocess the
     current token.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
   &lt;/dl&gt;
@@ -102153,8 +102547,7 @@
     title=&quot;has an element in table scope&quot;&gt;have a
     &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tfoot&lt;/code&gt;
     element in table scope&lt;/span&gt;, this is a &lt;span&gt;parse
-    error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-    case&lt;/span&gt;)&lt;/p&gt;
+    error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -102185,7 +102578,7 @@
   &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
   back to a table body context&lt;/dfn&gt;, it means that the UA must,
   while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tbody&lt;/code&gt;,
-  &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt;
+  &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, &lt;code&gt;template&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt;
   element, pop elements from the &lt;span&gt;stack of open
   elements&lt;/span&gt;.&lt;/p&gt;
 
@@ -102221,8 +102614,7 @@
     &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
     title=&quot;has an element in table scope&quot;&gt;have an element in table
     scope&lt;/span&gt; with the same tag name as the token, this is a
-    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-    case&lt;/span&gt;)&lt;/p&gt;
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
@@ -102246,9 +102638,6 @@
     then, if that token wasn't ignored, reprocess the current
     token.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
@@ -102282,8 +102671,8 @@
 
   &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
   back to a table row context&lt;/dfn&gt;, it means that the UA must,
-  while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tr&lt;/code&gt;
-  element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
+  while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tr&lt;/code&gt;,
+  &lt;code&gt;template&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt; element, pop elements from the
   &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
@@ -102324,7 +102713,7 @@
     &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
     title=&quot;insertion mode: in row&quot;&gt;in row&lt;/span&gt;&quot;.&lt;/p&gt; &lt;!-- current
     node here will be a &lt;tr&gt; normally; but could be &lt;html&gt; in the
-    fragment case --&gt;
+    fragment case, or &lt;template&gt; in the template case --&gt;
 
    &lt;/dd&gt;
 
@@ -102355,9 +102744,7 @@
 
     &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
     title=&quot;has an element in table scope&quot;&gt;have an element in table
-    scope&lt;/span&gt; with the same tag name as that of the token (which
-    can only happen for &quot;tbody&quot;, &quot;tfoot&quot; and &quot;thead&quot;, or in the
-    &lt;span&gt;fragment case&lt;/span&gt;), then this is a &lt;span&gt;parse
+    scope&lt;/span&gt; with the same tag name as that of the token, then this is a &lt;span&gt;parse
     error&lt;/span&gt; and the token must be ignored.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, &lt;span&gt;close the cell&lt;/span&gt; (see below) and
@@ -102533,18 +102920,23 @@
     mode&lt;/span&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not the root
-    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; can only be the root
-    &lt;code&gt;html&lt;/code&gt; element in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Stop parsing&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
@@ -102593,6 +102985,139 @@
 
 
 
+  &lt;h6 id=&quot;parsing-main-intemplate&quot;&gt;The &quot;&lt;dfn title=&quot;insertion mode: in template&quot;&gt;in template&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+
+  &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in template&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, the user agent must handle the token as follows:&lt;/p&gt;
+
+  &lt;dl class=&quot;switch&quot;&gt;
+
+   &lt;!-- first, tokens we always ignore: --&gt;
+
+   &lt;!-- html: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;
+   &lt;!-- head: ignored in &quot;in body&quot; mode always --&gt;
+   &lt;!-- body: ignored in &quot;in body&quot; mode if there's a &lt;template&gt; on the stack --&gt;
+   &lt;!-- frameset: ignored in &quot;in body&quot; mode if frameset-ok is set to not-ok, which &lt;template&gt; sets it to --&gt;
+
+
+   &lt;!-- second, tokens that are ambiguous (allowed in multiple modes), let's just handle them in a generic way and not pick a mode: --&gt;
+
+   &lt;dt&gt;A character token&lt;/dt&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- now, tokens that imply certain modes --&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot; onto the &lt;span&gt;stack of
+    template insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in
+    table&lt;/span&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/span&gt;&quot; onto the
+    &lt;span&gt;stack of template insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template
+    insertion mode&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in column group&quot;&gt;in
+    column group&lt;/span&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/span&gt;&quot; onto the &lt;span&gt;stack
+    of template insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template insertion
+    mode&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in table body&quot;&gt;in
+    table body&lt;/span&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in row&quot;&gt;in row&lt;/span&gt;&quot; onto the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template insertion mode&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in row&quot;&gt;in
+    row&lt;/span&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;!-- default to in-body mode --&gt;
+
+   &lt;dt&gt;Any other start tag&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Push &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; onto the &lt;span&gt;stack of template
+    insertion modes&lt;/span&gt; so that it is the new &lt;span&gt;current template insertion mode&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;, and reprocess the token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
+
+   &lt;!-- EOF --&gt;
+
+
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+
+    &lt;p&gt;If there is no &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;, then
+    &lt;span&gt;stop parsing&lt;/span&gt;. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, this is a &lt;span&gt;parse error&lt;/span&gt;; act as if an end tag with the tag name
+    &quot;template&quot; had been seen and reprocess the current token.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+
   &lt;h6 id=&quot;parsing-main-afterbody&quot;&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;span title=&quot;insertion mode: after body&quot;&gt;after body&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, the user agent must handle the token as follows:&lt;/p&gt;
@@ -103721,6 +104246,7 @@
   been seen up to this point.&lt;/p&gt;
 
 
+&lt;!--/HTMLPARSER--&gt;
 
 
   &lt;h3&gt;Serializing HTML fragments&lt;/h3&gt;
@@ -103739,6 +104265,10 @@
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; be a string, and initialize it to
    the empty string.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt; is a &lt;code&gt;template&lt;/code&gt; element, then let &lt;var
+   title=&quot;&quot;&gt;the node&lt;/var&gt; instead be the &lt;code&gt;template&lt;/code&gt; element's &lt;span&gt;template
+   contents&lt;/span&gt; (a &lt;code&gt;DocumentFragment&lt;/code&gt; node).&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;For each child node of &lt;var title=&quot;&quot;&gt;the node&lt;/var&gt;, in
@@ -104171,6 +104701,15 @@
 
      &lt;li&gt;
 
+      &lt;p&gt;If the &lt;var title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element is a
+      &lt;code&gt;template&lt;/code&gt; element, push &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in
+      template&lt;/span&gt;&quot; onto the &lt;span&gt;stack of template insertion modes&lt;/span&gt; so that it is the new
+      &lt;span&gt;current template insertion mode&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
       &lt;p&gt;&lt;span title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
       parser's insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
 
@@ -104308,6 +104847,8 @@
   the rules given in the XML specification to map a string of bytes or characters into a
   &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;At the time of writing, no such rules actually exist.&lt;/p&gt;
+
   &lt;p&gt;An &lt;span&gt;XML parser&lt;/span&gt; is either associated with a &lt;code&gt;Document&lt;/code&gt; object when it is
   created, or creates one implicitly.&lt;/p&gt;
 
@@ -104388,6 +104929,18 @@
   available for &lt;span&gt;XML documents&lt;/span&gt;, much of the complexity in the &lt;span&gt;HTML parser&lt;/span&gt;
   is not needed in the &lt;span&gt;XML parser&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p id=&quot;templateTagXML&quot;&gt;When an &lt;span&gt;XML parser&lt;/span&gt; would append a node to a
+  &lt;code&gt;template&lt;/code&gt; element, it must instead append it to the &lt;code&gt;template&lt;/code&gt; element's
+  &lt;span&gt;template contents&lt;/span&gt; (a &lt;code&gt;DocumentFragment&lt;/code&gt; node).&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This is a &lt;span&gt;willful violation&lt;/span&gt; of the XML specification; unfortunately,
+  XML is not formally extensible in the manner that is needed for &lt;code&gt;template&lt;/code&gt; processing.
+  &lt;a href=&quot;#refsXML&quot;&gt;[XML]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When an &lt;span&gt;XML parser&lt;/span&gt; creates a &lt;code&gt;Node&lt;/code&gt; object, its &lt;code
+  title=&quot;dom-Node-ownerDocument&quot;&gt;ownerDocument&lt;/code&gt; must be set to the &lt;code&gt;Document&lt;/code&gt; of
+  the node into which the newly created node is to be inserted.&lt;/p&gt;
+
   &lt;p&gt;Certain algorithms in this specification &lt;dfn title=&quot;feed the parser&quot;&gt;spoon-feed the
   parser&lt;/dfn&gt; characters one string at a time. In such cases, the &lt;span&gt;XML parser&lt;/span&gt; must act
   as it would have if faced with a single string consisting of the concatenation of all those
@@ -104402,7 +104955,9 @@
   syntax&lt;/span&gt;, then it is an &lt;span title=&quot;XML documents&quot;&gt;XML document&lt;/span&gt;.&lt;/p&gt;
 
 
+&lt;!--//HTMLPARSER--&gt;
 
+
   &lt;h3&gt;Serializing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn&gt;XML fragment serialization algorithm&lt;/dfn&gt; for a
@@ -104422,13 +104977,28 @@
 
   &lt;p&gt;In both cases, the string returned must be XML
   namespace-well-formed and must be an isomorphic serialization of all
-  of that node's child nodes, in &lt;span&gt;tree order&lt;/span&gt;. User agents
+  of that node's &lt;span&gt;relevant child nodes&lt;/span&gt;, in &lt;span&gt;tree order&lt;/span&gt;. User agents
   may adjust prefixes and namespace declarations in the serialization
   (and indeed might be forced to do so in some cases to obtain
   namespace-well-formed XML). User agents may use a combination of
   regular text and character references to represent
   &lt;code&gt;Text&lt;/code&gt; nodes in the DOM.&lt;/p&gt;
 
+  &lt;p&gt;A node's &lt;dfn&gt;relevant child nodes&lt;/dfn&gt; are those that apply given the following rules:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;For &lt;code&gt;template&lt;/code&gt; elements&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;span&gt;relevant child nodes&lt;/span&gt; are the child nodes of the &lt;code&gt;template&lt;/code&gt;
+   element's &lt;span&gt;template contents&lt;/span&gt;, if any.&lt;/dd&gt;
+
+   &lt;dt&gt;For all other nodes&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;span&gt;relevant child nodes&lt;/span&gt; are the child nodes of node itself, if any.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
   &lt;p&gt;For &lt;code&gt;Element&lt;/code&gt;s, if any of the elements in the
   serialization are in no namespace, the default namespace in scope
   for those elements must be explicitly declared as the empty
@@ -104724,7 +105294,7 @@
 
 [hidden], area, base, basefont, datalist, head, input[type=hidden i],
 link, menu[type=popup i], meta, noembed, noframes, param, rp, script,
-source, style, track, title {
+source, style, template, track, title {
   display: none;
 }
 
@@ -110313,7 +110883,8 @@
      &lt;th&gt;&lt;code&gt;base&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Base URL and default target &lt;span&gt;browsing context&lt;/span&gt; for &lt;span title=&quot;attr-hyperlink-target&quot;&gt;hyperlinks&lt;/span&gt; and &lt;span title=&quot;attr-fs-target&quot;&gt;forms&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Metadata content&quot;&gt;metadata&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;head&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;head&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-base-href&quot;&gt;href&lt;/code&gt;;
@@ -110435,7 +111006,8 @@
      &lt;th&gt;&lt;code&gt;caption&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table caption&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableCaptionElement&lt;/code&gt;&lt;/td&gt;
@@ -110467,7 +111039,8 @@
      &lt;th&gt;&lt;code&gt;col&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table column&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;colgroup&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;colgroup&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-col-span&quot;&gt;span&lt;/code&gt;&lt;/td&gt;
@@ -110478,34 +111051,16 @@
      &lt;th&gt;&lt;code&gt;colgroup&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of columns in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;col&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;col&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-colgroup-span&quot;&gt;span&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableColElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
 
     &lt;tr&gt;
-     &lt;th&gt;&lt;code&gt;menuitem&lt;/code&gt;&lt;/th&gt;
-     &lt;td&gt;Menu command&lt;/td&gt;
-     &lt;td&gt;&lt;span title=&quot;Metadata content&quot;&gt;metadata&lt;/span&gt;;
-         &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
-         &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;head&lt;/code&gt;;
-         &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;empty&lt;/td&gt;
-     &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
-         &lt;code title=&quot;attr-menuitem-type&quot;&gt;type&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-label&quot;&gt;label&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-icon&quot;&gt;icon&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-disabled&quot;&gt;disabled&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-checked&quot;&gt;checked&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-radiogroup&quot;&gt;radiogroup&lt;/code&gt;;
-         &lt;code title=&quot;attr-menuitem-command&quot;&gt;command&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;HTMLMenuItemElement&lt;/code&gt;&lt;/td&gt;
-    &lt;/tr&gt;
-
-    &lt;tr&gt;
      &lt;th&gt;&lt;code&gt;data&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Machine-readable equivalent&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
@@ -110533,7 +111088,8 @@
      &lt;th&gt;&lt;code&gt;dd&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Content for corresponding &lt;code&gt;dt&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;dl&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;dl&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
@@ -110582,10 +111138,8 @@
      &lt;td&gt;Dialog box or window&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
          &lt;span title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;dt&lt;/code&gt;;
-         &lt;code&gt;th&lt;/code&gt;;
-         &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLDialogElement&lt;/code&gt;&lt;/td&gt;
@@ -110607,7 +111161,8 @@
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;dt&lt;/code&gt;*;
-         &lt;code&gt;dd&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;dd&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLDListElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -110616,7 +111171,8 @@
      &lt;th&gt;&lt;code&gt;dt&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Legend for corresponding &lt;code&gt;dd&lt;/code&gt; element(s)&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;dl&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;dl&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
@@ -110672,7 +111228,8 @@
      &lt;th&gt;&lt;code&gt;figcaption&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;figure&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;figure&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;figure&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
@@ -110756,7 +111313,7 @@
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
          &lt;span title=&quot;Heading content&quot;&gt;heading&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;One or more &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;, and &lt;code&gt;h6&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;One or more &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;, &lt;code&gt;h6&lt;/code&gt;, and &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -110949,7 +111506,8 @@
      &lt;th&gt;&lt;code&gt;legend&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Caption for &lt;code&gt;fieldset&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;fieldset&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;fieldset&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLLegendElement&lt;/code&gt;&lt;/td&gt;
@@ -110959,7 +111517,10 @@
      &lt;th&gt;&lt;code&gt;li&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;List item&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;ol&lt;/code&gt;; &lt;code&gt;ul&lt;/code&gt;; &lt;code&gt;menu&lt;/code&gt;*&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;ol&lt;/code&gt;;
+         &lt;code&gt;ul&lt;/code&gt;;
+         &lt;code&gt;menu&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-li-value&quot;&gt;value&lt;/code&gt;*&lt;/td&gt;
@@ -110973,6 +111534,7 @@
          &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*;
          &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;head&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;;
          &lt;code&gt;noscript&lt;/code&gt;*;
          &lt;span title=&quot;phrasing content&quot;&gt;phrasing&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -111031,7 +111593,8 @@
          &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*;
          &lt;code&gt;menuitem&lt;/code&gt;*;
          &lt;code&gt;hr&lt;/code&gt;*;
-         &lt;code&gt;menu&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;menu&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-menu-type&quot;&gt;type&lt;/code&gt;;
          &lt;code title=&quot;attr-menu-label&quot;&gt;label&lt;/code&gt;&lt;/td&gt;
@@ -111039,12 +111602,31 @@
     &lt;/tr&gt;
 
     &lt;tr&gt;
+     &lt;th&gt;&lt;code&gt;menuitem&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Menu command&lt;/td&gt;
+     &lt;td&gt;none&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;menu&lt;/code&gt;;     
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;empty&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
+         &lt;code title=&quot;attr-menuitem-type&quot;&gt;type&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-label&quot;&gt;label&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-icon&quot;&gt;icon&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-disabled&quot;&gt;disabled&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-checked&quot;&gt;checked&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-radiogroup&quot;&gt;radiogroup&lt;/code&gt;;
+         &lt;code title=&quot;attr-menuitem-command&quot;&gt;command&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;HTMLMenuItemElement&lt;/code&gt;&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
      &lt;th&gt;&lt;code&gt;meta&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Text metadata&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Metadata content&quot;&gt;metadata&lt;/span&gt;;
          &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*;
          &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;head&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;;
          &lt;code&gt;noscript&lt;/code&gt;*;
          &lt;span title=&quot;phrasing content&quot;&gt;phrasing&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
@@ -111092,6 +111674,7 @@
          &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
          &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;head&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;*;
          &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;varies*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
@@ -111128,7 +111711,8 @@
      &lt;td&gt;Ordered list&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;li&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;li&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-ol-reversed&quot;&gt;reversed&lt;/code&gt;;
          &lt;code title=&quot;attr-ol-start&quot;&gt;start&lt;/code&gt;;
@@ -111140,8 +111724,10 @@
      &lt;th&gt;&lt;code&gt;optgroup&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of options in a list box&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;select&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;option&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;select&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;option&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-optgroup-disabled&quot;&gt;disabled&lt;/code&gt;;
          &lt;code title=&quot;attr-optgroup-label&quot;&gt;label&lt;/code&gt;&lt;/td&gt;
@@ -111154,7 +111740,8 @@
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;select&lt;/code&gt;;
          &lt;code&gt;datalist&lt;/code&gt;;
-         &lt;code&gt;optgroup&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;optgroup&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;text content&quot;&gt;text&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-option-disabled&quot;&gt;disabled&lt;/code&gt;;
@@ -111196,7 +111783,8 @@
      &lt;th&gt;&lt;code&gt;param&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parameter for &lt;code&gt;object&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;object&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;object&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-param-name&quot;&gt;name&lt;/code&gt;;
@@ -111244,7 +111832,8 @@
      &lt;th&gt;&lt;code&gt;rp&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Parenthesis for ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;ruby&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;ruby&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
@@ -111254,7 +111843,8 @@
      &lt;th&gt;&lt;code&gt;rt&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Ruby annotation text&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;ruby&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;ruby&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt;&lt;/td&gt;
@@ -111365,7 +111955,8 @@
      &lt;td&gt;Media source for &lt;code&gt;video&lt;/code&gt; or &lt;code&gt;audio&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;video&lt;/code&gt;;
-         &lt;code&gt;audio&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;audio&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-source-src&quot;&gt;src&lt;/code&gt;;
@@ -111454,7 +112045,8 @@
          &lt;code&gt;thead&lt;/code&gt;*;
          &lt;code&gt;tbody&lt;/code&gt;*;
          &lt;code&gt;tfoot&lt;/code&gt;*;
-         &lt;code&gt;tr&lt;/code&gt;*&lt;/td&gt;
+         &lt;code&gt;tr&lt;/code&gt;*;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111463,8 +112055,10 @@
      &lt;th&gt;&lt;code&gt;tbody&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableSectionElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111473,7 +112067,8 @@
      &lt;th&gt;&lt;code&gt;td&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table cell&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Sectioning root&quot;&gt;sectioning root&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-tdth-colspan&quot;&gt;colspan&lt;/code&gt;;
@@ -111483,6 +112078,17 @@
     &lt;/tr&gt;
 
     &lt;tr&gt;
+     &lt;th&gt;&lt;code&gt;template&lt;/code&gt;&lt;/th&gt;
+     &lt;td&gt;Template&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;Metadata content&quot;&gt;metadata&lt;/span&gt;;
+         &lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
+         &lt;span title=&quot;Phrasing content&quot;&gt;phrasing&lt;/span&gt;&lt;/td&gt;
+     &lt;td colspan=2&gt;it's complicated*&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;HTMLTemplateElement&lt;/code&gt;&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
      &lt;th&gt;&lt;code&gt;textarea&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Multiline text field&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;;
@@ -111515,8 +112121,10 @@
      &lt;th&gt;&lt;code&gt;tfoot&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of footer rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableSectionElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111525,7 +112133,8 @@
      &lt;th&gt;&lt;code&gt;th&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Table header cell&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-tdth-colspan&quot;&gt;colspan&lt;/code&gt;;
@@ -111540,8 +112149,10 @@
      &lt;th&gt;&lt;code&gt;thead&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Group of heading rows in a table&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;tr&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableSectionElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111562,7 +112173,8 @@
      &lt;th&gt;&lt;code&gt;title&lt;/code&gt;&lt;/th&gt;
      &lt;td&gt;Document title&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Metadata content&quot;&gt;metadata&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;head&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;head&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;text content&quot;&gt;text&lt;/span&gt;*&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTitleElement&lt;/code&gt;&lt;/td&gt;
@@ -111575,9 +112187,11 @@
      &lt;td&gt;&lt;code&gt;table&lt;/code&gt;;
          &lt;code&gt;thead&lt;/code&gt;;
          &lt;code&gt;tbody&lt;/code&gt;;
-         &lt;code&gt;tfoot&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;tfoot&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;th&lt;/code&gt;*;
-         &lt;code&gt;td&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;td&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLTableRowElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111587,7 +112201,8 @@
      &lt;td&gt;Timed text track&lt;/td&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;audio&lt;/code&gt;;
-         &lt;code&gt;video&lt;/code&gt;&lt;/td&gt;
+         &lt;code&gt;video&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;empty&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;;
          &lt;code title=&quot;attr-track-default&quot;&gt;default&lt;/code&gt;;
@@ -111614,7 +112229,8 @@
      &lt;td&gt;List&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;Flow content&quot;&gt;flow&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code&gt;li&lt;/code&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;code&gt;li&lt;/code&gt;;
+         &lt;code&gt;template&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;global attributes&quot;&gt;globals&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code&gt;HTMLUListElement&lt;/code&gt;&lt;/td&gt;
     &lt;/tr&gt;
@@ -111703,6 +112319,7 @@
       &lt;code&gt;noscript&lt;/code&gt;;
       &lt;code&gt;script&lt;/code&gt;;
       &lt;code&gt;style&lt;/code&gt;;
+      &lt;code&gt;template&lt;/code&gt;;
       &lt;code&gt;title&lt;/code&gt;
      &lt;td&gt;
       &mdash;
@@ -111784,6 +112401,7 @@
       &lt;code&gt;sup&lt;/code&gt;;
       &lt;code&gt;svg&lt;/code&gt;;
       &lt;code&gt;table&lt;/code&gt;;
+      &lt;code&gt;template&lt;/code&gt;;
       &lt;code&gt;textarea&lt;/code&gt;;
       &lt;code&gt;time&lt;/code&gt;;
       &lt;code&gt;u&lt;/code&gt;;
@@ -111869,6 +112487,7 @@
       &lt;code&gt;sub&lt;/code&gt;;
       &lt;code&gt;sup&lt;/code&gt;;
       &lt;code&gt;svg&lt;/code&gt;;
+      &lt;code&gt;template&lt;/code&gt;;
       &lt;code&gt;textarea&lt;/code&gt;;
       &lt;code&gt;time&lt;/code&gt;;
       &lt;code&gt;u&lt;/code&gt;;
@@ -113891,6 +114510,10 @@
      &lt;td&gt; &lt;code&gt;HTMLTableDataCellElement&lt;/code&gt; : &lt;code&gt;HTMLTableCellElement&lt;/code&gt; : &lt;code&gt;HTMLElement&lt;/code&gt;
 
     &lt;tr&gt;
+     &lt;td&gt; &lt;code&gt;template&lt;/code&gt;
+     &lt;td&gt; &lt;code&gt;HTMLTemplateElement&lt;/code&gt; : &lt;code&gt;HTMLElement&lt;/code&gt;
+
+    &lt;tr&gt;
      &lt;td&gt; &lt;code&gt;textarea&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;HTMLTextAreaElement&lt;/code&gt; : &lt;code&gt;HTMLElement&lt;/code&gt;
 
@@ -114714,6 +115337,7 @@
   Adam Barth,
   Adam de Boor,
   Adam Hepton,
+  Adam Klein,
   Adam Roben,
   Addison Phillips,
   Adele Peterson,
@@ -115217,6 +115841,7 @@
   Pravir Gupta,
   &amp;#x674e;&amp;#x666e;&amp;#x541b; (Pujun Li)&lt;!-- masa jack --&gt;,
   Rachid Finge,
+  Rafael Weinstein,
   Rafa&amp;#x0142; Mi&amp;#x0142;ecki,
   Raj Doshi,
   Rajas Moonka,
@@ -115328,6 +115953,7 @@
   Tom Baker,
   Tom Pike,
   Tommy Thorsen,
+  Tony Ross,
   Travis Leithead,
   Tyler Close,
   Victor Carbune,


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014857.html">[html5] r7999 - [giow] (3) Another very risky change! Please	review! This attempts to refactor t [...]
</A></li>
	<LI>Next message: <A HREF="014859.html">[html5] r8001 - [cgiow] (3) Change the HTML parser from using 'act	as if' tokens to inlining the [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14858">[ date ]</a>
              <a href="thread.html#14858">[ thread ]</a>
              <a href="subject.html#14858">[ subject ]</a>
              <a href="author.html#14858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
