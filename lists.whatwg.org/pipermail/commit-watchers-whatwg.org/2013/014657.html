<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7799 - [giow] (1) Let human-readable attributes honour	dir=auto separately from the ele [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7799%20-%20%5Bgiow%5D%20%281%29%20Let%20human-readable%20attributes%20honour%0A%09dir%3Dauto%20separately%20from%20the%20ele%20%5B...%5D&In-Reply-To=%3C20130410212153.243031C8C07E%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014656.html">
   <LINK REL="Next"  HREF="014658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7799 - [giow] (1) Let human-readable attributes honour	dir=auto separately from the ele [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7799%20-%20%5Bgiow%5D%20%281%29%20Let%20human-readable%20attributes%20honour%0A%09dir%3Dauto%20separately%20from%20the%20ele%20%5B...%5D&In-Reply-To=%3C20130410212153.243031C8C07E%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7799 - [giow] (1) Let human-readable attributes honour	dir=auto separately from the ele [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Apr 10 14:21:53 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014656.html">[html5] r7798 - [giow] (3) Fix document.all since DOM changed out	from under us... also, ack for [...]
</A></li>
        <LI>Next message: <A HREF="014658.html">[html5] r7800 - [giow] (3) Match reality Fixing	https://www.w3.org/Bugs/Public/show_bug.cgi?id=2 [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14657">[ date ]</a>
              <a href="thread.html#14657">[ thread ]</a>
              <a href="subject.html#14657">[ subject ]</a>
              <a href="author.html#14657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-04-10 14:21:51 -0700 (Wed, 10 Apr 2013)
New Revision: 7799

Modified:
   complete.html
   index
   source
Log:
[giow] (1) Let human-readable attributes honour dir=auto separately from the element's contents.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=17829">https://www.w3.org/Bugs/Public/show_bug.cgi?id=17829</A>
Affected topics: HTML, Rendering

Modified: complete.html
===================================================================
--- complete.html	2013-04-09 21:48:38 UTC (rev 7798)
+++ complete.html	2013-04-10 21:21:51 UTC (rev 7799)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 April 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 April 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -9678,7 +9678,7 @@
                                       &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;menu&lt;/a&gt;&lt;/code&gt;,
                                       &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;optgroup&lt;/a&gt;&lt;/code&gt;,
                                       &lt;code title=attr-option-label&gt;&lt;a href=#attr-option-label&gt;option&lt;/a&gt;&lt;/code&gt;, and
-                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;label&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;track&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
    &lt;li&gt;&lt;code title=attr-lang&gt;&lt;a href=#attr-lang&gt;lang&lt;/a&gt;&lt;/code&gt; on &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt;; must be &quot;translated&quot; to match the language used in the translation&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=attr-input-placeholder&gt;&lt;a href=#attr-input-placeholder&gt;input&lt;/a&gt;&lt;/code&gt; and
                                             &lt;code title=attr-textarea-placeholder&gt;&lt;a href=#attr-textarea-placeholder&gt;textarea&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
@@ -9769,7 +9769,7 @@
 
   &lt;/dl&gt;&lt;p&gt;The attribute has no &lt;i&gt;invalid value default&lt;/i&gt; and no &lt;i&gt;missing value default&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p&gt;&lt;dfn id=the-directionality&gt;The directionality&lt;/dfn&gt; of an element (any element, not just an &lt;a href=#html-elements title=&quot;HTML
+  &lt;hr&gt;&lt;p&gt;&lt;dfn id=the-directionality&gt;The directionality&lt;/dfn&gt; of an element (any element, not just an &lt;a href=#html-elements title=&quot;HTML
   elements&quot;&gt;HTML element&lt;/a&gt;) is either '&lt;dfn id=concept-ltr title=concept-ltr&gt;ltr&lt;/dfn&gt;' or '&lt;dfn id=concept-rtl title=concept-rtl&gt;rtl&lt;/dfn&gt;', and is determined as per the first appropriate set of steps from
   the following list:&lt;/p&gt;
 
@@ -9854,7 +9854,47 @@
   directionality&quot;&gt;directionality&lt;/a&gt; from their parent element, or, if they don't have one,
   default to '&lt;a href=#concept-ltr title=concept-ltr&gt;ltr&lt;/a&gt;'.&lt;/p&gt;
 
-  &lt;p&gt;The effect of this attribute is primarily on the presentation layer. For example, the rendering
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=directionality-of-the-attribute title=&quot;directionality of the attribute&quot;&gt;directionality of an attribute&lt;/dfn&gt; of an
+  &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt;, which is used when the text of that attribute is
+  to be included in the rendering in some manner, is determined as per the first appropriate set of
+  steps from the following list:&lt;/p&gt;
+
+  &lt;dl class=switch&gt;&lt;dt&gt;If the attribute is a &lt;a href=#directionality-capable-attribute&gt;directionality-capable attribute&lt;/a&gt; and the element's &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#attr-dir-auto-state title=attr-dir-auto-state&gt;auto&lt;/a&gt;
+   state&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Find the first character (in logical order) of the attribute's value that is of bidirectional
+    character type L, AL, or R. &lt;a href=#refsBIDI&gt;[BIDI]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If such a character is found and it is of bidirectional character type AL or R,
+    &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is '&lt;a href=#concept-rtl title=concept-rtl&gt;rtl&lt;/a&gt;'.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is '&lt;a href=#concept-ltr title=concept-ltr&gt;ltr&lt;/a&gt;'.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is the same as &lt;a href=#the-directionality title=&quot;the
+   directionality&quot;&gt;the element's directionality&lt;/a&gt;.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;The following attributes are &lt;dfn id=directionality-capable-attribute title=&quot;directionality-capable attribute&quot;&gt;directionality-capable attributes&lt;/dfn&gt;:&lt;/p&gt;
+
+  &lt;ul class=brief&gt;&lt;li&gt;&lt;code title=attr-th-abbr&gt;&lt;a href=#attr-th-abbr&gt;abbr&lt;/a&gt;&lt;/code&gt; on &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;alt&lt;/code&gt; on &lt;code title=attr-area-alt&gt;&lt;a href=#attr-area-alt&gt;area&lt;/a&gt;&lt;/code&gt;,
+                                    &lt;code title=attr-img-alt&gt;&lt;a href=#attr-img-alt&gt;img&lt;/a&gt;&lt;/code&gt;, and
+                                    &lt;code title=attr-input-alt&gt;&lt;a href=#attr-input-alt&gt;input&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; on &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements, if the &lt;code title=attr-meta-name&gt;&lt;a href=#attr-meta-name&gt;name&lt;/a&gt;&lt;/code&gt; attribute specifies a metadata name whose value is primarily intended to be human-readable rather than machine-readable&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;label&lt;/code&gt; on &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;menuitem&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;menu&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;optgroup&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-option-label&gt;&lt;a href=#attr-option-label&gt;option&lt;/a&gt;&lt;/code&gt;, and
+                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;track&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=attr-input-placeholder&gt;&lt;a href=#attr-input-placeholder&gt;input&lt;/a&gt;&lt;/code&gt; and
+                                            &lt;code title=attr-textarea-placeholder&gt;&lt;a href=#attr-textarea-placeholder&gt;textarea&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; on all &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; elements&lt;/li&gt;
+  &lt;/ul&gt;&lt;hr&gt;&lt;p&gt;The effect of this attribute is primarily on the presentation layer. For example, the rendering
   section in this specification defines a mapping from this attribute to the CSS 'direction' and
   'unicode-bidi' properties, and CSS defines rendering in terms of those properties.&lt;/p&gt;
 
@@ -24539,7 +24579,7 @@
    &lt;li&gt;&lt;p&gt;Unset &lt;var title=&quot;&quot;&gt;child document&lt;/var&gt;'s &lt;a href=#iframe-load-in-progress&gt;iframe load in progress&lt;/a&gt;
    flag.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=warning&gt;This, in conjunction with scriptingy, can be used to probe the URL space of the
+  &lt;/ol&gt;&lt;p class=warning&gt;This, in conjunction with scripting, can be used to probe the URL space of the
   local network's HTTP servers. User agents may implement &lt;a href=#origin title=origin&gt;cross-origin&lt;/a&gt;
   access control policies that are stricter than those described above to mitigate this attack, but
   unfortunately such policies are typically not compatible with existing Web content.&lt;/p&gt;
@@ -95415,10 +95455,10 @@
   &lt;p&gt;User agents are expected to honor the Unicode semantics of text
   that is exposed in user interfaces, for example supporting the
   bidirectional algorithm in text shown in dialogs, title bars, pop-up
-  menus, and tooltips. Text from elements (either attribute values or
-  the contents of elements) is expected to be rendered in a manner
+  menus, and tooltips. Text from the contents of elements is expected to be rendered in a manner
   that honors &lt;a href=#the-directionality&gt;the directionality&lt;/a&gt; of the element from
-  which the text was obtained.&lt;/p&gt;
+  which the text was obtained. Text from attributes is expected to
+  be rendered in a manner that honours the &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt;.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -95449,6 +95489,41 @@
 
   &lt;/div&gt;
 
+  &lt;div class=example&gt;
+
+   &lt;p&gt;The directionality of attributes depends on the attribute and on the element's &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; attribute, as the following example demonstrates. Consider this
+   markup:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th abbr=&quot;(&#1488;&quot; dir=ltr&gt;A
+  &lt;th abbr=&quot;(&#1488;&quot; dir=rtl&gt;A
+  &lt;th abbr=&quot;(&#1488;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;If the &lt;code title=attr-th-abbr&gt;&lt;a href=#attr-th-abbr&gt;abbr&lt;/a&gt;&lt;/code&gt; attributes are rendered, e.g. in a tooltip or
+   other user interface, the first will have a left parenthesis (because the direction is 'ltr'),
+   the second will have a right parenthesis (because the direction is 'rtl'), and the third will
+   have a right parenthesis (because the direction is determined &lt;em&gt;from the attribute value&lt;/em&gt;
+   to be 'rtl').&lt;/p&gt;
+
+   &lt;p&gt;However, if instead the attribute was not a &lt;a href=#directionality-capable-attribute&gt;directionality-capable attribute&lt;/a&gt;, the
+   results would be different:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=ltr&gt;A
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=rtl&gt;A
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;In this case, if the user agent were to expose the &lt;code title=&quot;&quot;&gt;data-abbr&lt;/code&gt; attribute
+   in the user interface (e.g. in a debugging environment), the last case would be rendered with a
+   &lt;em&gt;left&lt;/em&gt; parenthesis, because the direction would be determined from the element's
+   contents.&lt;/p&gt;
+
+  &lt;/div&gt;
+
   &lt;p&gt;A string provided by a script (e.g. the argument to &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt;) is expected to be treated
   as an independent set of one or more bidirectional algorithm
   paragraphs when displayed, as defined by the bidirectional

Modified: index
===================================================================
--- index	2013-04-09 21:48:38 UTC (rev 7798)
+++ index	2013-04-10 21:21:51 UTC (rev 7799)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 April 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 April 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -9678,7 +9678,7 @@
                                       &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;menu&lt;/a&gt;&lt;/code&gt;,
                                       &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;optgroup&lt;/a&gt;&lt;/code&gt;,
                                       &lt;code title=attr-option-label&gt;&lt;a href=#attr-option-label&gt;option&lt;/a&gt;&lt;/code&gt;, and
-                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;label&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;track&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
    &lt;li&gt;&lt;code title=attr-lang&gt;&lt;a href=#attr-lang&gt;lang&lt;/a&gt;&lt;/code&gt; on &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt;; must be &quot;translated&quot; to match the language used in the translation&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=attr-input-placeholder&gt;&lt;a href=#attr-input-placeholder&gt;input&lt;/a&gt;&lt;/code&gt; and
                                             &lt;code title=attr-textarea-placeholder&gt;&lt;a href=#attr-textarea-placeholder&gt;textarea&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
@@ -9769,7 +9769,7 @@
 
   &lt;/dl&gt;&lt;p&gt;The attribute has no &lt;i&gt;invalid value default&lt;/i&gt; and no &lt;i&gt;missing value default&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p&gt;&lt;dfn id=the-directionality&gt;The directionality&lt;/dfn&gt; of an element (any element, not just an &lt;a href=#html-elements title=&quot;HTML
+  &lt;hr&gt;&lt;p&gt;&lt;dfn id=the-directionality&gt;The directionality&lt;/dfn&gt; of an element (any element, not just an &lt;a href=#html-elements title=&quot;HTML
   elements&quot;&gt;HTML element&lt;/a&gt;) is either '&lt;dfn id=concept-ltr title=concept-ltr&gt;ltr&lt;/dfn&gt;' or '&lt;dfn id=concept-rtl title=concept-rtl&gt;rtl&lt;/dfn&gt;', and is determined as per the first appropriate set of steps from
   the following list:&lt;/p&gt;
 
@@ -9854,7 +9854,47 @@
   directionality&quot;&gt;directionality&lt;/a&gt; from their parent element, or, if they don't have one,
   default to '&lt;a href=#concept-ltr title=concept-ltr&gt;ltr&lt;/a&gt;'.&lt;/p&gt;
 
-  &lt;p&gt;The effect of this attribute is primarily on the presentation layer. For example, the rendering
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=directionality-of-the-attribute title=&quot;directionality of the attribute&quot;&gt;directionality of an attribute&lt;/dfn&gt; of an
+  &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt;, which is used when the text of that attribute is
+  to be included in the rendering in some manner, is determined as per the first appropriate set of
+  steps from the following list:&lt;/p&gt;
+
+  &lt;dl class=switch&gt;&lt;dt&gt;If the attribute is a &lt;a href=#directionality-capable-attribute&gt;directionality-capable attribute&lt;/a&gt; and the element's &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#attr-dir-auto-state title=attr-dir-auto-state&gt;auto&lt;/a&gt;
+   state&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Find the first character (in logical order) of the attribute's value that is of bidirectional
+    character type L, AL, or R. &lt;a href=#refsBIDI&gt;[BIDI]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If such a character is found and it is of bidirectional character type AL or R,
+    &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is '&lt;a href=#concept-rtl title=concept-rtl&gt;rtl&lt;/a&gt;'.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is '&lt;a href=#concept-ltr title=concept-ltr&gt;ltr&lt;/a&gt;'.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt; is the same as &lt;a href=#the-directionality title=&quot;the
+   directionality&quot;&gt;the element's directionality&lt;/a&gt;.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;The following attributes are &lt;dfn id=directionality-capable-attribute title=&quot;directionality-capable attribute&quot;&gt;directionality-capable attributes&lt;/dfn&gt;:&lt;/p&gt;
+
+  &lt;ul class=brief&gt;&lt;li&gt;&lt;code title=attr-th-abbr&gt;&lt;a href=#attr-th-abbr&gt;abbr&lt;/a&gt;&lt;/code&gt; on &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;alt&lt;/code&gt; on &lt;code title=attr-area-alt&gt;&lt;a href=#attr-area-alt&gt;area&lt;/a&gt;&lt;/code&gt;,
+                                    &lt;code title=attr-img-alt&gt;&lt;a href=#attr-img-alt&gt;img&lt;/a&gt;&lt;/code&gt;, and
+                                    &lt;code title=attr-input-alt&gt;&lt;a href=#attr-input-alt&gt;input&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; on &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements, if the &lt;code title=attr-meta-name&gt;&lt;a href=#attr-meta-name&gt;name&lt;/a&gt;&lt;/code&gt; attribute specifies a metadata name whose value is primarily intended to be human-readable rather than machine-readable&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;label&lt;/code&gt; on &lt;code title=attr-menuitem-label&gt;&lt;a href=#attr-menuitem-label&gt;menuitem&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;menu&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-optgroup-label&gt;&lt;a href=#attr-optgroup-label&gt;optgroup&lt;/a&gt;&lt;/code&gt;,
+                                      &lt;code title=attr-option-label&gt;&lt;a href=#attr-option-label&gt;option&lt;/a&gt;&lt;/code&gt;, and
+                                      &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;track&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=attr-input-placeholder&gt;&lt;a href=#attr-input-placeholder&gt;input&lt;/a&gt;&lt;/code&gt; and
+                                            &lt;code title=attr-textarea-placeholder&gt;&lt;a href=#attr-textarea-placeholder&gt;textarea&lt;/a&gt;&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; on all &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; elements&lt;/li&gt;
+  &lt;/ul&gt;&lt;hr&gt;&lt;p&gt;The effect of this attribute is primarily on the presentation layer. For example, the rendering
   section in this specification defines a mapping from this attribute to the CSS 'direction' and
   'unicode-bidi' properties, and CSS defines rendering in terms of those properties.&lt;/p&gt;
 
@@ -24539,7 +24579,7 @@
    &lt;li&gt;&lt;p&gt;Unset &lt;var title=&quot;&quot;&gt;child document&lt;/var&gt;'s &lt;a href=#iframe-load-in-progress&gt;iframe load in progress&lt;/a&gt;
    flag.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=warning&gt;This, in conjunction with scriptingy, can be used to probe the URL space of the
+  &lt;/ol&gt;&lt;p class=warning&gt;This, in conjunction with scripting, can be used to probe the URL space of the
   local network's HTTP servers. User agents may implement &lt;a href=#origin title=origin&gt;cross-origin&lt;/a&gt;
   access control policies that are stricter than those described above to mitigate this attack, but
   unfortunately such policies are typically not compatible with existing Web content.&lt;/p&gt;
@@ -95415,10 +95455,10 @@
   &lt;p&gt;User agents are expected to honor the Unicode semantics of text
   that is exposed in user interfaces, for example supporting the
   bidirectional algorithm in text shown in dialogs, title bars, pop-up
-  menus, and tooltips. Text from elements (either attribute values or
-  the contents of elements) is expected to be rendered in a manner
+  menus, and tooltips. Text from the contents of elements is expected to be rendered in a manner
   that honors &lt;a href=#the-directionality&gt;the directionality&lt;/a&gt; of the element from
-  which the text was obtained.&lt;/p&gt;
+  which the text was obtained. Text from attributes is expected to
+  be rendered in a manner that honours the &lt;a href=#directionality-of-the-attribute&gt;directionality of the attribute&lt;/a&gt;.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -95449,6 +95489,41 @@
 
   &lt;/div&gt;
 
+  &lt;div class=example&gt;
+
+   &lt;p&gt;The directionality of attributes depends on the attribute and on the element's &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; attribute, as the following example demonstrates. Consider this
+   markup:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th abbr=&quot;(&#1488;&quot; dir=ltr&gt;A
+  &lt;th abbr=&quot;(&#1488;&quot; dir=rtl&gt;A
+  &lt;th abbr=&quot;(&#1488;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;If the &lt;code title=attr-th-abbr&gt;&lt;a href=#attr-th-abbr&gt;abbr&lt;/a&gt;&lt;/code&gt; attributes are rendered, e.g. in a tooltip or
+   other user interface, the first will have a left parenthesis (because the direction is 'ltr'),
+   the second will have a right parenthesis (because the direction is 'rtl'), and the third will
+   have a right parenthesis (because the direction is determined &lt;em&gt;from the attribute value&lt;/em&gt;
+   to be 'rtl').&lt;/p&gt;
+
+   &lt;p&gt;However, if instead the attribute was not a &lt;a href=#directionality-capable-attribute&gt;directionality-capable attribute&lt;/a&gt;, the
+   results would be different:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=ltr&gt;A
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=rtl&gt;A
+  &lt;th data-abbr=&quot;(&#1488;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;In this case, if the user agent were to expose the &lt;code title=&quot;&quot;&gt;data-abbr&lt;/code&gt; attribute
+   in the user interface (e.g. in a debugging environment), the last case would be rendered with a
+   &lt;em&gt;left&lt;/em&gt; parenthesis, because the direction would be determined from the element's
+   contents.&lt;/p&gt;
+
+  &lt;/div&gt;
+
   &lt;p&gt;A string provided by a script (e.g. the argument to &lt;code title=dom-alert&gt;&lt;a href=#dom-alert&gt;window.alert()&lt;/a&gt;&lt;/code&gt;) is expected to be treated
   as an independent set of one or more bidirectional algorithm
   paragraphs when displayed, as defined by the bidirectional

Modified: source
===================================================================
--- source	2013-04-09 21:48:38 UTC (rev 7798)
+++ source	2013-04-10 21:21:51 UTC (rev 7799)
@@ -9592,7 +9592,7 @@
                                       &lt;code title=&quot;attr-menu-label&quot;&gt;menu&lt;/code&gt;,
                                       &lt;code title=&quot;attr-optgroup-label&quot;&gt;optgroup&lt;/code&gt;,
                                       &lt;code title=&quot;attr-option-label&quot;&gt;option&lt;/code&gt;, and
-                                      &lt;code title=&quot;attr-track-label&quot;&gt;label&lt;/code&gt; elements&lt;/li&gt;
+                                      &lt;code title=&quot;attr-track-label&quot;&gt;track&lt;/code&gt; elements&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;attr-lang&quot;&gt;lang&lt;/code&gt; on &lt;span&gt;HTML elements&lt;/span&gt;; must be &quot;translated&quot; to match the language used in the translation&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=&quot;attr-input-placeholder&quot;&gt;input&lt;/code&gt; and
                                             &lt;code title=&quot;attr-textarea-placeholder&quot;&gt;textarea&lt;/code&gt; elements&lt;/li&gt;
@@ -9695,6 +9695,8 @@
 
   &lt;p&gt;The attribute has no &lt;i&gt;invalid value default&lt;/i&gt; and no &lt;i&gt;missing value default&lt;/i&gt;.&lt;/p&gt;
 
+  &lt;hr&gt;
+
   &lt;p&gt;&lt;dfn&gt;The directionality&lt;/dfn&gt; of an element (any element, not just an &lt;span title=&quot;HTML
   elements&quot;&gt;HTML element&lt;/span&gt;) is either '&lt;dfn title=&quot;concept-ltr&quot;&gt;ltr&lt;/dfn&gt;' or '&lt;dfn
   title=&quot;concept-rtl&quot;&gt;rtl&lt;/dfn&gt;', and is determined as per the first appropriate set of steps from
@@ -9810,6 +9812,59 @@
   directionality&quot;&gt;directionality&lt;/span&gt; from their parent element, or, if they don't have one,
   default to '&lt;span title=&quot;concept-ltr&quot;&gt;ltr&lt;/span&gt;'.&lt;/p&gt;
 
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;directionality of the attribute&quot;&gt;directionality of an attribute&lt;/dfn&gt; of an
+  &lt;span title=&quot;HTML elements&quot;&gt;HTML element&lt;/span&gt;, which is used when the text of that attribute is
+  to be included in the rendering in some manner, is determined as per the first appropriate set of
+  steps from the following list:&lt;/p&gt;
+
+  &lt;dl class=&quot;switch&quot;&gt;
+
+   &lt;dt&gt;If the attribute is a &lt;span&gt;directionality-capable attribute&lt;/span&gt; and the element's &lt;code
+   title=&quot;attr-dir&quot;&gt;dir&lt;/code&gt; attribute is in the &lt;span title=&quot;attr-dir-auto-state&quot;&gt;auto&lt;/span&gt;
+   state&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Find the first character (in logical order) of the attribute's value that is of bidirectional
+    character type L, AL, or R. &lt;a href=&quot;#refsBIDI&quot;&gt;[BIDI]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If such a character is found and it is of bidirectional character type AL or R,
+    &lt;span&gt;directionality of the attribute&lt;/span&gt; is '&lt;span title=&quot;concept-rtl&quot;&gt;rtl&lt;/span&gt;'.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;span&gt;directionality of the attribute&lt;/span&gt; is '&lt;span
+    title=&quot;concept-ltr&quot;&gt;ltr&lt;/span&gt;'.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;span&gt;directionality of the attribute&lt;/span&gt; is the same as &lt;span title=&quot;the
+   directionality&quot;&gt;the element's directionality&lt;/span&gt;.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;p&gt;The following attributes are &lt;dfn title=&quot;directionality-capable attribute&quot;&gt;directionality-capable attributes&lt;/dfn&gt;:&lt;/p&gt;
+
+  &lt;ul class=&quot;brief&quot;&gt;
+   &lt;li&gt;&lt;code title=&quot;attr-th-abbr&quot;&gt;abbr&lt;/code&gt; on &lt;code&gt;th&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;alt&lt;/code&gt; on &lt;code title=&quot;attr-area-alt&quot;&gt;area&lt;/code&gt;,
+                                    &lt;code title=&quot;attr-img-alt&quot;&gt;img&lt;/code&gt;, and
+                                    &lt;code title=&quot;attr-input-alt&quot;&gt;input&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;attr-meta-content&quot;&gt;content&lt;/code&gt; on &lt;code&gt;meta&lt;/code&gt; elements, if the &lt;code title=&quot;attr-meta-name&quot;&gt;name&lt;/code&gt; attribute specifies a metadata name whose value is primarily intended to be human-readable rather than machine-readable&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;label&lt;/code&gt; on &lt;code title=&quot;attr-menuitem-label&quot;&gt;menuitem&lt;/code&gt;,
+                                      &lt;code title=&quot;attr-menu-label&quot;&gt;menu&lt;/code&gt;,
+                                      &lt;code title=&quot;attr-optgroup-label&quot;&gt;optgroup&lt;/code&gt;,
+                                      &lt;code title=&quot;attr-option-label&quot;&gt;option&lt;/code&gt;, and
+                                      &lt;code title=&quot;attr-track-label&quot;&gt;track&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;placeholder&lt;/code&gt; on &lt;code title=&quot;attr-input-placeholder&quot;&gt;input&lt;/code&gt; and
+                                            &lt;code title=&quot;attr-textarea-placeholder&quot;&gt;textarea&lt;/code&gt; elements&lt;/li&gt;
+   &lt;li&gt;&lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt; on all &lt;span&gt;HTML elements&lt;/span&gt; elements&lt;/li&gt;
+  &lt;/ul&gt;
+
+  &lt;hr&gt;
+
   &lt;p&gt;The effect of this attribute is primarily on the presentation layer. For example, the rendering
   section in this specification defines a mapping from this attribute to the CSS 'direction' and
   'unicode-bidi' properties, and CSS defines rendering in terms of those properties.&lt;/p&gt;
@@ -25785,7 +25840,7 @@
 
   &lt;/ol&gt;
 
-  &lt;p class=&quot;warning&quot;&gt;This, in conjunction with scriptingy, can be used to probe the URL space of the
+  &lt;p class=&quot;warning&quot;&gt;This, in conjunction with scripting, can be used to probe the URL space of the
   local network's HTTP servers. User agents may implement &lt;span title=&quot;origin&quot;&gt;cross-origin&lt;/span&gt;
   access control policies that are stricter than those described above to mitigate this attack, but
   unfortunately such policies are typically not compatible with existing Web content.&lt;/p&gt;
@@ -111085,10 +111140,10 @@
   &lt;p&gt;User agents are expected to honor the Unicode semantics of text
   that is exposed in user interfaces, for example supporting the
   bidirectional algorithm in text shown in dialogs, title bars, pop-up
-  menus, and tooltips. Text from elements (either attribute values or
-  the contents of elements) is expected to be rendered in a manner
+  menus, and tooltips. Text from the contents of elements is expected to be rendered in a manner
   that honors &lt;span&gt;the directionality&lt;/span&gt; of the element from
-  which the text was obtained.&lt;/p&gt;
+  which the text was obtained. Text from attributes is expected to
+  be rendered in a manner that honours the &lt;span&gt;directionality of the attribute&lt;/span&gt;.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
@@ -111120,6 +111175,42 @@
 
   &lt;/div&gt;
 
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;The directionality of attributes depends on the attribute and on the element's &lt;code
+   title=&quot;attr-dir&quot;&gt;dir&lt;/code&gt; attribute, as the following example demonstrates. Consider this
+   markup:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th abbr=&quot;(&amp;#x05D0;&quot; dir=ltr&gt;A
+  &lt;th abbr=&quot;(&amp;#x05D0;&quot; dir=rtl&gt;A
+  &lt;th abbr=&quot;(&amp;#x05D0;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;If the &lt;code title=&quot;attr-th-abbr&quot;&gt;abbr&lt;/code&gt; attributes are rendered, e.g. in a tooltip or
+   other user interface, the first will have a left parenthesis (because the direction is 'ltr'),
+   the second will have a right parenthesis (because the direction is 'rtl'), and the third will
+   have a right parenthesis (because the direction is determined &lt;em&gt;from the attribute value&lt;/em&gt;
+   to be 'rtl').&lt;/p&gt;
+
+   &lt;p&gt;However, if instead the attribute was not a &lt;span&gt;directionality-capable attribute&lt;/span&gt;, the
+   results would be different:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;bdo dir=ltr&gt;&lt;table&gt;
+ &lt;tr&gt;
+  &lt;th data-abbr=&quot;(&amp;#x05D0;&quot; dir=ltr&gt;A
+  &lt;th data-abbr=&quot;(&amp;#x05D0;&quot; dir=rtl&gt;A
+  &lt;th data-abbr=&quot;(&amp;#x05D0;&quot; dir=auto&gt;A
+&lt;/table&gt;&lt;/bdo&gt;&lt;/pre&gt;
+
+   &lt;p&gt;In this case, if the user agent were to expose the &lt;code title=&quot;&quot;&gt;data-abbr&lt;/code&gt; attribute
+   in the user interface (e.g. in a debugging environment), the last case would be rendered with a
+   &lt;em&gt;left&lt;/em&gt; parenthesis, because the direction would be determined from the element's
+   contents.&lt;/p&gt;
+
+  &lt;/div&gt;
+
   &lt;p&gt;A string provided by a script (e.g. the argument to &lt;code
   title=&quot;dom-alert&quot;&gt;window.alert()&lt;/code&gt;) is expected to be treated
   as an independent set of one or more bidirectional algorithm


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014656.html">[html5] r7798 - [giow] (3) Fix document.all since DOM changed out	from under us... also, ack for [...]
</A></li>
	<LI>Next message: <A HREF="014658.html">[html5] r7800 - [giow] (3) Match reality Fixing	https://www.w3.org/Bugs/Public/show_bug.cgi?id=2 [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14657">[ date ]</a>
              <a href="thread.html#14657">[ thread ]</a>
              <a href="subject.html#14657">[ subject ]</a>
              <a href="author.html#14657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
