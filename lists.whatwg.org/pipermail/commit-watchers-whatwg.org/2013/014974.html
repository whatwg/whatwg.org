<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8118 - [e] (0) Cleanup Affected topics: DOM APIs, HTML,	HTML Syntax and Parsing, Securi [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8118%20-%20%5Be%5D%20%280%29%20Cleanup%20Affected%20topics%3A%20DOM%20APIs%2C%20HTML%2C%0A%09HTML%20Syntax%20and%20Parsing%2C%20Securi%20%5B...%5D&In-Reply-To=%3C20130801204407.ECCA1F3E001A%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014973.html">
   <LINK REL="Next"  HREF="014975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8118 - [e] (0) Cleanup Affected topics: DOM APIs, HTML,	HTML Syntax and Parsing, Securi [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8118%20-%20%5Be%5D%20%280%29%20Cleanup%20Affected%20topics%3A%20DOM%20APIs%2C%20HTML%2C%0A%09HTML%20Syntax%20and%20Parsing%2C%20Securi%20%5B...%5D&In-Reply-To=%3C20130801204407.ECCA1F3E001A%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8118 - [e] (0) Cleanup Affected topics: DOM APIs, HTML,	HTML Syntax and Parsing, Securi [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Aug  1 13:44:07 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014973.html">[html5] r8117 - [e] (0) Factor out 'insert an HTML element' and	'insert a foreign element', sinc [...]
</A></li>
        <LI>Next message: <A HREF="014975.html">[html5] r8119 - [e] (0) Mark parts of the spec that are affected by	CSS. This adds a new topic, [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14974">[ date ]</a>
              <a href="thread.html#14974">[ thread ]</a>
              <a href="subject.html#14974">[ subject ]</a>
              <a href="author.html#14974">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-08-01 13:44:06 -0700 (Thu, 01 Aug 2013)
New Revision: 8118

Modified:
   complete.html
   index
   source
Log:
[e] (0) Cleanup
Affected topics: DOM APIs, HTML, HTML Syntax and Parsing, Security, Video and Audio, Workers

Modified: complete.html
===================================================================
--- complete.html	2013-08-01 20:22:26 UTC (rev 8117)
+++ complete.html	2013-08-01 20:44:06 UTC (rev 8118)
@@ -8687,18 +8687,15 @@
     &lt;p&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, this will throw a &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;&lt;dfn id=the-body-element-0&gt;The body element&lt;/dfn&gt; of a document is the first child of
-  &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/a&gt; that is either a
-  &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element. If
+  &lt;/dl&gt;&lt;p&gt;&lt;dfn id=the-body-element-0&gt;The body element&lt;/dfn&gt; of a document is the first child of &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt;
+  element&lt;/a&gt; that is either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element. If
   there is no such element, it is null.&lt;/p&gt;
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-body title=dom-document-body&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of
-  the document (either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, a
-  &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, or null). On setting, the following
-  algorithm must be run:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-body title=dom-document-body&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must return
+  &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of the document (either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, a
+  &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, or null). On setting, the following algorithm must be run:&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- if changes are requested:
     <A HREF="http://lxr.mozilla.org/seamonkey/source/content/html/document/src/nsHTMLDocument.cpp">http://lxr.mozilla.org/seamonkey/source/content/html/document/src/nsHTMLDocument.cpp</A>
@@ -8707,20 +8704,16 @@
     search for ::setBody
     <A HREF="http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/dom/Document.cpp">http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/dom/Document.cpp</A>
     search for ::body
-   --&gt;&lt;li&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or
-   &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, then throw a
-   &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception and abort these
-   steps.&lt;/li&gt;
+   --&gt;&lt;li&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, then throw a
+   &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if the new value is the same as &lt;a href=#the-body-element-0&gt;the body
-   element&lt;/a&gt;, do nothing. Abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if the new value is the same as &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, do nothing. Abort
+   these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; is not null, then
-   replace that element with the new value in the DOM, as if the root
-   element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had been
-   called with the new value and &lt;a href=#the-body-element-0 title=&quot;the body element&quot;&gt;the
-   incumbent body element&lt;/a&gt; as its two arguments respectively,
-   then abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; is not null, then replace that element with the
+   new value in the DOM, as if the root element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had
+   been called with the new value and &lt;a href=#the-body-element-0 title=&quot;the body element&quot;&gt;the incumbent body
+   element&lt;/a&gt; as its two arguments respectively, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Otherwise, if there is no root element, throw a &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception
    and abort these steps.&lt;/li&gt;
@@ -13429,12 +13422,12 @@
     &lt;a href=#character-encoding-declaration&gt;character encoding declaration&lt;/a&gt;. &lt;span class=impl&gt;This state's user agent
     requirements are all handled by the parsing section of the specification.&lt;/span&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;
     &lt;p&gt;For &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements with an &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt;
     attribute in the &lt;a href=#attr-meta-http-equiv-content-type title=attr-meta-http-equiv-content-type&gt;Encoding declaration
     state&lt;/a&gt;, the &lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; attribute must have a value
     that is an &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for a string that consists of: the literal
-    string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by any number of &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;, followed by the literal string &quot;&lt;code title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;a href=#encoding-label title=&quot;encoding label&quot;&gt;labels&lt;/a&gt; of the &lt;a href=#encoding title=encoding&gt;character encoding&lt;/a&gt; of the &lt;a href=#character-encoding-declaration&gt;character encoding
+    string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by any number of &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;, followed by the literal string &quot;&lt;code title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;a href=#encoding-label title=&quot;encoding label&quot;&gt;labels&lt;/a&gt; of
+    the &lt;a href=#encoding title=encoding&gt;character encoding&lt;/a&gt; of the &lt;a href=#character-encoding-declaration&gt;character encoding
     declaration&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;A document must not contain both a &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=#attr-meta-http-equiv-content-type title=attr-meta-http-equiv-content-type&gt;Encoding declaration state&lt;/a&gt; and a
@@ -25170,15 +25163,16 @@
     interfaces.&lt;/p&gt;
     &lt;/div&gt;
    &lt;/dd&gt;
-  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element provides an integration point for an external
-  (typically non-HTML) application or interactive content.&lt;/p&gt;
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element provides an integration point for an external (typically
+  non-HTML) application or interactive content.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-embed-src title=attr-embed-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute gives the address of the
   resource being embedded. The attribute, if present, must contain a &lt;a href=#valid-non-empty-url-potentially-surrounded-by-spaces&gt;valid non-empty URL
   potentially surrounded by spaces&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute is specified on an &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;
-  element, then the &lt;code title=attr-embed-src&gt;&lt;a href=#attr-embed-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute must also be specified.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute is specified on an
+  &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element, then the &lt;code title=attr-embed-src&gt;&lt;a href=#attr-embed-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute must also
+  be specified.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-embed-type title=attr-embed-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt; attribute, if present, gives the
   &lt;a href=#mime-type&gt;MIME type&lt;/a&gt; by which the plugin to instantiate is selected. The value must be a
@@ -25217,8 +25211,8 @@
 
   &lt;/ul&gt;&lt;p&gt;Whenever an &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element that was not &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; becomes &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt;, and whenever a &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element that is
   remaining &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; and has its &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;src&lt;/a&gt;&lt;/code&gt; attribute set, changed, or removed or its &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute set, changed, or removed, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; using the &lt;dfn id=embed-task-source&gt;embed task source&lt;/dfn&gt; to run
-  &lt;a href=#the-embed-element-setup-steps&gt;the &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/a&gt;.&lt;/p&gt;
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; using the &lt;dfn id=embed-task-source&gt;embed task source&lt;/dfn&gt; to run &lt;a href=#the-embed-element-setup-steps&gt;the
+  &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=the-embed-element-setup-steps&gt;The &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
 
@@ -25250,32 +25244,34 @@
         follows (stopping at the first substep that determines the type):&lt;/p&gt;
 
         &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element has a &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute, and that
-         attribute's value is a type that a &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the value of the &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
-         type&lt;/a&gt;.&lt;/li&gt;
+         attribute's value is a type that a &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the value of the
+         &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's type&lt;/a&gt;.&lt;/li&gt;
 
          &lt;li&gt;
 
           &lt;!-- if we get to this point we know we can successfully parsed the URL, since this algorithm is
           only used after fetching the resource in the steps above --&gt;
 
-          &lt;p&gt;Otherwise, if applying the &lt;a href=#url-parser&gt;URL parser&lt;/a&gt; algorithm to the &lt;a href=#url&gt;URL&lt;/a&gt; of the
-          specified resource (after any redirects) results in a &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; whose &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; component matches a pattern that a &lt;a href=#plugin&gt;plugin&lt;/a&gt;
-          supports, then the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's type&lt;/a&gt; is the type that that
-          plugin can handle.&lt;/p&gt;
+          &lt;p&gt;Otherwise, if applying the &lt;a href=#url-parser&gt;URL parser&lt;/a&gt; algorithm to the &lt;a href=#url&gt;URL&lt;/a&gt; of
+          the specified resource (after any redirects) results in a &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; whose
+          &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; component matches a pattern that a
+          &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
+          type&lt;/a&gt; is the type that that plugin can handle.&lt;/p&gt;
 
-          &lt;p class=example&gt;For example, a plugin might say that it can handle resources with &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; components that end with the four character string &quot;&lt;code title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
+          &lt;p class=example&gt;For example, a plugin might say that it can handle resources with &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; components that end with the four character string
+          &quot;&lt;code title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
 
           &lt;!-- it's sad that we have to do extension sniffing. sigh. --&gt;
           &lt;!-- see also &lt;object&gt; which has a similar step --&gt;
 
          &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;a href=#content-type title=Content-Type&gt;explicit Content-Type
-         metadata&lt;/a&gt;, then that is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
+         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;a href=#content-type title=Content-Type&gt;explicit
+         Content-Type metadata&lt;/a&gt;, then that is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
          type&lt;/a&gt;.&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;a href=#concept-embed-type title=concept-embed-type&gt;type&lt;/a&gt; and there can
-         be no appropriate &lt;a href=#plugin&gt;plugin&lt;/a&gt; for it.&lt;/li&gt;
+         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;a href=#concept-embed-type title=concept-embed-type&gt;type&lt;/a&gt; and there
+         can be no appropriate &lt;a href=#plugin&gt;plugin&lt;/a&gt; for it.&lt;/li&gt;
 
          &lt;!-- This algorithm is a monument to bad design. Go legacy! --&gt;
 
@@ -25624,11 +25620,13 @@
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code title=attr-object-type&gt;&lt;a href=#attr-object-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is present and its value is
      not a type that the user agent supports, and is not a type that the user agent can find a
-     &lt;a href=#plugin&gt;plugin&lt;/a&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt; without fetching the content to examine its real type.&lt;/li&gt;
+     &lt;a href=#plugin&gt;plugin&lt;/a&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;
+     without fetching the content to examine its real type.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt; specified by the &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute, relative to the element.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If that failed, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If that failed, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to the step below labeled
+     &lt;i&gt;fallback&lt;/i&gt;.&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -25650,10 +25648,11 @@
 
      &lt;li&gt;&lt;p&gt;If the resource is not yet available (e.g. because the resource was not available in the
      cache, so that loading the resource required making a request over the network), then jump to
-     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the
-     &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; once the resource is available must restart this algorithm
-     from this step. Resources can load incrementally; user agents may opt to consider a resource
-     &quot;available&quot; whenever enough data has been obtained to begin processing the resource.&lt;/li&gt;
+     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is
+     &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; once the
+     resource is available must restart this algorithm from this step. Resources can load
+     incrementally; user agents may opt to consider a resource &quot;available&quot; whenever enough data has
+     been obtained to begin processing the resource.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If the load failed (e.g. there was an HTTP 404 error, there was a DNS error), &lt;a href=#fire-a-simple-event&gt;fire
      a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to
@@ -25900,7 +25899,8 @@
 
         &lt;p&gt;Otherwise, the user agent should &lt;a href=#object-plugin&gt;use the plugin that supports
         &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt;&lt;/a&gt; and pass the content of the resource to that
-        &lt;a href=#plugin&gt;plugin&lt;/a&gt;. If the &lt;a href=#plugin&gt;plugin&lt;/a&gt; reports an error, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;a href=#plugin&gt;plugin&lt;/a&gt;. If the &lt;a href=#plugin&gt;plugin&lt;/a&gt; reports an error, then jump to the step
+        below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
        &lt;/dd&gt;
 
@@ -25966,7 +25966,8 @@
 
        &lt;dd&gt;
 
-        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below
+        labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
         &lt;p class=note&gt;If the previous step ended with the &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; being
         unknown, this is the case that is triggered.&lt;/p&gt;
@@ -26152,7 +26153,7 @@
   // &lt;a href=&quot;#HTMLParamElement-partial&quot;&gt;also has obsolete members&lt;/a&gt;
 };&lt;/pre&gt;
    &lt;/dd&gt;
-  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt; element defines parameters for plugins
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt; element defines parameters for plugins
   invoked by &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements. It does not &lt;a href=#represents title=represents&gt;represent&lt;/a&gt; anything on its own.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-param-name title=attr-param-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt;
@@ -27399,14 +27400,14 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-&lt;!--CLEANUP--&gt;
-  &lt;p&gt;The &lt;dfn id=dom-navigator-canplaytype title=dom-navigator-canPlayType&gt;&lt;code&gt;canPlayType(&lt;var title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn id=dom-canplaytypeenum-nil title=dom-CanPlayTypeEnum-nil&gt;the empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;
-  is &lt;a href=#a-type-that-the-user-agent-knows-it-cannot-render&gt;a type that the user agent knows it cannot render&lt;/a&gt; or is the type
-  &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn id=dom-canplaytypeenum-probably title=dom-CanPlayTypeEnum-probably&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the
-  user agent is confident that the type represents a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; that it can render
-  if used in with this &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element; and it must return &quot;&lt;dfn id=dom-canplaytypeenum-maybe title=dom-CanPlayTypeEnum-maybe&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged to return &quot;&lt;code title=dom-CanPlayTypeEnum-maybe&gt;&lt;a href=#dom-canplaytypeenum-maybe&gt;maybe&lt;/a&gt;&lt;/code&gt;&quot; unless the type can be confidently established as being supported or not.
-  Generally, a user agent should never return &quot;&lt;code title=dom-CanPlayTypeEnum-probably&gt;&lt;a href=#dom-canplaytypeenum-probably&gt;probably&lt;/a&gt;&lt;/code&gt;&quot; for a type that
-  allows the &lt;code title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-navigator-canplaytype title=dom-navigator-canPlayType&gt;&lt;code&gt;canPlayType(&lt;var title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn id=dom-canplaytypeenum-nil title=dom-CanPlayTypeEnum-nil&gt;the
+  empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;a href=#a-type-that-the-user-agent-knows-it-cannot-render&gt;a type that the user agent knows it cannot
+  render&lt;/a&gt; or is the type &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn id=dom-canplaytypeenum-probably title=dom-CanPlayTypeEnum-probably&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the user agent is confident
+  that the type represents a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; that it can render if used in with this
+  &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element; and it must return &quot;&lt;dfn id=dom-canplaytypeenum-maybe title=dom-CanPlayTypeEnum-maybe&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged
+  to return &quot;&lt;code title=dom-CanPlayTypeEnum-maybe&gt;&lt;a href=#dom-canplaytypeenum-maybe&gt;maybe&lt;/a&gt;&lt;/code&gt;&quot; unless the type can be
+  confidently established as being supported or not. Generally, a user agent should never return
+  &quot;&lt;code title=dom-CanPlayTypeEnum-probably&gt;&lt;a href=#dom-canplaytypeenum-probably&gt;probably&lt;/a&gt;&lt;/code&gt;&quot; for a type that allows the &lt;code title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -27624,7 +27625,7 @@
   algorithm). Steps in such sections are marked with &amp;#x231b;.&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
-                      (where setting it to empty is commented out) --&gt;&lt;!--CLEANUP--&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
+                      (where setting it to empty is commented out) --&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
    the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
@@ -27786,9 +27787,8 @@
      &lt;var title=&quot;&quot;&gt;absolute URL&lt;/var&gt;. If that algorithm returns without aborting &lt;em&gt;this&lt;/em&gt; one,
      then the load failed.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
-     source&lt;/a&gt;, to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt;
-     at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM
+     manipulation task source&lt;/a&gt;, to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Asynchronously &lt;a href=#await-a-stable-state&gt;await a stable state&lt;/a&gt;. The &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt;
      consists of all the remaining steps of this algorithm until the algorithm says the
@@ -27977,8 +27977,8 @@
        &lt;li&gt;&lt;p&gt;Update the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-audioTracks&gt;&lt;a href=#dom-media-audiotracks&gt;audioTracks&lt;/a&gt;&lt;/code&gt; attribute's &lt;code&gt;&lt;a href=#audiotracklist&gt;AudioTrackList&lt;/a&gt;&lt;/code&gt;
        object with the new &lt;code&gt;&lt;a href=#audiotrack&gt;AudioTrack&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-media-addtrack&gt;&lt;a href=#event-media-addtrack&gt;addtrack&lt;/a&gt;&lt;/code&gt;, that does not bubble and is not cancelable, and that
-       uses the &lt;code&gt;&lt;a href=#trackevent&gt;TrackEvent&lt;/a&gt;&lt;/code&gt; interface, with the &lt;code title=dom-TrackEvent-track&gt;&lt;a href=#dom-trackevent-track&gt;track&lt;/a&gt;&lt;/code&gt; attribute initialized to the new
+       &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-media-addtrack&gt;&lt;a href=#event-media-addtrack&gt;addtrack&lt;/a&gt;&lt;/code&gt;, that does not bubble and is not cancelable, and
+       that uses the &lt;code&gt;&lt;a href=#trackevent&gt;TrackEvent&lt;/a&gt;&lt;/code&gt; interface, with the &lt;code title=dom-TrackEvent-track&gt;&lt;a href=#dom-trackevent-track&gt;track&lt;/a&gt;&lt;/code&gt; attribute initialized to the new
        &lt;code&gt;&lt;a href=#audiotrack&gt;AudioTrack&lt;/a&gt;&lt;/code&gt; object, at this &lt;code&gt;&lt;a href=#audiotracklist&gt;AudioTrackList&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/dd&gt;
@@ -65547,8 +65547,9 @@
   &lt;p id=security-2&gt;User agents must throw a &lt;code&gt;&lt;a href=#securityerror&gt;SecurityError&lt;/a&gt;&lt;/code&gt; exception whenever any
   properties of a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object are accessed when the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; has
   an &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; that is not the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as
-  &lt;a href=#concept-document-window title=concept-document-window&gt;the &lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;,
-  with the following exceptions:&lt;/p&gt;
+  &lt;a href=#concept-document-window title=concept-document-window&gt;the &lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, with the following
+  exceptions:&lt;/p&gt;
 
   &lt;ul&gt;&lt;li&gt;The &lt;code title=dom-location&gt;&lt;a href=#dom-location&gt;location&lt;/a&gt;&lt;/code&gt; attribute
 
@@ -65577,10 +65578,11 @@
    &lt;li&gt;The &lt;a href=#dynamic-nested-browsing-context-properties&gt;dynamic nested browsing context properties&lt;/a&gt;
 
   &lt;/ul&gt;&lt;p&gt;When the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is different than
-  a &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, the
-  user agent must act as if any changes to that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's properties, getters,
-  setters, etc, were not present, and as if all the properties of that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object
-  had their [[Enumerable]] attribute set to false.&lt;/p&gt;
+  a &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, the user agent must act as if
+  any changes to that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's properties, getters, setters, etc, were not
+  present, and as if all the properties of that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object had their [[Enumerable]]
+  attribute set to false.&lt;/p&gt;
 
   &lt;p&gt;For members that return objects (including function objects), each distinct &lt;a href=#effective-script-origin&gt;effective
   script origin&lt;/a&gt; that is not the same as the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's
@@ -65711,8 +65713,9 @@
   context&lt;/a&gt; was just created as part of &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the rules for choosing a browsing context given a
   browsing context name&lt;/a&gt;, then the user agent must instead &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-load&gt;load&lt;/code&gt; at the selected
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
-  &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt; object (and the &lt;code title=dom-event-currentTarget&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object).&lt;/p&gt;
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt; object
+  (and the &lt;code title=dom-event-currentTarget&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object).&lt;/p&gt;
 
   &lt;p&gt;The method must return the &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
   that was navigated, or null if no browsing context was navigated.&lt;/p&gt;
@@ -66213,12 +66216,12 @@
      &lt;dd&gt;
 
       &lt;p&gt;The &lt;a href=#origin&gt;origin&lt;/a&gt; is an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the
-      &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when
-      the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was invoked, or, if no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;
-      was involved, of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the element that initiated the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; to that &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
+      &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt;
+      algorithm was invoked, or, if no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; was involved, of
+      the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the element that initiated the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; to that &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;The &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is initially an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of that same &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; or
-      &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+      &lt;p&gt;The &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is initially an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of that
+      same &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -66359,7 +66362,8 @@
 
      &lt;dt&gt;If a script is a function or other code reference created by another script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the function or other code reference was created.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the function or other code reference
+     was created.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a script is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
@@ -66399,7 +66403,8 @@
      &lt;dt&gt;If a script is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
      URL&lt;/a&gt; to which a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is being &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;, the URL having been provided by script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was invoked.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was
+     invoked.&lt;/dd&gt;
 
     &lt;/dl&gt;&lt;p&gt;The &lt;a href=#origin&gt;origin&lt;/a&gt; of the script is then an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#origin&gt;origin&lt;/a&gt; of the owner, and the
     &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of the script is an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of the
@@ -67522,8 +67527,8 @@
   context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Navigation for the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's
-  browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the
-  &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+  browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source
+  browsing context&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; step of the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods is not successful, then the user agent must
   instead throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
@@ -71515,8 +71520,6 @@
   &lt;p class=note&gt;The WebIDL specification also manipulates the &lt;a href=#stack-of-incumbent-scripts&gt;stack of incumbent
   scripts&lt;/a&gt;. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP:all occurrences of 'incumbent'--&gt;
-
   &lt;hr&gt;&lt;p&gt;Each &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; has a &lt;dfn id=running-mutation-observers&gt;running mutation
   observers&lt;/dfn&gt; flag, which must initially be false. It is used to prevent reentrant invocation of
   the algorithm to &lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;invoke &lt;code&gt;MutationObserver&lt;/code&gt;
@@ -73625,9 +73628,8 @@
 
     &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
     &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary
-    navigation browsing context flag&lt;/a&gt; set, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    script&lt;/a&gt; has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary navigation browsing context flag&lt;/a&gt; set,
+    then return the empty string and abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73640,9 +73642,8 @@
 
    &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing
-    contexts&lt;/var&gt; be a list of all the browsing contexts that:&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt; be a list of all the
+    browsing contexts that:&lt;/p&gt;
 
     &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt; as the browsing context
      of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called, and that&lt;/li&gt;
@@ -73651,8 +73652,8 @@
      origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;,&lt;/li&gt; &lt;!-- Note that changing
      document.domain to talk to another domain doesn't make you able to block that domain --&gt;
 
-    &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any
-    of the browsing contexts matching those conditions.&lt;/p&gt;
+    &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any of the browsing contexts
+    matching those conditions.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73718,9 +73719,8 @@
 
     &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
     the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
-    context&lt;/a&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
+    as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73740,11 +73740,10 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value-origin&gt;return value origin&lt;/a&gt; at
-    the time the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing
-    context&quot;&gt;closed&lt;/a&gt; was the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;,
-    then let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing
-    context&lt;/a&gt;'s &lt;a href=#return-value&gt;return value&lt;/a&gt; as it stood when the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing context&quot;&gt;closed&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value-origin&gt;return value origin&lt;/a&gt; at the time
+    the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing context&quot;&gt;closed&lt;/a&gt; was the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;, then let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value&gt;return
+    value&lt;/a&gt; as it stood when the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing
+    context&quot;&gt;closed&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be undefined.&lt;/p&gt;
 
@@ -80767,8 +80766,8 @@
    &lt;li&gt;&lt;p&gt;Create a new &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object, associated with &lt;var title=&quot;&quot;&gt;worker global
    scope&lt;/var&gt;. Let &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt; be this new object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-new-messageport-object&gt;Create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/a&gt; owned by the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.
-   Let this be the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-new-messageport-object&gt;Create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/a&gt; owned by the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;. Let
+   this be the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Associate the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt;.&lt;/li&gt;
 
@@ -80792,8 +80791,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;a href=#list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt;.&lt;/p&gt;
+    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80808,10 +80807,10 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; is a
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. we are creating a nested worker), add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global
-    object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+    script&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. we are creating a nested worker),
+    add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of
+    the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global
+    object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80819,8 +80818,9 @@
 
     &lt;p&gt;&lt;a href=#run-a-worker&gt;Run a worker&lt;/a&gt; for the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the
     &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the
-    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt;
-    of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the
+    &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;,
+    and with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80871,8 +80871,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;a href=#list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt;.&lt;/p&gt;
+    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80906,9 +80906,9 @@
      &lt;li&gt;
 
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is not null, but the user agent has been
-      configured to disallow communication between the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
-      and the worker represented by the &lt;var title=&quot;&quot;&gt;worker global
-      scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to null.&lt;/p&gt;
+      configured to disallow communication between the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; and the worker
+      represented by the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker
+      global scope&lt;/var&gt; to null.&lt;/p&gt;
 
       &lt;p class=note&gt;For example, a user agent could have a development mode that isolates a
       particular &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; from all other pages, and scripts in that
@@ -80953,11 +80953,10 @@
        &lt;li&gt;
 
         &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-        script&lt;/a&gt; is a
-        &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the
-        list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that
-        is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-        script&lt;/a&gt;.&lt;/p&gt;
+        script&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global
+        scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
+        &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global
+        object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
        &lt;/li&gt;
 
@@ -81004,10 +81003,9 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; that invoked the constructor is a
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list
-    of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the
-    &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+    script&lt;/a&gt; that invoked the constructor is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
+    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global
+    object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -81015,8 +81013,8 @@
 
     &lt;p&gt;&lt;a href=#run-a-worker&gt;Run a worker&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;scriptURL&lt;/var&gt;, with the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing
     context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner browsing
-    context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
-    the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
+    context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; the
+    &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
     script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
@@ -81045,84 +81043,70 @@
 
   &lt;h4 id=importing-scripts-and-libraries&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/h4&gt;
 
-&lt;!--CLEANUP--&gt;
-  &lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-importscripts title=dom-WorkerGlobalScope-importScripts&gt;&lt;code&gt;importScripts(&lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent must run the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-importscripts title=dom-WorkerGlobalScope-importScripts&gt;&lt;code&gt;importScripts(&lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user
+  agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there are no arguments, return without doing
-   anything. Abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there are no arguments, return without doing anything. Abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; each
-   argument.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; each argument.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt;
-   exception and abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; each resource
-    identified by the resulting &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute
-    URLs&lt;/a&gt;, from the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
-    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-referrer-source&quot; title=&quot;script's referrer source&quot;&gt;referrer source&lt;/a&gt;, and with
-    the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy
-    sensitive --&gt;
+    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; each resource identified by the resulting &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/a&gt;, from the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
+    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-referrer-source&quot; title=&quot;script's referrer
+    source&quot;&gt;referrer source&lt;/a&gt;, and with the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not
+    http-origin privacy sensitive --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;For each argument in turn, in the order given, starting with
-    the first one, run these substeps:&lt;/p&gt;
+    &lt;p&gt;For each argument in turn, in the order given, starting with the first one, run these
+    substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;Wait for the fetching attempt for the corresponding resource
-      to complete.&lt;/p&gt;
+      &lt;p&gt;Wait for the fetching attempt for the corresponding resource to complete.&lt;/p&gt;
 
-      &lt;p&gt;If the fetching attempt failed, throw a
-      &lt;code&gt;&lt;a href=#networkerror&gt;NetworkError&lt;/a&gt;&lt;/code&gt; exception and abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the fetching attempt failed, throw a &lt;code&gt;&lt;a href=#networkerror&gt;NetworkError&lt;/a&gt;&lt;/code&gt; exception and abort all
+      these steps.&lt;/p&gt;
 
       &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the result of running the
       &lt;a href=#utf-8-decode&gt;UTF-8 decode&lt;/a&gt; algorithm on the script resource.&lt;/p&gt;
 
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-      &lt;p class=note&gt;As with the worker's script, the script here is
-      always assumed to be JavaScript, regardless of the MIME
-      type.&lt;/p&gt;
+      &lt;p class=note&gt;As with the worker's script, the script here is always assumed to be
+      JavaScript, regardless of the MIME type.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;&lt;a href=#create-a-script&gt;Create a script&lt;/a&gt;, using &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the &lt;a href=#url&gt;URL&lt;/a&gt;
-      from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the
-      same global object, browsing context, document, referrer source,
-      URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the
-      worker's &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#create-a-script&gt;Create a script&lt;/a&gt;, using &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the
+      &lt;a href=#url&gt;URL&lt;/a&gt; from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the same global object, browsing
+      context, document, referrer source, URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the worker's &lt;a href=#run-a-worker&gt;run a
+      worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
       &lt;p&gt;If the script came from a resource whose &lt;a href=#url&gt;URL&lt;/a&gt; does not have the &lt;a href=#same-origin&gt;same
       origin&lt;/a&gt; as the &lt;a href=#worker-origin&gt;worker origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
       errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt; algorithm.&lt;/p&gt;
 
       &lt;p&gt;Let the newly created &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; run until it either
-      returns, fails to parse, fails to catch an exception, or gets
-      prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or
-      &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined above.&lt;/p&gt;
+      returns, fails to parse, fails to catch an exception, or gets prematurely aborted by the
+      &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined
+      above.&lt;/p&gt;
 
-      &lt;p&gt;If it failed to parse, then throw an ECMAScript
-      &lt;code title=js-SyntaxError&gt;&lt;a href=#js-syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort all these
-      steps. &lt;a href=#refsECMA262&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
+      &lt;p&gt;If it failed to parse, then throw an ECMAScript &lt;code title=js-SyntaxError&gt;&lt;a href=#js-syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort all these steps. &lt;a href=#refsECMA262&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
 
-      &lt;p&gt;If an exception was thrown or if the script was prematurely
-      aborted, then abort all these steps, letting the exception or
-      aborting continue to be processed by the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;If an exception was thrown or if the script was prematurely aborted, then abort all these
+      steps, letting the exception or aborting continue to be processed by the &lt;a href=#incumbent-script&gt;incumbent
+      script&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a
-      worker&lt;/a&gt;&quot; algorithms abort the script then abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms abort
+      the script then abort all these steps.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -83141,8 +83125,8 @@
     initialized to the value of &lt;var title=&quot;&quot;&gt;message clone&lt;/var&gt;, the &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode serialization&lt;/a&gt; of the
     &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;, the &lt;code title=dom-MessageEvent-source&gt;&lt;a href=#dom-messageevent-source&gt;source&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the
     &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;'s &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object, and the &lt;code title=dom-MessageEvent-ports&gt;&lt;a href=#dom-messageevent-ports&gt;ports&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the &lt;var title=&quot;&quot;&gt;new ports&lt;/var&gt; array.
-    &lt;/p&gt; &lt;!-- invariant: the global object is always a Window if the
-    script can see this method --&gt;
+    &lt;/p&gt;
+    &lt;!-- invariant: the global object is always a Window if the script can see this method --&gt;
 
    &lt;/li&gt;
 
@@ -89326,8 +89310,8 @@
     interface), with the tag name being the name of that element, with the node being in the given
     namespace, and with the attributes on the node being those given in the given token.&lt;/p&gt;
 
-    &lt;p&gt;The interface appropriate for an element in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt; that is not defined
-    in this specification (or &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;) is
+    &lt;p&gt;The interface appropriate for an element in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt; that is not
+    defined in this specification (or &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;) is
     &lt;code&gt;&lt;a href=#htmlunknownelement&gt;HTMLUnknownElement&lt;/a&gt;&lt;/code&gt;. Elements in other namespaces whose interface is not defined by
     that namespace's specification must use the interface &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
@@ -89337,23 +89321,17 @@
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; attribute &lt;em&gt;in the
-   &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace, that
-   is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Similarly, if the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns:xlink&lt;/code&gt; attribute in the &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt; whose value is not the
+   &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace,
+   that is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Similarly, if the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns:xlink&lt;/code&gt; attribute in the &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt; whose value is not the
    &lt;a href=#xlink-namespace&gt;XLink Namespace&lt;/a&gt;, that is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
-   &lt;li&gt;
+   &lt;li&gt;&lt;p&gt;If the newly created element is a &lt;a href=#category-reset title=category-reset&gt;resettable element&lt;/a&gt;,
+   invoke its &lt;a href=#concept-form-reset-control title=concept-form-reset-control&gt;reset algorithm&lt;/a&gt;. (This initializes the
+   element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; and &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; based on the element's attributes.)&lt;/li&gt;
 
-    &lt;p&gt;If the newly created element is a &lt;a href=#category-reset title=category-reset&gt;resettable element&lt;/a&gt;,
-    invoke its &lt;a href=#concept-form-reset-control title=concept-form-reset-control&gt;reset algorithm&lt;/a&gt;. (This initializes
-    the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; and &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; based on the element's attributes.)&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the element is a &lt;a href=#form-associated-element&gt;form-associated element&lt;/a&gt;, and the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null,
-   and there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
-   and the newly created element is either not &lt;a href=#category-form-attr title=category-form-attr&gt;reassociateable&lt;/a&gt; or doesn't
-   have a &lt;code title=attr-fae-form&gt;&lt;a href=#attr-fae-form&gt;form&lt;/a&gt;&lt;/code&gt; attribute, &lt;a href=#concept-form-association title=concept-form-association&gt;associate&lt;/a&gt; the newly created element with the
+   &lt;li&gt;&lt;p&gt;If the element is a &lt;a href=#form-associated-element&gt;form-associated element&lt;/a&gt;, and the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null, and there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+   element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and the newly created element is either not
+   &lt;a href=#category-form-attr title=category-form-attr&gt;reassociateable&lt;/a&gt; or doesn't have a &lt;code title=attr-fae-form&gt;&lt;a href=#attr-fae-form&gt;form&lt;/a&gt;&lt;/code&gt; attribute, &lt;a href=#concept-form-association title=concept-form-association&gt;associate&lt;/a&gt; the newly created element with the
    &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element pointed to by the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
    pointer&lt;/a&gt;, and suppress the running of the &lt;a href=#reset-the-form-owner&gt;reset the form owner&lt;/a&gt; algorithm in
    the next step.&lt;/li&gt;
@@ -89362,15 +89340,15 @@
 
   &lt;/ol&gt;&lt;hr&gt;&lt;!-- The names of these algorithms are kinda confusing; e.g. see the confusion in
          <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367">https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367</A>
-       Not sure what we could call them instead, though... --&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-a-foreign-element&gt;insert a foreign element&lt;/dfn&gt; for a token in a given namespace,
-  the user agent must run these steps:&lt;/p&gt;
+       Not sure what we could call them instead, though... --&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-a-foreign-element&gt;insert a foreign element&lt;/dfn&gt; for a token
+  in a given namespace, the user agent must run these steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate
-   place for inserting a node&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place for
+   inserting a node&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the given namespace, with the
-   intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-   finds itself.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the given namespace, with the intended
+   parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; finds
+   itself.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -89390,7 +89368,8 @@
    &lt;li&gt;&lt;p&gt;Return the newly created element.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-an-html-element&gt;insert an HTML element&lt;/dfn&gt; for a token,
-  the user agent must &lt;a href=#insert-a-foreign-element&gt;insert a foreign element&lt;/a&gt; for the token, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;.&lt;/p&gt;
+  the user agent must &lt;a href=#insert-a-foreign-element&gt;insert a foreign element&lt;/a&gt; for the token, in the &lt;a href=#html-namespace-0&gt;HTML
+  namespace&lt;/a&gt;.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=adjust-mathml-attributes&gt;adjust MathML attributes&lt;/dfn&gt; for a token,
   then, if the token has an attribute named &lt;code title=&quot;&quot;&gt;definitionurl&lt;/code&gt;, change its name to
@@ -89819,9 +89798,8 @@
     &lt;p&gt;&lt;a href=#insert-a-comment&gt;Insert a comment&lt;/a&gt; as the last child of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;A character token that is one of U+0009 CHARACTER
-   TABULATION, U+000A LINE FEED (LF), U+000C FORM FEED (FF),
-   U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
+   &lt;dt&gt;A character token that is one of U+0009 CHARACTER TABULATION, U+000A LINE FEED (LF), U+000C
+   FORM FEED (FF), U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
@@ -89829,27 +89807,24 @@
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML
-    namespace&lt;/a&gt;, with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-    object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put
+    this element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p id=parser-appcache&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being
-    loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a
-    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: if the newly created element
-    has a &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute
-    whose value is not the empty string, then &lt;a href=#resolve-a-url title=&quot;resolve a
-    url&quot;&gt;resolve&lt;/a&gt; the value of that attribute to an
-    &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, relative to the newly created element,
-    and if that is successful, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with the result of applying the &lt;a href=#concept-url-serializer title=concept-url-serializer&gt;URL serializer&lt;/a&gt; algorithm to
-    the resulting &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; with the &lt;i&gt;exclude fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is
-    the empty string, or resolving its value fails, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with no manifest. The algorithm must be passed
-    the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+    &lt;p id=parser-appcache&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: if the newly
+    created element has a &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute whose value is
+    not the empty string, then &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the value of that
+    attribute to an &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, relative to the newly created element, and if that is
+    successful, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
+    algorithm&lt;/a&gt; with the result of applying the &lt;a href=#concept-url-serializer title=concept-url-serializer&gt;URL
+    serializer&lt;/a&gt; algorithm to the resulting &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; with the &lt;i&gt;exclude
+    fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is the empty
+    string, or resolving its value fails, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application
+    cache selection algorithm&lt;/a&gt; with no manifest. The algorithm must be passed the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -89866,24 +89841,21 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Create an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Append it to the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack
-    of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Create an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Append
+    it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack of open
+    elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing
-    context&lt;/a&gt;, then: run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with no manifest, passing it the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection algorithm&lt;/a&gt; with no manifest,
+    passing it the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;, then
-    reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/a&gt;&quot;, then reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;The root element can end up being removed from the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, e.g. by scripts; nothing in particular
-  happens in such cases, content continues being appended to the nodes
-  as described in the next section.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;The root element can end up being removed from the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, e.g. by
+  scripts; nothing in particular happens in such cases, content continues being appended to the
+  nodes as described in the next section.&lt;/p&gt;
 
 
   &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
@@ -89909,8 +89881,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
@@ -89918,10 +89890,11 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
-    to the newly created &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; to the newly created
+    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -89946,10 +89919,11 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for a &quot;head&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
-    to the newly created &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; to the newly created
+    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
     &lt;!-- end of fake &lt;head&gt; --&gt;
 
@@ -89980,32 +89954,30 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
    &quot;bgsound&quot;, &quot;link&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately
-    pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately pop the &lt;a href=#current-node&gt;current
+    node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;meta&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately
-    pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately pop the &lt;a href=#current-node&gt;current
+    node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
 
     &lt;p id=meta-charset-during-parse&gt;If the element has a &lt;code title=attr-meta-charset&gt;&lt;a href=#attr-meta-charset&gt;charset&lt;/a&gt;&lt;/code&gt; attribute, and &lt;a href=#getting-an-encoding&gt;getting an encoding&lt;/a&gt; from
     its value results in a supported &lt;a href=#ascii-compatible-character-encoding&gt;ASCII-compatible character encoding&lt;/a&gt; or &lt;a href=#a-utf-16-encoding&gt;a
@@ -90037,8 +90009,8 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head
-    noscript&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in
+    head noscript&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90048,32 +90020,27 @@
 
     &lt;p&gt;Run these steps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate
-     place for inserting a node&lt;/a&gt;.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place
+     for inserting a node&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with the
-     intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-     finds itself.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with
+     the intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion
+     location&lt;/var&gt; finds itself.&lt;/li&gt;
 
      &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-      &lt;p&gt;Mark the element as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and
-      unset the element's &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag.&lt;/p&gt;
+      &lt;p&gt;Mark the element as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and unset the element's
+      &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag.&lt;/p&gt;
 
-      &lt;p class=note&gt;This ensures that, if the script is external,
-      any &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;
-      calls in the script will execute in-line, instead of blowing the
-      document away, as would happen in most other cases. It also
-      prevents the script from executing until the end tag is
-      seen.&lt;/p&gt;
+      &lt;p class=note&gt;This ensures that, if the script is external, any &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; calls in the script will execute in-line,
+      instead of blowing the document away, as would happen in most other cases. It also prevents
+      the script from executing until the end tag is seen.&lt;/p&gt;
 
      &lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML
-     fragment parsing algorithm&lt;/a&gt;, then mark the
-     &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already
-     started&quot;&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing
+     algorithm&lt;/a&gt;, then mark the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already started&quot;&lt;/a&gt;.
+     (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
      location&lt;/var&gt;.&lt;/li&gt;
@@ -90081,24 +90048,24 @@
      &lt;li&gt;&lt;p&gt;Push the element onto the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; so that it is the new
      &lt;a href=#current-node&gt;current node&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;a href=#script-data-state&gt;script data
-     state&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current
-     &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current &lt;a href=#insertion-mode&gt;insertion
+     mode&lt;/a&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode:
+     text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be the
-    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element) off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be the &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element) off the
+    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90138,12 +90105,10 @@
      &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then this is a
      &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-     until a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element has been
-     popped from the stack.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; until a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+     element has been popped from the stack.&lt;/li&gt;
 
-     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the
-     last marker&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the last marker&lt;/a&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
      insertion modes&lt;/a&gt;.&lt;/p&gt;
@@ -90278,7 +90243,8 @@
 
     &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90287,28 +90253,28 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in
+    frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
-   &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Push the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; onto the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Push the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; onto
+    the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Remove the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; from the &lt;a href=#stack-of-open-elements&gt;stack
-    of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
+    from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-    pointer&lt;/a&gt; cannot be null at this point.&lt;/p&gt;
+    &lt;p class=note&gt;The &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; cannot be null at
+    this point.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90329,7 +90295,8 @@
     &lt;!-- fake &lt;body&gt;, but without resetting frameset-ok --&gt;
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for a &quot;body&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;body&gt; --&gt;
 
     &lt;p&gt;Reprocess the current token.&lt;/p&gt;
@@ -90359,22 +90326,18 @@
    RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;Any other character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
@@ -90392,23 +90355,24 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
+
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
     ignore the token.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, for each attribute on the token,
-    check to see if the attribute is already present on the top
-    element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not,
-    add the attribute and its corresponding value to that element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, for each attribute on the token, check to see if the attribute is already present
+    on the top element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -90416,18 +90380,15 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, if the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
-    or if there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
-    then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;
+    element, if the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it, or if there is a
+    &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then ignore the token.
+    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;;
-    then, for each attribute on the token, check to see if the
-    attribute is already present on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element (the
-    second element) on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and if
-    it is not, add the attribute and its corresponding value to that
-    element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;; then, for each attribute on the
+    token, check to see if the attribute is already present on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element (the
+    second element) on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and if it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90436,43 +90397,36 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
-    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
-    then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it, or if the second element
+    on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, then ignore the
+    token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; is set to &quot;not ok&quot;, ignore
-    the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; is set to &quot;not ok&quot;, ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, run the following steps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Remove the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-     elements&lt;/a&gt; from its parent node, if it has one.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Remove the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; from its parent
+     node, if it has one.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;a href=#stack-of-open-elements&gt;stack of
-     open elements&lt;/a&gt;, from the &lt;a href=#current-node&gt;current node&lt;/a&gt; up to,
-     but not including, the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, from the
+     &lt;a href=#current-node&gt;current node&lt;/a&gt; up to, but not including, the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the
-     token.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in
+     frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-    that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;
-    element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the
-    &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then
-    this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
-    fragment cases) --&gt;
+    &lt;p&gt;If there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;
+    element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element,
+    a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the
+    &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases) --&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; is not empty, then process the token
     &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
@@ -90486,32 +90440,27 @@
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
+    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90519,32 +90468,27 @@
    &lt;dd&gt;
 
     &lt;!-- fake &lt;/body&gt; --&gt;
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
+    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;/body&gt; --&gt;
 
     &lt;p&gt;Reprocess the token.&lt;/p&gt;
@@ -90554,20 +90498,18 @@
    &lt;!-- start tags for non-phrasing flow content elements --&gt;
 
    &lt;!-- the normal ones --&gt;
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;,
-   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;, &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;,
+   &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
    &quot;hgroup&quot;, &quot;main&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
-    as close to what IE does as I can get without doing the non-tree
-    DOM nonsense, and thus should actually afford better compatibility
-    when implemented by the other browsers. --&gt;
+    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is as close to what IE does as I
+    can get without doing the non-tree DOM nonsense, and thus should actually afford better
+    compatibility when implemented by the other browsers. --&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an
-    element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
@@ -90578,14 +90520,13 @@
    &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; whose tag name
-    is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off
-    the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; whose
+    tag name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
     &lt;!-- See <A HREF="https://bugs.webkit.org/show_bug.cgi?id=12646">https://bugs.webkit.org/show_bug.cgi?id=12646</A> --&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
@@ -90596,16 +90537,15 @@
    &lt;dt&gt;A start tag whose tag name is one of: &quot;pre&quot;, &quot;listing&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#next-token&gt;next token&lt;/a&gt; is a U+000A LINE FEED (LF) character
-    token, then ignore that token and move on to the next
-    one. (Newlines at the start of &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt; blocks are
-    ignored as an authoring convenience.)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#next-token&gt;next token&lt;/a&gt; is a U+000A LINE FEED (LF) character token, then ignore that
+    token and move on to the next one. (Newlines at the start of &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt; blocks are ignored
+    as an authoring convenience.)&lt;/p&gt;
 
     &lt;!-- &lt;pre&gt;[CR]X will eat the [CR], &lt;pre&gt;&amp;#x10;X will eat the
     &amp;#x10;, but &lt;pre&gt;&amp;#x13;X will not eat the &amp;#x13;. --&gt;
@@ -90618,19 +90558,16 @@
    &lt;dt&gt;A start tag whose tag name is &quot;form&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element
-    pointer&lt;/a&gt; is not null, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;; ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null, then this is
+    a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, and set the
-    &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; to
-    point to the element created.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, and set the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; to point to the element created.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91564,11 +91501,11 @@
      formatting elements&lt;/a&gt;, then remove &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; from the &lt;a href=#stack-of-open-elements&gt;stack of open
      elements&lt;/a&gt; and then go back to the step labeled &lt;i&gt;inner loop&lt;/i&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
-     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which the element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; as the intended
-     parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting
-     elements&lt;/a&gt; with an entry for the new element, replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; with an entry for the new
-     element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which the element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;common
+     ancestor&lt;/var&gt; as the intended parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
+     &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting elements&lt;/a&gt; with an entry for the new element, replace the
+     entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; with an entry for
+     the new element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; is &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;, then move the
      aforementioned bookmark to be immediately after the new &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
@@ -91587,10 +91524,9 @@
    &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place for inserting a node&lt;/a&gt;, but using &lt;var title=&quot;&quot;&gt;common
    ancestor&lt;/var&gt; as the &lt;i&gt;override target&lt;/i&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
    &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which &lt;var title=&quot;&quot;&gt;formatting
-   element&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; as the intended
-   parent.&lt;/li&gt;
+   element&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;furthest
+   block&lt;/var&gt; as the intended parent.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take all of the child nodes of &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; and append them to the
    element created in the last step.&lt;/li&gt;
@@ -91623,12 +91559,10 @@
   &lt;dl class=switch&gt;&lt;dt&gt;A character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;This can never be a U+0000 NULL character; the
-    tokenizer converts those to U+FFFD REPLACEMENT CHARACTER
-    characters.&lt;/p&gt;
+    &lt;p class=note&gt;This can never be a U+0000 NULL character; the tokenizer converts those to
+    U+FFFD REPLACEMENT CHARACTER characters.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91638,15 +91572,13 @@
     &lt;!-- can't be the fragment case --&gt;
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;
-    element, mark the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already
-    started&quot;&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element, mark the
+    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already started&quot;&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt; and reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; and
+    reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91657,51 +91589,43 @@
 
     &lt;p&gt;&lt;a href=#provide-a-stable-state&gt;Provide a stable state&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;a href=#current-node&gt;current node&lt;/a&gt;
-    (which will be a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element).&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be a
+    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element).&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
-    same value as the current &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;. Let
-    the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next
+    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the same value as the current
+    &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;. Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next
     input character&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by
-    one.&lt;/p&gt;
+    &lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#prepare-a-script title=&quot;prepare a script&quot;&gt;Prepare&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;script&lt;/var&gt;. This might cause some script to execute,
-    which might cause &lt;a href=#dom-document-write title=dom-document-write&gt;new characters
-    to be inserted into the tokenizer&lt;/a&gt;, and might cause the
-    tokenizer to output more tokens, resulting in a &lt;a href=#nestedParsing&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#prepare-a-script title=&quot;prepare a script&quot;&gt;Prepare&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;script&lt;/var&gt;. This might
+    cause some script to execute, which might cause &lt;a href=#dom-document-write title=dom-document-write&gt;new characters
+    to be inserted into the tokenizer&lt;/a&gt;, and might cause the tokenizer to output more tokens,
+    resulting in a &lt;a href=#nestedParsing&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by
-    one. If the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is zero,
-    then set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
+    &lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one. If the parser's &lt;a href=#script-nesting-level&gt;script
+    nesting level&lt;/a&gt; is zero, then set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; have the value of the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt;. (In other words, restore the
-    &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to its previous value. This value
-    might be the &quot;undefined&quot; value.)&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; have the value of the &lt;var title=&quot;&quot;&gt;old insertion
+    point&lt;/var&gt;. (In other words, restore the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to its previous value.
+    This value might be the &quot;undefined&quot; value.)&lt;/p&gt;
 
-    &lt;p id=scriptTagParserResumes&gt;At this stage, if there is a
-    &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then:&lt;/p&gt;
+    &lt;p id=scriptTagParserResumes&gt;At this stage, if there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+    script&lt;/a&gt;, then:&lt;/p&gt;
 
     &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is not zero:&lt;/dt&gt;
 
      &lt;dd&gt;
 
-      &lt;p&gt;Set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to true, and abort the
-      processing of any nested invocations of the tokenizer, yielding
-      control back to the caller. (Tokenization will resume when the
-      caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
+      &lt;p&gt;Set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to true, and abort the processing of any nested
+      invocations of the tokenizer, yielding control back to the caller. (Tokenization will resume
+      when the caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
 
-      &lt;p class=note&gt;The tree construction stage of this particular
-      parser is &lt;a href=#nestedParsing&gt;being called reentrantly&lt;/a&gt;,
-      say from a call to &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+      &lt;p class=note&gt;The tree construction stage of this particular parser is &lt;a href=#nestedParsing&gt;being called reentrantly&lt;/a&gt;, say from a call to &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -91753,15 +91677,13 @@
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;!--CLEANUP--&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 

Modified: index
===================================================================
--- index	2013-08-01 20:22:26 UTC (rev 8117)
+++ index	2013-08-01 20:44:06 UTC (rev 8118)
@@ -8687,18 +8687,15 @@
     &lt;p&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, this will throw a &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;&lt;dfn id=the-body-element-0&gt;The body element&lt;/dfn&gt; of a document is the first child of
-  &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/a&gt; that is either a
-  &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element. If
+  &lt;/dl&gt;&lt;p&gt;&lt;dfn id=the-body-element-0&gt;The body element&lt;/dfn&gt; of a document is the first child of &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt;
+  element&lt;/a&gt; that is either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element or a &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element. If
   there is no such element, it is null.&lt;/p&gt;
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-body title=dom-document-body&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of
-  the document (either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, a
-  &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, or null). On setting, the following
-  algorithm must be run:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-body title=dom-document-body&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must return
+  &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of the document (either a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, a
+  &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, or null). On setting, the following algorithm must be run:&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- if changes are requested:
     <A HREF="http://lxr.mozilla.org/seamonkey/source/content/html/document/src/nsHTMLDocument.cpp">http://lxr.mozilla.org/seamonkey/source/content/html/document/src/nsHTMLDocument.cpp</A>
@@ -8707,20 +8704,16 @@
     search for ::setBody
     <A HREF="http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/dom/Document.cpp">http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/dom/Document.cpp</A>
     search for ::body
-   --&gt;&lt;li&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or
-   &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, then throw a
-   &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception and abort these
-   steps.&lt;/li&gt;
+   --&gt;&lt;li&gt;If the new value is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, then throw a
+   &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if the new value is the same as &lt;a href=#the-body-element-0&gt;the body
-   element&lt;/a&gt;, do nothing. Abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if the new value is the same as &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, do nothing. Abort
+   these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; is not null, then
-   replace that element with the new value in the DOM, as if the root
-   element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had been
-   called with the new value and &lt;a href=#the-body-element-0 title=&quot;the body element&quot;&gt;the
-   incumbent body element&lt;/a&gt; as its two arguments respectively,
-   then abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; is not null, then replace that element with the
+   new value in the DOM, as if the root element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had
+   been called with the new value and &lt;a href=#the-body-element-0 title=&quot;the body element&quot;&gt;the incumbent body
+   element&lt;/a&gt; as its two arguments respectively, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Otherwise, if there is no root element, throw a &lt;code&gt;&lt;a href=#hierarchyrequesterror&gt;HierarchyRequestError&lt;/a&gt;&lt;/code&gt; exception
    and abort these steps.&lt;/li&gt;
@@ -13429,12 +13422,12 @@
     &lt;a href=#character-encoding-declaration&gt;character encoding declaration&lt;/a&gt;. &lt;span class=impl&gt;This state's user agent
     requirements are all handled by the parsing section of the specification.&lt;/span&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;
     &lt;p&gt;For &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements with an &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt;
     attribute in the &lt;a href=#attr-meta-http-equiv-content-type title=attr-meta-http-equiv-content-type&gt;Encoding declaration
     state&lt;/a&gt;, the &lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; attribute must have a value
     that is an &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for a string that consists of: the literal
-    string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by any number of &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;, followed by the literal string &quot;&lt;code title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;a href=#encoding-label title=&quot;encoding label&quot;&gt;labels&lt;/a&gt; of the &lt;a href=#encoding title=encoding&gt;character encoding&lt;/a&gt; of the &lt;a href=#character-encoding-declaration&gt;character encoding
+    string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by any number of &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;, followed by the literal string &quot;&lt;code title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;a href=#encoding-label title=&quot;encoding label&quot;&gt;labels&lt;/a&gt; of
+    the &lt;a href=#encoding title=encoding&gt;character encoding&lt;/a&gt; of the &lt;a href=#character-encoding-declaration&gt;character encoding
     declaration&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;A document must not contain both a &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=#attr-meta-http-equiv-content-type title=attr-meta-http-equiv-content-type&gt;Encoding declaration state&lt;/a&gt; and a
@@ -25170,15 +25163,16 @@
     interfaces.&lt;/p&gt;
     &lt;/div&gt;
    &lt;/dd&gt;
-  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element provides an integration point for an external
-  (typically non-HTML) application or interactive content.&lt;/p&gt;
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element provides an integration point for an external (typically
+  non-HTML) application or interactive content.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-embed-src title=attr-embed-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute gives the address of the
   resource being embedded. The attribute, if present, must contain a &lt;a href=#valid-non-empty-url-potentially-surrounded-by-spaces&gt;valid non-empty URL
   potentially surrounded by spaces&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute is specified on an &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;
-  element, then the &lt;code title=attr-embed-src&gt;&lt;a href=#attr-embed-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute must also be specified.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute is specified on an
+  &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element, then the &lt;code title=attr-embed-src&gt;&lt;a href=#attr-embed-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute must also
+  be specified.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-embed-type title=attr-embed-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt; attribute, if present, gives the
   &lt;a href=#mime-type&gt;MIME type&lt;/a&gt; by which the plugin to instantiate is selected. The value must be a
@@ -25217,8 +25211,8 @@
 
   &lt;/ul&gt;&lt;p&gt;Whenever an &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element that was not &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; becomes &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt;, and whenever a &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element that is
   remaining &lt;a href=#concept-embed-active title=concept-embed-active&gt;potentially active&lt;/a&gt; and has its &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;src&lt;/a&gt;&lt;/code&gt; attribute set, changed, or removed or its &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute set, changed, or removed, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; using the &lt;dfn id=embed-task-source&gt;embed task source&lt;/dfn&gt; to run
-  &lt;a href=#the-embed-element-setup-steps&gt;the &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/a&gt;.&lt;/p&gt;
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; using the &lt;dfn id=embed-task-source&gt;embed task source&lt;/dfn&gt; to run &lt;a href=#the-embed-element-setup-steps&gt;the
+  &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=the-embed-element-setup-steps&gt;The &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
 
@@ -25250,32 +25244,34 @@
         follows (stopping at the first substep that determines the type):&lt;/p&gt;
 
         &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element has a &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute, and that
-         attribute's value is a type that a &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the value of the &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
-         type&lt;/a&gt;.&lt;/li&gt;
+         attribute's value is a type that a &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the value of the
+         &lt;code title=attr-embed-type&gt;&lt;a href=#attr-embed-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's type&lt;/a&gt;.&lt;/li&gt;
 
          &lt;li&gt;
 
           &lt;!-- if we get to this point we know we can successfully parsed the URL, since this algorithm is
           only used after fetching the resource in the steps above --&gt;
 
-          &lt;p&gt;Otherwise, if applying the &lt;a href=#url-parser&gt;URL parser&lt;/a&gt; algorithm to the &lt;a href=#url&gt;URL&lt;/a&gt; of the
-          specified resource (after any redirects) results in a &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; whose &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; component matches a pattern that a &lt;a href=#plugin&gt;plugin&lt;/a&gt;
-          supports, then the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's type&lt;/a&gt; is the type that that
-          plugin can handle.&lt;/p&gt;
+          &lt;p&gt;Otherwise, if applying the &lt;a href=#url-parser&gt;URL parser&lt;/a&gt; algorithm to the &lt;a href=#url&gt;URL&lt;/a&gt; of
+          the specified resource (after any redirects) results in a &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; whose
+          &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; component matches a pattern that a
+          &lt;a href=#plugin&gt;plugin&lt;/a&gt; supports, then the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
+          type&lt;/a&gt; is the type that that plugin can handle.&lt;/p&gt;
 
-          &lt;p class=example&gt;For example, a plugin might say that it can handle resources with &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; components that end with the four character string &quot;&lt;code title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
+          &lt;p class=example&gt;For example, a plugin might say that it can handle resources with &lt;a href=#concept-url-path title=concept-url-path&gt;path&lt;/a&gt; components that end with the four character string
+          &quot;&lt;code title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
 
           &lt;!-- it's sad that we have to do extension sniffing. sigh. --&gt;
           &lt;!-- see also &lt;object&gt; which has a similar step --&gt;
 
          &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;a href=#content-type title=Content-Type&gt;explicit Content-Type
-         metadata&lt;/a&gt;, then that is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
+         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;a href=#content-type title=Content-Type&gt;explicit
+         Content-Type metadata&lt;/a&gt;, then that is the &lt;a href=#concept-embed-type title=concept-embed-type&gt;content's
          type&lt;/a&gt;.&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;a href=#concept-embed-type title=concept-embed-type&gt;type&lt;/a&gt; and there can
-         be no appropriate &lt;a href=#plugin&gt;plugin&lt;/a&gt; for it.&lt;/li&gt;
+         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;a href=#concept-embed-type title=concept-embed-type&gt;type&lt;/a&gt; and there
+         can be no appropriate &lt;a href=#plugin&gt;plugin&lt;/a&gt; for it.&lt;/li&gt;
 
          &lt;!-- This algorithm is a monument to bad design. Go legacy! --&gt;
 
@@ -25624,11 +25620,13 @@
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code title=attr-object-type&gt;&lt;a href=#attr-object-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is present and its value is
      not a type that the user agent supports, and is not a type that the user agent can find a
-     &lt;a href=#plugin&gt;plugin&lt;/a&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt; without fetching the content to examine its real type.&lt;/li&gt;
+     &lt;a href=#plugin&gt;plugin&lt;/a&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;
+     without fetching the content to examine its real type.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt; specified by the &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute, relative to the element.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If that failed, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If that failed, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to the step below labeled
+     &lt;i&gt;fallback&lt;/i&gt;.&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -25650,10 +25648,11 @@
 
      &lt;li&gt;&lt;p&gt;If the resource is not yet available (e.g. because the resource was not available in the
      cache, so that loading the resource required making a request over the network), then jump to
-     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the
-     &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; once the resource is available must restart this algorithm
-     from this step. Resources can load incrementally; user agents may opt to consider a resource
-     &quot;available&quot; whenever enough data has been obtained to begin processing the resource.&lt;/li&gt;
+     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is
+     &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; once the
+     resource is available must restart this algorithm from this step. Resources can load
+     incrementally; user agents may opt to consider a resource &quot;available&quot; whenever enough data has
+     been obtained to begin processing the resource.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If the load failed (e.g. there was an HTTP 404 error, there was a DNS error), &lt;a href=#fire-a-simple-event&gt;fire
      a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, then jump to
@@ -25900,7 +25899,8 @@
 
         &lt;p&gt;Otherwise, the user agent should &lt;a href=#object-plugin&gt;use the plugin that supports
         &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt;&lt;/a&gt; and pass the content of the resource to that
-        &lt;a href=#plugin&gt;plugin&lt;/a&gt;. If the &lt;a href=#plugin&gt;plugin&lt;/a&gt; reports an error, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;a href=#plugin&gt;plugin&lt;/a&gt;. If the &lt;a href=#plugin&gt;plugin&lt;/a&gt; reports an error, then jump to the step
+        below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
        &lt;/dd&gt;
 
@@ -25966,7 +25966,8 @@
 
        &lt;dd&gt;
 
-        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below
+        labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
         &lt;p class=note&gt;If the previous step ended with the &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; being
         unknown, this is the case that is triggered.&lt;/p&gt;
@@ -26152,7 +26153,7 @@
   // &lt;a href=&quot;#HTMLParamElement-partial&quot;&gt;also has obsolete members&lt;/a&gt;
 };&lt;/pre&gt;
    &lt;/dd&gt;
-  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt; element defines parameters for plugins
+  &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt; element defines parameters for plugins
   invoked by &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements. It does not &lt;a href=#represents title=represents&gt;represent&lt;/a&gt; anything on its own.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-param-name title=attr-param-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt;
@@ -27399,14 +27400,14 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-&lt;!--CLEANUP--&gt;
-  &lt;p&gt;The &lt;dfn id=dom-navigator-canplaytype title=dom-navigator-canPlayType&gt;&lt;code&gt;canPlayType(&lt;var title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn id=dom-canplaytypeenum-nil title=dom-CanPlayTypeEnum-nil&gt;the empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;
-  is &lt;a href=#a-type-that-the-user-agent-knows-it-cannot-render&gt;a type that the user agent knows it cannot render&lt;/a&gt; or is the type
-  &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn id=dom-canplaytypeenum-probably title=dom-CanPlayTypeEnum-probably&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the
-  user agent is confident that the type represents a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; that it can render
-  if used in with this &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element; and it must return &quot;&lt;dfn id=dom-canplaytypeenum-maybe title=dom-CanPlayTypeEnum-maybe&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged to return &quot;&lt;code title=dom-CanPlayTypeEnum-maybe&gt;&lt;a href=#dom-canplaytypeenum-maybe&gt;maybe&lt;/a&gt;&lt;/code&gt;&quot; unless the type can be confidently established as being supported or not.
-  Generally, a user agent should never return &quot;&lt;code title=dom-CanPlayTypeEnum-probably&gt;&lt;a href=#dom-canplaytypeenum-probably&gt;probably&lt;/a&gt;&lt;/code&gt;&quot; for a type that
-  allows the &lt;code title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-navigator-canplaytype title=dom-navigator-canPlayType&gt;&lt;code&gt;canPlayType(&lt;var title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn id=dom-canplaytypeenum-nil title=dom-CanPlayTypeEnum-nil&gt;the
+  empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;a href=#a-type-that-the-user-agent-knows-it-cannot-render&gt;a type that the user agent knows it cannot
+  render&lt;/a&gt; or is the type &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn id=dom-canplaytypeenum-probably title=dom-CanPlayTypeEnum-probably&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the user agent is confident
+  that the type represents a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; that it can render if used in with this
+  &lt;code&gt;&lt;a href=#the-audio-element&gt;audio&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element; and it must return &quot;&lt;dfn id=dom-canplaytypeenum-maybe title=dom-CanPlayTypeEnum-maybe&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged
+  to return &quot;&lt;code title=dom-CanPlayTypeEnum-maybe&gt;&lt;a href=#dom-canplaytypeenum-maybe&gt;maybe&lt;/a&gt;&lt;/code&gt;&quot; unless the type can be
+  confidently established as being supported or not. Generally, a user agent should never return
+  &quot;&lt;code title=dom-CanPlayTypeEnum-probably&gt;&lt;a href=#dom-canplaytypeenum-probably&gt;probably&lt;/a&gt;&lt;/code&gt;&quot; for a type that allows the &lt;code title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -27624,7 +27625,7 @@
   algorithm). Steps in such sections are marked with &amp;#x231b;.&lt;/p&gt;
 
   &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
-                      (where setting it to empty is commented out) --&gt;&lt;!--CLEANUP--&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
+                      (where setting it to empty is commented out) --&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
    the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
@@ -27786,9 +27787,8 @@
      &lt;var title=&quot;&quot;&gt;absolute URL&lt;/var&gt;. If that algorithm returns without aborting &lt;em&gt;this&lt;/em&gt; one,
      then the load failed.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task
-     source&lt;/a&gt;, to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt;
-     at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM
+     manipulation task source&lt;/a&gt;, to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Asynchronously &lt;a href=#await-a-stable-state&gt;await a stable state&lt;/a&gt;. The &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt;
      consists of all the remaining steps of this algorithm until the algorithm says the
@@ -27977,8 +27977,8 @@
        &lt;li&gt;&lt;p&gt;Update the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-audioTracks&gt;&lt;a href=#dom-media-audiotracks&gt;audioTracks&lt;/a&gt;&lt;/code&gt; attribute's &lt;code&gt;&lt;a href=#audiotracklist&gt;AudioTrackList&lt;/a&gt;&lt;/code&gt;
        object with the new &lt;code&gt;&lt;a href=#audiotrack&gt;AudioTrack&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-media-addtrack&gt;&lt;a href=#event-media-addtrack&gt;addtrack&lt;/a&gt;&lt;/code&gt;, that does not bubble and is not cancelable, and that
-       uses the &lt;code&gt;&lt;a href=#trackevent&gt;TrackEvent&lt;/a&gt;&lt;/code&gt; interface, with the &lt;code title=dom-TrackEvent-track&gt;&lt;a href=#dom-trackevent-track&gt;track&lt;/a&gt;&lt;/code&gt; attribute initialized to the new
+       &lt;li&gt;&lt;p&gt;&lt;a href=#concept-event-fire title=concept-event-fire&gt;Fire&lt;/a&gt; a &lt;a href=#concept-events-trusted title=concept-events-trusted&gt;trusted&lt;/a&gt; event with the name &lt;code title=event-media-addtrack&gt;&lt;a href=#event-media-addtrack&gt;addtrack&lt;/a&gt;&lt;/code&gt;, that does not bubble and is not cancelable, and
+       that uses the &lt;code&gt;&lt;a href=#trackevent&gt;TrackEvent&lt;/a&gt;&lt;/code&gt; interface, with the &lt;code title=dom-TrackEvent-track&gt;&lt;a href=#dom-trackevent-track&gt;track&lt;/a&gt;&lt;/code&gt; attribute initialized to the new
        &lt;code&gt;&lt;a href=#audiotrack&gt;AudioTrack&lt;/a&gt;&lt;/code&gt; object, at this &lt;code&gt;&lt;a href=#audiotracklist&gt;AudioTrackList&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/dd&gt;
@@ -65547,8 +65547,9 @@
   &lt;p id=security-2&gt;User agents must throw a &lt;code&gt;&lt;a href=#securityerror&gt;SecurityError&lt;/a&gt;&lt;/code&gt; exception whenever any
   properties of a &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object are accessed when the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; has
   an &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; that is not the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as
-  &lt;a href=#concept-document-window title=concept-document-window&gt;the &lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;,
-  with the following exceptions:&lt;/p&gt;
+  &lt;a href=#concept-document-window title=concept-document-window&gt;the &lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, with the following
+  exceptions:&lt;/p&gt;
 
   &lt;ul&gt;&lt;li&gt;The &lt;code title=dom-location&gt;&lt;a href=#dom-location&gt;location&lt;/a&gt;&lt;/code&gt; attribute
 
@@ -65577,10 +65578,11 @@
    &lt;li&gt;The &lt;a href=#dynamic-nested-browsing-context-properties&gt;dynamic nested browsing context properties&lt;/a&gt;
 
   &lt;/ul&gt;&lt;p&gt;When the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is different than
-  a &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, the
-  user agent must act as if any changes to that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's properties, getters,
-  setters, etc, were not present, and as if all the properties of that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object
-  had their [[Enumerable]] attribute set to false.&lt;/p&gt;
+  a &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;'s &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt;, the user agent must act as if
+  any changes to that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's properties, getters, setters, etc, were not
+  present, and as if all the properties of that &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object had their [[Enumerable]]
+  attribute set to false.&lt;/p&gt;
 
   &lt;p&gt;For members that return objects (including function objects), each distinct &lt;a href=#effective-script-origin&gt;effective
   script origin&lt;/a&gt; that is not the same as the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's
@@ -65711,8 +65713,9 @@
   context&lt;/a&gt; was just created as part of &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the rules for choosing a browsing context given a
   browsing context name&lt;/a&gt;, then the user agent must instead &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-load&gt;load&lt;/code&gt; at the selected
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
-  &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt; object (and the &lt;code title=dom-event-currentTarget&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object).&lt;/p&gt;
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, but with its &lt;code title=dom-event-target&gt;&lt;a href=#dom-event-target&gt;target&lt;/a&gt;&lt;/code&gt; set to the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#concept-document-window title=concept-document-window&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt; object
+  (and the &lt;code title=dom-event-currentTarget&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object).&lt;/p&gt;
 
   &lt;p&gt;The method must return the &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
   that was navigated, or null if no browsing context was navigated.&lt;/p&gt;
@@ -66213,12 +66216,12 @@
      &lt;dd&gt;
 
       &lt;p&gt;The &lt;a href=#origin&gt;origin&lt;/a&gt; is an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the
-      &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when
-      the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was invoked, or, if no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;
-      was involved, of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the element that initiated the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; to that &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
+      &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt;
+      algorithm was invoked, or, if no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; was involved, of
+      the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the element that initiated the &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; to that &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;The &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is initially an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of that same &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; or
-      &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+      &lt;p&gt;The &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; is initially an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of that
+      same &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -66359,7 +66362,8 @@
 
      &lt;dt&gt;If a script is a function or other code reference created by another script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the function or other code reference was created.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the function or other code reference
+     was created.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a script is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
@@ -66399,7 +66403,8 @@
      &lt;dt&gt;If a script is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
      URL&lt;/a&gt; to which a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is being &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;, the URL having been provided by script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was invoked.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; when the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm was
+     invoked.&lt;/dd&gt;
 
     &lt;/dl&gt;&lt;p&gt;The &lt;a href=#origin&gt;origin&lt;/a&gt; of the script is then an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#origin&gt;origin&lt;/a&gt; of the owner, and the
     &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of the script is an &lt;a href=#concept-origin-alias title=concept-origin-alias&gt;alias&lt;/a&gt; to the &lt;a href=#effective-script-origin&gt;effective script origin&lt;/a&gt; of the
@@ -67522,8 +67527,8 @@
   context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Navigation for the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's
-  browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the
-  &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+  browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source
+  browsing context&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; step of the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods is not successful, then the user agent must
   instead throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
@@ -71515,8 +71520,6 @@
   &lt;p class=note&gt;The WebIDL specification also manipulates the &lt;a href=#stack-of-incumbent-scripts&gt;stack of incumbent
   scripts&lt;/a&gt;. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP:all occurrences of 'incumbent'--&gt;
-
   &lt;hr&gt;&lt;p&gt;Each &lt;a href=#unit-of-related-similar-origin-browsing-contexts&gt;unit of related similar-origin browsing contexts&lt;/a&gt; has a &lt;dfn id=running-mutation-observers&gt;running mutation
   observers&lt;/dfn&gt; flag, which must initially be false. It is used to prevent reentrant invocation of
   the algorithm to &lt;a href=#concept-mo-invoke title=concept-mo-invoke&gt;invoke &lt;code&gt;MutationObserver&lt;/code&gt;
@@ -73625,9 +73628,8 @@
 
     &lt;p&gt;If the &lt;a href=#active-sandboxing-flag-set&gt;active sandboxing flag set&lt;/a&gt; of the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the
     &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary
-    navigation browsing context flag&lt;/a&gt; set, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    script&lt;/a&gt; has its &lt;a href=#sandboxed-auxiliary-navigation-browsing-context-flag&gt;sandboxed auxiliary navigation browsing context flag&lt;/a&gt; set,
+    then return the empty string and abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73640,9 +73642,8 @@
 
    &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing
-    contexts&lt;/var&gt; be a list of all the browsing contexts that:&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt; be a list of all the
+    browsing contexts that:&lt;/p&gt;
 
     &lt;ul&gt;&lt;li&gt;are part of the same &lt;a href=#unit-of-related-browsing-contexts&gt;unit of related browsing contexts&lt;/a&gt; as the browsing context
      of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the &lt;code title=dom-showModalDialog&gt;&lt;a href=#dom-showmodaldialog&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method was called, and that&lt;/li&gt;
@@ -73651,8 +73652,8 @@
      origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;,&lt;/li&gt; &lt;!-- Note that changing
      document.domain to talk to another domain doesn't make you able to block that domain --&gt;
 
-    &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any
-    of the browsing contexts matching those conditions.&lt;/p&gt;
+    &lt;/ul&gt;&lt;p&gt;...as well as any browsing contexts that are nested inside any of the browsing contexts
+    matching those conditions.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73718,9 +73719,8 @@
 
     &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
     the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
-    context&lt;/a&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
+    as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73740,11 +73740,10 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value-origin&gt;return value origin&lt;/a&gt; at
-    the time the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing
-    context&quot;&gt;closed&lt;/a&gt; was the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;,
-    then let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing
-    context&lt;/a&gt;'s &lt;a href=#return-value&gt;return value&lt;/a&gt; as it stood when the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing context&quot;&gt;closed&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value-origin&gt;return value origin&lt;/a&gt; at the time
+    the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing context&quot;&gt;closed&lt;/a&gt; was the &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;, then let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;a href=#auxiliary-browsing-context&gt;auxiliary browsing context&lt;/a&gt;'s &lt;a href=#return-value&gt;return
+    value&lt;/a&gt; as it stood when the browsing context was &lt;a href=#close-a-browsing-context title=&quot;close a browsing
+    context&quot;&gt;closed&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be undefined.&lt;/p&gt;
 
@@ -80767,8 +80766,8 @@
    &lt;li&gt;&lt;p&gt;Create a new &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; object, associated with &lt;var title=&quot;&quot;&gt;worker global
    scope&lt;/var&gt;. Let &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt; be this new object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-new-messageport-object&gt;Create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/a&gt; owned by the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.
-   Let this be the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-new-messageport-object&gt;Create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/a&gt; owned by the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;. Let
+   this be the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Associate the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt;.&lt;/li&gt;
 
@@ -80792,8 +80791,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;a href=#list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt;.&lt;/p&gt;
+    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80808,10 +80807,10 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; is a
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. we are creating a nested worker), add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global
-    object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+    script&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object (i.e. we are creating a nested worker),
+    add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of
+    the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global
+    object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80819,8 +80818,9 @@
 
     &lt;p&gt;&lt;a href=#run-a-worker&gt;Run a worker&lt;/a&gt; for the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the
     &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the
-    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt;
-    of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the
+    &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;,
+    and with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80871,8 +80871,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;a href=#list-of-relevant-document-objects-to-add&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt;.&lt;/p&gt;
+    add&lt;/a&gt; given the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the
+    &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -80906,9 +80906,9 @@
      &lt;li&gt;
 
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is not null, but the user agent has been
-      configured to disallow communication between the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
-      and the worker represented by the &lt;var title=&quot;&quot;&gt;worker global
-      scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to null.&lt;/p&gt;
+      configured to disallow communication between the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; and the worker
+      represented by the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker
+      global scope&lt;/var&gt; to null.&lt;/p&gt;
 
       &lt;p class=note&gt;For example, a user agent could have a development mode that isolates a
       particular &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; from all other pages, and scripts in that
@@ -80953,11 +80953,10 @@
        &lt;li&gt;
 
         &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-        script&lt;/a&gt; is a
-        &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the
-        list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that
-        is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-        script&lt;/a&gt;.&lt;/p&gt;
+        script&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global
+        scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
+        &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global
+        object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
        &lt;/li&gt;
 
@@ -81004,10 +81003,9 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent
-    script&lt;/a&gt; that invoked the constructor is a
-    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list
-    of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the
-    &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+    script&lt;/a&gt; that invoked the constructor is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;a href=&quot;#the-worker's-workers&quot;&gt;the worker's workers&lt;/a&gt; of the
+    &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object that is the &lt;a href=&quot;#script's-global-object&quot; title=&quot;script's global object&quot;&gt;global
+    object&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -81015,8 +81013,8 @@
 
     &lt;p&gt;&lt;a href=#run-a-worker&gt;Run a worker&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;scriptURL&lt;/var&gt;, with the &lt;a href=&quot;#script's-browsing-context&quot;&gt;script's browsing
     context&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner browsing
-    context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;
-    the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
+    context&lt;/var&gt;, with the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt; the
+    &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
     script&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
@@ -81045,84 +81043,70 @@
 
   &lt;h4 id=importing-scripts-and-libraries&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/h4&gt;
 
-&lt;!--CLEANUP--&gt;
-  &lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-importscripts title=dom-WorkerGlobalScope-importScripts&gt;&lt;code&gt;importScripts(&lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a
-  &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent must run the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-importscripts title=dom-WorkerGlobalScope-importScripts&gt;&lt;code&gt;importScripts(&lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user
+  agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there are no arguments, return without doing
-   anything. Abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there are no arguments, return without doing anything. Abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; each
-   argument.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; each argument.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt;
-   exception and abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;&lt;a href=#syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; each resource
-    identified by the resulting &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute
-    URLs&lt;/a&gt;, from the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
-    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-referrer-source&quot; title=&quot;script's referrer source&quot;&gt;referrer source&lt;/a&gt;, and with
-    the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy
-    sensitive --&gt;
+    &lt;p&gt;Attempt to &lt;a href=#fetch&gt;fetch&lt;/a&gt;&lt;!--FETCH--&gt; each resource identified by the resulting &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/a&gt;, from the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
+    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-referrer-source&quot; title=&quot;script's referrer
+    source&quot;&gt;referrer source&lt;/a&gt;, and with the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not
+    http-origin privacy sensitive --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;For each argument in turn, in the order given, starting with
-    the first one, run these substeps:&lt;/p&gt;
+    &lt;p&gt;For each argument in turn, in the order given, starting with the first one, run these
+    substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;Wait for the fetching attempt for the corresponding resource
-      to complete.&lt;/p&gt;
+      &lt;p&gt;Wait for the fetching attempt for the corresponding resource to complete.&lt;/p&gt;
 
-      &lt;p&gt;If the fetching attempt failed, throw a
-      &lt;code&gt;&lt;a href=#networkerror&gt;NetworkError&lt;/a&gt;&lt;/code&gt; exception and abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the fetching attempt failed, throw a &lt;code&gt;&lt;a href=#networkerror&gt;NetworkError&lt;/a&gt;&lt;/code&gt; exception and abort all
+      these steps.&lt;/p&gt;
 
       &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the result of running the
       &lt;a href=#utf-8-decode&gt;UTF-8 decode&lt;/a&gt; algorithm on the script resource.&lt;/p&gt;
 
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-      &lt;p class=note&gt;As with the worker's script, the script here is
-      always assumed to be JavaScript, regardless of the MIME
-      type.&lt;/p&gt;
+      &lt;p class=note&gt;As with the worker's script, the script here is always assumed to be
+      JavaScript, regardless of the MIME type.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;&lt;a href=#create-a-script&gt;Create a script&lt;/a&gt;, using &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the &lt;a href=#url&gt;URL&lt;/a&gt;
-      from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the
-      same global object, browsing context, document, referrer source,
-      URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the
-      worker's &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#create-a-script&gt;Create a script&lt;/a&gt;, using &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the
+      &lt;a href=#url&gt;URL&lt;/a&gt; from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the same global object, browsing
+      context, document, referrer source, URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the worker's &lt;a href=#run-a-worker&gt;run a
+      worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
       &lt;p&gt;If the script came from a resource whose &lt;a href=#url&gt;URL&lt;/a&gt; does not have the &lt;a href=#same-origin&gt;same
       origin&lt;/a&gt; as the &lt;a href=#worker-origin&gt;worker origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
       errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt; algorithm.&lt;/p&gt;
 
       &lt;p&gt;Let the newly created &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; run until it either
-      returns, fails to parse, fails to catch an exception, or gets
-      prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or
-      &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined above.&lt;/p&gt;
+      returns, fails to parse, fails to catch an exception, or gets prematurely aborted by the
+      &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms defined
+      above.&lt;/p&gt;
 
-      &lt;p&gt;If it failed to parse, then throw an ECMAScript
-      &lt;code title=js-SyntaxError&gt;&lt;a href=#js-syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort all these
-      steps. &lt;a href=#refsECMA262&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
+      &lt;p&gt;If it failed to parse, then throw an ECMAScript &lt;code title=js-SyntaxError&gt;&lt;a href=#js-syntaxerror&gt;SyntaxError&lt;/a&gt;&lt;/code&gt; exception and abort all these steps. &lt;a href=#refsECMA262&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
 
-      &lt;p&gt;If an exception was thrown or if the script was prematurely
-      aborted, then abort all these steps, letting the exception or
-      aborting continue to be processed by the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;If an exception was thrown or if the script was prematurely aborted, then abort all these
+      steps, letting the exception or aborting continue to be processed by the &lt;a href=#incumbent-script&gt;incumbent
+      script&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a
-      worker&lt;/a&gt;&quot; algorithms abort the script then abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or &quot;&lt;a href=#terminate-a-worker&gt;terminate a worker&lt;/a&gt;&quot; algorithms abort
+      the script then abort all these steps.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -83141,8 +83125,8 @@
     initialized to the value of &lt;var title=&quot;&quot;&gt;message clone&lt;/var&gt;, the &lt;code title=dom-MessageEvent-origin&gt;&lt;a href=#dom-messageevent-origin&gt;origin&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the &lt;a href=#unicode-serialization-of-an-origin title=&quot;Unicode serialization of an origin&quot;&gt;Unicode serialization&lt;/a&gt; of the
     &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;a href=#incumbent-script&gt;incumbent script&lt;/a&gt;, the &lt;code title=dom-MessageEvent-source&gt;&lt;a href=#dom-messageevent-source&gt;source&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the
     &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;'s &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object, and the &lt;code title=dom-MessageEvent-ports&gt;&lt;a href=#dom-messageevent-ports&gt;ports&lt;/a&gt;&lt;/code&gt; attribute must be initialized to the &lt;var title=&quot;&quot;&gt;new ports&lt;/var&gt; array.
-    &lt;/p&gt; &lt;!-- invariant: the global object is always a Window if the
-    script can see this method --&gt;
+    &lt;/p&gt;
+    &lt;!-- invariant: the global object is always a Window if the script can see this method --&gt;
 
    &lt;/li&gt;
 
@@ -89326,8 +89310,8 @@
     interface), with the tag name being the name of that element, with the node being in the given
     namespace, and with the attributes on the node being those given in the given token.&lt;/p&gt;
 
-    &lt;p&gt;The interface appropriate for an element in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt; that is not defined
-    in this specification (or &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;) is
+    &lt;p&gt;The interface appropriate for an element in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt; that is not
+    defined in this specification (or &lt;a href=#other-applicable-specifications&gt;other applicable specifications&lt;/a&gt;) is
     &lt;code&gt;&lt;a href=#htmlunknownelement&gt;HTMLUnknownElement&lt;/a&gt;&lt;/code&gt;. Elements in other namespaces whose interface is not defined by
     that namespace's specification must use the interface &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
@@ -89337,23 +89321,17 @@
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; attribute &lt;em&gt;in the
-   &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace, that
-   is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Similarly, if the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns:xlink&lt;/code&gt; attribute in the &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt; whose value is not the
+   &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace,
+   that is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;. Similarly, if the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns:xlink&lt;/code&gt; attribute in the &lt;a href=#xmlns-namespace&gt;XMLNS namespace&lt;/a&gt; whose value is not the
    &lt;a href=#xlink-namespace&gt;XLink Namespace&lt;/a&gt;, that is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
-   &lt;li&gt;
+   &lt;li&gt;&lt;p&gt;If the newly created element is a &lt;a href=#category-reset title=category-reset&gt;resettable element&lt;/a&gt;,
+   invoke its &lt;a href=#concept-form-reset-control title=concept-form-reset-control&gt;reset algorithm&lt;/a&gt;. (This initializes the
+   element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; and &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; based on the element's attributes.)&lt;/li&gt;
 
-    &lt;p&gt;If the newly created element is a &lt;a href=#category-reset title=category-reset&gt;resettable element&lt;/a&gt;,
-    invoke its &lt;a href=#concept-form-reset-control title=concept-form-reset-control&gt;reset algorithm&lt;/a&gt;. (This initializes
-    the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; and &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; based on the element's attributes.)&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the element is a &lt;a href=#form-associated-element&gt;form-associated element&lt;/a&gt;, and the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null,
-   and there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
-   and the newly created element is either not &lt;a href=#category-form-attr title=category-form-attr&gt;reassociateable&lt;/a&gt; or doesn't
-   have a &lt;code title=attr-fae-form&gt;&lt;a href=#attr-fae-form&gt;form&lt;/a&gt;&lt;/code&gt; attribute, &lt;a href=#concept-form-association title=concept-form-association&gt;associate&lt;/a&gt; the newly created element with the
+   &lt;li&gt;&lt;p&gt;If the element is a &lt;a href=#form-associated-element&gt;form-associated element&lt;/a&gt;, and the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null, and there is no &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+   element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and the newly created element is either not
+   &lt;a href=#category-form-attr title=category-form-attr&gt;reassociateable&lt;/a&gt; or doesn't have a &lt;code title=attr-fae-form&gt;&lt;a href=#attr-fae-form&gt;form&lt;/a&gt;&lt;/code&gt; attribute, &lt;a href=#concept-form-association title=concept-form-association&gt;associate&lt;/a&gt; the newly created element with the
    &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element pointed to by the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
    pointer&lt;/a&gt;, and suppress the running of the &lt;a href=#reset-the-form-owner&gt;reset the form owner&lt;/a&gt; algorithm in
    the next step.&lt;/li&gt;
@@ -89362,15 +89340,15 @@
 
   &lt;/ol&gt;&lt;hr&gt;&lt;!-- The names of these algorithms are kinda confusing; e.g. see the confusion in
          <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367">https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367</A>
-       Not sure what we could call them instead, though... --&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-a-foreign-element&gt;insert a foreign element&lt;/dfn&gt; for a token in a given namespace,
-  the user agent must run these steps:&lt;/p&gt;
+       Not sure what we could call them instead, though... --&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-a-foreign-element&gt;insert a foreign element&lt;/dfn&gt; for a token
+  in a given namespace, the user agent must run these steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate
-   place for inserting a node&lt;/a&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place for
+   inserting a node&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the given namespace, with the
-   intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-   finds itself.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the given namespace, with the intended
+   parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; finds
+   itself.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -89390,7 +89368,8 @@
    &lt;li&gt;&lt;p&gt;Return the newly created element.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=insert-an-html-element&gt;insert an HTML element&lt;/dfn&gt; for a token,
-  the user agent must &lt;a href=#insert-a-foreign-element&gt;insert a foreign element&lt;/a&gt; for the token, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;.&lt;/p&gt;
+  the user agent must &lt;a href=#insert-a-foreign-element&gt;insert a foreign element&lt;/a&gt; for the token, in the &lt;a href=#html-namespace-0&gt;HTML
+  namespace&lt;/a&gt;.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;When the steps below require the user agent to &lt;dfn id=adjust-mathml-attributes&gt;adjust MathML attributes&lt;/dfn&gt; for a token,
   then, if the token has an attribute named &lt;code title=&quot;&quot;&gt;definitionurl&lt;/code&gt;, change its name to
@@ -89819,9 +89798,8 @@
     &lt;p&gt;&lt;a href=#insert-a-comment&gt;Insert a comment&lt;/a&gt; as the last child of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;A character token that is one of U+0009 CHARACTER
-   TABULATION, U+000A LINE FEED (LF), U+000C FORM FEED (FF),
-   U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
+   &lt;dt&gt;A character token that is one of U+0009 CHARACTER TABULATION, U+000A LINE FEED (LF), U+000C
+   FORM FEED (FF), U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
@@ -89829,27 +89807,24 @@
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML
-    namespace&lt;/a&gt;, with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-    object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put
+    this element in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p id=parser-appcache&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being
-    loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a
-    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: if the newly created element
-    has a &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute
-    whose value is not the empty string, then &lt;a href=#resolve-a-url title=&quot;resolve a
-    url&quot;&gt;resolve&lt;/a&gt; the value of that attribute to an
-    &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, relative to the newly created element,
-    and if that is successful, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with the result of applying the &lt;a href=#concept-url-serializer title=concept-url-serializer&gt;URL serializer&lt;/a&gt; algorithm to
-    the resulting &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; with the &lt;i&gt;exclude fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is
-    the empty string, or resolving its value fails, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with no manifest. The algorithm must be passed
-    the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+    &lt;p id=parser-appcache&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: if the newly
+    created element has a &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute whose value is
+    not the empty string, then &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the value of that
+    attribute to an &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, relative to the newly created element, and if that is
+    successful, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
+    algorithm&lt;/a&gt; with the result of applying the &lt;a href=#concept-url-serializer title=concept-url-serializer&gt;URL
+    serializer&lt;/a&gt; algorithm to the resulting &lt;a href=#parsed-url&gt;parsed URL&lt;/a&gt; with the &lt;i&gt;exclude
+    fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is the empty
+    string, or resolving its value fails, run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application
+    cache selection algorithm&lt;/a&gt; with no manifest. The algorithm must be passed the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -89866,24 +89841,21 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Create an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Append it to the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack
-    of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Create an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=dom-Node-ownerDocument&gt;&lt;a href=#dom-node-ownerdocument&gt;ownerDocument&lt;/a&gt;&lt;/code&gt; is the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Append
+    it to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object. Put this element in the &lt;a href=#stack-of-open-elements&gt;stack of open
+    elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing
-    context&lt;/a&gt;, then: run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection
-    algorithm&lt;/a&gt; with no manifest, passing it the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is being loaded as part of &lt;a href=#navigate title=navigate&gt;navigation&lt;/a&gt; of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then: run the &lt;a href=#concept-appcache-init title=concept-appcache-init&gt;application cache selection algorithm&lt;/a&gt; with no manifest,
+    passing it the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;, then
-    reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/a&gt;&quot;, then reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;The root element can end up being removed from the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, e.g. by scripts; nothing in particular
-  happens in such cases, content continues being appended to the nodes
-  as described in the next section.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;The root element can end up being removed from the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, e.g. by
+  scripts; nothing in particular happens in such cases, content continues being appended to the
+  nodes as described in the next section.&lt;/p&gt;
 
 
   &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
@@ -89909,8 +89881,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
@@ -89918,10 +89890,11 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
-    to the newly created &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; to the newly created
+    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -89946,10 +89919,11 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for a &quot;head&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
-    to the newly created &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; to the newly created
+    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
     &lt;!-- end of fake &lt;head&gt; --&gt;
 
@@ -89980,32 +89954,30 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
    &quot;bgsound&quot;, &quot;link&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately
-    pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately pop the &lt;a href=#current-node&gt;current
+    node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;meta&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately
-    pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately pop the &lt;a href=#current-node&gt;current
+    node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#acknowledge-self-closing-flag title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/a&gt;, if it is set.&lt;/p&gt;
 
     &lt;p id=meta-charset-during-parse&gt;If the element has a &lt;code title=attr-meta-charset&gt;&lt;a href=#attr-meta-charset&gt;charset&lt;/a&gt;&lt;/code&gt; attribute, and &lt;a href=#getting-an-encoding&gt;getting an encoding&lt;/a&gt; from
     its value results in a supported &lt;a href=#ascii-compatible-character-encoding&gt;ASCII-compatible character encoding&lt;/a&gt; or &lt;a href=#a-utf-16-encoding&gt;a
@@ -90037,8 +90009,8 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head
-    noscript&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in
+    head noscript&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90048,32 +90020,27 @@
 
     &lt;p&gt;Run these steps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate
-     place for inserting a node&lt;/a&gt;.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place
+     for inserting a node&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with the
-     intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-     finds itself.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with
+     the intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion
+     location&lt;/var&gt; finds itself.&lt;/li&gt;
 
      &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-      &lt;p&gt;Mark the element as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and
-      unset the element's &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag.&lt;/p&gt;
+      &lt;p&gt;Mark the element as being &lt;a href=#parser-inserted&gt;&quot;parser-inserted&quot;&lt;/a&gt; and unset the element's
+      &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag.&lt;/p&gt;
 
-      &lt;p class=note&gt;This ensures that, if the script is external,
-      any &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;
-      calls in the script will execute in-line, instead of blowing the
-      document away, as would happen in most other cases. It also
-      prevents the script from executing until the end tag is
-      seen.&lt;/p&gt;
+      &lt;p class=note&gt;This ensures that, if the script is external, any &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; calls in the script will execute in-line,
+      instead of blowing the document away, as would happen in most other cases. It also prevents
+      the script from executing until the end tag is seen.&lt;/p&gt;
 
      &lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML
-     fragment parsing algorithm&lt;/a&gt;, then mark the
-     &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already
-     started&quot;&lt;/a&gt;. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing
+     algorithm&lt;/a&gt;, then mark the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already started&quot;&lt;/a&gt;.
+     (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
      location&lt;/var&gt;.&lt;/li&gt;
@@ -90081,24 +90048,24 @@
      &lt;li&gt;&lt;p&gt;Push the element onto the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; so that it is the new
      &lt;a href=#current-node&gt;current node&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;a href=#script-data-state&gt;script data
-     state&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current
-     &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current &lt;a href=#insertion-mode&gt;insertion
+     mode&lt;/a&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode:
+     text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be the
-    &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element) off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be the &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element) off the
+    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after
+    head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90138,12 +90105,10 @@
      &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element, then this is a
      &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-     until a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element has been
-     popped from the stack.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; until a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt;
+     element has been popped from the stack.&lt;/li&gt;
 
-     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the
-     last marker&lt;/a&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to the last marker&lt;/a&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Pop the &lt;a href=#current-template-insertion-mode&gt;current template insertion mode&lt;/a&gt; off the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template
      insertion modes&lt;/a&gt;.&lt;/p&gt;
@@ -90278,7 +90243,8 @@
 
     &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90287,28 +90253,28 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in
+    frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
-   &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Push the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; onto the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Push the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; onto
+    the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Remove the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; from the &lt;a href=#stack-of-open-elements&gt;stack
-    of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
+    from the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;The &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-    pointer&lt;/a&gt; cannot be null at this point.&lt;/p&gt;
+    &lt;p class=note&gt;The &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; cannot be null at
+    this point.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90329,7 +90295,8 @@
     &lt;!-- fake &lt;body&gt;, but without resetting frameset-ok --&gt;
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for a &quot;body&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;body&gt; --&gt;
 
     &lt;p&gt;Reprocess the current token.&lt;/p&gt;
@@ -90359,22 +90326,18 @@
    RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;Any other character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#reconstruct-the-active-formatting-elements&gt;Reconstruct the active formatting elements&lt;/a&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
@@ -90392,23 +90355,24 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
+
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then
     ignore the token.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, for each attribute on the token,
-    check to see if the attribute is already present on the top
-    element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not,
-    add the attribute and its corresponding value to that element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, for each attribute on the token, check to see if the attribute is already present
+    on the top element of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;. If it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
-    mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -90416,18 +90380,15 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, if the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
-    or if there is a &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;,
-    then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;
+    element, if the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it, or if there is a
+    &lt;code&gt;&lt;a href=#the-template-element&gt;template&lt;/a&gt;&lt;/code&gt; element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, then ignore the token.
+    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;;
-    then, for each attribute on the token, check to see if the
-    attribute is already present on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element (the
-    second element) on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and if
-    it is not, add the attribute and its corresponding value to that
-    element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, set the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; to &quot;not ok&quot;; then, for each attribute on the
+    token, check to see if the attribute is already present on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element (the
+    second element) on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, and if it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90436,43 +90397,36 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
-    &lt;p&gt;If the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or, if the
-    &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it,
-    then ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; has only one node on it, or if the second element
+    on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, then ignore the
+    token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; is set to &quot;not ok&quot;, ignore
-    the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#frameset-ok-flag&gt;frameset-ok flag&lt;/a&gt; is set to &quot;not ok&quot;, ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, run the following steps:&lt;/p&gt;
 
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Remove the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open
-     elements&lt;/a&gt; from its parent node, if it has one.&lt;/li&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Remove the second element on the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; from its parent
+     node, if it has one.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;a href=#stack-of-open-elements&gt;stack of
-     open elements&lt;/a&gt;, from the &lt;a href=#current-node&gt;current node&lt;/a&gt; up to,
-     but not including, the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;, from the
+     &lt;a href=#current-node&gt;current node&lt;/a&gt; up to, but not including, the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the
-     token.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in
+     frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;
-    that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;
-    element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the
-    &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then
-    this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
-    fragment cases) --&gt;
+    &lt;p&gt;If there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;
+    element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element,
+    a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the
+    &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases) --&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-template-insertion-modes&gt;stack of template insertion modes&lt;/a&gt; is not empty, then process the token
     &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intemplate title=&quot;insertion mode: in template&quot;&gt;in
@@ -90486,32 +90440,27 @@
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
+    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -90519,32 +90468,27 @@
    &lt;dd&gt;
 
     &lt;!-- fake &lt;/body&gt; --&gt;
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt; that is not either a &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an
-    &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a
-    &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
-    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; that is not either a
+    &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element, an
+    &lt;code&gt;&lt;a href=#the-rp-element&gt;rp&lt;/a&gt;&lt;/code&gt; element, an &lt;code&gt;&lt;a href=#the-rt-element&gt;rt&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element, a
+    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element, a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, or the
+    &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, then this is a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/a&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;/body&gt; --&gt;
 
     &lt;p&gt;Reprocess the token.&lt;/p&gt;
@@ -90554,20 +90498,18 @@
    &lt;!-- start tags for non-phrasing flow content elements --&gt;
 
    &lt;!-- the normal ones --&gt;
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;,
-   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;, &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;,
+   &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
    &quot;hgroup&quot;, &quot;main&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
-    as close to what IE does as I can get without doing the non-tree
-    DOM nonsense, and thus should actually afford better compatibility
-    when implemented by the other browsers. --&gt;
+    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is as close to what IE does as I
+    can get without doing the non-tree DOM nonsense, and thus should actually afford better
+    compatibility when implemented by the other browsers. --&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an
-    element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
@@ -90578,14 +90520,13 @@
    &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; whose tag name
-    is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a
-    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off
-    the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML element&lt;/a&gt; whose
+    tag name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
     &lt;!-- See <A HREF="https://bugs.webkit.org/show_bug.cgi?id=12646">https://bugs.webkit.org/show_bug.cgi?id=12646</A> --&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
@@ -90596,16 +90537,15 @@
    &lt;dt&gt;A start tag whose tag name is one of: &quot;pre&quot;, &quot;listing&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#next-token&gt;next token&lt;/a&gt; is a U+000A LINE FEED (LF) character
-    token, then ignore that token and move on to the next
-    one. (Newlines at the start of &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt; blocks are
-    ignored as an authoring convenience.)&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#next-token&gt;next token&lt;/a&gt; is a U+000A LINE FEED (LF) character token, then ignore that
+    token and move on to the next one. (Newlines at the start of &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt; blocks are ignored
+    as an authoring convenience.)&lt;/p&gt;
 
     &lt;!-- &lt;pre&gt;[CR]X will eat the [CR], &lt;pre&gt;&amp;#x10;X will eat the
     &amp;#x10;, but &lt;pre&gt;&amp;#x13;X will not eat the &amp;#x13;. --&gt;
@@ -90618,19 +90558,16 @@
    &lt;dt&gt;A start tag whose tag name is &quot;form&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element
-    pointer&lt;/a&gt; is not null, then this is a &lt;a href=#parse-error&gt;parse
-    error&lt;/a&gt;; ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; is not null, then this is
+    a &lt;a href=#parse-error&gt;parse error&lt;/a&gt;; ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; &lt;a href=#has-an-element-in-button-scope title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/a&gt;, then &lt;a href=#close-a-p-element&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, and set the
-    &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; to
-    point to the element created.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, and set the &lt;a href=#form-element-pointer&gt;&lt;code title=form&gt;form&lt;/code&gt; element pointer&lt;/a&gt; to point to the element created.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91564,11 +91501,11 @@
      formatting elements&lt;/a&gt;, then remove &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; from the &lt;a href=#stack-of-open-elements&gt;stack of open
      elements&lt;/a&gt; and then go back to the step labeled &lt;i&gt;inner loop&lt;/i&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
-     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which the element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; as the intended
-     parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting
-     elements&lt;/a&gt; with an entry for the new element, replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; with an entry for the new
-     element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which the element &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;common
+     ancestor&lt;/var&gt; as the intended parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
+     &lt;a href=#list-of-active-formatting-elements&gt;list of active formatting elements&lt;/a&gt; with an entry for the new element, replace the
+     entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; with an entry for
+     the new element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; is &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;, then move the
      aforementioned bookmark to be immediately after the new &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
@@ -91587,10 +91524,9 @@
    &lt;a href=#appropriate-place-for-inserting-a-node&gt;appropriate place for inserting a node&lt;/a&gt;, but using &lt;var title=&quot;&quot;&gt;common
    ancestor&lt;/var&gt; as the &lt;i&gt;override target&lt;/i&gt;.&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
    &lt;li&gt;&lt;p&gt;&lt;a href=#create-an-element-for-the-token&gt;Create an element for the token&lt;/a&gt; for which &lt;var title=&quot;&quot;&gt;formatting
-   element&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; as the intended
-   parent.&lt;/li&gt;
+   element&lt;/var&gt; was created, in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, with &lt;var title=&quot;&quot;&gt;furthest
+   block&lt;/var&gt; as the intended parent.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take all of the child nodes of &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; and append them to the
    element created in the last step.&lt;/li&gt;
@@ -91623,12 +91559,10 @@
   &lt;dl class=switch&gt;&lt;dt&gt;A character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#insert-a-character title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;This can never be a U+0000 NULL character; the
-    tokenizer converts those to U+FFFD REPLACEMENT CHARACTER
-    characters.&lt;/p&gt;
+    &lt;p class=note&gt;This can never be a U+0000 NULL character; the tokenizer converts those to
+    U+FFFD REPLACEMENT CHARACTER characters.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91638,15 +91572,13 @@
     &lt;!-- can't be the fragment case --&gt;
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt;
-    element, mark the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already
-    started&quot;&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element, mark the
+    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element as &lt;a href=#already-started&gt;&quot;already started&quot;&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt; and reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; and
+    reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -91657,51 +91589,43 @@
 
     &lt;p&gt;&lt;a href=#provide-a-stable-state&gt;Provide a stable state&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;a href=#current-node&gt;current node&lt;/a&gt;
-    (which will be a &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element).&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be a
+    &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element).&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
-    same value as the current &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;. Let
-    the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next
+    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the same value as the current
+    &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;. Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; be just before the &lt;a href=#next-input-character&gt;next
     input character&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by
-    one.&lt;/p&gt;
+    &lt;p&gt;Increment the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#prepare-a-script title=&quot;prepare a script&quot;&gt;Prepare&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;script&lt;/var&gt;. This might cause some script to execute,
-    which might cause &lt;a href=#dom-document-write title=dom-document-write&gt;new characters
-    to be inserted into the tokenizer&lt;/a&gt;, and might cause the
-    tokenizer to output more tokens, resulting in a &lt;a href=#nestedParsing&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#prepare-a-script title=&quot;prepare a script&quot;&gt;Prepare&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;script&lt;/var&gt;. This might
+    cause some script to execute, which might cause &lt;a href=#dom-document-write title=dom-document-write&gt;new characters
+    to be inserted into the tokenizer&lt;/a&gt;, and might cause the tokenizer to output more tokens,
+    resulting in a &lt;a href=#nestedParsing&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by
-    one. If the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is zero,
-    then set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
+    &lt;p&gt;Decrement the parser's &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; by one. If the parser's &lt;a href=#script-nesting-level&gt;script
+    nesting level&lt;/a&gt; is zero, then set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to false.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; have the value of the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt;. (In other words, restore the
-    &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to its previous value. This value
-    might be the &quot;undefined&quot; value.)&lt;/p&gt;
+    &lt;p&gt;Let the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; have the value of the &lt;var title=&quot;&quot;&gt;old insertion
+    point&lt;/var&gt;. (In other words, restore the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; to its previous value.
+    This value might be the &quot;undefined&quot; value.)&lt;/p&gt;
 
-    &lt;p id=scriptTagParserResumes&gt;At this stage, if there is a
-    &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then:&lt;/p&gt;
+    &lt;p id=scriptTagParserResumes&gt;At this stage, if there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking
+    script&lt;/a&gt;, then:&lt;/p&gt;
 
     &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#script-nesting-level&gt;script nesting level&lt;/a&gt; is not zero:&lt;/dt&gt;
 
      &lt;dd&gt;
 
-      &lt;p&gt;Set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to true, and abort the
-      processing of any nested invocations of the tokenizer, yielding
-      control back to the caller. (Tokenization will resume when the
-      caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
+      &lt;p&gt;Set the &lt;a href=#parser-pause-flag&gt;parser pause flag&lt;/a&gt; to true, and abort the processing of any nested
+      invocations of the tokenizer, yielding control back to the caller. (Tokenization will resume
+      when the caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
 
-      &lt;p class=note&gt;The tree construction stage of this particular
-      parser is &lt;a href=#nestedParsing&gt;being called reentrantly&lt;/a&gt;,
-      say from a call to &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+      &lt;p class=note&gt;The tree construction stage of this particular parser is &lt;a href=#nestedParsing&gt;being called reentrantly&lt;/a&gt;, say from a call to &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -91753,15 +91677,13 @@
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
-    insertion mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;!--CLEANUP--&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2013-08-01 20:22:26 UTC (rev 8117)
+++ source	2013-08-01 20:44:06 UTC (rev 8118)
@@ -8442,18 +8442,15 @@
 
   &lt;/dl&gt;
 
-  &lt;p&gt;&lt;dfn&gt;The body element&lt;/dfn&gt; of a document is the first child of
-  &lt;span&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/span&gt; that is either a
-  &lt;code&gt;body&lt;/code&gt; element or a &lt;code&gt;frameset&lt;/code&gt; element. If
+  &lt;p&gt;&lt;dfn&gt;The body element&lt;/dfn&gt; of a document is the first child of &lt;span&gt;the &lt;code&gt;html&lt;/code&gt;
+  element&lt;/span&gt; that is either a &lt;code&gt;body&lt;/code&gt; element or a &lt;code&gt;frameset&lt;/code&gt; element. If
   there is no such element, it is null.&lt;/p&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-document-body&quot;&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return &lt;span&gt;the body element&lt;/span&gt; of
-  the document (either a &lt;code&gt;body&lt;/code&gt; element, a
-  &lt;code&gt;frameset&lt;/code&gt; element, or null). On setting, the following
-  algorithm must be run:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-document-body&quot;&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must return
+  &lt;span&gt;the body element&lt;/span&gt; of the document (either a &lt;code&gt;body&lt;/code&gt; element, a
+  &lt;code&gt;frameset&lt;/code&gt; element, or null). On setting, the following algorithm must be run:&lt;/p&gt;
 
   &lt;ol&gt;
 
@@ -8466,20 +8463,16 @@
     search for ::body
    --&gt;
 
-   &lt;li&gt;If the new value is not a &lt;code&gt;body&lt;/code&gt; or
-   &lt;code&gt;frameset&lt;/code&gt; element, then throw a
-   &lt;code&gt;HierarchyRequestError&lt;/code&gt; exception and abort these
-   steps.&lt;/li&gt;
+   &lt;li&gt;If the new value is not a &lt;code&gt;body&lt;/code&gt; or &lt;code&gt;frameset&lt;/code&gt; element, then throw a
+   &lt;code&gt;HierarchyRequestError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if the new value is the same as &lt;span&gt;the body
-   element&lt;/span&gt;, do nothing. Abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if the new value is the same as &lt;span&gt;the body element&lt;/span&gt;, do nothing. Abort
+   these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, if &lt;span&gt;the body element&lt;/span&gt; is not null, then
-   replace that element with the new value in the DOM, as if the root
-   element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had been
-   called with the new value and &lt;span title=&quot;the body element&quot;&gt;the
-   incumbent body element&lt;/span&gt; as its two arguments respectively,
-   then abort these steps.&lt;/li&gt;
+   &lt;li&gt;Otherwise, if &lt;span&gt;the body element&lt;/span&gt; is not null, then replace that element with the
+   new value in the DOM, as if the root element's &lt;code title=&quot;&quot;&gt;replaceChild()&lt;/code&gt; method had
+   been called with the new value and &lt;span title=&quot;the body element&quot;&gt;the incumbent body
+   element&lt;/span&gt; as its two arguments respectively, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Otherwise, if there is no root element, throw a &lt;code&gt;HierarchyRequestError&lt;/code&gt; exception
    and abort these steps.&lt;/li&gt;
@@ -13791,15 +13784,14 @@
     &lt;span&gt;character encoding declaration&lt;/span&gt;. &lt;span class=&quot;impl&quot;&gt;This state's user agent
     requirements are all handled by the parsing section of the specification.&lt;/span&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;
     &lt;p&gt;For &lt;code&gt;meta&lt;/code&gt; elements with an &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt;
     attribute in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaration
     state&lt;/span&gt;, the &lt;code title=&quot;attr-meta-content&quot;&gt;content&lt;/code&gt; attribute must have a value
     that is an &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for a string that consists of: the literal
     string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by any number of &lt;span
     title=&quot;space character&quot;&gt;space characters&lt;/span&gt;, followed by the literal string &quot;&lt;code
-    title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;span title=&quot;encoding label&quot;&gt;labels&lt;/span&gt; of the &lt;span
-    title=&quot;encoding&quot;&gt;character encoding&lt;/span&gt; of the &lt;span&gt;character encoding
+    title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by one of the &lt;span title=&quot;encoding label&quot;&gt;labels&lt;/span&gt; of
+    the &lt;span title=&quot;encoding&quot;&gt;character encoding&lt;/span&gt; of the &lt;span&gt;character encoding
     declaration&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;A document must not contain both a &lt;code&gt;meta&lt;/code&gt; element with an &lt;code
@@ -26478,17 +26470,17 @@
     &lt;/div&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;
-&lt;!--CLEANUP--&gt;
 
-  &lt;p&gt;The &lt;code&gt;embed&lt;/code&gt; element provides an integration point for an external
-  (typically non-HTML) application or interactive content.&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;embed&lt;/code&gt; element provides an integration point for an external (typically
+  non-HTML) application or interactive content.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-embed-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute gives the address of the
   resource being embedded. The attribute, if present, must contain a &lt;span&gt;valid non-empty URL
   potentially surrounded by spaces&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;attr-itemprop&quot;&gt;itemprop&lt;/code&gt; attribute is specified on an &lt;code&gt;embed&lt;/code&gt;
-  element, then the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute must also be specified.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=&quot;attr-itemprop&quot;&gt;itemprop&lt;/code&gt; attribute is specified on an
+  &lt;code&gt;embed&lt;/code&gt; element, then the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute must also
+  be specified.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-embed-type&quot;&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt; attribute, if present, gives the
   &lt;span&gt;MIME type&lt;/span&gt; by which the plugin to instantiate is selected. The value must be a
@@ -26541,8 +26533,8 @@
   remaining &lt;span title=&quot;concept-embed-active&quot;&gt;potentially active&lt;/span&gt; and has its &lt;code
   title=&quot;attr-embed-type&quot;&gt;src&lt;/code&gt; attribute set, changed, or removed or its &lt;code
   title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute set, changed, or removed, the user agent must
-  &lt;span&gt;queue a task&lt;/span&gt; using the &lt;dfn&gt;embed task source&lt;/dfn&gt; to run
-  &lt;span&gt;the &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/span&gt;.&lt;/p&gt;
+  &lt;span&gt;queue a task&lt;/span&gt; using the &lt;dfn&gt;embed task source&lt;/dfn&gt; to run &lt;span&gt;the
+  &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn&gt;The &lt;code&gt;embed&lt;/code&gt; element setup steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
 
@@ -26582,36 +26574,36 @@
         &lt;ol&gt;
 
          &lt;li&gt;&lt;p&gt;If the element has a &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute, and that
-         attribute's value is a type that a &lt;span&gt;plugin&lt;/span&gt; supports, then the value of the &lt;code
-         title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute is the &lt;span title=&quot;concept-embed-type&quot;&gt;content's
-         type&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+         attribute's value is a type that a &lt;span&gt;plugin&lt;/span&gt; supports, then the value of the
+         &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute is the &lt;span
+         title=&quot;concept-embed-type&quot;&gt;content's type&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
          &lt;li&gt;
 
           &lt;!-- if we get to this point we know we can successfully parsed the URL, since this algorithm is
           only used after fetching the resource in the steps above --&gt;
 
-          &lt;p&gt;Otherwise, if applying the &lt;span&gt;URL parser&lt;/span&gt; algorithm to the &lt;span&gt;URL&lt;/span&gt; of the
-          specified resource (after any redirects) results in a &lt;span&gt;parsed URL&lt;/span&gt; whose &lt;span
-          title=&quot;concept-url-path&quot;&gt;path&lt;/span&gt; component matches a pattern that a &lt;span&gt;plugin&lt;/span&gt;
-          supports, then the &lt;span title=&quot;concept-embed-type&quot;&gt;content's type&lt;/span&gt; is the type that that
-          plugin can handle.&lt;/p&gt;
+          &lt;p&gt;Otherwise, if applying the &lt;span&gt;URL parser&lt;/span&gt; algorithm to the &lt;span&gt;URL&lt;/span&gt; of
+          the specified resource (after any redirects) results in a &lt;span&gt;parsed URL&lt;/span&gt; whose
+          &lt;span title=&quot;concept-url-path&quot;&gt;path&lt;/span&gt; component matches a pattern that a
+          &lt;span&gt;plugin&lt;/span&gt; supports, then the &lt;span title=&quot;concept-embed-type&quot;&gt;content's
+          type&lt;/span&gt; is the type that that plugin can handle.&lt;/p&gt;
 
           &lt;p class=&quot;example&quot;&gt;For example, a plugin might say that it can handle resources with &lt;span
-          title=&quot;concept-url-path&quot;&gt;path&lt;/span&gt; components that end with the four character string &quot;&lt;code
-          title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
+          title=&quot;concept-url-path&quot;&gt;path&lt;/span&gt; components that end with the four character string
+          &quot;&lt;code title=&quot;&quot;&gt;.swf&lt;/code&gt;&quot;.&lt;/p&gt;
 
           &lt;!-- it's sad that we have to do extension sniffing. sigh. --&gt;
           &lt;!-- see also &lt;object&gt; which has a similar step --&gt;
 
          &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;span title=&quot;Content-Type&quot;&gt;explicit Content-Type
-         metadata&lt;/span&gt;, then that is the &lt;span title=&quot;concept-embed-type&quot;&gt;content's
+         &lt;li&gt;&lt;p&gt;Otherwise, if the specified resource has &lt;span title=&quot;Content-Type&quot;&gt;explicit
+         Content-Type metadata&lt;/span&gt;, then that is the &lt;span title=&quot;concept-embed-type&quot;&gt;content's
          type&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;span title=&quot;concept-embed-type&quot;&gt;type&lt;/span&gt; and there can
-         be no appropriate &lt;span&gt;plugin&lt;/span&gt; for it.&lt;/p&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;p&gt;Otherwise, the content has no &lt;span title=&quot;concept-embed-type&quot;&gt;type&lt;/span&gt; and there
+         can be no appropriate &lt;span&gt;plugin&lt;/span&gt; for it.&lt;/p&gt;&lt;/li&gt;
 
          &lt;!-- This algorithm is a monument to bad design. Go legacy! --&gt;
 
@@ -26993,13 +26985,15 @@
 
      &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;attr-object-type&quot;&gt;type&lt;/code&gt; attribute is present and its value is
      not a type that the user agent supports, and is not a type that the user agent can find a
-     &lt;span&gt;plugin&lt;/span&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt; without fetching the content to examine its real type.&lt;/p&gt;&lt;/li&gt;
+     &lt;span&gt;plugin&lt;/span&gt; for, then the user agent may jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;
+     without fetching the content to examine its real type.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt; specified by the &lt;code
      title=&quot;attr-object-data&quot;&gt;data&lt;/code&gt; attribute, relative to the element.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If that failed, &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
-     title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the element, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+     title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the element, then jump to the step below labeled
+     &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -27021,11 +27015,11 @@
 
      &lt;li&gt;&lt;p&gt;If the resource is not yet available (e.g. because the resource was not available in the
      cache, so that loading the resource required making a request over the network), then jump to
-     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;span
-     title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; by the
-     &lt;span&gt;networking task source&lt;/span&gt; once the resource is available must restart this algorithm
-     from this step. Resources can load incrementally; user agents may opt to consider a resource
-     &quot;available&quot; whenever enough data has been obtained to begin processing the resource.&lt;/p&gt;&lt;/li&gt;
+     the step below labeled &lt;i&gt;fallback&lt;/i&gt;. The &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is
+     &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking task source&lt;/span&gt; once the
+     resource is available must restart this algorithm from this step. Resources can load
+     incrementally; user agents may opt to consider a resource &quot;available&quot; whenever enough data has
+     been obtained to begin processing the resource.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If the load failed (e.g. there was an HTTP 404 error, there was a DNS error), &lt;span&gt;fire
      a simple event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the element, then jump to
@@ -27304,7 +27298,8 @@
 
         &lt;p&gt;Otherwise, the user agent should &lt;a href=&quot;#object-plugin&quot;&gt;use the plugin that supports
         &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt;&lt;/a&gt; and pass the content of the resource to that
-        &lt;span&gt;plugin&lt;/span&gt;. If the &lt;span&gt;plugin&lt;/span&gt; reports an error, then jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;span&gt;plugin&lt;/span&gt;. If the &lt;span&gt;plugin&lt;/span&gt; reports an error, then jump to the step
+        below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
        &lt;/dd&gt;
 
@@ -27375,7 +27370,8 @@
 
        &lt;dd&gt;
 
-        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
+        &lt;p&gt;The given &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; is not supported. Jump to the step below
+        labeled &lt;i&gt;fallback&lt;/i&gt;.&lt;/p&gt;
 
         &lt;p class=&quot;note&quot;&gt;If the previous step ended with the &lt;var title=&quot;&quot;&gt;resource type&lt;/var&gt; being
         unknown, this is the case that is triggered.&lt;/p&gt;
@@ -27577,6 +27573,7 @@
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;!--TOPIC:HTML--&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;The &lt;code&gt;param&lt;/code&gt; element defines parameters for plugins
   invoked by &lt;code&gt;object&lt;/code&gt; elements. It does not &lt;span
   title=&quot;represents&quot;&gt;represent&lt;/span&gt; anything on its own.&lt;/p&gt;
@@ -28985,17 +28982,18 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-&lt;!--CLEANUP--&gt;
   &lt;p&gt;The &lt;dfn title=&quot;dom-navigator-canPlayType&quot;&gt;&lt;code&gt;canPlayType(&lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn title=&quot;dom-CanPlayTypeEnum-nil&quot;&gt;the empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;
-  is &lt;span&gt;a type that the user agent knows it cannot render&lt;/span&gt; or is the type
-  &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn title=&quot;dom-CanPlayTypeEnum-probably&quot;&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the
-  user agent is confident that the type represents a &lt;span&gt;media resource&lt;/span&gt; that it can render
-  if used in with this &lt;code&gt;audio&lt;/code&gt; or &lt;code&gt;video&lt;/code&gt; element; and it must return &quot;&lt;dfn
-  title=&quot;dom-CanPlayTypeEnum-maybe&quot;&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged to return &quot;&lt;code
-  title=&quot;dom-CanPlayTypeEnum-maybe&quot;&gt;maybe&lt;/code&gt;&quot; unless the type can be confidently established as being supported or not.
-  Generally, a user agent should never return &quot;&lt;code title=&quot;dom-CanPlayTypeEnum-probably&quot;&gt;probably&lt;/code&gt;&quot; for a type that
-  allows the &lt;code title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
+  title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return &lt;dfn title=&quot;dom-CanPlayTypeEnum-nil&quot;&gt;the
+  empty string&lt;/dfn&gt; if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;span&gt;a type that the user agent knows it cannot
+  render&lt;/span&gt; or is the type &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot;; it must return &quot;&lt;dfn
+  title=&quot;dom-CanPlayTypeEnum-probably&quot;&gt;&lt;code&gt;probably&lt;/code&gt;&lt;/dfn&gt;&quot; if the user agent is confident
+  that the type represents a &lt;span&gt;media resource&lt;/span&gt; that it can render if used in with this
+  &lt;code&gt;audio&lt;/code&gt; or &lt;code&gt;video&lt;/code&gt; element; and it must return &quot;&lt;dfn
+  title=&quot;dom-CanPlayTypeEnum-maybe&quot;&gt;&lt;code&gt;maybe&lt;/code&gt;&lt;/dfn&gt;&quot; otherwise. Implementors are encouraged
+  to return &quot;&lt;code title=&quot;dom-CanPlayTypeEnum-maybe&quot;&gt;maybe&lt;/code&gt;&quot; unless the type can be
+  confidently established as being supported or not. Generally, a user agent should never return
+  &quot;&lt;code title=&quot;dom-CanPlayTypeEnum-probably&quot;&gt;probably&lt;/code&gt;&quot; for a type that allows the &lt;code
+  title=&quot;&quot;&gt;codecs&lt;/code&gt; parameter if that parameter is not present.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -29249,7 +29247,6 @@
    &lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
                       (where setting it to empty is commented out) --&gt;
 
-&lt;!--CLEANUP--&gt;
    &lt;li&gt;&lt;p&gt;Set the element's &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to
    the &lt;code title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/code&gt; value.&lt;/p&gt;&lt;/li&gt;
 
@@ -29450,9 +29447,9 @@
      &lt;var title=&quot;&quot;&gt;absolute URL&lt;/var&gt;. If that algorithm returns without aborting &lt;em&gt;this&lt;/em&gt; one,
      then the load failed.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;span&gt;Queue a task&lt;/span&gt;, using the &lt;span&gt;DOM manipulation task
-     source&lt;/span&gt;, to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt;
-     at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Failed with elements&lt;/i&gt;: &lt;span&gt;Queue a task&lt;/span&gt;, using the &lt;span&gt;DOM
+     manipulation task source&lt;/span&gt;, to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+     title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; element.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Asynchronously &lt;span&gt;await a stable state&lt;/span&gt;. The &lt;span&gt;synchronous section&lt;/span&gt;
      consists of all the remaining steps of this algorithm until the algorithm says the
@@ -29681,8 +29678,8 @@
 
        &lt;li&gt;&lt;p&gt;&lt;span title=&quot;concept-event-fire&quot;&gt;Fire&lt;/span&gt; a &lt;span
        title=&quot;concept-events-trusted&quot;&gt;trusted&lt;/span&gt; event with the name &lt;code
-       title=&quot;event-media-addtrack&quot;&gt;addtrack&lt;/code&gt;, that does not bubble and is not cancelable, and that
-       uses the &lt;code&gt;TrackEvent&lt;/code&gt; interface, with the &lt;code
+       title=&quot;event-media-addtrack&quot;&gt;addtrack&lt;/code&gt;, that does not bubble and is not cancelable, and
+       that uses the &lt;code&gt;TrackEvent&lt;/code&gt; interface, with the &lt;code
        title=&quot;dom-TrackEvent-track&quot;&gt;track&lt;/code&gt; attribute initialized to the new
        &lt;code&gt;AudioTrack&lt;/code&gt; object, at this &lt;code&gt;AudioTrackList&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 
@@ -73084,8 +73081,9 @@
   &lt;p id=&quot;security-2&quot;&gt;User agents must throw a &lt;code&gt;SecurityError&lt;/code&gt; exception whenever any
   properties of a &lt;code&gt;Window&lt;/code&gt; object are accessed when the &lt;span&gt;incumbent script&lt;/span&gt; has
   an &lt;span&gt;effective script origin&lt;/span&gt; that is not the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as
-  &lt;span title=&quot;concept-document-window&quot;&gt;the &lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;,
-  with the following exceptions:&lt;/p&gt;
+  &lt;span title=&quot;concept-document-window&quot;&gt;the &lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;, with the following
+  exceptions:&lt;/p&gt;
 
   &lt;ul&gt;
 
@@ -73118,10 +73116,11 @@
   &lt;/ul&gt;
 
   &lt;p&gt;When the &lt;span&gt;incumbent script&lt;/span&gt;'s &lt;span&gt;effective script origin&lt;/span&gt; is different than
-  a &lt;span title=&quot;concept-document-window&quot;&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;, the
-  user agent must act as if any changes to that &lt;code&gt;Window&lt;/code&gt; object's properties, getters,
-  setters, etc, were not present, and as if all the properties of that &lt;code&gt;Window&lt;/code&gt; object
-  had their [[Enumerable]] attribute set to false.&lt;/p&gt;
+  a &lt;span title=&quot;concept-document-window&quot;&gt;&lt;code&gt;Window&lt;/code&gt; object's
+  &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;, the user agent must act as if
+  any changes to that &lt;code&gt;Window&lt;/code&gt; object's properties, getters, setters, etc, were not
+  present, and as if all the properties of that &lt;code&gt;Window&lt;/code&gt; object had their [[Enumerable]]
+  attribute set to false.&lt;/p&gt;
 
   &lt;p&gt;For members that return objects (including function objects), each distinct &lt;span&gt;effective
   script origin&lt;/span&gt; that is not the same as the &lt;code&gt;Window&lt;/code&gt; object's
@@ -73264,9 +73263,10 @@
   browsing context name&lt;/span&gt;, then the user agent must instead &lt;span&gt;queue a task&lt;/span&gt; to
   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the selected
   &lt;span&gt;browsing context&lt;/span&gt;'s &lt;code&gt;Window&lt;/code&gt; object, but with its &lt;code
-  title=&quot;dom-event-target&quot;&gt;target&lt;/code&gt; set to the selected &lt;span&gt;browsing context&lt;/span&gt;'s
-  &lt;span title=&quot;concept-document-window&quot;&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt; object (and the &lt;code
-  title=&quot;dom-event-currentTarget&quot;&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;Window&lt;/code&gt; object).&lt;/p&gt;
+  title=&quot;dom-event-target&quot;&gt;target&lt;/code&gt; set to the selected &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span
+  title=&quot;concept-document-window&quot;&gt;&lt;code&gt;Window&lt;/code&gt; object's &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt; object
+  (and the &lt;code title=&quot;dom-event-currentTarget&quot;&gt;currentTarget&lt;/code&gt; set to the &lt;code&gt;Window&lt;/code&gt;
+  object).&lt;/p&gt;
 
   &lt;p&gt;The method must return the &lt;code&gt;WindowProxy&lt;/code&gt; object of the &lt;span&gt;browsing context&lt;/span&gt;
   that was navigated, or null if no browsing context was navigated.&lt;/p&gt;
@@ -73859,14 +73859,14 @@
      &lt;dd&gt;
 
       &lt;p&gt;The &lt;span&gt;origin&lt;/span&gt; is an &lt;span title=&quot;concept-origin-alias&quot;&gt;alias&lt;/span&gt; to the
-      &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; when
-      the &lt;span&gt;navigate&lt;/span&gt; algorithm was invoked, or, if no &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;
-      was involved, of the &lt;code&gt;Document&lt;/code&gt; of the element that initiated the &lt;span
+      &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; when the &lt;span&gt;navigate&lt;/span&gt;
+      algorithm was invoked, or, if no &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; was involved, of
+      the &lt;code&gt;Document&lt;/code&gt; of the element that initiated the &lt;span
       title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; to that &lt;span&gt;URL&lt;/span&gt;.&lt;/p&gt;
 
       &lt;p&gt;The &lt;span&gt;effective script origin&lt;/span&gt; is initially an &lt;span
-      title=&quot;concept-origin-alias&quot;&gt;alias&lt;/span&gt; to the &lt;span&gt;effective script origin&lt;/span&gt; of that same &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; or
-      &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+      title=&quot;concept-origin-alias&quot;&gt;alias&lt;/span&gt; to the &lt;span&gt;effective script origin&lt;/span&gt; of that
+      same &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; or &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -74027,7 +74027,8 @@
 
      &lt;dt&gt;If a script is a function or other code reference created by another script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;span&gt;incumbent script&lt;/span&gt; when the function or other code reference was created.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;span&gt;incumbent script&lt;/span&gt; when the function or other code reference
+     was created.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a script is a &lt;span title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
@@ -74071,7 +74072,8 @@
      URL&lt;/span&gt; to which a &lt;span&gt;browsing context&lt;/span&gt; is being &lt;span
      title=&quot;navigate&quot;&gt;navigated&lt;/span&gt;, the URL having been provided by script&lt;/dt&gt;
 
-     &lt;dd&gt;The owner is the &lt;span&gt;incumbent script&lt;/span&gt; when the &lt;span&gt;navigate&lt;/span&gt; algorithm was invoked.&lt;/dd&gt;
+     &lt;dd&gt;The owner is the &lt;span&gt;incumbent script&lt;/span&gt; when the &lt;span&gt;navigate&lt;/span&gt; algorithm was
+     invoked.&lt;/dd&gt;
 
     &lt;/dl&gt;
 
@@ -75355,8 +75357,8 @@
 
   &lt;p&gt;Navigation for the &lt;code title=&quot;dom-location-assign&quot;&gt;assign()&lt;/code&gt; and &lt;code
   title=&quot;dom-location-replace&quot;&gt;replace()&lt;/code&gt; methods must be done with the &lt;span title=&quot;script's
-  browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; as the
-  &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
+  browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; as the &lt;span&gt;source
+  browsing context&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; step of the &lt;code
   title=&quot;dom-location-assign&quot;&gt;assign()&lt;/code&gt; and &lt;code
@@ -79953,8 +79955,6 @@
   &lt;p class=&quot;note&quot;&gt;The WebIDL specification also manipulates the &lt;span&gt;stack of incumbent
   scripts&lt;/span&gt;. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-&lt;!--CLEANUP:all occurrences of 'incumbent'--&gt;
-
   &lt;hr&gt;
 
   &lt;p&gt;Each &lt;span&gt;unit of related similar-origin browsing contexts&lt;/span&gt; has a &lt;dfn&gt;running mutation
@@ -82409,9 +82409,8 @@
 
     &lt;p&gt;If the &lt;span&gt;active sandboxing flag set&lt;/span&gt; of the &lt;span&gt;active document&lt;/span&gt; of the
     &lt;span title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt; has its &lt;span&gt;sandboxed auxiliary
-    navigation browsing context flag&lt;/span&gt; set, then return the empty string and abort these
-    steps.&lt;/p&gt;
+    script&lt;/span&gt; has its &lt;span&gt;sandboxed auxiliary navigation browsing context flag&lt;/span&gt; set,
+    then return the empty string and abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82425,9 +82424,8 @@
 
    &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing
-    contexts&lt;/var&gt; be a list of all the browsing contexts that:&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the list of background browsing contexts&lt;/var&gt; be a list of all the
+    browsing contexts that:&lt;/p&gt;
 
     &lt;ul&gt;
 
@@ -82441,8 +82439,8 @@
 
     &lt;/ul&gt;
 
-    &lt;p&gt;...as well as any browsing contexts that are nested inside any
-    of the browsing contexts matching those conditions.&lt;/p&gt;
+    &lt;p&gt;...as well as any browsing contexts that are nested inside any of the browsing contexts
+    matching those conditions.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82511,9 +82509,8 @@
     &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV showModalDialog--&gt; the new &lt;span&gt;browsing context&lt;/span&gt; to
     the &lt;span&gt;absolute URL&lt;/span&gt; that resulted from &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt;
     &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;span&gt;replacement enabled&lt;/span&gt;, and with the &lt;span
-    title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt; as the &lt;span&gt;source browsing
-    context&lt;/span&gt;.&lt;/p&gt;
+    title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;
+    as the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -82534,12 +82531,12 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;span&gt;auxiliary browsing context&lt;/span&gt;'s &lt;span&gt;return value origin&lt;/span&gt; at
-    the time the browsing context was &lt;span title=&quot;close a browsing
-    context&quot;&gt;closed&lt;/span&gt; was the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;,
-    then let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;span&gt;auxiliary browsing
-    context&lt;/span&gt;'s &lt;span&gt;return value&lt;/span&gt; as it stood when the browsing context was &lt;span
-    title=&quot;close a browsing context&quot;&gt;closed&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;auxiliary browsing context&lt;/span&gt;'s &lt;span&gt;return value origin&lt;/span&gt; at the time
+    the browsing context was &lt;span title=&quot;close a browsing context&quot;&gt;closed&lt;/span&gt; was the &lt;span
+    title=&quot;same origin&quot;&gt;same&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;incumbent origin&lt;/var&gt;, then let &lt;var
+    title=&quot;&quot;&gt;return value&lt;/var&gt; be the &lt;span&gt;auxiliary browsing context&lt;/span&gt;'s &lt;span&gt;return
+    value&lt;/span&gt; as it stood when the browsing context was &lt;span title=&quot;close a browsing
+    context&quot;&gt;closed&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;return value&lt;/var&gt; be undefined.&lt;/p&gt;
 
@@ -89929,9 +89926,8 @@
    scope&lt;/var&gt;. Let &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt; be this new object.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Create a new &lt;code&gt;MessagePort&lt;/code&gt; object&lt;/span&gt; owned by the &lt;span
-   title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.
-   Let this be the &lt;var
-   title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;. Let
+   this be the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Associate the &lt;var title=&quot;&quot;&gt;outside port&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;worker&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -89955,8 +89951,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;span&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/span&gt; given the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt;.&lt;/p&gt;
+    add&lt;/span&gt; given the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the
+    &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -89971,11 +89967,10 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt; is a
-    &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object (i.e. we are creating a nested worker), add &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;span&gt;the worker's workers&lt;/span&gt; of the
-    &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that is the &lt;span title=&quot;script's global object&quot;&gt;global
-    object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
+    script&lt;/span&gt; is a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object (i.e. we are creating a nested worker),
+    add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;span&gt;the worker's workers&lt;/span&gt; of
+    the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that is the &lt;span title=&quot;script's global
+    object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -89984,9 +89979,9 @@
     &lt;p&gt;&lt;span&gt;Run a worker&lt;/span&gt; for the resulting &lt;span&gt;absolute URL&lt;/span&gt;, with the
     &lt;span&gt;script's browsing context&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; as the &lt;var
     title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, with the &lt;span&gt;script's document&lt;/span&gt; of the
-    &lt;span&gt;incumbent script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;span&gt;origin&lt;/span&gt;
-    of the &lt;span&gt;entry script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var
-    title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
+    &lt;span&gt;incumbent script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the
+    &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;entry script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;,
+    and with &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -90046,8 +90041,8 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;docs&lt;/var&gt; be the &lt;span&gt;list of relevant &lt;code&gt;Document&lt;/code&gt; objects to
-    add&lt;/span&gt; given the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt;.&lt;/p&gt;
+    add&lt;/span&gt; given the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the
+    &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -90093,9 +90088,9 @@
      &lt;li&gt;
 
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is not null, but the user agent has been
-      configured to disallow communication between the &lt;span&gt;incumbent script&lt;/span&gt;
-      and the worker represented by the &lt;var title=&quot;&quot;&gt;worker global
-      scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to null.&lt;/p&gt;
+      configured to disallow communication between the &lt;span&gt;incumbent script&lt;/span&gt; and the worker
+      represented by the &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;, then set &lt;var title=&quot;&quot;&gt;worker
+      global scope&lt;/var&gt; to null.&lt;/p&gt;
 
       &lt;p class=&quot;note&quot;&gt;For example, a user agent could have a development mode that isolates a
       particular &lt;span&gt;top-level browsing context&lt;/span&gt; from all other pages, and scripts in that
@@ -90147,11 +90142,10 @@
        &lt;li&gt;
 
         &lt;p&gt;If the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-        script&lt;/span&gt; is a
-        &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the
-        list of &lt;span&gt;the worker's workers&lt;/span&gt; of the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that
-        is the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-        script&lt;/span&gt;.&lt;/p&gt;
+        script&lt;/span&gt; is a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global
+        scope&lt;/var&gt; to the list of &lt;span&gt;the worker's workers&lt;/span&gt; of the
+        &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that is the &lt;span title=&quot;script's global
+        object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
 
        &lt;/li&gt;
 
@@ -90205,10 +90199,10 @@
    &lt;li&gt;
 
     &lt;p&gt;If the &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent
-    script&lt;/span&gt; that invoked the constructor is a
-    &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, add &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list
-    of &lt;span&gt;the worker's workers&lt;/span&gt; of the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that is the
-    &lt;span title=&quot;script's global object&quot;&gt;global object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
+    script&lt;/span&gt; that invoked the constructor is a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, add &lt;var
+    title=&quot;&quot;&gt;worker global scope&lt;/var&gt; to the list of &lt;span&gt;the worker's workers&lt;/span&gt; of the
+    &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object that is the &lt;span title=&quot;script's global object&quot;&gt;global
+    object&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -90216,8 +90210,8 @@
 
     &lt;p&gt;&lt;span&gt;Run a worker&lt;/span&gt; for &lt;var title=&quot;&quot;&gt;scriptURL&lt;/var&gt;, with the &lt;span&gt;script's browsing
     context&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner browsing
-    context&lt;/var&gt;, with the &lt;span&gt;script's document&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt;
-    the &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;entry
+    context&lt;/var&gt;, with the &lt;span&gt;script's document&lt;/span&gt; of the &lt;span&gt;incumbent script&lt;/span&gt; the
+    &lt;var title=&quot;&quot;&gt;owner document&lt;/var&gt;, with the &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;entry
     script&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;owner origin&lt;/var&gt;, and with &lt;var title=&quot;&quot;&gt;worker global
     scope&lt;/var&gt; as the global scope.&lt;/p&gt;
 
@@ -90254,95 +90248,81 @@
 
   &lt;h4&gt;Importing scripts and libraries&lt;/h4&gt;
 
-&lt;!--CLEANUP--&gt;
   &lt;p&gt;When a script invokes the &lt;dfn
   title=&quot;dom-WorkerGlobalScope-importScripts&quot;&gt;&lt;code&gt;importScripts(&lt;var
-  title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a
-  &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, the user agent must run the
-  following steps:&lt;/p&gt;
+  title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object, the user
+  agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If there are no arguments, return without doing
-   anything. Abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If there are no arguments, return without doing anything. Abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; each
-   argument.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; each argument.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;SyntaxError&lt;/code&gt;
-   exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If any fail, throw a &lt;code&gt;SyntaxError&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Attempt to &lt;span&gt;fetch&lt;/span&gt;&lt;!--FETCH--&gt; each resource
-    identified by the resulting &lt;span title=&quot;absolute URL&quot;&gt;absolute
-    URLs&lt;/span&gt;, from the &lt;span&gt;entry script&lt;/span&gt;'s
-    &lt;span&gt;origin&lt;/span&gt;, using the &lt;span&gt;entry script&lt;/span&gt;'s &lt;span
-    title=&quot;script's referrer source&quot;&gt;referrer source&lt;/span&gt;, and with
-    the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not http-origin privacy
-    sensitive --&gt;
+    &lt;p&gt;Attempt to &lt;span&gt;fetch&lt;/span&gt;&lt;!--FETCH--&gt; each resource identified by the resulting &lt;span
+    title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/span&gt;, from the &lt;span&gt;entry script&lt;/span&gt;'s
+    &lt;span&gt;origin&lt;/span&gt;, using the &lt;span&gt;entry script&lt;/span&gt;'s &lt;span title=&quot;script's referrer
+    source&quot;&gt;referrer source&lt;/span&gt;, and with the &lt;i&gt;synchronous flag&lt;/i&gt; set.&lt;/p&gt; &lt;!-- not
+    http-origin privacy sensitive --&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;For each argument in turn, in the order given, starting with
-    the first one, run these substeps:&lt;/p&gt;
+    &lt;p&gt;For each argument in turn, in the order given, starting with the first one, run these
+    substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Wait for the fetching attempt for the corresponding resource
-      to complete.&lt;/p&gt;
+      &lt;p&gt;Wait for the fetching attempt for the corresponding resource to complete.&lt;/p&gt;
 
-      &lt;p&gt;If the fetching attempt failed, throw a
-      &lt;code&gt;NetworkError&lt;/code&gt; exception and abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the fetching attempt failed, throw a &lt;code&gt;NetworkError&lt;/code&gt; exception and abort all
+      these steps.&lt;/p&gt;
 
       &lt;p&gt;If the attempt succeeds, then let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the result of running the
       &lt;span&gt;UTF-8 decode&lt;/span&gt; algorithm on the script resource.&lt;/p&gt;
 
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;As with the worker's script, the script here is
-      always assumed to be JavaScript, regardless of the MIME
-      type.&lt;/p&gt;
+      &lt;p class=&quot;note&quot;&gt;As with the worker's script, the script here is always assumed to be
+      JavaScript, regardless of the MIME type.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;&lt;span&gt;Create a script&lt;/span&gt;, using &lt;var
-      title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the &lt;span&gt;URL&lt;/span&gt;
-      from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var
-      title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the
-      same global object, browsing context, document, referrer source,
-      URL character encoding, and base URL as the &lt;span
-      title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that was created by the
-      worker's &lt;span&gt;run a worker&lt;/span&gt; algorithm.&lt;/p&gt;
+      &lt;p&gt;&lt;span&gt;Create a script&lt;/span&gt;, using &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; as the script source, the
+      &lt;span&gt;URL&lt;/span&gt; from which &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; was obtained, and &lt;var
+      title=&quot;&quot;&gt;language&lt;/var&gt; as the scripting language, using the same global object, browsing
+      context, document, referrer source, URL character encoding, and base URL as the &lt;span
+      title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that was created by the worker's &lt;span&gt;run a
+      worker&lt;/span&gt; algorithm.&lt;/p&gt;
 
       &lt;p&gt;If the script came from a resource whose &lt;span&gt;URL&lt;/span&gt; does not have the &lt;span&gt;same
       origin&lt;/span&gt; as the &lt;span&gt;worker origin&lt;/span&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
       errors&lt;/var&gt; flag to the &lt;span&gt;create a script from a node&lt;/span&gt; algorithm.&lt;/p&gt;
 
-      &lt;p&gt;Let the newly created &lt;span
-      title=&quot;concept-script&quot;&gt;script&lt;/span&gt; run until it either
-      returns, fails to parse, fails to catch an exception, or gets
-      prematurely aborted by the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or
-      &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms defined above.&lt;/p&gt;
+      &lt;p&gt;Let the newly created &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; run until it either
+      returns, fails to parse, fails to catch an exception, or gets prematurely aborted by the
+      &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms defined
+      above.&lt;/p&gt;
 
-      &lt;p&gt;If it failed to parse, then throw an ECMAScript
-      &lt;code title=&quot;js-SyntaxError&quot;&gt;SyntaxError&lt;/code&gt; exception and abort all these
-      steps. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
+      &lt;p&gt;If it failed to parse, then throw an ECMAScript &lt;code
+      title=&quot;js-SyntaxError&quot;&gt;SyntaxError&lt;/code&gt; exception and abort all these steps. &lt;a
+      href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
 
-      &lt;p&gt;If an exception was thrown or if the script was prematurely
-      aborted, then abort all these steps, letting the exception or
-      aborting continue to be processed by the &lt;span&gt;incumbent script&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;If an exception was thrown or if the script was prematurely aborted, then abort all these
+      steps, letting the exception or aborting continue to be processed by the &lt;span&gt;incumbent
+      script&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a
-      worker&lt;/span&gt;&quot; algorithms abort the script then abort all these
-      steps.&lt;/p&gt;
+      &lt;p&gt;If the &quot;&lt;span&gt;kill a worker&lt;/span&gt;&quot; or &quot;&lt;span&gt;terminate a worker&lt;/span&gt;&quot; algorithms abort
+      the script then abort all these steps.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -92727,8 +92707,8 @@
     &lt;!--END complete--&gt;
     &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;
     &lt;!--START complete--&gt;
-    &lt;/p&gt; &lt;!-- invariant: the global object is always a Window if the
-    script can see this method --&gt;
+    &lt;/p&gt;
+    &lt;!-- invariant: the global object is always a Window if the script can see this method --&gt;
 
    &lt;/li&gt;
 
@@ -99780,8 +99760,8 @@
     interface), with the tag name being the name of that element, with the node being in the given
     namespace, and with the attributes on the node being those given in the given token.&lt;/p&gt;
 
-    &lt;p&gt;The interface appropriate for an element in the &lt;span&gt;HTML namespace&lt;/span&gt; that is not defined
-    in this specification (or &lt;span&gt;other applicable specifications&lt;/span&gt;) is
+    &lt;p&gt;The interface appropriate for an element in the &lt;span&gt;HTML namespace&lt;/span&gt; that is not
+    defined in this specification (or &lt;span&gt;other applicable specifications&lt;/span&gt;) is
     &lt;code&gt;HTMLUnknownElement&lt;/code&gt;. Elements in other namespaces whose interface is not defined by
     that namespace's specification must use the interface &lt;code&gt;Element&lt;/code&gt;.&lt;/p&gt;
 
@@ -99791,26 +99771,21 @@
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the newly created element has an &lt;code title=&quot;&quot;&gt;xmlns&lt;/code&gt; attribute &lt;em&gt;in the
-   &lt;span&gt;XMLNS namespace&lt;/span&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace, that
-   is a &lt;span&gt;parse error&lt;/span&gt;. Similarly, if the newly created element has an &lt;code
+   &lt;span&gt;XMLNS namespace&lt;/span&gt;&lt;/em&gt; whose value is not exactly the same as the element's namespace,
+   that is a &lt;span&gt;parse error&lt;/span&gt;. Similarly, if the newly created element has an &lt;code
    title=&quot;&quot;&gt;xmlns:xlink&lt;/code&gt; attribute in the &lt;span&gt;XMLNS namespace&lt;/span&gt; whose value is not the
    &lt;span&gt;XLink Namespace&lt;/span&gt;, that is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
-   &lt;li&gt;
+   &lt;li&gt;&lt;p&gt;If the newly created element is a &lt;span title=&quot;category-reset&quot;&gt;resettable element&lt;/span&gt;,
+   invoke its &lt;span title=&quot;concept-form-reset-control&quot;&gt;reset algorithm&lt;/span&gt;. (This initializes the
+   element's &lt;span title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; and &lt;span
+   title=&quot;concept-fe-checked&quot;&gt;checkedness&lt;/span&gt; based on the element's attributes.)&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;If the newly created element is a &lt;span title=&quot;category-reset&quot;&gt;resettable element&lt;/span&gt;,
-    invoke its &lt;span title=&quot;concept-form-reset-control&quot;&gt;reset algorithm&lt;/span&gt;. (This initializes
-    the element's &lt;span title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; and &lt;span
-    title=&quot;concept-fe-checked&quot;&gt;checkedness&lt;/span&gt; based on the element's attributes.)&lt;/p&gt;
-
-   &lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If the element is a &lt;span&gt;form-associated element&lt;/span&gt;, and the &lt;span&gt;&lt;code
-   title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt; is not null,
-   and there is no &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;,
-   and the newly created element is either not &lt;span title=&quot;category-form-attr&quot;&gt;reassociateable&lt;/span&gt; or doesn't
-   have a &lt;code title=&quot;attr-fae-form&quot;&gt;form&lt;/code&gt; attribute, &lt;span
+   title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt; is not null, and there is no &lt;code&gt;template&lt;/code&gt;
+   element on the &lt;span&gt;stack of open elements&lt;/span&gt;, and the newly created element is either not
+   &lt;span title=&quot;category-form-attr&quot;&gt;reassociateable&lt;/span&gt; or doesn't have a &lt;code
+   title=&quot;attr-fae-form&quot;&gt;form&lt;/code&gt; attribute, &lt;span
    title=&quot;concept-form-association&quot;&gt;associate&lt;/span&gt; the newly created element with the
    &lt;code&gt;form&lt;/code&gt; element pointed to by the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
    pointer&lt;/span&gt;, and suppress the running of the &lt;span&gt;reset the form owner&lt;/span&gt; algorithm in
@@ -99826,17 +99801,17 @@
          <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367">https://www.w3.org/Bugs/Public/show_bug.cgi?id=18367</A>
        Not sure what we could call them instead, though... --&gt;
 
-  &lt;p&gt;When the steps below require the user agent to &lt;dfn&gt;insert a foreign element&lt;/dfn&gt; for a token in a given namespace,
-  the user agent must run these steps:&lt;/p&gt;
+  &lt;p&gt;When the steps below require the user agent to &lt;dfn&gt;insert a foreign element&lt;/dfn&gt; for a token
+  in a given namespace, the user agent must run these steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;span&gt;appropriate
-   place for inserting a node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;span&gt;appropriate place for
+   inserting a node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the given namespace, with the
-   intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-   finds itself.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the given namespace, with the intended
+   parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; finds
+   itself.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -99858,7 +99833,8 @@
   &lt;/ol&gt;
 
   &lt;p&gt;When the steps below require the user agent to &lt;dfn&gt;insert an HTML element&lt;/dfn&gt; for a token,
-  the user agent must &lt;span&gt;insert a foreign element&lt;/span&gt; for the token, in the &lt;span&gt;HTML namespace&lt;/span&gt;.&lt;/p&gt;
+  the user agent must &lt;span&gt;insert a foreign element&lt;/span&gt; for the token, in the &lt;span&gt;HTML
+  namespace&lt;/span&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -100361,9 +100337,8 @@
     &lt;p&gt;&lt;span&gt;Insert a comment&lt;/span&gt; as the last child of the &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;A character token that is one of U+0009 CHARACTER
-   TABULATION, U+000A LINE FEED (LF), U+000C FORM FEED (FF),
-   U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
+   &lt;dt&gt;A character token that is one of U+0009 CHARACTER TABULATION, U+000A LINE FEED (LF), U+000C
+   FORM FEED (FF), U+000D CARRIAGE RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
@@ -100371,30 +100346,25 @@
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-&lt;!--CLEANUP--&gt;
-    &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the &lt;span&gt;HTML
-    namespace&lt;/span&gt;, with the &lt;code&gt;Document&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;Document&lt;/code&gt;
-    object. Put this element in the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;, with the
+    &lt;code&gt;Document&lt;/code&gt; as the intended parent. Append it to the &lt;code&gt;Document&lt;/code&gt; object. Put
+    this element in the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p id=&quot;parser-appcache&quot;&gt;If the &lt;code&gt;Document&lt;/code&gt; is being
-    loaded as part of &lt;span title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; of a
-    &lt;span&gt;browsing context&lt;/span&gt;, then: if the newly created element
-    has a &lt;code title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute
-    whose value is not the empty string, then &lt;span title=&quot;resolve a
-    url&quot;&gt;resolve&lt;/span&gt; the value of that attribute to an
-    &lt;span&gt;absolute URL&lt;/span&gt;, relative to the newly created element,
-    and if that is successful, run the &lt;span
-    title=&quot;concept-appcache-init&quot;&gt;application cache selection
-    algorithm&lt;/span&gt; with the result of applying the &lt;span title=&quot;concept-url-serializer&quot;&gt;URL serializer&lt;/span&gt; algorithm to
-    the resulting &lt;span&gt;parsed URL&lt;/span&gt; with the &lt;i&gt;exclude fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is
-    the empty string, or resolving its value fails, run the &lt;span
-    title=&quot;concept-appcache-init&quot;&gt;application cache selection
-    algorithm&lt;/span&gt; with no manifest. The algorithm must be passed
-    the &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
+    &lt;p id=&quot;parser-appcache&quot;&gt;If the &lt;code&gt;Document&lt;/code&gt; is being loaded as part of &lt;span
+    title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; of a &lt;span&gt;browsing context&lt;/span&gt;, then: if the newly
+    created element has a &lt;code title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute whose value is
+    not the empty string, then &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the value of that
+    attribute to an &lt;span&gt;absolute URL&lt;/span&gt;, relative to the newly created element, and if that is
+    successful, run the &lt;span title=&quot;concept-appcache-init&quot;&gt;application cache selection
+    algorithm&lt;/span&gt; with the result of applying the &lt;span title=&quot;concept-url-serializer&quot;&gt;URL
+    serializer&lt;/span&gt; algorithm to the resulting &lt;span&gt;parsed URL&lt;/span&gt; with the &lt;i&gt;exclude
+    fragment flag&lt;/i&gt; set; otherwise, if there is no such attribute, or its value is the empty
+    string, or resolving its value fails, run the &lt;span title=&quot;concept-appcache-init&quot;&gt;application
+    cache selection algorithm&lt;/span&gt; with no manifest. The algorithm must be passed the
+    &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: before head&quot;&gt;before head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100411,29 +100381,26 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Create an &lt;code&gt;html&lt;/code&gt; element whose &lt;code title=&quot;dom-Node-ownerDocument&quot;&gt;ownerDocument&lt;/code&gt; is the &lt;code&gt;Document&lt;/code&gt; object. Append it to the
-    &lt;code&gt;Document&lt;/code&gt; object. Put this element in the &lt;span&gt;stack
-    of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Create an &lt;code&gt;html&lt;/code&gt; element whose &lt;code
+    title=&quot;dom-Node-ownerDocument&quot;&gt;ownerDocument&lt;/code&gt; is the &lt;code&gt;Document&lt;/code&gt; object. Append
+    it to the &lt;code&gt;Document&lt;/code&gt; object. Put this element in the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt; is being loaded as part of &lt;span
-    title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; of a &lt;span&gt;browsing
-    context&lt;/span&gt;, then: run the &lt;span
-    title=&quot;concept-appcache-init&quot;&gt;application cache selection
-    algorithm&lt;/span&gt; with no manifest, passing it the
-    &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
+    title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; of a &lt;span&gt;browsing context&lt;/span&gt;, then: run the &lt;span
+    title=&quot;concept-appcache-init&quot;&gt;application cache selection algorithm&lt;/span&gt; with no manifest,
+    passing it the &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: before head&quot;&gt;before head&lt;/span&gt;&quot;, then
-    reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: before head&quot;&gt;before
+    head&lt;/span&gt;&quot;, then reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;
 
-  &lt;p&gt;The root element can end up being removed from the
-  &lt;code&gt;Document&lt;/code&gt; object, e.g. by scripts; nothing in particular
-  happens in such cases, content continues being appended to the nodes
-  as described in the next section.&lt;/p&gt;
+  &lt;p&gt;The root element can end up being removed from the &lt;code&gt;Document&lt;/code&gt; object, e.g. by
+  scripts; nothing in particular happens in such cases, content continues being appended to the
+  nodes as described in the next section.&lt;/p&gt;
 
 
   &lt;h6&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
@@ -100461,9 +100428,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
-    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
@@ -100471,11 +100437,11 @@
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt;
-    to the newly created &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; to the newly created
+    &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100500,11 +100466,11 @@
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for a &quot;head&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt;
-    to the newly created &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; to the newly created
+    &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
 
     &lt;!-- end of fake &lt;head&gt; --&gt;
 
@@ -100540,33 +100506,30 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
-    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in
+    body&quot;&gt;in body&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
    &quot;bgsound&quot;, &quot;link&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token. Immediately
-    pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token. Immediately pop the &lt;span&gt;current
+    node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/span&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/span&gt;, if it is set.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;meta&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token. Immediately
-    pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token. Immediately pop the &lt;span&gt;current
+    node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the
-    token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/span&gt;, if it is set.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;acknowledge self-closing flag&quot;&gt;Acknowledge the token's &lt;i&gt;self-closing
+    flag&lt;/i&gt;&lt;/span&gt;, if it is set.&lt;/p&gt;
 
     &lt;p id=&quot;meta-charset-during-parse&quot;&gt;If the element has a &lt;code
     title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute, and &lt;span&gt;getting an encoding&lt;/span&gt; from
@@ -100601,9 +100564,8 @@
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in head noscript&quot;&gt;in head
-    noscript&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in head noscript&quot;&gt;in
+    head noscript&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100615,32 +100577,28 @@
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;span&gt;appropriate
-     place for inserting a node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt; be the &lt;span&gt;appropriate place
+     for inserting a node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;, with the
-     intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion location&lt;/var&gt;
-     finds itself.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; in the &lt;span&gt;HTML namespace&lt;/span&gt;, with
+     the intended parent being the element in which the &lt;var title=&quot;&quot;&gt;adjusted insertion
+     location&lt;/var&gt; finds itself.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;
 
-&lt;!--CLEANUP--&gt;
-      &lt;p&gt;Mark the element as being &lt;span&gt;&quot;parser-inserted&quot;&lt;/span&gt; and
-      unset the element's &lt;span&gt;&quot;force-async&quot;&lt;/span&gt; flag.&lt;/p&gt;
+      &lt;p&gt;Mark the element as being &lt;span&gt;&quot;parser-inserted&quot;&lt;/span&gt; and unset the element's
+      &lt;span&gt;&quot;force-async&quot;&lt;/span&gt; flag.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;This ensures that, if the script is external,
-      any &lt;code title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt;
-      calls in the script will execute in-line, instead of blowing the
-      document away, as would happen in most other cases. It also
-      prevents the script from executing until the end tag is
-      seen.&lt;/p&gt;
+      &lt;p class=&quot;note&quot;&gt;This ensures that, if the script is external, any &lt;code
+      title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt; calls in the script will execute in-line,
+      instead of blowing the document away, as would happen in most other cases. It also prevents
+      the script from executing until the end tag is seen.&lt;/p&gt;
 
      &lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;span&gt;HTML
-     fragment parsing algorithm&lt;/span&gt;, then mark the
-     &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
-     started&quot;&lt;/span&gt;. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the parser was originally created for the &lt;span&gt;HTML fragment parsing
+     algorithm&lt;/span&gt;, then mark the &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already started&quot;&lt;/span&gt;.
+     (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Insert the newly created element at the &lt;var title=&quot;&quot;&gt;adjusted insertion
      location&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
@@ -100648,14 +100606,13 @@
      &lt;li&gt;&lt;p&gt;Push the element onto the &lt;span&gt;stack of open elements&lt;/span&gt; so that it is the new
      &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;span&gt;script data
-     state&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the tokenizer to the &lt;span&gt;script data state&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;original insertion mode&lt;/span&gt; be the current
-     &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;original insertion mode&lt;/span&gt; be the current &lt;span&gt;insertion
+     mode&lt;/span&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-     title=&quot;insertion mode: text&quot;&gt;text&lt;/span&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode:
+     text&quot;&gt;text&lt;/span&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
 
     &lt;/ol&gt;
 
@@ -100664,12 +100621,11 @@
    &lt;dt&gt;An end tag whose tag name is &quot;head&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the
-    &lt;code&gt;head&lt;/code&gt; element) off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the &lt;code&gt;head&lt;/code&gt; element) off the
+    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: after head&quot;&gt;after head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: after head&quot;&gt;after
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100711,12 +100667,10 @@
      &lt;li&gt;&lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;template&lt;/code&gt; element, then this is a
      &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;span&gt;stack of open elements&lt;/span&gt;
-     until a &lt;code&gt;template&lt;/code&gt; element has been
-     popped from the stack.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Pop elements from the &lt;span&gt;stack of open elements&lt;/span&gt; until a &lt;code&gt;template&lt;/code&gt;
+     element has been popped from the stack.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;span&gt;Clear the list of active formatting elements up to the
-     last marker&lt;/span&gt;.&lt;/li&gt;
+     &lt;li&gt;&lt;span&gt;Clear the list of active formatting elements up to the last marker&lt;/span&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Pop the &lt;span&gt;current template insertion mode&lt;/span&gt; off the &lt;span&gt;stack of template
      insertion modes&lt;/span&gt;.&lt;/p&gt;
@@ -100869,8 +100823,8 @@
 
     &lt;p&gt;Set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100879,32 +100833,28 @@
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in frameset&quot;&gt;in
+    frameset&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
-   &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Push the node pointed to by the &lt;span&gt;&lt;code
-    title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; onto the
-    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Push the node pointed to by the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; onto
+    the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
-    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Remove the node pointed to by the &lt;span&gt;&lt;code
-    title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; from the &lt;span&gt;stack
-    of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Remove the node pointed to by the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt;
+    from the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-    pointer&lt;/span&gt; cannot be null at this point.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; cannot be null at
+    this point.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -100925,8 +100875,8 @@
     &lt;!-- fake &lt;body&gt;, but without resetting frameset-ok --&gt;
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for a &quot;body&quot; start tag token with no attributes.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;body&gt; --&gt;
 
     &lt;p&gt;Reprocess the current token.&lt;/p&gt;
@@ -100961,22 +100911,18 @@
    RETURN (CR), or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
    &lt;dt&gt;Any other character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-    any.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if any.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;.&lt;/p&gt;
 
@@ -100994,24 +100940,24 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
+
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;If there is a &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;, then
     ignore the token.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, for each attribute on the token,
-    check to see if the attribute is already present on the top
-    element of the &lt;span&gt;stack of open elements&lt;/span&gt;. If it is not,
-    add the attribute and its corresponding value to that element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, for each attribute on the token, check to see if the attribute is already present
+    on the top element of the &lt;span&gt;stack of open elements&lt;/span&gt;. If it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;,
-   &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;link&quot;, &quot;meta&quot;,
+   &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;template&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dt&gt;An end tag whose tag name is &quot;template&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
-    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in
+    head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -101019,18 +100965,15 @@
 
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the second element on the &lt;span&gt;stack of open
-    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, if the
-    &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
-    or if there is a &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;,
-    then ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the second element on the &lt;span&gt;stack of open elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt;
+    element, if the &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it, or if there is a
+    &lt;code&gt;template&lt;/code&gt; element on the &lt;span&gt;stack of open elements&lt;/span&gt;, then ignore the token.
+    (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;;
-    then, for each attribute on the token, check to see if the
-    attribute is already present on the &lt;code&gt;body&lt;/code&gt; element (the
-    second element) on the &lt;span&gt;stack of open elements&lt;/span&gt;, and if
-    it is not, add the attribute and its corresponding value to that
-    element.&lt;/p&gt;
+    &lt;p&gt;Otherwise, set the &lt;span&gt;frameset-ok flag&lt;/span&gt; to &quot;not ok&quot;; then, for each attribute on the
+    token, check to see if the attribute is already present on the &lt;code&gt;body&lt;/code&gt; element (the
+    second element) on the &lt;span&gt;stack of open elements&lt;/span&gt;, and if it is not, add the attribute
+    and its corresponding value to that element.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -101039,31 +100982,26 @@
 
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-&lt;!--CLEANUP--&gt;&lt;!--should switch these clauses around--&gt;
-    &lt;p&gt;If the second element on the &lt;span&gt;stack of open
-    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, or, if the
-    &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
-    then ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it, or if the second element
+    on the &lt;span&gt;stack of open elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, then ignore the
+    token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;frameset-ok flag&lt;/span&gt; is set to &quot;not ok&quot;, ignore
-    the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;frameset-ok flag&lt;/span&gt; is set to &quot;not ok&quot;, ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, run the following steps:&lt;/p&gt;
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;Remove the second element on the &lt;span&gt;stack of open
-     elements&lt;/span&gt; from its parent node, if it has one.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Remove the second element on the &lt;span&gt;stack of open elements&lt;/span&gt; from its parent
+     node, if it has one.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;span&gt;stack of
-     open elements&lt;/span&gt;, from the &lt;span&gt;current node&lt;/span&gt; up to,
-     but not including, the root &lt;code&gt;html&lt;/code&gt; element.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Pop all the nodes from the bottom of the &lt;span&gt;stack of open elements&lt;/span&gt;, from the
+     &lt;span&gt;current node&lt;/span&gt; up to, but not including, the root &lt;code&gt;html&lt;/code&gt; element.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the
-     token.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-     title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/span&gt;&quot;.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in frameset&quot;&gt;in
+     frameset&lt;/span&gt;&quot;.&lt;/p&gt;
 
     &lt;/ol&gt;
 
@@ -101072,15 +101010,12 @@
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If there is a node in the &lt;span&gt;stack of open elements&lt;/span&gt;
-    that is not either a &lt;code&gt;dd&lt;/code&gt; element, a &lt;code&gt;dt&lt;/code&gt;
-    element, an &lt;code&gt;li&lt;/code&gt; element, a &lt;code&gt;p&lt;/code&gt; element, a
-    &lt;code&gt;tbody&lt;/code&gt; element, a &lt;code&gt;td&lt;/code&gt; element, a
-    &lt;code&gt;tfoot&lt;/code&gt; element, a &lt;code&gt;th&lt;/code&gt; element, a
-    &lt;code&gt;thead&lt;/code&gt; element, a &lt;code&gt;tr&lt;/code&gt; element, the
-    &lt;code&gt;body&lt;/code&gt; element, or the &lt;code&gt;html&lt;/code&gt; element, then
-    this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are
-    fragment cases) --&gt;
+    &lt;p&gt;If there is a node in the &lt;span&gt;stack of open elements&lt;/span&gt; that is not either a
+    &lt;code&gt;dd&lt;/code&gt; element, a &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, a &lt;code&gt;p&lt;/code&gt;
+    element, a &lt;code&gt;tbody&lt;/code&gt; element, a &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element,
+    a &lt;code&gt;th&lt;/code&gt; element, a &lt;code&gt;thead&lt;/code&gt; element, a &lt;code&gt;tr&lt;/code&gt; element, the
+    &lt;code&gt;body&lt;/code&gt; element, or the &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases) --&gt;
 
     &lt;p&gt;If the &lt;span&gt;stack of template insertion modes&lt;/span&gt; is not empty, then process the token
     &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in template&quot;&gt;in
@@ -101094,34 +101029,27 @@
    &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-    title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/span&gt;, this is a &lt;span&gt;parse error&lt;/span&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/span&gt;, this is a &lt;span&gt;parse error&lt;/span&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open
-    elements&lt;/span&gt; that is not either a &lt;code&gt;dd&lt;/code&gt; element, a
-    &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, an
-    &lt;code&gt;optgroup&lt;/code&gt; element, an &lt;code&gt;option&lt;/code&gt; element, a
-    &lt;code&gt;p&lt;/code&gt; element, an &lt;code&gt;rp&lt;/code&gt; element, an
-    &lt;code&gt;rt&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
-    &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a
-    &lt;code&gt;th&lt;/code&gt; element, a &lt;code&gt;thead&lt;/code&gt; element, a
-    &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
-    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open elements&lt;/span&gt; that is not either a
+    &lt;code&gt;dd&lt;/code&gt; element, a &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, an
+    &lt;code&gt;optgroup&lt;/code&gt; element, an &lt;code&gt;option&lt;/code&gt; element, a &lt;code&gt;p&lt;/code&gt; element, an
+    &lt;code&gt;rp&lt;/code&gt; element, an &lt;code&gt;rt&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
+    &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a &lt;code&gt;th&lt;/code&gt; element, a
+    &lt;code&gt;thead&lt;/code&gt; element, a &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
+    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: after body&quot;&gt;after body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -101129,34 +101057,27 @@
    &lt;dd&gt;
 
     &lt;!-- fake &lt;/body&gt; --&gt;
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-    title=&quot;has an element in scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element
-    in scope&lt;/span&gt;, this is a &lt;span&gt;parse error&lt;/span&gt;; ignore the
-    token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span title=&quot;has an element in
+    scope&quot;&gt;have a &lt;code&gt;body&lt;/code&gt; element in scope&lt;/span&gt;, this is a &lt;span&gt;parse error&lt;/span&gt;;
+    ignore the token.&lt;/p&gt;
 
-    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in
-    body&quot;. --&gt;
+    &lt;!-- if we get here, the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open
-    elements&lt;/span&gt; that is not either a &lt;code&gt;dd&lt;/code&gt; element, a
-    &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, an
-    &lt;code&gt;optgroup&lt;/code&gt; element, an &lt;code&gt;option&lt;/code&gt; element, a
-    &lt;code&gt;p&lt;/code&gt; element, an &lt;code&gt;rp&lt;/code&gt; element, an
-    &lt;code&gt;rt&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
-    &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a
-    &lt;code&gt;th&lt;/code&gt; element, a &lt;code&gt;thead&lt;/code&gt; element, a
-    &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
-    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are fragment cases, e.g. for
-    &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt;
-    wouldn't be in scope, unless it was a fragment case) --&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open elements&lt;/span&gt; that is not either a
+    &lt;code&gt;dd&lt;/code&gt; element, a &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, an
+    &lt;code&gt;optgroup&lt;/code&gt; element, an &lt;code&gt;option&lt;/code&gt; element, a &lt;code&gt;p&lt;/code&gt; element, an
+    &lt;code&gt;rp&lt;/code&gt; element, an &lt;code&gt;rt&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
+    &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a &lt;code&gt;th&lt;/code&gt; element, a
+    &lt;code&gt;thead&lt;/code&gt; element, a &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
+    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt; &lt;!-- (some of those are
+    fragment cases, e.g. for &lt;tbody&gt; you'd have hit the first paragraph since the &lt;body&gt; wouldn't be
+    in scope, unless it was a fragment case) --&gt;
 
-    &lt;!-- If we ever change the frameset-ok flag to an insertion mode,
-    then we'd have to somehow keep track of its state when we switch
-    to after-body. --&gt;
+    &lt;!-- If we ever change the frameset-ok flag to an insertion mode, then we'd have to somehow keep
+    track of its state when we switch to after-body. --&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-    title=&quot;insertion mode: after body&quot;&gt;after body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: after body&quot;&gt;after
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
     &lt;!-- end fake &lt;/body&gt; --&gt;
 
     &lt;p&gt;Reprocess the token.&lt;/p&gt;
@@ -101166,20 +101087,18 @@
    &lt;!-- start tags for non-phrasing flow content elements --&gt;
 
    &lt;!-- the normal ones --&gt;
-   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;,
-   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;, &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;,
+   &quot;details&quot;, &quot;dialog&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
    &quot;hgroup&quot;, &quot;main&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
-    as close to what IE does as I can get without doing the non-tree
-    DOM nonsense, and thus should actually afford better compatibility
-    when implemented by the other browsers. --&gt;
+    &lt;!-- As of May 2008 this doesn't match any browser exactly, but is as close to what IE does as I
+    can get without doing the non-tree DOM nonsense, and thus should actually afford better
+    compatibility when implemented by the other browsers. --&gt;
 
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has an
-    element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
@@ -101190,14 +101109,13 @@
    &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;span title=&quot;HTML elements&quot;&gt;HTML element&lt;/span&gt; whose tag name
-    is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a
-    &lt;span&gt;parse error&lt;/span&gt;; pop the &lt;span&gt;current node&lt;/span&gt; off
-    the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;span title=&quot;HTML elements&quot;&gt;HTML element&lt;/span&gt; whose
+    tag name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;; pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
     &lt;!-- See <A HREF="https://bugs.webkit.org/show_bug.cgi?id=12646">https://bugs.webkit.org/show_bug.cgi?id=12646</A> --&gt;
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
@@ -101208,16 +101126,15 @@
    &lt;dt&gt;A start tag whose tag name is one of: &quot;pre&quot;, &quot;listing&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;next token&lt;/span&gt; is a U+000A LINE FEED (LF) character
-    token, then ignore that token and move on to the next
-    one. (Newlines at the start of &lt;code&gt;pre&lt;/code&gt; blocks are
-    ignored as an authoring convenience.)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;next token&lt;/span&gt; is a U+000A LINE FEED (LF) character token, then ignore that
+    token and move on to the next one. (Newlines at the start of &lt;code&gt;pre&lt;/code&gt; blocks are ignored
+    as an authoring convenience.)&lt;/p&gt;
 
     &lt;!-- &lt;pre&gt;[CR]X will eat the [CR], &lt;pre&gt;&amp;#x10;X will eat the
     &amp;#x10;, but &lt;pre&gt;&amp;#x13;X will not eat the &amp;#x13;. --&gt;
@@ -101230,19 +101147,17 @@
    &lt;dt&gt;A start tag whose tag name is &quot;form&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;form&quot;&gt;form&lt;/code&gt; element
-    pointer&lt;/span&gt; is not null, then this is a &lt;span&gt;parse
-    error&lt;/span&gt;; ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;form&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt; is not null, then this is
+    a &lt;span&gt;parse error&lt;/span&gt;; ignore the token.&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-    an element in button scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in button
-    scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has an element in button scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in button scope&lt;/span&gt;, then &lt;span&gt;close a &lt;code&gt;p&lt;/code&gt;
+    element&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, and set the
-    &lt;span&gt;&lt;code title=&quot;form&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt; to
-    point to the element created.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, and set the &lt;span&gt;&lt;code
+    title=&quot;form&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt; to point to the element created.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -102276,13 +102191,12 @@
      formatting elements&lt;/span&gt;, then remove &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; from the &lt;span&gt;stack of open
      elements&lt;/span&gt; and then go back to the step labeled &lt;i&gt;inner loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
      &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; for which the element &lt;var
-     title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;span&gt;HTML namespace&lt;/span&gt;, with &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; as the intended
-     parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;list of active formatting
-     elements&lt;/span&gt; with an entry for the new element, replace the entry for &lt;var
-     title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open elements&lt;/span&gt; with an entry for the new
-     element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/p&gt;&lt;/li&gt;
+     title=&quot;&quot;&gt;node&lt;/var&gt; was created, in the &lt;span&gt;HTML namespace&lt;/span&gt;, with &lt;var title=&quot;&quot;&gt;common
+     ancestor&lt;/var&gt; as the intended parent; replace the entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
+     &lt;span&gt;list of active formatting elements&lt;/span&gt; with an entry for the new element, replace the
+     entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open elements&lt;/span&gt; with an entry for
+     the new element, and let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the new element.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; is &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;, then move the
      aforementioned bookmark to be immediately after the new &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the
@@ -102303,10 +102217,9 @@
    &lt;span&gt;appropriate place for inserting a node&lt;/span&gt;, but using &lt;var title=&quot;&quot;&gt;common
    ancestor&lt;/var&gt; as the &lt;i&gt;override target&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
-&lt;!--CLEANUP--&gt;
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt; for which &lt;var title=&quot;&quot;&gt;formatting
-   element&lt;/var&gt; was created, in the &lt;span&gt;HTML namespace&lt;/span&gt;, with &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; as the intended
-   parent.&lt;/p&gt;&lt;/li&gt;
+   element&lt;/var&gt; was created, in the &lt;span&gt;HTML namespace&lt;/span&gt;, with &lt;var title=&quot;&quot;&gt;furthest
+   block&lt;/var&gt; as the intended parent.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Take all of the child nodes of &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; and append them to the
    element created in the last step.&lt;/p&gt;&lt;/li&gt;
@@ -102343,12 +102256,10 @@
    &lt;dt&gt;A character token&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's
-    character&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert a character&quot;&gt;Insert the token's character&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;This can never be a U+0000 NULL character; the
-    tokenizer converts those to U+FFFD REPLACEMENT CHARACTER
-    characters.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This can never be a U+0000 NULL character; the tokenizer converts those to
+    U+FFFD REPLACEMENT CHARACTER characters.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -102358,15 +102269,13 @@
     &lt;!-- can't be the fragment case --&gt;
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;script&lt;/code&gt;
-    element, mark the &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
-    started&quot;&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;script&lt;/code&gt; element, mark the
+    &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already started&quot;&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original
-    insertion mode&lt;/span&gt; and reprocess the token.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original insertion mode&lt;/span&gt; and
+    reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -102377,41 +102286,33 @@
 
     &lt;p&gt;&lt;span&gt;Provide a stable state&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;span&gt;current node&lt;/span&gt;
-    (which will be a &lt;code&gt;script&lt;/code&gt; element).&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; be the &lt;span&gt;current node&lt;/span&gt; (which will be a
+    &lt;code&gt;script&lt;/code&gt; element).&lt;/p&gt;
 
-    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original
-    insertion mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original insertion mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
-    same value as the current &lt;span&gt;insertion point&lt;/span&gt;. Let
-    the &lt;span&gt;insertion point&lt;/span&gt; be just before the &lt;span&gt;next
+    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the same value as the current
+    &lt;span&gt;insertion point&lt;/span&gt;. Let the &lt;span&gt;insertion point&lt;/span&gt; be just before the &lt;span&gt;next
     input character&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Increment the parser's &lt;span&gt;script nesting level&lt;/span&gt; by
-    one.&lt;/p&gt;
+    &lt;p&gt;Increment the parser's &lt;span&gt;script nesting level&lt;/span&gt; by one.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span title=&quot;prepare a script&quot;&gt;Prepare&lt;/span&gt; the &lt;var
-    title=&quot;&quot;&gt;script&lt;/var&gt;. This might cause some script to execute,
-    which might cause &lt;span title=&quot;dom-document-write&quot;&gt;new characters
-    to be inserted into the tokenizer&lt;/span&gt;, and might cause the
-    tokenizer to output more tokens, resulting in a &lt;a
-    href=&quot;#nestedParsing&quot;&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;prepare a script&quot;&gt;Prepare&lt;/span&gt; the &lt;var title=&quot;&quot;&gt;script&lt;/var&gt;. This might
+    cause some script to execute, which might cause &lt;span title=&quot;dom-document-write&quot;&gt;new characters
+    to be inserted into the tokenizer&lt;/span&gt;, and might cause the tokenizer to output more tokens,
+    resulting in a &lt;a href=&quot;#nestedParsing&quot;&gt;reentrant invocation of the parser&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Decrement the parser's &lt;span&gt;script nesting level&lt;/span&gt; by
-    one. If the parser's &lt;span&gt;script nesting level&lt;/span&gt; is zero,
-    then set the &lt;span&gt;parser pause flag&lt;/span&gt; to false.&lt;/p&gt;
+    &lt;p&gt;Decrement the parser's &lt;span&gt;script nesting level&lt;/span&gt; by one. If the parser's &lt;span&gt;script
+    nesting level&lt;/span&gt; is zero, then set the &lt;span&gt;parser pause flag&lt;/span&gt; to false.&lt;/p&gt;
 
-    &lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; have the value of the &lt;var
-    title=&quot;&quot;&gt;old insertion point&lt;/var&gt;. (In other words, restore the
-    &lt;span&gt;insertion point&lt;/span&gt; to its previous value. This value
-    might be the &quot;undefined&quot; value.)&lt;/p&gt;
+    &lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; have the value of the &lt;var title=&quot;&quot;&gt;old insertion
+    point&lt;/var&gt;. (In other words, restore the &lt;span&gt;insertion point&lt;/span&gt; to its previous value.
+    This value might be the &quot;undefined&quot; value.)&lt;/p&gt;
 
-    &lt;p id=&quot;scriptTagParserResumes&quot;&gt;At this stage, if there is a
-    &lt;span&gt;pending parsing-blocking script&lt;/span&gt;, then:&lt;/p&gt;
+    &lt;p id=&quot;scriptTagParserResumes&quot;&gt;At this stage, if there is a &lt;span&gt;pending parsing-blocking
+    script&lt;/span&gt;, then:&lt;/p&gt;
 
     &lt;dl class=&quot;switch&quot;&gt;
 
@@ -102419,14 +102320,12 @@
 
      &lt;dd&gt;
 
-      &lt;p&gt;Set the &lt;span&gt;parser pause flag&lt;/span&gt; to true, and abort the
-      processing of any nested invocations of the tokenizer, yielding
-      control back to the caller. (Tokenization will resume when the
-      caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
+      &lt;p&gt;Set the &lt;span&gt;parser pause flag&lt;/span&gt; to true, and abort the processing of any nested
+      invocations of the tokenizer, yielding control back to the caller. (Tokenization will resume
+      when the caller returns to the &quot;outer&quot; tree construction stage.)&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The tree construction stage of this particular
-      parser is &lt;a href=&quot;#nestedParsing&quot;&gt;being called reentrantly&lt;/a&gt;,
-      say from a call to &lt;code
+      &lt;p class=&quot;note&quot;&gt;The tree construction stage of this particular parser is &lt;a
+      href=&quot;#nestedParsing&quot;&gt;being called reentrantly&lt;/a&gt;, say from a call to &lt;code
       title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -102487,17 +102386,16 @@
    &lt;dt&gt;Any other end tag&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-    elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original
-    insertion mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;span&gt;original insertion mode&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;
 
 
+&lt;!--CLEANUP--&gt;
   &lt;h6 id=&quot;parsing-main-intable&quot;&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, the user agent must handle the token as follows:&lt;/p&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014973.html">[html5] r8117 - [e] (0) Factor out 'insert an HTML element' and	'insert a foreign element', sinc [...]
</A></li>
	<LI>Next message: <A HREF="014975.html">[html5] r8119 - [e] (0) Mark parts of the spec that are affected by	CSS. This adds a new topic, [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14974">[ date ]</a>
              <a href="thread.html#14974">[ thread ]</a>
              <a href="subject.html#14974">[ subject ]</a>
              <a href="author.html#14974">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
