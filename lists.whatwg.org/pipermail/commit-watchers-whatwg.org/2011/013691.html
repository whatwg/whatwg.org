<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6825 - [giowt] (2) Fix	&lt;script&gt;document.write('...')&lt;/script&gt; -- it turns out the	token [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6825%20-%20%5Bgiowt%5D%20%282%29%20Fix%0A%09%3Cscript%3Edocument.write%28%27...%27%29%3C/script%3E%20--%20it%20turns%20out%20the%0A%09token%20%5B...%5D&In-Reply-To=%3C20111111194511.1B4C91C8400D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013690.html">
   <LINK REL="Next"  HREF="013692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6825 - [giowt] (2) Fix	&lt;script&gt;document.write('...')&lt;/script&gt; -- it turns out the	token [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6825%20-%20%5Bgiowt%5D%20%282%29%20Fix%0A%09%3Cscript%3Edocument.write%28%27...%27%29%3C/script%3E%20--%20it%20turns%20out%20the%0A%09token%20%5B...%5D&In-Reply-To=%3C20111111194511.1B4C91C8400D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6825 - [giowt] (2) Fix	&lt;script&gt;document.write('...')&lt;/script&gt; -- it turns out the	token [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Nov 11 11:45:11 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013690.html">[html5] r6824 - [giow] (0) For MediaController,	we need to fire all the events when the state in [...]
</A></li>
        <LI>Next message: <A HREF="013692.html">[html5] r6826 - [] (0) Add warnings about media elements and track	and how to determine the type [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13691">[ date ]</a>
              <a href="thread.html#13691">[ thread ]</a>
              <a href="subject.html#13691">[ subject ]</a>
              <a href="author.html#13691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-11-11 11:45:09 -0800 (Fri, 11 Nov 2011)
New Revision: 6825

Modified:
   complete.html
   index
   source
Log:
[giowt] (2) Fix &lt;script&gt;document.write('...')&lt;/script&gt; -- it turns out the tokeniser would have been in the wrong state when processing the '.'s. This is actually just fixing the cases I somehow missed in r5164.
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=14698">http://www.w3.org/Bugs/Public/show_bug.cgi?id=14698</A>

Modified: complete.html
===================================================================
--- complete.html	2011-11-11 00:55:55 UTC (rev 6824)
+++ complete.html	2011-11-11 19:45:09 UTC (rev 6825)
@@ -85036,12 +85036,12 @@
   machine to tokenize HTML. The state machine must start in the
   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Most states consume a single character,
   which may have various side-effects, and either switches the state
-  machine to a new state to &lt;em&gt;reconsume&lt;/em&gt; the same character, or
-  switches it to a new state (to consume the next character), or
-  repeats the same state (to consume the next character). Some states
-  have more complicated behavior and can consume several characters
-  before switching to another state. In some cases, the tokenizer
-  state is also changed by the tree construction stage.&lt;/p&gt;
+  machine to a new state to &lt;i&gt;reconsume&lt;/i&gt; the same character, or
+  switches it to a new state to consume the next character, or stays
+  in the same state to consume the next character. Some states have
+  more complicated behavior and can consume several characters before
+  switching to another state. In some cases, the tokenizer state is
+  also changed by the tree construction stage.&lt;/p&gt;
 
   &lt;p&gt;The exact behavior of certain states depends on the
   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; and the &lt;a href=#stack-of-open-elements&gt;stack of open
@@ -85125,6 +85125,8 @@
 
   &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;13.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
 
@@ -85133,9 +85135,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
 
-
   &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;13.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -85160,6 +85160,8 @@
 
   &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;13.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
 
@@ -85168,9 +85170,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
 
-
   &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;13.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -85250,9 +85250,9 @@
    comment state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85276,9 +85276,9 @@
    state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and a U+002F SOLIDUS character token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN character token and a
+   U+002F SOLIDUS character token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-comment-state&gt;bogus
@@ -85312,8 +85312,8 @@
    character to the current tag token's tag name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -85329,9 +85329,9 @@
    to the &lt;a href=#rcdata-end-tag-open-state&gt;RCDATA end tag open state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag open state, except s/RAWTEXT/RCDATA/g --&gt;
@@ -85356,9 +85356,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag name state, except s/RAWTEXT/RCDATA/g --&gt;
@@ -85383,8 +85383,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85399,11 +85399,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA less-than sign state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85415,9 +85415,9 @@
    to the &lt;a href=#rawtext-end-tag-open-state&gt;RAWTEXT end tag open state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag open state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85442,9 +85442,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character
+   token. Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag name state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85469,8 +85469,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85485,11 +85485,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85505,9 +85505,9 @@
    MARK character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag open state, except s/RCDATA/Script data/g --&gt;
@@ -85532,9 +85532,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag name state, except s/RCDATA/Script data/g --&gt;
@@ -85559,8 +85559,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85575,11 +85575,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85590,8 +85590,8 @@
    state&lt;/a&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Reconsume the
+   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85602,8 +85602,8 @@
    state&lt;/a&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Reconsume the
+   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;13.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85622,8 +85622,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;. &lt;a href=#parse-error&gt;Parse
+   error&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
@@ -85647,8 +85647,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
@@ -85675,8 +85675,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
@@ -85706,9 +85706,9 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data
-   escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85732,9 +85732,10 @@
    filled in before it is emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit a
+   U+003C LESS-THAN SIGN character token and a U+002F SOLIDUS
+   character token. Reconsume the &lt;a href=#current-input-character&gt;current input
+   character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85758,8 +85759,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85774,11 +85775,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit a
+   U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS character
+   token, and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85808,8 +85809,8 @@
    character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Reconsume
+   the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;13.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85829,8 +85830,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
@@ -85855,8 +85856,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped
@@ -85885,8 +85886,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped
@@ -85903,8 +85904,8 @@
    U+002F SOLIDUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;13.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85934,8 +85935,8 @@
    character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85976,8 +85977,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -86022,8 +86023,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86079,8 +86080,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -86103,8 +86104,8 @@
    &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(double-quoted)-state&gt;attribute value (double-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0026 AMPERSAND (&amp;)&lt;/dt&gt;
-   &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted) state&lt;/a&gt;
-   and reconsume this &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted) state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0027 APOSTROPHE (')&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(single-quoted)-state&gt;attribute value (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
@@ -86125,8 +86126,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86151,8 +86152,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86176,8 +86177,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86216,8 +86217,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86256,12 +86257,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
-   the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-attribute-name-state&gt;before attribute
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;13.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86273,12 +86274,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
-   the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-attribute-name-state&gt;before attribute
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;13.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86341,8 +86342,8 @@
    comment end state --&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
@@ -86366,9 +86367,9 @@
    state&lt;/a&gt;. Emit the comment token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -86387,9 +86388,9 @@
    character to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
@@ -86409,9 +86410,9 @@
    state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -86441,12 +86442,12 @@
    character (-) to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- For
-   security reasons: otherwise, hostile user could put a &lt;script&gt; in
-   a comment e.g. in a blog comment and then DOS the server so that
-   the end tag isn't read, and then the commented &lt;script&gt; tag would
-   be treated as live code --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- For security reasons: otherwise, hostile user
+   could put a &lt;script&gt; in a comment e.g. in a blog comment and then
+   DOS the server so that the end tag isn't read, and then the
+   commented &lt;script&gt; tag would be treated as live code --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Append two U+002D HYPHEN-MINUS
@@ -86474,9 +86475,9 @@
    Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see
-   comment in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append two U+002D HYPHEN-MINUS characters (-), a U+0021
@@ -86496,13 +86497,14 @@
    &lt;dd&gt;Switch to the &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in the
-   &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-doctype-name-state&gt;before DOCTYPE
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86532,9 +86534,10 @@
    state&lt;/a&gt;. Emit the token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Create a new DOCTYPE token. Set the token's name to the
@@ -86566,9 +86569,9 @@
    character to the current DOCTYPE token's name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86590,9 +86593,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
@@ -86642,9 +86645,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86678,9 +86681,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86704,9 +86707,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86729,9 +86732,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86764,9 +86767,9 @@
    &lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86799,9 +86802,9 @@
    (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86836,9 +86839,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86872,9 +86875,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86899,9 +86902,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86925,9 +86928,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86949,9 +86952,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus DOCTYPE
@@ -86967,14 +86970,16 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;Emit the DOCTYPE token. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;. Emit the DOCTYPE token.
+   Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Ignore the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;13.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Consume every character up to the next occurrence of the three
   character sequence U+005D RIGHT SQUARE BRACKET U+005D RIGHT SQUARE
   BRACKET U+003E GREATER-THAN SIGN (&lt;code title=&quot;&quot;&gt;]]&gt;&lt;/code&gt;), or the
@@ -86985,8 +86990,6 @@
   tree constructor), but with any U+0000 NULL characters replaced by
   U+FFFD REPLACEMENT CHARACTER characters--&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
-
   &lt;p&gt;If the end of the file was reached, reconsume the EOF
   character.&lt;/p&gt;
 

Modified: index
===================================================================
--- index	2011-11-11 00:55:55 UTC (rev 6824)
+++ index	2011-11-11 19:45:09 UTC (rev 6825)
@@ -85036,12 +85036,12 @@
   machine to tokenize HTML. The state machine must start in the
   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Most states consume a single character,
   which may have various side-effects, and either switches the state
-  machine to a new state to &lt;em&gt;reconsume&lt;/em&gt; the same character, or
-  switches it to a new state (to consume the next character), or
-  repeats the same state (to consume the next character). Some states
-  have more complicated behavior and can consume several characters
-  before switching to another state. In some cases, the tokenizer
-  state is also changed by the tree construction stage.&lt;/p&gt;
+  machine to a new state to &lt;i&gt;reconsume&lt;/i&gt; the same character, or
+  switches it to a new state to consume the next character, or stays
+  in the same state to consume the next character. Some states have
+  more complicated behavior and can consume several characters before
+  switching to another state. In some cases, the tokenizer state is
+  also changed by the tree construction stage.&lt;/p&gt;
 
   &lt;p&gt;The exact behavior of certain states depends on the
   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; and the &lt;a href=#stack-of-open-elements&gt;stack of open
@@ -85125,6 +85125,8 @@
 
   &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;13.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
 
@@ -85133,9 +85135,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
 
-
   &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;13.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -85160,6 +85160,8 @@
 
   &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;13.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
 
@@ -85168,9 +85170,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
 
-
   &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;13.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -85250,9 +85250,9 @@
    comment state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85276,9 +85276,9 @@
    state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and a U+002F SOLIDUS character token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit a U+003C LESS-THAN SIGN character token and a
+   U+002F SOLIDUS character token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-comment-state&gt;bogus
@@ -85312,8 +85312,8 @@
    character to the current tag token's tag name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -85329,9 +85329,9 @@
    to the &lt;a href=#rcdata-end-tag-open-state&gt;RCDATA end tag open state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag open state, except s/RAWTEXT/RCDATA/g --&gt;
@@ -85356,9 +85356,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag name state, except s/RAWTEXT/RCDATA/g --&gt;
@@ -85383,8 +85383,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85399,11 +85399,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA less-than sign state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85415,9 +85415,9 @@
    to the &lt;a href=#rawtext-end-tag-open-state&gt;RAWTEXT end tag open state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag open state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85442,9 +85442,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character
+   token. Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag name state, except s/RCDATA/RAWTEXT/g --&gt;
@@ -85469,8 +85469,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85485,11 +85485,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85505,9 +85505,9 @@
    MARK character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data
-   state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag open state, except s/RCDATA/Script data/g --&gt;
@@ -85532,9 +85532,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag name state, except s/RCDATA/Script data/g --&gt;
@@ -85559,8 +85559,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85575,11 +85575,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85590,8 +85590,8 @@
    state&lt;/a&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Reconsume the
+   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85602,8 +85602,8 @@
    state&lt;/a&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Reconsume the
+   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;13.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85622,8 +85622,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;. &lt;a href=#parse-error&gt;Parse
+   error&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
@@ -85647,8 +85647,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
@@ -85675,8 +85675,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
@@ -85706,9 +85706,9 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data
-   escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;a href=#current-input-character&gt;current
+   input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85732,9 +85732,10 @@
    filled in before it is emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;a href=#current-input-character&gt;current input
-   character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit a
+   U+003C LESS-THAN SIGN character token and a U+002F SOLIDUS
+   character token. Reconsume the &lt;a href=#current-input-character&gt;current input
+   character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85758,8 +85759,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;a href=#appropriate-end-tag-token&gt;appropriate end tag
-   token&lt;/a&gt;, then emit the current tag token and switch to the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/a&gt;, then switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -85774,11 +85775,11 @@
    character&lt;/a&gt; to the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
-   in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit a
+   U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS character
+   token, and a character token for each of the characters in the
+   &lt;var&gt;&lt;a href=#temporary-buffer&gt;temporary buffer&lt;/a&gt;&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85808,8 +85809,8 @@
    character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Reconsume
+   the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;13.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85829,8 +85830,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
@@ -85855,8 +85856,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped
@@ -85885,8 +85886,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped
@@ -85903,8 +85904,8 @@
    U+002F SOLIDUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;13.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85934,8 +85935,8 @@
    character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
-   &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -85976,8 +85977,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -86022,8 +86023,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86079,8 +86080,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -86103,8 +86104,8 @@
    &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(double-quoted)-state&gt;attribute value (double-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0026 AMPERSAND (&amp;)&lt;/dt&gt;
-   &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted) state&lt;/a&gt;
-   and reconsume this &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted) state&lt;/a&gt;.
+   Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0027 APOSTROPHE (')&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;a href=#attribute-value-(single-quoted)-state&gt;attribute value (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
@@ -86125,8 +86126,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86151,8 +86152,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86176,8 +86177,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86216,8 +86217,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86256,12 +86257,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
-   the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-attribute-name-state&gt;before attribute
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;13.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86273,12 +86274,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
-   the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-attribute-name-state&gt;before attribute
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;13.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86341,8 +86342,8 @@
    comment end state --&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
@@ -86366,9 +86367,9 @@
    state&lt;/a&gt;. Emit the comment token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -86387,9 +86388,9 @@
    character to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
@@ -86409,9 +86410,9 @@
    state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -86441,12 +86442,12 @@
    character (-) to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- For
-   security reasons: otherwise, hostile user could put a &lt;script&gt; in
-   a comment e.g. in a blog comment and then DOS the server so that
-   the end tag isn't read, and then the commented &lt;script&gt; tag would
-   be treated as live code --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- For security reasons: otherwise, hostile user
+   could put a &lt;script&gt; in a comment e.g. in a blog comment and then
+   DOS the server so that the end tag isn't read, and then the
+   commented &lt;script&gt; tag would be treated as live code --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Append two U+002D HYPHEN-MINUS
@@ -86474,9 +86475,9 @@
    Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt; &lt;!-- see
-   comment in comment end state --&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append two U+002D HYPHEN-MINUS characters (-), a U+0021
@@ -86496,13 +86497,14 @@
    &lt;dd&gt;Switch to the &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in the
-   &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#before-doctype-name-state&gt;before DOCTYPE
+   name state&lt;/a&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -86532,9 +86534,10 @@
    state&lt;/a&gt;. Emit the token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Create a new DOCTYPE token. Set the token's name to the
@@ -86566,9 +86569,9 @@
    character to the current DOCTYPE token's name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86590,9 +86593,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
@@ -86642,9 +86645,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86678,9 +86681,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86704,9 +86707,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86729,9 +86732,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86764,9 +86767,9 @@
    &lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86799,9 +86802,9 @@
    (single-quoted) state&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86836,9 +86839,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86872,9 +86875,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
@@ -86899,9 +86902,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86925,9 +86928,9 @@
    state&lt;/a&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
@@ -86949,9 +86952,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#data-state&gt;data
+   state&lt;/a&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus DOCTYPE
@@ -86967,14 +86970,16 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;Emit the DOCTYPE token. Reconsume the EOF character in the
-   &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;. Emit the DOCTYPE token.
+   Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Ignore the character.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;13.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;Consume every character up to the next occurrence of the three
   character sequence U+005D RIGHT SQUARE BRACKET U+005D RIGHT SQUARE
   BRACKET U+003E GREATER-THAN SIGN (&lt;code title=&quot;&quot;&gt;]]&gt;&lt;/code&gt;), or the
@@ -86985,8 +86990,6 @@
   tree constructor), but with any U+0000 NULL characters replaced by
   U+FFFD REPLACEMENT CHARACTER characters--&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
-
   &lt;p&gt;If the end of the file was reached, reconsume the EOF
   character.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2011-11-11 00:55:55 UTC (rev 6824)
+++ source	2011-11-11 19:45:09 UTC (rev 6825)
@@ -96357,12 +96357,12 @@
   machine to tokenize HTML. The state machine must start in the
   &lt;span&gt;data state&lt;/span&gt;. Most states consume a single character,
   which may have various side-effects, and either switches the state
-  machine to a new state to &lt;em&gt;reconsume&lt;/em&gt; the same character, or
-  switches it to a new state (to consume the next character), or
-  repeats the same state (to consume the next character). Some states
-  have more complicated behavior and can consume several characters
-  before switching to another state. In some cases, the tokenizer
-  state is also changed by the tree construction stage.&lt;/p&gt;
+  machine to a new state to &lt;i&gt;reconsume&lt;/i&gt; the same character, or
+  switches it to a new state to consume the next character, or stays
+  in the same state to consume the next character. Some states have
+  more complicated behavior and can consume several characters before
+  switching to another state. In some cases, the tokenizer state is
+  also changed by the tree construction stage.&lt;/p&gt;
 
   &lt;p&gt;The exact behavior of certain states depends on the
   &lt;span&gt;insertion mode&lt;/span&gt; and the &lt;span&gt;stack of open
@@ -96451,6 +96451,8 @@
 
   &lt;h5&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;span&gt;data state&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;span&gt;consume a character reference&lt;/span&gt;, with no
   &lt;span&gt;additional allowed character&lt;/span&gt;.&lt;/p&gt;
 
@@ -96459,9 +96461,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;span&gt;data state&lt;/span&gt;.&lt;/p&gt;
 
-
   &lt;h5&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;span&gt;next input character&lt;/span&gt;:&lt;/p&gt;
@@ -96491,6 +96491,8 @@
 
   &lt;h5&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;span&gt;RCDATA state&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;Attempt to &lt;span&gt;consume a character reference&lt;/span&gt;, with no
   &lt;span&gt;additional allowed character&lt;/span&gt;.&lt;/p&gt;
 
@@ -96499,9 +96501,7 @@
 
   &lt;p&gt;Otherwise, emit the character tokens that were returned.&lt;/p&gt;
 
-  &lt;p&gt;Finally, switch to the &lt;span&gt;RCDATA state&lt;/span&gt;.&lt;/p&gt;
 
-
   &lt;h5&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;span&gt;next input character&lt;/span&gt;:&lt;/p&gt;
@@ -96598,13 +96598,12 @@
    comment state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and reconsume the &lt;span&gt;current input
-   character&lt;/span&gt; in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit a U+003C LESS-THAN SIGN character token.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
-
   &lt;h5&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;span&gt;next input character&lt;/span&gt;:&lt;/p&gt;
@@ -96629,9 +96628,9 @@
    state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit a U+003C LESS-THAN SIGN
-   character token and a U+002F SOLIDUS character token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit a U+003C LESS-THAN SIGN character token and a
+   U+002F SOLIDUS character token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;bogus
@@ -96670,8 +96669,8 @@
    character to the current tag token's tag name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -96692,9 +96691,9 @@
    to the &lt;span&gt;RCDATA end tag open state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;span&gt;current input character&lt;/span&gt; in the &lt;span&gt;RCDATA
-   state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RCDATA state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;span&gt;current
+   input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96724,9 +96723,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;span&gt;current input
-   character&lt;/span&gt; in the &lt;span&gt;RCDATA state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RCDATA state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96756,8 +96755,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;span&gt;appropriate end tag
-   token&lt;/span&gt;, then emit the current tag token and switch to the
-   &lt;span&gt;data state&lt;/span&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/span&gt;, then switch to the &lt;span&gt;data state&lt;/span&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -96772,11 +96771,11 @@
    character&lt;/span&gt; to the &lt;var&gt;temporary buffer&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;span&gt;current input character&lt;/span&gt;
-   in the &lt;span&gt;RCDATA state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RCDATA state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96793,9 +96792,9 @@
    to the &lt;span&gt;RAWTEXT end tag open state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;span&gt;current input character&lt;/span&gt; in the &lt;span&gt;RAWTEXT
-   state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RAWTEXT state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;span&gt;current
+   input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96825,9 +96824,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;span&gt;current input
-   character&lt;/span&gt; in the &lt;span&gt;RAWTEXT state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RAWTEXT state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character
+   token. Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96857,8 +96856,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;span&gt;appropriate end tag
-   token&lt;/span&gt;, then emit the current tag token and switch to the
-   &lt;span&gt;data state&lt;/span&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/span&gt;, then switch to the &lt;span&gt;data state&lt;/span&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -96873,11 +96872,11 @@
    character&lt;/span&gt; to the &lt;var&gt;temporary buffer&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;span&gt;current input character&lt;/span&gt;
-   in the &lt;span&gt;RAWTEXT state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;RAWTEXT state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96898,9 +96897,9 @@
    MARK character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;span&gt;current input character&lt;/span&gt; in the &lt;span&gt;script data
-   state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;span&gt;current
+   input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96930,9 +96929,9 @@
    emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;span&gt;current input
-   character&lt;/span&gt; in the &lt;span&gt;script data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token and a U+002F SOLIDUS character token.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96962,8 +96961,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;span&gt;appropriate end tag
-   token&lt;/span&gt;, then emit the current tag token and switch to the
-   &lt;span&gt;data state&lt;/span&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/span&gt;, then switch to the &lt;span&gt;data state&lt;/span&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -96978,11 +96977,11 @@
    character&lt;/span&gt; to the &lt;var&gt;temporary buffer&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;span&gt;current input character&lt;/span&gt;
-   in the &lt;span&gt;script data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token, a U+002F SOLIDUS character token,
+   and a character token for each of the characters in the
+   &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -96998,8 +96997,8 @@
    state&lt;/span&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;span&gt;current input character&lt;/span&gt; in the
-   &lt;span&gt;script data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Reconsume the
+   &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97015,8 +97014,8 @@
    state&lt;/span&gt;. Emit a U+002D HYPHEN-MINUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;span&gt;current input character&lt;/span&gt; in the
-   &lt;span&gt;script data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Reconsume the
+   &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97040,8 +97039,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;data state&lt;/span&gt;. &lt;span&gt;Parse
+   error&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;span&gt;current input character&lt;/span&gt; as a character
@@ -97070,8 +97069,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;span&gt;script data escaped state&lt;/span&gt;. Emit the
@@ -97103,8 +97102,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;span&gt;script data escaped state&lt;/span&gt;. Emit the
@@ -97139,9 +97138,9 @@
    &lt;span&gt;current input character&lt;/span&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token and reconsume the
-   &lt;span&gt;current input character&lt;/span&gt; in the &lt;span&gt;script data
-   escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data state&lt;/span&gt;. Emit a U+003C
+   LESS-THAN SIGN character token. Reconsume the &lt;span&gt;current
+   input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97170,9 +97169,10 @@
    filled in before it is emitted.)&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, and reconsume the &lt;span&gt;current input
-   character&lt;/span&gt; in the &lt;span&gt;script data escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data escaped state&lt;/span&gt;. Emit a
+   U+003C LESS-THAN SIGN character token and a U+002F SOLIDUS
+   character token. Reconsume the &lt;span&gt;current input
+   character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97201,8 +97201,8 @@
 
    &lt;dt&gt;U+003E GREATER-THAN SIGN (&gt;)&lt;/dt&gt;
    &lt;dd&gt;If the current end tag token is an &lt;span&gt;appropriate end tag
-   token&lt;/span&gt;, then emit the current tag token and switch to the
-   &lt;span&gt;data state&lt;/span&gt;. Otherwise, treat it as per the &quot;anything
+   token&lt;/span&gt;, then switch to the &lt;span&gt;data state&lt;/span&gt; and emit
+   the current tag token. Otherwise, treat it as per the &quot;anything
    else&quot; entry below.&lt;/dd&gt;
 
    &lt;dt&gt;U+0041 LATIN CAPITAL LETTER A through to U+005A LATIN CAPITAL LETTER Z&lt;/dt&gt;
@@ -97217,11 +97217,11 @@
    character&lt;/span&gt; to the &lt;var&gt;temporary buffer&lt;/var&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Emit a U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS
-   character token, a character token for each of the characters in
-   the &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to
-   the buffer), and reconsume the &lt;span&gt;current input character&lt;/span&gt;
-   in the &lt;span&gt;script data escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data escaped state&lt;/span&gt;. Emit a
+   U+003C LESS-THAN SIGN character token, a U+002F SOLIDUS character
+   token, and a character token for each of the characters in the
+   &lt;var&gt;temporary buffer&lt;/var&gt; (in the order they were added to the
+   buffer). Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97257,8 +97257,8 @@
    character&lt;/span&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;span&gt;current input character&lt;/span&gt; in the
-   &lt;span&gt;script data escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data escaped state&lt;/span&gt;. Reconsume
+   the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97283,8 +97283,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Emit the &lt;span&gt;current input character&lt;/span&gt; as a character
@@ -97314,8 +97314,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;span&gt;script data double escaped
@@ -97349,8 +97349,8 @@
    character token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;span&gt;script data double escaped
@@ -97372,8 +97372,8 @@
    U+002F SOLIDUS character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;span&gt;current input character&lt;/span&gt; in the
-   &lt;span&gt;script data double escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data double escaped state&lt;/span&gt;.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97409,8 +97409,8 @@
    character&lt;/span&gt; as a character token.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;Reconsume the &lt;span&gt;current input character&lt;/span&gt; in the
-   &lt;span&gt;script data double escaped state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;script data double escaped state&lt;/span&gt;.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97456,8 +97456,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -97507,8 +97507,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -97568,8 +97568,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Start a new attribute in the current tag token. Set that
@@ -97597,8 +97597,8 @@
    &lt;dd&gt;Switch to the &lt;span&gt;attribute value (double-quoted) state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0026 AMPERSAND (&amp;)&lt;/dt&gt;
-   &lt;dd&gt;Switch to the &lt;span&gt;attribute value (unquoted) state&lt;/span&gt;
-   and reconsume this &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;attribute value (unquoted) state&lt;/span&gt;.
+   Reconsume the &lt;span&gt;current input character&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;U+0027 APOSTROPHE (')&lt;/dt&gt;
    &lt;dd&gt;Switch to the &lt;span&gt;attribute value (single-quoted) state&lt;/span&gt;.&lt;/dd&gt;
@@ -97619,8 +97619,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -97650,8 +97650,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -97680,8 +97680,8 @@
    character to the current attribute's value.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -97725,8 +97725,8 @@
    entry below.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -97770,12 +97770,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the character in
-   the &lt;span&gt;before attribute name state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;before attribute
+   name state&lt;/span&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97792,12 +97792,12 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the character in
-   the &lt;span&gt;before attribute name state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;before attribute
+   name state&lt;/span&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -97865,8 +97865,8 @@
    comment end state --&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the comment
@@ -97895,9 +97895,9 @@
    state&lt;/span&gt;. Emit the comment token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -97921,9 +97921,9 @@
    character to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the comment
@@ -97948,9 +97948,9 @@
    state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume the
-   EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt; &lt;!-- see comment
-   in comment end state --&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append a U+002D HYPHEN-MINUS character (-) and the
@@ -97985,12 +97985,12 @@
    character (-) to the comment token's data.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt; &lt;!-- For
-   security reasons: otherwise, hostile user could put a &lt;script&gt; in
-   a comment e.g. in a blog comment and then DOS the server so that
-   the end tag isn't read, and then the commented &lt;script&gt; tag would
-   be treated as live code --&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- For security reasons: otherwise, hostile user
+   could put a &lt;script&gt; in a comment e.g. in a blog comment and then
+   DOS the server so that the end tag isn't read, and then the
+   commented &lt;script&gt; tag would be treated as live code --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Append two U+002D HYPHEN-MINUS
@@ -98023,9 +98023,9 @@
    Switch to the &lt;span&gt;comment state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Emit the comment token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt; &lt;!-- see
-   comment in comment end state --&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Emit the comment token. Reconsume the EOF
+   character.&lt;/dd&gt; &lt;!-- see comment in comment end state --&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append two U+002D HYPHEN-MINUS characters (-), a U+0021
@@ -98050,13 +98050,14 @@
    &lt;dd&gt;Switch to the &lt;span&gt;before DOCTYPE name state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Reconsume the character in the
-   &lt;span&gt;before DOCTYPE name state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;before DOCTYPE
+   name state&lt;/span&gt;. Reconsume the character.&lt;/dd&gt;
 
   &lt;/dl&gt;
 
@@ -98091,9 +98092,10 @@
    state&lt;/span&gt;. Emit the token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Create a new DOCTYPE token. Set its
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume
-   the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Create a new DOCTYPE token. Set its &lt;i&gt;force-quirks
+   flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit the token. Reconsume the EOF
+   character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Create a new DOCTYPE token. Set the token's name to the
@@ -98130,9 +98132,9 @@
    character to the current DOCTYPE token's name.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -98159,9 +98161,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
@@ -98216,9 +98218,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98257,9 +98259,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98288,9 +98290,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -98318,9 +98320,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -98358,9 +98360,9 @@
    &lt;span&gt;DOCTYPE system identifier (single-quoted) state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98398,9 +98400,9 @@
    (single-quoted) state&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98440,9 +98442,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98481,9 +98483,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
@@ -98513,9 +98515,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -98544,9 +98546,9 @@
    state&lt;/span&gt;. Emit that DOCTYPE token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Append the &lt;span&gt;current input character&lt;/span&gt; to the current
@@ -98573,9 +98575,9 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the DOCTYPE token's
-   &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token.
-   Reconsume the EOF character in the &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;data
+   state&lt;/span&gt;. Set the DOCTYPE token's &lt;i&gt;force-quirks flag&lt;/i&gt; to
+   &lt;i&gt;on&lt;/i&gt;. Emit that DOCTYPE token. Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Parse error&lt;/span&gt;. Switch to the &lt;span&gt;bogus DOCTYPE
@@ -98596,8 +98598,8 @@
    token.&lt;/dd&gt;
 
    &lt;dt&gt;EOF&lt;/dt&gt;
-   &lt;dd&gt;Emit the DOCTYPE token. Reconsume the EOF character in the
-   &lt;span&gt;data state&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;Switch to the &lt;span&gt;data state&lt;/span&gt;. Emit the DOCTYPE token.
+   Reconsume the EOF character.&lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Ignore the character.&lt;/dd&gt;
@@ -98607,6 +98609,8 @@
 
   &lt;h5&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
 
+  &lt;p&gt;Switch to the &lt;span&gt;data state&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;Consume every character up to the next occurrence of the three
   character sequence U+005D RIGHT SQUARE BRACKET U+005D RIGHT SQUARE
   BRACKET U+003E GREATER-THAN SIGN (&lt;code title=&quot;&quot;&gt;]]&gt;&lt;/code&gt;), or the
@@ -98617,8 +98621,6 @@
   tree constructor), but with any U+0000 NULL characters replaced by
   U+FFFD REPLACEMENT CHARACTER characters--&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Switch to the &lt;span&gt;data state&lt;/span&gt;.&lt;/p&gt;
-
   &lt;p&gt;If the end of the file was reached, reconsume the EOF
   character.&lt;/p&gt;
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013690.html">[html5] r6824 - [giow] (0) For MediaController,	we need to fire all the events when the state in [...]
</A></li>
	<LI>Next message: <A HREF="013692.html">[html5] r6826 - [] (0) Add warnings about media elements and track	and how to determine the type [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13691">[ date ]</a>
              <a href="thread.html#13691">[ thread ]</a>
              <a href="subject.html#13691">[ subject ]</a>
              <a href="author.html#13691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
