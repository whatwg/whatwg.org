<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6528 - [] (0) Remove Editing APIs and related sections in	favour of http://aryeh.name/s [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6528%20-%20%5B%5D%20%280%29%20Remove%20Editing%20APIs%20and%20related%20sections%20in%0A%09favour%20of%20http%3A//aryeh.name/s%20%5B...%5D&In-Reply-To=%3C20110826004301.E16A711C7C097%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013394.html">
   <LINK REL="Next"  HREF="013396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6528 - [] (0) Remove Editing APIs and related sections in	favour of http://aryeh.name/s [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6528%20-%20%5B%5D%20%280%29%20Remove%20Editing%20APIs%20and%20related%20sections%20in%0A%09favour%20of%20http%3A//aryeh.name/s%20%5B...%5D&In-Reply-To=%3C20110826004301.E16A711C7C097%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6528 - [] (0) Remove Editing APIs and related sections in	favour of http://aryeh.name/s [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Aug 25 17:43:01 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013394.html">[html5] r6527 - [] (0) Remove UndoManager in favour of	http://rniwa.com/editing/undomanager.html [...]
</A></li>
        <LI>Next message: <A HREF="013396.html">[html5] r6529 - [e] (0) internal note to avoid changing canvas	method order in the future
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13395">[ date ]</a>
              <a href="thread.html#13395">[ thread ]</a>
              <a href="subject.html#13395">[ subject ]</a>
              <a href="author.html#13395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-08-25 17:43:00 -0700 (Thu, 25 Aug 2011)
New Revision: 6528

Modified:
   complete.html
   index
   source
Log:
[] (0) Remove Editing APIs and related sections in favour of <A HREF="http://aryeh.name/spec/editing/editing.html">http://aryeh.name/spec/editing/editing.html</A>
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=13896">http://www.w3.org/Bugs/Public/show_bug.cgi?id=13896</A>

Modified: complete.html
===================================================================
--- complete.html	2011-08-25 23:13:05 UTC (rev 6527)
+++ complete.html	2011-08-26 00:43:00 UTC (rev 6528)
@@ -239,7 +239,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Web Applications 1.0&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 25 August 2011&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 26 August 2011&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
     &lt;dd&gt;&lt;a href=<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/">http://www.whatwg.org/specs/web-apps/current-work/complete/</A>&gt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/&lt;/a">http://www.whatwg.org/specs/web-apps/current-work/complete/&lt;/a</A>&gt;&lt;/dd&gt;
     &lt;dt&gt;One-page version:&lt;/dt&gt;
@@ -968,27 +968,29 @@
      &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-accesskey-attribute&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;The &lt;code&gt;accesskey&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#processing-model-3&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; attribute&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#editing-0&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Editing&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#user-editing-actions&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;User editing actions&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#making-entire-documents-editable&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; content
+  attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#making-entire-documents-editable:-the-designmode-idl-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable: The &lt;code title=dom-document-designMode&gt;designMode&lt;/code&gt; IDL attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#user-editing-actions&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;User editing actions&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.5.4 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.5.5 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.6.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.6.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.7.3.1 &lt;/span&gt;The &lt;code&gt;DataTransferItemList&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.7.3.2 &lt;/span&gt;The &lt;code&gt;DataTransferItem&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dropzone-attribute&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;The &lt;code&gt;dropzone&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text-search-apis&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Text search APIs&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.6.3.1 &lt;/span&gt;The &lt;code&gt;DataTransferItemList&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.6.3.2 &lt;/span&gt;The &lt;code&gt;DataTransferItem&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.6.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.6.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.6.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dropzone-attribute&gt;&lt;span class=secno&gt;8.6.8 &lt;/span&gt;The &lt;code&gt;dropzone&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.6.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text-search-apis&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Text search APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -57016,7 +57018,8 @@
      &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; elements that do not have a &lt;code title=attr-textarea-readonly&gt;&lt;a href=#attr-textarea-readonly&gt;readonly&lt;/a&gt;&lt;/code&gt; attribute, and
      that are not &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;&lt;/li&gt;
 
-     &lt;li&gt;elements that are &lt;a href=#editable&gt;editable&lt;/a&gt; and are neither
+     &lt;li&gt;elements that are &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing
+     hosts&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; and are neither
      &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elemenst nor &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;
      elements&lt;/li&gt;
 
@@ -71900,8 +71903,11 @@
 
 
 
-  &lt;h3 id=contenteditable&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;The &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute&lt;/h3&gt;
+  &lt;h3 id=editing-0&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Editing&lt;/h3&gt;
 
+  &lt;h4 id=contenteditable&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; content
+  attribute&lt;/h4&gt;
+
   &lt;p&gt;The &lt;dfn id=attr-contenteditable title=attr-contenteditable&gt;&lt;code&gt;contenteditable&lt;/code&gt;&lt;/dfn&gt;
   attribute is an &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt; whose keywords are
   the empty string, &lt;code title=&quot;&quot;&gt;true&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;false&lt;/code&gt;. The empty string and the &lt;code title=&quot;&quot;&gt;true&lt;/code&gt; keyword map to the &lt;i&gt;true&lt;/i&gt; state. The &lt;code title=&quot;&quot;&gt;false&lt;/code&gt; keyword maps to the &lt;i&gt;false&lt;/i&gt; state. In
@@ -71914,31 +71920,6 @@
   parent is. The &lt;i&gt;false&lt;/i&gt; state indicates that the element is not
   editable.&lt;/p&gt;
 
-  &lt;div class=impl&gt;
-
-  &lt;p&gt;Specifically, if an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/a&gt; has a &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the true state, or it has its &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state and if its nearest ancestor &lt;a href=#html-elements title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/a&gt; with the &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  true state, or if it and its ancestors all have their &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state but the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; enabled, then the
-  UA must treat the element as &lt;dfn id=editable&gt;editable&lt;/dfn&gt; (as described
-  below).&lt;/p&gt;
-
-  &lt;p&gt;Otherwise, either the &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/a&gt; has a &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the false state, or its &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute is set
-  to the inherit state and its nearest ancestor &lt;a href=#html-elements title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/a&gt; with the &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  false state, or all its ancestors have their &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state and the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; itself has &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled; either
-  way, the element is not editable.&lt;/p&gt;
-
-  &lt;/div&gt;
-
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-contentEditable&gt;&lt;a href=#dom-contenteditable&gt;contentEditable&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -71978,147 +71959,69 @@
   attribute setter must raise a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-iscontenteditable title=dom-isContentEditable&gt;&lt;code&gt;isContentEditable&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return true if the element is
-  &lt;a href=#editable&gt;editable&lt;/a&gt;, and false otherwise.&lt;/p&gt;
+  IDL attribute, on getting, must return true if the element is either
+  an &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt;, and false
+  otherwise.&lt;/p&gt;
 
-  &lt;p&gt;If an element is &lt;a href=#editable&gt;editable&lt;/a&gt; and its parent element is
-  not, or if an element is &lt;a href=#editable&gt;editable&lt;/a&gt; and it has no parent
-  element, then the element is an &lt;dfn id=editing-host&gt;editing host&lt;/dfn&gt;. Editable
-  elements can be nested. Editing hosts are typically focusable and
-  typically form part of the &lt;a href=#attr-tabindex title=attr-tabindex&gt;tab
-  order&lt;/a&gt;. An editing host can contain non-editable sections,
-  these are handled as described below. An editing host can contain
-  non-editable sections that contain further editing hosts.&lt;/p&gt;
-
-  &lt;p&gt;When an editing host has focus, it must have a &lt;dfn id=caret-position&gt;caret
-  position&lt;/dfn&gt; that specifies where the current editing position is.
-  It may also have a selection.&lt;/p&gt;
-
-  &lt;p class=note&gt;How the caret and selection are represented depends
-  entirely on the UA.&lt;/p&gt;
-
-  &lt;!-- v2: would be useful to have a way to mark an element as
-  unremovable. --&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4 id=making-entire-documents-editable:-the-designmode-idl-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable: The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL attribute&lt;/h4&gt;
+
   &lt;div class=impl&gt;
 
-  &lt;h4 id=user-editing-actions&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;User editing actions&lt;/h4&gt;
+  &lt;p&gt;Documents have a &lt;dfn id=designMode title=dom-document-designMode&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
+  can be either enabled or disabled.&lt;/p&gt;
 
-  &lt;p&gt;There are several actions that the user agent should allow the
-  user to perform while the user is interacting with an editing
-  host. How exactly each action is triggered is not defined for every
-  action, but when it is not defined, suggested key bindings are
-  provided to guide implementors.&lt;/p&gt;
+  &lt;/div&gt;
 
-  &lt;dl&gt;&lt;dt&gt;Move the caret&lt;/dt&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to move the caret to any
-   position within an editing host, even into nested editable
-   elements. This could be triggered as the default action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events with various key
-   identifiers and as the default action of &lt;code title=event-mousedown&gt;mousedown&lt;/code&gt; events.&lt;/dd&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
+    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-   &lt;dt&gt;Change the selection&lt;/dt&gt;
+    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to change the selection within
-   an editing host, even into nested editable elements. User agents
-   may prevent selections from being made in ways that cross from
-   editable elements into non-editable elements (e.g. by making each
-   non-editable descendant atomically selectable, but not allowing
-   text selection within them). This could be triggered as the default
-   action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events with
-   various key identifiers and as the default action of &lt;code title=event-mousedown&gt;mousedown&lt;/code&gt; events.&lt;/dd&gt;
-
-
-   &lt;dt id=contenteditable-insertText&gt;Insert text&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This action must be triggered as the default action of a
-   &lt;code title=event-textInput&gt;textInput&lt;/code&gt; event, and may be
-   triggered by other commands as well. It must cause the user agent
-   to insert the specified text (given by the event object's &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute in the case of the &lt;code title=event-textInput&gt;textInput&lt;/code&gt; event) at the caret.&lt;/p&gt;
-
-   &lt;p&gt;If the caret is positioned somewhere where &lt;a href=#phrasing-content&gt;phrasing
-   content&lt;/a&gt; is not allowed (e.g. inside an empty &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;
-   element), then the user agent must not insert the text directly at
-   the caret position. In such cases the behavior is UA-dependent,
-   but user agents must not, in response to a request to insert text,
-   generate a DOM that is less conformant than the DOM prior to the
-   request.&lt;/p&gt;
-
-   &lt;p&gt;User agents should allow users to insert new paragraphs into
-   elements that contains only content other than paragraphs.&lt;/p&gt;
-
-   &lt;div class=example&gt;
-    &lt;p&gt;For example, given the markup:&lt;/p&gt;
-    &lt;pre&gt;&lt;section&gt;
- &lt;dl&gt;
-  &lt;dt&gt; Ben &lt;/dt&gt;
-  &lt;dd&gt; Goat &lt;/dd&gt;
- &lt;/dl&gt;
-&lt;/section&gt;&lt;/pre&gt;
-    &lt;p&gt;...the user agent should allow the user to insert
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; elements before and after the &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;
-    element, as children of the &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
-   &lt;/div&gt;
-
    &lt;/dd&gt;
 
+  &lt;/dl&gt;&lt;div class=impl&gt;
 
-   &lt;dt id=contenteditable-breakBlock&gt;Break block&lt;/dt&gt;
+  &lt;p&gt;The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL
+  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object takes two values,
+  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
+  is set, the new value must be compared in an &lt;a href=#ascii-case-insensitive&gt;ASCII
+  case-insensitive&lt;/a&gt; manner to these two values. If it matches
+  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be enabled,
+  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be
+  disabled. Other values must be ignored.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request that the
-   current paragraph be broken at the caret, e.g. as the default
-   action of a &lt;code title=event-keydown&gt;keydown&lt;/code&gt; event whose
-   identifier is the &quot;Enter&quot; key and that has no modifiers set.&lt;/p&gt;
+  &lt;p&gt;When &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; is
+  enabled, the IDL attribute must return the value &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
+  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
 
-   &lt;p&gt;The exact behavior is UA-dependent, but user agents must not,
-   in response to a request to break a paragraph, generate a DOM that
-   is less conformant than the DOM prior to the request.&lt;/dd&gt;
+  &lt;p&gt;The last state set must persist until the document is destroyed
+  or the state is changed. Initially, documents must have their &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled.&lt;/p&gt;
 
+  &lt;/div&gt;
 
-   &lt;dt id=contenteditable-br&gt;Insert a line separator&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request an explicit
-   line break at the caret position without breaking the paragraph,
-   e.g. as the default action of a &lt;code title=event-keydown&gt;keydown&lt;/code&gt; event whose identifier is the
-   &quot;Enter&quot; key and that has a shift modifier set. Line separators are
-   typically found within a poem verse or an address. To insert a line
-   break, the user agent must insert a &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-   &lt;p&gt;If the caret is positioned somewhere where &lt;a href=#phrasing-content&gt;phrasing
-   content&lt;/a&gt; is not allowed (e.g. in an empty &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;
-   element), then the user agent must not insert the &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;
-   element directly at the caret position. In such cases the behavior
-   is UA-dependent, but user agents must not, in response to a request
-   to insert a line separator, generate a DOM that is less conformant
-   than the DOM prior to the request.&lt;/dd&gt;
+  &lt;div class=impl&gt;
 
+  &lt;h4 id=user-editing-actions&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;User editing actions&lt;/h4&gt;
 
-   &lt;dt id=contenteditable-delete&gt;Delete&lt;/dt&gt;
+  &lt;p class=XXX&gt;This section will be removed shortly. What remains
+  here is simply what has not yet been merged into Aryeh's spec.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to delete text and
-   elements, including non-editable descendants, e.g. as the default
-   action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events whose
-   identifiers are &quot;U+0008&quot; or &quot;U+007F&quot;.&lt;/p&gt;
+  &lt;p&gt;There are several actions that the user agent should allow the
+  user to perform while the user is interacting with an editing
+  host. How exactly each action is triggered is not defined for every
+  action, but when it is not defined, suggested key bindings are
+  provided to guide implementors.&lt;/p&gt;
 
-   &lt;p&gt;Five edge cases in particular need to be considered carefully
-   when implementing this feature: backspacing at the start of an
-   element, backspacing when the caret is immediately after an
-   element, forward-deleting at the end of an element,
-   forward-deleting when the caret is immediately before an element,
-   and deleting a selection whose start and end points do not share a
-   common parent node.&lt;/p&gt;
-
-   &lt;p&gt;In any case, the exact behavior is UA-dependent, but user
-   agents must not, in response to a request to delete text or an
-   element, generate a DOM that is less conformant than the DOM prior
-   to the request.&lt;/dd&gt;
-
-
-   &lt;dt id=contenteditable-wrapSemantic&gt;Insert, and wrap text in,
+  &lt;dl&gt;&lt;dt id=contenteditable-wrapSemantic&gt;Insert, and wrap text in,
    semantic elements&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;UAs should offer the user the ability to mark text and
@@ -72175,69 +72078,44 @@
    attribute. (Updating the &lt;code title=&quot;&quot;&gt;default*&lt;/code&gt; IDL
    attributes causes content attributes to be updated as well.)&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;User agents may perform several commands per user request; for
-  example if the user selects a block of text and hits
-  &lt;kbd&gt;&lt;kbd&gt;Enter&lt;/kbd&gt;&lt;/kbd&gt;, the UA might interpret that as a
-  request to delete the content of the selection followed by a request
-  to break the paragraph at that position.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;User agents may add DOM changes to the &lt;a href=#undo-transaction-history&gt;undo transaction
+  history&lt;/a&gt; of the &lt;a href=#editing-host&gt;editing host&lt;/a&gt;'s
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object each time an action is triggered.&lt;/p&gt;
 
-  &lt;p&gt;User agents may add &lt;span&gt;DOM changes&lt;/span&gt; entries to the
-  &lt;span&gt;undo transaction history&lt;/span&gt; of the &lt;a href=#editing-host&gt;editing
-  host&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object each time an action is
-  triggered.&lt;/p&gt;
-
-  &lt;p&gt;All of the actions defined above, whether triggered by the user
-  or programmatically (e.g. by &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand()&lt;/a&gt;&lt;/code&gt; commands),
-  must fire mutation events as appropriate.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4 id=editing-apis&gt;&lt;span class=secno&gt;8.5.4 &lt;/span&gt;Editing APIs&lt;/h4&gt;
 
-  &lt;h4 id=making-entire-documents-editable&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable&lt;/h4&gt;
+  &lt;p&gt;The definition of the terms &lt;dfn id=active-range&gt;active range&lt;/dfn&gt;, &lt;dfn id=editing-host&gt;editing
+  host&lt;/dfn&gt;, and &lt;dfn id=editable&gt;editable&lt;/dfn&gt;, the user interface requirements
+  of elements that are &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing hosts&lt;/a&gt;
+  or &lt;a href=#editable&gt;editable&lt;/a&gt;, and the
 
-  &lt;div class=impl&gt;
+  &lt;dfn id=execCommand title=dom-document-execCommand&gt;&lt;code&gt;execCommand()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandenabled title=dom-document-queryCommandEnabled&gt;&lt;code&gt;queryCommandEnabled()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandindeterm title=dom-document-queryCommandIndeterm&gt;&lt;code&gt;queryCommandIndeterm()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandstate title=dom-document-queryCommandState&gt;&lt;code&gt;queryCommandState()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandsupported title=dom-document-queryCommandSupported&gt;&lt;code&gt;queryCommandSupported()&lt;/code&gt;&lt;/dfn&gt;, and
+  &lt;dfn id=dom-document-querycommandvalue title=dom-document-queryCommandValue&gt;&lt;code&gt;queryCommandValue()&lt;/code&gt;&lt;/dfn&gt;
 
-  &lt;p&gt;Documents have a &lt;dfn id=designMode title=dom-document-designMode&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
-  can be either enabled or disabled.&lt;/p&gt;
+  methods are defined in the HTML Editing APIs specification. Text
+  selections are defined in the DOM Range specification. The
+  interaction of editing and the undo/redo features in user agents is
+  defined by the UndoManager and DOM Transaction specification. &lt;a href=#refsEDITING&gt;[EDITING]&lt;/a&gt; &lt;a href=#refsDOMRANGE&gt;[DOMRANGE]&lt;/a&gt; &lt;a href=#refsUNDO&gt;[UNDO]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;p class=XXX&gt;Need to decide what to do with the &lt;dfn id=formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/dfn&gt; category.&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+  &lt;p class=XXX&gt;&lt;dfn id=undo-transaction-history&gt;undo transaction history&lt;/dfn&gt; is currently
+  defined in &lt;a href=#refsUNDO&gt;[UNDO]&lt;/a&gt; but this spec hasn't been
+  updated to make sense with the new definition&lt;/p&gt;
 
-   &lt;dd&gt;
+  &lt;!-- those might get merged in here eventually --&gt;
 
-    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
-    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
 
-   &lt;/dd&gt;
+  &lt;h4 id=spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.5.5 &lt;/span&gt;Spelling and grammar checking&lt;/h4&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL
-  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object takes two values,
-  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
-  is set, the new value must be compared in an &lt;a href=#ascii-case-insensitive&gt;ASCII
-  case-insensitive&lt;/a&gt; manner to these two values. If it matches
-  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be enabled,
-  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be
-  disabled. Other values must be ignored.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; is
-  enabled, the IDL attribute must return the value &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
-  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;The last state set must persist until the document is destroyed
-  or the state is changed. Initially, documents must have their &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-  &lt;h3 id=spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Spelling and grammar checking&lt;/h3&gt;
-
   &lt;div class=impl&gt;
 
   &lt;p&gt;User agents can support the checking of spelling and grammar of
@@ -72332,7 +72210,8 @@
    that are not &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;Text in &lt;a href=#text-node title=&quot;text node&quot;&gt;text nodes&lt;/a&gt; that are
-   children of &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
+   children of &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing hosts&lt;/a&gt; or
+   &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
 
    &lt;li&gt;Text in attributes of &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
 
@@ -72428,7 +72307,7 @@
   the checking is enabled, or could use other interfaces.&lt;/p&gt;
 
 
-  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;&lt;dfn&gt;Drag and drop&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;&lt;dfn&gt;Drag and drop&lt;/dfn&gt;&lt;/h3&gt;
 
 &lt;!-- v2: ideas for drag and drop:
 
@@ -72530,7 +72409,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -72633,7 +72512,7 @@
 
 
 
-  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
+  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.6.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
 
   &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
   &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of the following information:&lt;/p&gt;
@@ -72778,7 +72657,7 @@
   store allowed effects state&lt;/a&gt; is the string &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.6.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the
   &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; that underlies a drag-and-drop
@@ -73155,7 +73034,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.7.3.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.6.3.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is associated with a
   &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
@@ -73364,7 +73243,7 @@
   &lt;/ol&gt;&lt;/div&gt;
 
 
-  &lt;h5 id=the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.7.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.6.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; object is associated with a
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
@@ -73592,7 +73471,7 @@
 
 
 
-  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.6.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;p&gt;The drag-and-drop processing model involves several events. They
   all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
@@ -73719,7 +73598,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
+  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent
   must run the following steps. User agents must act as if these steps
@@ -73978,10 +73857,11 @@
   &lt;/ol&gt;&lt;p&gt;From the moment that the user agent is to &lt;dfn id=initiate-the-drag-and-drop-operation&gt;initiate the
   drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
   operation, device input events (e.g. mouse and keyboard events) must
-  be suppressed. In addition, the user agent must track all DOM
-  changes made during the drag-and-drop operation, and add them to its
-  &lt;span&gt;undo transaction history&lt;/span&gt; as one atomic operation once
-  the drag-and-drop operation has ended.&lt;/p&gt;
+  be suppressed. &lt;span class=XXX&gt;In addition, the user agent must
+  track all DOM changes made during the drag-and-drop operation, and
+  add them to its &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt; as one atomic
+  operation once the drag-and-drop operation has ended.&lt;/span&gt;&lt;/p&gt;
+  &lt;!-- need to update this to new UndoManager code --&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn id=immediate-user-selection&gt;immediate user
@@ -74075,10 +73955,11 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
-         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
-         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element,
+         and the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item
+         with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
          &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
@@ -74144,10 +74025,11 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-       item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type
-       string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data
-       item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element, and
+       the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item with
+       &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+       &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+       kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
@@ -74278,19 +74160,20 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
-         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
-         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element,
+         and the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item
+         with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
          &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; to have &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;a drag data item type
          string&lt;/a&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/a&gt;
          that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
-         platform-specific conventions (e.g. inserting it at the
-         current mouse cursor position, or inserting it at the end of
-         the field).&lt;/dd&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element in
+         a manner consistent with platform-specific conventions (e.g.
+         inserting it at the current mouse cursor position, or
+         inserting it at the end of the field).&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -74361,7 +74244,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/h4&gt;
+  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.6.6 &lt;/span&gt;Events summary&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -74440,7 +74323,7 @@
 
 
 
-  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.6.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
@@ -74499,7 +74382,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=the-dropzone-attribute&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;The &lt;dfn title=attr-dropzone&gt;&lt;code&gt;dropzone&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-dropzone-attribute&gt;&lt;span class=secno&gt;8.6.8 &lt;/span&gt;The &lt;dfn title=attr-dropzone&gt;&lt;code&gt;dropzone&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-dropzone&gt;&lt;a href=#the-dropzone-attribute&gt;dropzone&lt;/a&gt;&lt;/code&gt; content attribute set. When
   specified, its value must be an &lt;a href=#unordered-set-of-unique-space-separated-tokens&gt;unordered set of unique
@@ -74825,7 +74708,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
+  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.6.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
 
   &lt;p&gt;User agents must not make the data added to the
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event available to scripts
@@ -74853,7 +74736,7 @@
 
 &lt;!--FIND--&gt;
 
-  &lt;h3 id=text-search-apis&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Text search APIs&lt;/h3&gt; &lt;!-- window.find() --&gt;
+  &lt;h3 id=text-search-apis&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Text search APIs&lt;/h3&gt; &lt;!-- window.find() --&gt;
 
   &lt;p class=critical&gt;This legacy API is not very interoperably
   implemented, and has a number of design problems (such as having six
@@ -74910,461 +74793,9 @@
 
 
 
-  &lt;h3 id=editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/h3&gt;
+&lt;!--PEERCONNECTION--&gt;
+&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ] ] )&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Runs the action specified by the first argument, as described
-    in the list below. The second and third arguments sometimes affect
-    the action. (If they don't they are ignored.)&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandEnabled&gt;&lt;a href=#dom-document-querycommandenabled&gt;queryCommandEnabled&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is enabled, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandIndeterm&gt;&lt;a href=#dom-document-querycommandindeterm&gt;queryCommandIndeterm&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is indeterminate, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandState&gt;&lt;a href=#dom-document-querycommandstate&gt;queryCommandState&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the state of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandSupported&gt;&lt;a href=#dom-document-querycommandsupported&gt;queryCommandSupported&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the command is supported; otherwise, returns false.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandValue&gt;&lt;a href=#dom-document-querycommandvalue&gt;queryCommandValue&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the value of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;dfn id=execCommand title=dom-document-execCommand&gt;&lt;code&gt;execCommand(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface allows scripts to perform
-  actions on the current selection or at the current caret position.
-  Generally, these commands would be used to implement editor UI, for
-  example having a &quot;delete&quot; button on a toolbar.&lt;/p&gt;
-
-  &lt;p&gt;There are three variants to this method, with one, two, and three
-  arguments respectively. The &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored
-  except where otherwise stated.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand()&lt;/a&gt;&lt;/code&gt;
-  is invoked, the user agent must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;If the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; maps to an entry in
-   the list below whose &quot;Enabled When&quot; entry has a condition that is
-   currently false, do nothing; abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, execute the &quot;Action&quot; listed below for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;/div&gt;
-
-  &lt;p&gt;A document is &lt;dfn id=ready-for-editing-host-commands&gt;ready for editing host commands&lt;/dfn&gt; if it
-  has a selection that is entirely within an &lt;a href=#editing-host&gt;editing
-  host&lt;/a&gt;, or if it has no selection but its caret is inside an
-  &lt;a href=#editing-host&gt;editing host&lt;/a&gt;.&lt;/p&gt;
-
-  &lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandenabled title=dom-document-queryCommandEnabled&gt;&lt;code&gt;queryCommandEnabled(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Enabled When&quot; for
-  the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandindeterm title=dom-document-queryCommandIndeterm&gt;&lt;code&gt;queryCommandIndeterm(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Indeterminate When&quot;
-  for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandstate title=dom-document-queryCommandState&gt;&lt;code&gt;queryCommandState(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;State&quot; for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandsupported title=dom-document-queryCommandSupported&gt;&lt;code&gt;queryCommandSupported(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is in the
-  list below, and false otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandvalue title=dom-document-queryCommandValue&gt;&lt;code&gt;queryCommandValue(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;Value&quot; for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;The possible values for &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;, and their
-  corresponding meanings, are as follows. &lt;span class=impl&gt;These
-  values must be compared to the argument in an &lt;a href=#ascii-case-insensitive&gt;ASCII
-  case-insensitive&lt;/a&gt; manner.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=command-bold title=command-bold&gt;&lt;code&gt;bold&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is bold.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-createlink title=command-createLink&gt;&lt;code&gt;createLink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is a
-   link or not. If the second argument is true, and a link is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element, then if the &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;a href=#url&gt;URL&lt;/a&gt; of the link. Otherwise, the user agent
-   should prompt the user for the URL of the link.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-delete title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character before the cursor.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=#contenteditable-delete&gt;a backspace
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-formatblock title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Wraps the selection in the element
-   given by the third argument. If the third argument doesn't
-   specify an element that is a &lt;dfn id=formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt;
-   candidate&lt;/dfn&gt;, does nothing.&lt;/dd&gt;
-   &lt;dd class=impl&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument has a leading
-     U+003C LESS-THAN SIGN character (&lt;) and a trailing U+003E
-     GREATER-THAN SIGN character (&gt;), then remove the first and last
-     characters from &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-     &lt;li&gt;
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) an &lt;a href=#ascii-case-insensitive&gt;ASCII
-      case-insensitive&lt;/a&gt; match for the tag name of an element
-      defined by this specification that is defined to be a
-      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;, then,
-      for every position in the selection, take the nearest
-      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;
-      ancestor element of that position that contains only
-      &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, and, if that element is
-      &lt;a href=#editable&gt;editable&lt;/a&gt;, is not an &lt;a href=#editing-host&gt;editing host&lt;/a&gt;, and
-      has a parent element whose content model allows that parent to
-      contain any &lt;a href=#flow-content&gt;flow content&lt;/a&gt;, replace it with an
-      element in the HTML namespace whose name is &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the children that were in it
-      to the new element, and copy all the attributes that were on it
-      to the new element.&lt;/p&gt;
-      &lt;p&gt;If there is no selection, then, where in the description
-      above refers to the selection, the user agent must act as if the
-      selection was an empty range (with just one position) at the
-      caret position.&lt;/p&gt;
-     &lt;/li&gt;
-    &lt;/ol&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-forwarddelete title=command-forwardDelete&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character after the cursor.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=#contenteditable-delete&gt;a forward delete
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertimage title=command-insertImage&gt;&lt;code&gt;insertImage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an
-   image or not. If the second argument is true, and an image is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act
-   as if the user had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then if the &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;a href=#url&gt;URL&lt;/a&gt; of the image. Otherwise, the user
-   agent should prompt the user for the URL of the image.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-inserthtml title=command-insertHTML&gt;&lt;code&gt;insertHTML&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Replaces the selection with the value
-   of the third argument parsed as HTML.&lt;/dd&gt;
-   &lt;dd class=impl&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the document is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML
-     document&lt;/a&gt;, then throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt;
-     exception and abort these steps.&lt;/li&gt;&lt;!-- v2 support XML? --&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If there is a selection, act as if the user had requested
-     that &lt;a href=#contenteditable-delete&gt;the selection be
-     deleted&lt;/a&gt;.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Invoke the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing algorithm&lt;/a&gt;
-     with an arbitrary orphan &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element owned by the
-     same &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the &lt;i title=&quot;&quot;&gt;context&lt;/i&gt; element
-     and with the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument as &lt;i title=&quot;&quot;&gt;input&lt;/i&gt;.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Insert the nodes returned by the previous step into the
-     document at the location of the caret, firing any mutation events
-     as appropriate.&lt;/li&gt;
-    &lt;/ol&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertlinebreak title=command-insertLineBreak&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a line break.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=#contenteditable-br&gt;requested a line
-   separator&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertorderedlist title=command-insertOrderedList&gt;&lt;code&gt;insertOrderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an ordered list.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertunorderedlist title=command-insertUnorderedList&gt;&lt;code&gt;insertUnorderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an unordered list.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertparagraph title=command-insertParagraph&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a paragraph break.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed a &lt;a href=#contenteditable-breakBlock&gt;break
-   block&lt;/a&gt; editing action.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-inserttext title=command-insertText&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts the text given in the third parameter.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=#contenteditable-insertText&gt;inserted text&lt;/a&gt;
-   corresponding to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-italic title=command-italic&gt;&lt;code&gt;italic&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is italic.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-redo title=command-redo&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested a redo.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span title=do-redo&gt;move forward one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the end of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the end of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-selectall title=command-selectAll&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Selects all the editable content.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that all the content in the currently focused
-   &lt;a href=#editing-host&gt;editing host&lt;/a&gt; is selected. If no &lt;a href=#editing-host&gt;editing
-   host&lt;/a&gt; is focused, then the content of the entire document
-   must be selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-subscript title=command-subscript&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is subscripted.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-superscript title=command-superscript&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is superscripted.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-undo title=command-undo&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested an undo.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span title=do-undo&gt;move back one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the start of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the start of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-unlink title=command-unlink&gt;&lt;code&gt;unlink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Removes all links from the selection.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must remove all
-   &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; elements that have &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attributes and that are partially
-   or completely included in the current selection.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document has a selection
-   that is entirely within an &lt;a href=#editing-host&gt;editing host&lt;/a&gt; and that
-   contains (either partially or completely) at least one
-   &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element that has an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-unselect title=command-unselect&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Unselects everything.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that nothing is selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt class=impl&gt;&lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;&lt;/dt&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents may implement
-   vendor-specific extensions to this API. Vendor-specific extensions
-   to the list of commands should use the syntax &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;
-   so as to prevent clashes between extensions from different vendors
-   and future additions to this specification.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;State&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Value&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-
-   &lt;dt class=impl&gt;Anything else&lt;/dt&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents must do nothing.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;!--
-v2 (well, really v0):
- &quot;forecolor&quot;, &quot;hilitecolor&quot;, &quot;fontname&quot;, &quot;fontsize&quot;, &quot;justifyleft&quot;,
- &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
---&gt;&lt;!--PEERCONNECTION--&gt;&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
-
   &lt;h2 id=video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/h2&gt;
 
   &lt;h3 id=introduction-10&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/h3&gt;
@@ -95808,11 +95239,11 @@
 
   &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;15.7.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
 
-  &lt;p&gt;The current text editing caret (the one at the &lt;a href=#caret-position&gt;caret
-  position&lt;/a&gt; in a focused &lt;a href=#editing-host&gt;editing host&lt;/a&gt;) is expected
-  to act like an inline replaced element with the vertical dimensions
-  of the caret and with zero width for the purposes of the CSS
-  rendering model.&lt;/p&gt;
+  &lt;p&gt;The current text editing caret (i.e. the &lt;a href=#active-range&gt;active
+  range&lt;/a&gt;, if it is empty and in an &lt;a href=#editing-host&gt;editing host&lt;/a&gt;),
+  if any, is expected to act like an inline replaced element with the
+  vertical dimensions of the caret and with zero width for the
+  purposes of the CSS rendering model.&lt;/p&gt;
 
   &lt;p class=note&gt;This means that even an empty block can have the
   caret inside it, and that when the caret is in such an element, it
@@ -99842,7 +99273,7 @@
      &lt;td&gt; &lt;a href=#attribute-text&gt;Text&lt;/a&gt;*
     &lt;tr&gt;&lt;th&gt; &lt;code title=&quot;&quot;&gt;contenteditable&lt;/code&gt;
      &lt;td&gt; &lt;a href=#attr-contenteditable title=attr-contenteditable&gt;HTML elements&lt;/a&gt;
-     &lt;td&gt; Whether the element is &lt;a href=#editable&gt;editable&lt;/a&gt;
+     &lt;td&gt; Whether the element is an editable
      &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;; &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;
     &lt;tr&gt;&lt;th&gt; &lt;code title=&quot;&quot;&gt;contextmenu&lt;/code&gt;
      &lt;td&gt; &lt;a href=#attr-contextmenu title=attr-contextmenu&gt;HTML elements&lt;/a&gt;
@@ -101358,6 +100789,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</A>&gt;ECMAScript
    Language Specification&lt;/a&gt;&lt;/cite&gt;. ECMA.&lt;/dd&gt;
 
+   &lt;dt id=refsEDITING&gt;[EDITING]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://aryeh.name/spec/editing/editing.html">http://aryeh.name/spec/editing/editing.html</A>&gt;HTML Editing APIs&lt;/a&gt;&lt;/cite&gt;, A. Gregor.&lt;/dd&gt;
+
    &lt;dt id=refsECMA357&gt;[ECMA357]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://www.ecma-international.org/publications/standards/Ecma-357.htm">http://www.ecma-international.org/publications/standards/Ecma-357.htm</A>&gt;ECMAScript
    for XML (E4X) Specification&lt;/a&gt;&lt;/cite&gt;. ECMA.&lt;/dd&gt;
@@ -101753,6 +101187,9 @@
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,
    J. Spellman. W3C.&lt;/dd&gt;
 
+   &lt;dt id=refsUNDO&gt;[UNDO]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://rniwa.com/editing/undomanager.html">http://rniwa.com/editing/undomanager.html</A>&gt;UndoManager and DOM Transaction&lt;/a&gt;&lt;/cite&gt;, R. Niwa.&lt;/dd&gt;
+
    &lt;dt id=refsUNICODE&gt;[UNICODE]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.unicode.org/versions/">http://www.unicode.org/versions/</A>&gt;The Unicode Standard&lt;/a&gt;&lt;/cite&gt;. Unicode Consortium.&lt;/dd&gt;
 

Modified: index
===================================================================
--- index	2011-08-25 23:13:05 UTC (rev 6527)
+++ index	2011-08-26 00:43:00 UTC (rev 6528)
@@ -243,7 +243,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 25 August 2011&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 26 August 2011&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -968,27 +968,29 @@
      &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-accesskey-attribute&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;The &lt;code&gt;accesskey&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#processing-model-3&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; attribute&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#editing-0&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Editing&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#user-editing-actions&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;User editing actions&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#making-entire-documents-editable&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; content
+  attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#making-entire-documents-editable:-the-designmode-idl-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable: The &lt;code title=dom-document-designMode&gt;designMode&lt;/code&gt; IDL attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#user-editing-actions&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;User editing actions&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.5.4 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.5.5 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.6.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.6.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.7.3.1 &lt;/span&gt;The &lt;code&gt;DataTransferItemList&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.7.3.2 &lt;/span&gt;The &lt;code&gt;DataTransferItem&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dropzone-attribute&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;The &lt;code&gt;dropzone&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text-search-apis&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Text search APIs&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.6.3.1 &lt;/span&gt;The &lt;code&gt;DataTransferItemList&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.6.3.2 &lt;/span&gt;The &lt;code&gt;DataTransferItem&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.6.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.6.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.6.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dropzone-attribute&gt;&lt;span class=secno&gt;8.6.8 &lt;/span&gt;The &lt;code&gt;dropzone&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.6.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text-search-apis&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Text search APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -56883,7 +56885,8 @@
      &lt;li&gt;&lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; elements that do not have a &lt;code title=attr-textarea-readonly&gt;&lt;a href=#attr-textarea-readonly&gt;readonly&lt;/a&gt;&lt;/code&gt; attribute, and
      that are not &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;&lt;/li&gt;
 
-     &lt;li&gt;elements that are &lt;a href=#editable&gt;editable&lt;/a&gt; and are neither
+     &lt;li&gt;elements that are &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing
+     hosts&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; and are neither
      &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elemenst nor &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;
      elements&lt;/li&gt;
 
@@ -71796,8 +71799,11 @@
 
 
 
-  &lt;h3 id=contenteditable&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;The &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute&lt;/h3&gt;
+  &lt;h3 id=editing-0&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Editing&lt;/h3&gt;
 
+  &lt;h4 id=contenteditable&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; content
+  attribute&lt;/h4&gt;
+
   &lt;p&gt;The &lt;dfn id=attr-contenteditable title=attr-contenteditable&gt;&lt;code&gt;contenteditable&lt;/code&gt;&lt;/dfn&gt;
   attribute is an &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt; whose keywords are
   the empty string, &lt;code title=&quot;&quot;&gt;true&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;false&lt;/code&gt;. The empty string and the &lt;code title=&quot;&quot;&gt;true&lt;/code&gt; keyword map to the &lt;i&gt;true&lt;/i&gt; state. The &lt;code title=&quot;&quot;&gt;false&lt;/code&gt; keyword maps to the &lt;i&gt;false&lt;/i&gt; state. In
@@ -71810,31 +71816,6 @@
   parent is. The &lt;i&gt;false&lt;/i&gt; state indicates that the element is not
   editable.&lt;/p&gt;
 
-  &lt;div class=impl&gt;
-
-  &lt;p&gt;Specifically, if an &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/a&gt; has a &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the true state, or it has its &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state and if its nearest ancestor &lt;a href=#html-elements title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/a&gt; with the &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  true state, or if it and its ancestors all have their &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state but the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; enabled, then the
-  UA must treat the element as &lt;dfn id=editable&gt;editable&lt;/dfn&gt; (as described
-  below).&lt;/p&gt;
-
-  &lt;p&gt;Otherwise, either the &lt;a href=#html-elements title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/a&gt; has a &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the false state, or its &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute is set
-  to the inherit state and its nearest ancestor &lt;a href=#html-elements title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/a&gt; with the &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  false state, or all its ancestors have their &lt;code title=attr-contenteditable&gt;&lt;a href=#attr-contenteditable&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute set to
-  the inherit state and the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; itself has &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled; either
-  way, the element is not editable.&lt;/p&gt;
-
-  &lt;/div&gt;
-
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-contentEditable&gt;&lt;a href=#dom-contenteditable&gt;contentEditable&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -71874,147 +71855,69 @@
   attribute setter must raise a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-iscontenteditable title=dom-isContentEditable&gt;&lt;code&gt;isContentEditable&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return true if the element is
-  &lt;a href=#editable&gt;editable&lt;/a&gt;, and false otherwise.&lt;/p&gt;
+  IDL attribute, on getting, must return true if the element is either
+  an &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt;, and false
+  otherwise.&lt;/p&gt;
 
-  &lt;p&gt;If an element is &lt;a href=#editable&gt;editable&lt;/a&gt; and its parent element is
-  not, or if an element is &lt;a href=#editable&gt;editable&lt;/a&gt; and it has no parent
-  element, then the element is an &lt;dfn id=editing-host&gt;editing host&lt;/dfn&gt;. Editable
-  elements can be nested. Editing hosts are typically focusable and
-  typically form part of the &lt;a href=#attr-tabindex title=attr-tabindex&gt;tab
-  order&lt;/a&gt;. An editing host can contain non-editable sections,
-  these are handled as described below. An editing host can contain
-  non-editable sections that contain further editing hosts.&lt;/p&gt;
-
-  &lt;p&gt;When an editing host has focus, it must have a &lt;dfn id=caret-position&gt;caret
-  position&lt;/dfn&gt; that specifies where the current editing position is.
-  It may also have a selection.&lt;/p&gt;
-
-  &lt;p class=note&gt;How the caret and selection are represented depends
-  entirely on the UA.&lt;/p&gt;
-
-  &lt;!-- v2: would be useful to have a way to mark an element as
-  unremovable. --&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4 id=making-entire-documents-editable:-the-designmode-idl-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable: The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL attribute&lt;/h4&gt;
+
   &lt;div class=impl&gt;
 
-  &lt;h4 id=user-editing-actions&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;User editing actions&lt;/h4&gt;
+  &lt;p&gt;Documents have a &lt;dfn id=designMode title=dom-document-designMode&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
+  can be either enabled or disabled.&lt;/p&gt;
 
-  &lt;p&gt;There are several actions that the user agent should allow the
-  user to perform while the user is interacting with an editing
-  host. How exactly each action is triggered is not defined for every
-  action, but when it is not defined, suggested key bindings are
-  provided to guide implementors.&lt;/p&gt;
+  &lt;/div&gt;
 
-  &lt;dl&gt;&lt;dt&gt;Move the caret&lt;/dt&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to move the caret to any
-   position within an editing host, even into nested editable
-   elements. This could be triggered as the default action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events with various key
-   identifiers and as the default action of &lt;code title=event-mousedown&gt;mousedown&lt;/code&gt; events.&lt;/dd&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
+    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-   &lt;dt&gt;Change the selection&lt;/dt&gt;
+    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to change the selection within
-   an editing host, even into nested editable elements. User agents
-   may prevent selections from being made in ways that cross from
-   editable elements into non-editable elements (e.g. by making each
-   non-editable descendant atomically selectable, but not allowing
-   text selection within them). This could be triggered as the default
-   action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events with
-   various key identifiers and as the default action of &lt;code title=event-mousedown&gt;mousedown&lt;/code&gt; events.&lt;/dd&gt;
-
-
-   &lt;dt id=contenteditable-insertText&gt;Insert text&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This action must be triggered as the default action of a
-   &lt;code title=event-textInput&gt;textInput&lt;/code&gt; event, and may be
-   triggered by other commands as well. It must cause the user agent
-   to insert the specified text (given by the event object's &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute in the case of the &lt;code title=event-textInput&gt;textInput&lt;/code&gt; event) at the caret.&lt;/p&gt;
-
-   &lt;p&gt;If the caret is positioned somewhere where &lt;a href=#phrasing-content&gt;phrasing
-   content&lt;/a&gt; is not allowed (e.g. inside an empty &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;
-   element), then the user agent must not insert the text directly at
-   the caret position. In such cases the behavior is UA-dependent,
-   but user agents must not, in response to a request to insert text,
-   generate a DOM that is less conformant than the DOM prior to the
-   request.&lt;/p&gt;
-
-   &lt;p&gt;User agents should allow users to insert new paragraphs into
-   elements that contains only content other than paragraphs.&lt;/p&gt;
-
-   &lt;div class=example&gt;
-    &lt;p&gt;For example, given the markup:&lt;/p&gt;
-    &lt;pre&gt;&lt;section&gt;
- &lt;dl&gt;
-  &lt;dt&gt; Ben &lt;/dt&gt;
-  &lt;dd&gt; Goat &lt;/dd&gt;
- &lt;/dl&gt;
-&lt;/section&gt;&lt;/pre&gt;
-    &lt;p&gt;...the user agent should allow the user to insert
-    &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; elements before and after the &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;
-    element, as children of the &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
-   &lt;/div&gt;
-
    &lt;/dd&gt;
 
+  &lt;/dl&gt;&lt;div class=impl&gt;
 
-   &lt;dt id=contenteditable-breakBlock&gt;Break block&lt;/dt&gt;
+  &lt;p&gt;The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL
+  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object takes two values,
+  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
+  is set, the new value must be compared in an &lt;a href=#ascii-case-insensitive&gt;ASCII
+  case-insensitive&lt;/a&gt; manner to these two values. If it matches
+  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be enabled,
+  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be
+  disabled. Other values must be ignored.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request that the
-   current paragraph be broken at the caret, e.g. as the default
-   action of a &lt;code title=event-keydown&gt;keydown&lt;/code&gt; event whose
-   identifier is the &quot;Enter&quot; key and that has no modifiers set.&lt;/p&gt;
+  &lt;p&gt;When &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; is
+  enabled, the IDL attribute must return the value &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
+  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
 
-   &lt;p&gt;The exact behavior is UA-dependent, but user agents must not,
-   in response to a request to break a paragraph, generate a DOM that
-   is less conformant than the DOM prior to the request.&lt;/dd&gt;
+  &lt;p&gt;The last state set must persist until the document is destroyed
+  or the state is changed. Initially, documents must have their &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled.&lt;/p&gt;
 
+  &lt;/div&gt;
 
-   &lt;dt id=contenteditable-br&gt;Insert a line separator&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request an explicit
-   line break at the caret position without breaking the paragraph,
-   e.g. as the default action of a &lt;code title=event-keydown&gt;keydown&lt;/code&gt; event whose identifier is the
-   &quot;Enter&quot; key and that has a shift modifier set. Line separators are
-   typically found within a poem verse or an address. To insert a line
-   break, the user agent must insert a &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-   &lt;p&gt;If the caret is positioned somewhere where &lt;a href=#phrasing-content&gt;phrasing
-   content&lt;/a&gt; is not allowed (e.g. in an empty &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;
-   element), then the user agent must not insert the &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;
-   element directly at the caret position. In such cases the behavior
-   is UA-dependent, but user agents must not, in response to a request
-   to insert a line separator, generate a DOM that is less conformant
-   than the DOM prior to the request.&lt;/dd&gt;
+  &lt;div class=impl&gt;
 
+  &lt;h4 id=user-editing-actions&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;User editing actions&lt;/h4&gt;
 
-   &lt;dt id=contenteditable-delete&gt;Delete&lt;/dt&gt;
+  &lt;p class=XXX&gt;This section will be removed shortly. What remains
+  here is simply what has not yet been merged into Aryeh's spec.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to delete text and
-   elements, including non-editable descendants, e.g. as the default
-   action of &lt;code title=event-keydown&gt;keydown&lt;/code&gt; events whose
-   identifiers are &quot;U+0008&quot; or &quot;U+007F&quot;.&lt;/p&gt;
+  &lt;p&gt;There are several actions that the user agent should allow the
+  user to perform while the user is interacting with an editing
+  host. How exactly each action is triggered is not defined for every
+  action, but when it is not defined, suggested key bindings are
+  provided to guide implementors.&lt;/p&gt;
 
-   &lt;p&gt;Five edge cases in particular need to be considered carefully
-   when implementing this feature: backspacing at the start of an
-   element, backspacing when the caret is immediately after an
-   element, forward-deleting at the end of an element,
-   forward-deleting when the caret is immediately before an element,
-   and deleting a selection whose start and end points do not share a
-   common parent node.&lt;/p&gt;
-
-   &lt;p&gt;In any case, the exact behavior is UA-dependent, but user
-   agents must not, in response to a request to delete text or an
-   element, generate a DOM that is less conformant than the DOM prior
-   to the request.&lt;/dd&gt;
-
-
-   &lt;dt id=contenteditable-wrapSemantic&gt;Insert, and wrap text in,
+  &lt;dl&gt;&lt;dt id=contenteditable-wrapSemantic&gt;Insert, and wrap text in,
    semantic elements&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;UAs should offer the user the ability to mark text and
@@ -72071,69 +71974,44 @@
    attribute. (Updating the &lt;code title=&quot;&quot;&gt;default*&lt;/code&gt; IDL
    attributes causes content attributes to be updated as well.)&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;User agents may perform several commands per user request; for
-  example if the user selects a block of text and hits
-  &lt;kbd&gt;&lt;kbd&gt;Enter&lt;/kbd&gt;&lt;/kbd&gt;, the UA might interpret that as a
-  request to delete the content of the selection followed by a request
-  to break the paragraph at that position.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;User agents may add DOM changes to the &lt;a href=#undo-transaction-history&gt;undo transaction
+  history&lt;/a&gt; of the &lt;a href=#editing-host&gt;editing host&lt;/a&gt;'s
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object each time an action is triggered.&lt;/p&gt;
 
-  &lt;p&gt;User agents may add &lt;span&gt;DOM changes&lt;/span&gt; entries to the
-  &lt;span&gt;undo transaction history&lt;/span&gt; of the &lt;a href=#editing-host&gt;editing
-  host&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object each time an action is
-  triggered.&lt;/p&gt;
-
-  &lt;p&gt;All of the actions defined above, whether triggered by the user
-  or programmatically (e.g. by &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand()&lt;/a&gt;&lt;/code&gt; commands),
-  must fire mutation events as appropriate.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4 id=editing-apis&gt;&lt;span class=secno&gt;8.5.4 &lt;/span&gt;Editing APIs&lt;/h4&gt;
 
-  &lt;h4 id=making-entire-documents-editable&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;Making entire documents editable&lt;/h4&gt;
+  &lt;p&gt;The definition of the terms &lt;dfn id=active-range&gt;active range&lt;/dfn&gt;, &lt;dfn id=editing-host&gt;editing
+  host&lt;/dfn&gt;, and &lt;dfn id=editable&gt;editable&lt;/dfn&gt;, the user interface requirements
+  of elements that are &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing hosts&lt;/a&gt;
+  or &lt;a href=#editable&gt;editable&lt;/a&gt;, and the
 
-  &lt;div class=impl&gt;
+  &lt;dfn id=execCommand title=dom-document-execCommand&gt;&lt;code&gt;execCommand()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandenabled title=dom-document-queryCommandEnabled&gt;&lt;code&gt;queryCommandEnabled()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandindeterm title=dom-document-queryCommandIndeterm&gt;&lt;code&gt;queryCommandIndeterm()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandstate title=dom-document-queryCommandState&gt;&lt;code&gt;queryCommandState()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn id=dom-document-querycommandsupported title=dom-document-queryCommandSupported&gt;&lt;code&gt;queryCommandSupported()&lt;/code&gt;&lt;/dfn&gt;, and
+  &lt;dfn id=dom-document-querycommandvalue title=dom-document-queryCommandValue&gt;&lt;code&gt;queryCommandValue()&lt;/code&gt;&lt;/dfn&gt;
 
-  &lt;p&gt;Documents have a &lt;dfn id=designMode title=dom-document-designMode&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
-  can be either enabled or disabled.&lt;/p&gt;
+  methods are defined in the HTML Editing APIs specification. Text
+  selections are defined in the DOM Range specification. The
+  interaction of editing and the undo/redo features in user agents is
+  defined by the UndoManager and DOM Transaction specification. &lt;a href=#refsEDITING&gt;[EDITING]&lt;/a&gt; &lt;a href=#refsDOMRANGE&gt;[DOMRANGE]&lt;/a&gt; &lt;a href=#refsUNDO&gt;[UNDO]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;p class=XXX&gt;Need to decide what to do with the &lt;dfn id=formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/dfn&gt; category.&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+  &lt;p class=XXX&gt;&lt;dfn id=undo-transaction-history&gt;undo transaction history&lt;/dfn&gt; is currently
+  defined in &lt;a href=#refsUNDO&gt;[UNDO]&lt;/a&gt; but this spec hasn't been
+  updated to make sense with the new definition&lt;/p&gt;
 
-   &lt;dd&gt;
+  &lt;!-- those might get merged in here eventually --&gt;
 
-    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
-    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
 
-   &lt;/dd&gt;
+  &lt;h4 id=spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.5.5 &lt;/span&gt;Spelling and grammar checking&lt;/h4&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; IDL
-  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object takes two values,
-  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
-  is set, the new value must be compared in an &lt;a href=#ascii-case-insensitive&gt;ASCII
-  case-insensitive&lt;/a&gt; manner to these two values. If it matches
-  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be enabled,
-  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; must be
-  disabled. Other values must be ignored.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; is
-  enabled, the IDL attribute must return the value &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
-  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;The last state set must persist until the document is destroyed
-  or the state is changed. Initially, documents must have their &lt;code title=dom-document-designMode&gt;&lt;a href=#designMode&gt;designMode&lt;/a&gt;&lt;/code&gt; disabled.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-  &lt;h3 id=spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Spelling and grammar checking&lt;/h3&gt;
-
   &lt;div class=impl&gt;
 
   &lt;p&gt;User agents can support the checking of spelling and grammar of
@@ -72228,7 +72106,8 @@
    that are not &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;Text in &lt;a href=#text-node title=&quot;text node&quot;&gt;text nodes&lt;/a&gt; that are
-   children of &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
+   children of &lt;a href=#editing-host title=&quot;editing host&quot;&gt;editing hosts&lt;/a&gt; or
+   &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
 
    &lt;li&gt;Text in attributes of &lt;a href=#editable&gt;editable&lt;/a&gt; elements.&lt;/li&gt;
 
@@ -72324,7 +72203,7 @@
   the checking is enabled, or could use other interfaces.&lt;/p&gt;
 
 
-  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;&lt;dfn&gt;Drag and drop&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;&lt;dfn&gt;Drag and drop&lt;/dfn&gt;&lt;/h3&gt;
 
 &lt;!-- v2: ideas for drag and drop:
 
@@ -72426,7 +72305,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -72529,7 +72408,7 @@
 
 
 
-  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
+  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.6.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
 
   &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
   &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of the following information:&lt;/p&gt;
@@ -72674,7 +72553,7 @@
   store allowed effects state&lt;/a&gt; is the string &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.6.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the
   &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; that underlies a drag-and-drop
@@ -73051,7 +72930,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.7.3.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=the-datatransferitemlist-interface&gt;&lt;span class=secno&gt;8.6.3.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is associated with a
   &lt;code&gt;&lt;a href=#datatransferitemlist&gt;DataTransferItemList&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
@@ -73260,7 +73139,7 @@
   &lt;/ol&gt;&lt;/div&gt;
 
 
-  &lt;h5 id=the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.7.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=the-datatransferitem-interface&gt;&lt;span class=secno&gt;8.6.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#datatransferitem&gt;DataTransferItem&lt;/a&gt;&lt;/code&gt; object is associated with a
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
@@ -73488,7 +73367,7 @@
 
 
 
-  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.6.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;p&gt;The drag-and-drop processing model involves several events. They
   all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
@@ -73615,7 +73494,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
+  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent
   must run the following steps. User agents must act as if these steps
@@ -73874,10 +73753,11 @@
   &lt;/ol&gt;&lt;p&gt;From the moment that the user agent is to &lt;dfn id=initiate-the-drag-and-drop-operation&gt;initiate the
   drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
   operation, device input events (e.g. mouse and keyboard events) must
-  be suppressed. In addition, the user agent must track all DOM
-  changes made during the drag-and-drop operation, and add them to its
-  &lt;span&gt;undo transaction history&lt;/span&gt; as one atomic operation once
-  the drag-and-drop operation has ended.&lt;/p&gt;
+  be suppressed. &lt;span class=XXX&gt;In addition, the user agent must
+  track all DOM changes made during the drag-and-drop operation, and
+  add them to its &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt; as one atomic
+  operation once the drag-and-drop operation has ended.&lt;/span&gt;&lt;/p&gt;
+  &lt;!-- need to update this to new UndoManager code --&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn id=immediate-user-selection&gt;immediate user
@@ -73971,10 +73851,11 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
-         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
-         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element,
+         and the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item
+         with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
          &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
@@ -74040,10 +73921,11 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-       item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type
-       string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data
-       item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element, and
+       the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item with
+       &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+       &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+       kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
@@ -74174,19 +74056,20 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
-         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
-         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
-         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element,
+         and the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an item
+         with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
          &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; to have &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;a drag data item type
          string&lt;/a&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/a&gt;
          that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
-         platform-specific conventions (e.g. inserting it at the
-         current mouse cursor position, or inserting it at the end of
-         the field).&lt;/dd&gt;
+         &lt;a href=#editing-host&gt;editing host&lt;/a&gt; or &lt;a href=#editable&gt;editable&lt;/a&gt; element in
+         a manner consistent with platform-specific conventions (e.g.
+         inserting it at the current mouse cursor position, or
+         inserting it at the end of the field).&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -74257,7 +74140,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/h4&gt;
+  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.6.6 &lt;/span&gt;Events summary&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -74336,7 +74219,7 @@
 
 
 
-  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.6.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
@@ -74395,7 +74278,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=the-dropzone-attribute&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;The &lt;dfn title=attr-dropzone&gt;&lt;code&gt;dropzone&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-dropzone-attribute&gt;&lt;span class=secno&gt;8.6.8 &lt;/span&gt;The &lt;dfn title=attr-dropzone&gt;&lt;code&gt;dropzone&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-dropzone&gt;&lt;a href=#the-dropzone-attribute&gt;dropzone&lt;/a&gt;&lt;/code&gt; content attribute set. When
   specified, its value must be an &lt;a href=#unordered-set-of-unique-space-separated-tokens&gt;unordered set of unique
@@ -74721,7 +74604,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
+  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.6.9 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
 
   &lt;p&gt;User agents must not make the data added to the
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event available to scripts
@@ -74749,7 +74632,7 @@
 
 &lt;!--FIND--&gt;
 
-  &lt;h3 id=text-search-apis&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Text search APIs&lt;/h3&gt; &lt;!-- window.find() --&gt;
+  &lt;h3 id=text-search-apis&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Text search APIs&lt;/h3&gt; &lt;!-- window.find() --&gt;
 
   &lt;p class=critical&gt;This legacy API is not very interoperably
   implemented, and has a number of design problems (such as having six
@@ -74806,461 +74689,9 @@
 
 
 
-  &lt;h3 id=editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/h3&gt;
+&lt;!--PEERCONNECTION--&gt;
+&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ] ] )&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Runs the action specified by the first argument, as described
-    in the list below. The second and third arguments sometimes affect
-    the action. (If they don't they are ignored.)&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandEnabled&gt;&lt;a href=#dom-document-querycommandenabled&gt;queryCommandEnabled&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is enabled, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandIndeterm&gt;&lt;a href=#dom-document-querycommandindeterm&gt;queryCommandIndeterm&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is indeterminate, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandState&gt;&lt;a href=#dom-document-querycommandstate&gt;queryCommandState&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the state of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandSupported&gt;&lt;a href=#dom-document-querycommandsupported&gt;queryCommandSupported&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the command is supported; otherwise, returns false.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-queryCommandValue&gt;&lt;a href=#dom-document-querycommandvalue&gt;queryCommandValue&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the value of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;dfn id=execCommand title=dom-document-execCommand&gt;&lt;code&gt;execCommand(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface allows scripts to perform
-  actions on the current selection or at the current caret position.
-  Generally, these commands would be used to implement editor UI, for
-  example having a &quot;delete&quot; button on a toolbar.&lt;/p&gt;
-
-  &lt;p&gt;There are three variants to this method, with one, two, and three
-  arguments respectively. The &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored
-  except where otherwise stated.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand()&lt;/a&gt;&lt;/code&gt;
-  is invoked, the user agent must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;If the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; maps to an entry in
-   the list below whose &quot;Enabled When&quot; entry has a condition that is
-   currently false, do nothing; abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, execute the &quot;Action&quot; listed below for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;/div&gt;
-
-  &lt;p&gt;A document is &lt;dfn id=ready-for-editing-host-commands&gt;ready for editing host commands&lt;/dfn&gt; if it
-  has a selection that is entirely within an &lt;a href=#editing-host&gt;editing
-  host&lt;/a&gt;, or if it has no selection but its caret is inside an
-  &lt;a href=#editing-host&gt;editing host&lt;/a&gt;.&lt;/p&gt;
-
-  &lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandenabled title=dom-document-queryCommandEnabled&gt;&lt;code&gt;queryCommandEnabled(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Enabled When&quot; for
-  the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandindeterm title=dom-document-queryCommandIndeterm&gt;&lt;code&gt;queryCommandIndeterm(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Indeterminate When&quot;
-  for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandstate title=dom-document-queryCommandState&gt;&lt;code&gt;queryCommandState(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;State&quot; for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandsupported title=dom-document-queryCommandSupported&gt;&lt;code&gt;queryCommandSupported(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is in the
-  list below, and false otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-document-querycommandvalue title=dom-document-queryCommandValue&gt;&lt;code&gt;queryCommandValue(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;Value&quot; for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;The possible values for &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;, and their
-  corresponding meanings, are as follows. &lt;span class=impl&gt;These
-  values must be compared to the argument in an &lt;a href=#ascii-case-insensitive&gt;ASCII
-  case-insensitive&lt;/a&gt; manner.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=command-bold title=command-bold&gt;&lt;code&gt;bold&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is bold.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-createlink title=command-createLink&gt;&lt;code&gt;createLink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is a
-   link or not. If the second argument is true, and a link is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element, then if the &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;a href=#url&gt;URL&lt;/a&gt; of the link. Otherwise, the user agent
-   should prompt the user for the URL of the link.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-delete title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character before the cursor.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=#contenteditable-delete&gt;a backspace
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-formatblock title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Wraps the selection in the element
-   given by the third argument. If the third argument doesn't
-   specify an element that is a &lt;dfn id=formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt;
-   candidate&lt;/dfn&gt;, does nothing.&lt;/dd&gt;
-   &lt;dd class=impl&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument has a leading
-     U+003C LESS-THAN SIGN character (&lt;) and a trailing U+003E
-     GREATER-THAN SIGN character (&gt;), then remove the first and last
-     characters from &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-     &lt;li&gt;
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) an &lt;a href=#ascii-case-insensitive&gt;ASCII
-      case-insensitive&lt;/a&gt; match for the tag name of an element
-      defined by this specification that is defined to be a
-      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;, then,
-      for every position in the selection, take the nearest
-      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;
-      ancestor element of that position that contains only
-      &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, and, if that element is
-      &lt;a href=#editable&gt;editable&lt;/a&gt;, is not an &lt;a href=#editing-host&gt;editing host&lt;/a&gt;, and
-      has a parent element whose content model allows that parent to
-      contain any &lt;a href=#flow-content&gt;flow content&lt;/a&gt;, replace it with an
-      element in the HTML namespace whose name is &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the children that were in it
-      to the new element, and copy all the attributes that were on it
-      to the new element.&lt;/p&gt;
-      &lt;p&gt;If there is no selection, then, where in the description
-      above refers to the selection, the user agent must act as if the
-      selection was an empty range (with just one position) at the
-      caret position.&lt;/p&gt;
-     &lt;/li&gt;
-    &lt;/ol&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-forwarddelete title=command-forwardDelete&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character after the cursor.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=#contenteditable-delete&gt;a forward delete
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertimage title=command-insertImage&gt;&lt;code&gt;insertImage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an
-   image or not. If the second argument is true, and an image is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act
-   as if the user had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then if the &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;a href=#url&gt;URL&lt;/a&gt; of the image. Otherwise, the user
-   agent should prompt the user for the URL of the image.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-inserthtml title=command-insertHTML&gt;&lt;code&gt;insertHTML&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Replaces the selection with the value
-   of the third argument parsed as HTML.&lt;/dd&gt;
-   &lt;dd class=impl&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the document is an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML
-     document&lt;/a&gt;, then throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt;
-     exception and abort these steps.&lt;/li&gt;&lt;!-- v2 support XML? --&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If there is a selection, act as if the user had requested
-     that &lt;a href=#contenteditable-delete&gt;the selection be
-     deleted&lt;/a&gt;.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Invoke the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing algorithm&lt;/a&gt;
-     with an arbitrary orphan &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element owned by the
-     same &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the &lt;i title=&quot;&quot;&gt;context&lt;/i&gt; element
-     and with the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument as &lt;i title=&quot;&quot;&gt;input&lt;/i&gt;.&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Insert the nodes returned by the previous step into the
-     document at the location of the caret, firing any mutation events
-     as appropriate.&lt;/li&gt;
-    &lt;/ol&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertlinebreak title=command-insertLineBreak&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a line break.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=#contenteditable-br&gt;requested a line
-   separator&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertorderedlist title=command-insertOrderedList&gt;&lt;code&gt;insertOrderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an ordered list.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertunorderedlist title=command-insertUnorderedList&gt;&lt;code&gt;insertUnorderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an unordered list.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-insertparagraph title=command-insertParagraph&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a paragraph break.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed a &lt;a href=#contenteditable-breakBlock&gt;break
-   block&lt;/a&gt; editing action.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-inserttext title=command-insertText&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts the text given in the third parameter.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=#contenteditable-insertText&gt;inserted text&lt;/a&gt;
-   corresponding to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-italic title=command-italic&gt;&lt;code&gt;italic&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is italic.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-redo title=command-redo&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested a redo.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span title=do-redo&gt;move forward one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the end of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the end of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-selectall title=command-selectAll&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Selects all the editable content.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that all the content in the currently focused
-   &lt;a href=#editing-host&gt;editing host&lt;/a&gt; is selected. If no &lt;a href=#editing-host&gt;editing
-   host&lt;/a&gt; is focused, then the content of the entire document
-   must be selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-subscript title=command-subscript&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is subscripted.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sub&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-superscript title=command-superscript&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is superscripted.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a href=#contenteditable-wrapSemantic&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;a href=#ready-for-editing-host-commands&gt;ready for
-   editing host commands&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;&lt;a href=#the-sub-and-sup-elements&gt;sup&lt;/a&gt;&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-undo title=command-undo&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested an undo.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span title=do-undo&gt;move back one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the start of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the start of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-unlink title=command-unlink&gt;&lt;code&gt;unlink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Removes all links from the selection.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must remove all
-   &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; elements that have &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attributes and that are partially
-   or completely included in the current selection.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document has a selection
-   that is entirely within an &lt;a href=#editing-host&gt;editing host&lt;/a&gt; and that
-   contains (either partially or completely) at least one
-   &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element that has an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=command-unselect title=command-unselect&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Unselects everything.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that nothing is selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt class=impl&gt;&lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;&lt;/dt&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents may implement
-   vendor-specific extensions to this API. Vendor-specific extensions
-   to the list of commands should use the syntax &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;
-   so as to prevent clashes between extensions from different vendors
-   and future additions to this specification.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;State&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Value&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-
-   &lt;dt class=impl&gt;Anything else&lt;/dt&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents must do nothing.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd class=impl&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;!--
-v2 (well, really v0):
- &quot;forecolor&quot;, &quot;hilitecolor&quot;, &quot;fontname&quot;, &quot;fontsize&quot;, &quot;justifyleft&quot;,
- &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
---&gt;&lt;!--PEERCONNECTION--&gt;&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
-
   &lt;h2 id=video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/h2&gt;
 
   &lt;h3 id=introduction-10&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/h3&gt;
@@ -91255,11 +90686,11 @@
 
   &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;13.7.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
 
-  &lt;p&gt;The current text editing caret (the one at the &lt;a href=#caret-position&gt;caret
-  position&lt;/a&gt; in a focused &lt;a href=#editing-host&gt;editing host&lt;/a&gt;) is expected
-  to act like an inline replaced element with the vertical dimensions
-  of the caret and with zero width for the purposes of the CSS
-  rendering model.&lt;/p&gt;
+  &lt;p&gt;The current text editing caret (i.e. the &lt;a href=#active-range&gt;active
+  range&lt;/a&gt;, if it is empty and in an &lt;a href=#editing-host&gt;editing host&lt;/a&gt;),
+  if any, is expected to act like an inline replaced element with the
+  vertical dimensions of the caret and with zero width for the
+  purposes of the CSS rendering model.&lt;/p&gt;
 
   &lt;p class=note&gt;This means that even an empty block can have the
   caret inside it, and that when the caret is in such an element, it
@@ -95289,7 +94720,7 @@
      &lt;td&gt; &lt;a href=#attribute-text&gt;Text&lt;/a&gt;*
     &lt;tr&gt;&lt;th&gt; &lt;code title=&quot;&quot;&gt;contenteditable&lt;/code&gt;
      &lt;td&gt; &lt;a href=#attr-contenteditable title=attr-contenteditable&gt;HTML elements&lt;/a&gt;
-     &lt;td&gt; Whether the element is &lt;a href=#editable&gt;editable&lt;/a&gt;
+     &lt;td&gt; Whether the element is an editable
      &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;; &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;
     &lt;tr&gt;&lt;th&gt; &lt;code title=&quot;&quot;&gt;contextmenu&lt;/code&gt;
      &lt;td&gt; &lt;a href=#attr-contextmenu title=attr-contextmenu&gt;HTML elements&lt;/a&gt;
@@ -96930,6 +96361,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</A>&gt;ECMAScript
    Language Specification&lt;/a&gt;&lt;/cite&gt;. ECMA.&lt;/dd&gt;
 
+   &lt;dt id=refsEDITING&gt;[EDITING]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://aryeh.name/spec/editing/editing.html">http://aryeh.name/spec/editing/editing.html</A>&gt;HTML Editing APIs&lt;/a&gt;&lt;/cite&gt;, A. Gregor.&lt;/dd&gt;
+
    &lt;dt id=refsECMA357&gt;[ECMA357]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://www.ecma-international.org/publications/standards/Ecma-357.htm">http://www.ecma-international.org/publications/standards/Ecma-357.htm</A>&gt;ECMAScript
    for XML (E4X) Specification&lt;/a&gt;&lt;/cite&gt;. ECMA.&lt;/dd&gt;
@@ -97330,6 +96764,9 @@
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,
    J. Spellman. W3C.&lt;/dd&gt;
 
+   &lt;dt id=refsUNDO&gt;[UNDO]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://rniwa.com/editing/undomanager.html">http://rniwa.com/editing/undomanager.html</A>&gt;UndoManager and DOM Transaction&lt;/a&gt;&lt;/cite&gt;, R. Niwa.&lt;/dd&gt;
+
    &lt;dt id=refsUNICODE&gt;[UNICODE]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.unicode.org/versions/">http://www.unicode.org/versions/</A>&gt;The Unicode Standard&lt;/a&gt;&lt;/cite&gt;. Unicode Consortium.&lt;/dd&gt;
 

Modified: source
===================================================================
--- source	2011-08-25 23:13:05 UTC (rev 6527)
+++ source	2011-08-26 00:43:00 UTC (rev 6528)
@@ -64303,7 +64303,8 @@
      that are not &lt;span
      title=&quot;concept-fe-disabled&quot;&gt;disabled&lt;/span&gt;&lt;/li&gt;
 
-     &lt;li&gt;elements that are &lt;span&gt;editable&lt;/span&gt; and are neither
+     &lt;li&gt;elements that are &lt;span title=&quot;editing host&quot;&gt;editing
+     hosts&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt; and are neither
      &lt;code&gt;input&lt;/code&gt; elemenst nor &lt;code&gt;textarea&lt;/code&gt;
      elements&lt;/li&gt;
 
@@ -81833,9 +81834,12 @@
 
 
 
-  &lt;h3 id=&quot;contenteditable&quot;&gt;The &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute&lt;/h3&gt;
+  &lt;h3&gt;Editing&lt;/h3&gt;
 
+  &lt;h4 id=&quot;contenteditable&quot;&gt;Making document regions editable: The &lt;code
+  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; content
+  attribute&lt;/h4&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;attr-contenteditable&quot;&gt;&lt;code&gt;contenteditable&lt;/code&gt;&lt;/dfn&gt;
   attribute is an &lt;span&gt;enumerated attribute&lt;/span&gt; whose keywords are
@@ -81852,41 +81856,6 @@
   parent is. The &lt;i&gt;false&lt;/i&gt; state indicates that the element is not
   editable.&lt;/p&gt;
 
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Specifically, if an &lt;span title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/span&gt; has a &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  the true state, or it has its &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  the inherit state and if its nearest ancestor &lt;span title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/span&gt; with the &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  true state, or if it and its ancestors all have their &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  the inherit state but the &lt;code&gt;Document&lt;/code&gt; has &lt;code
-  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; enabled, then the
-  UA must treat the element as &lt;dfn&gt;editable&lt;/dfn&gt; (as described
-  below).&lt;/p&gt;
-
-  &lt;p&gt;Otherwise, either the &lt;span title=&quot;HTML elements&quot;&gt;HTML
-  element&lt;/span&gt; has a &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  the false state, or its &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute is set
-  to the inherit state and its nearest ancestor &lt;span title=&quot;HTML
-  elements&quot;&gt;HTML element&lt;/span&gt; with the &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  a state other than the inherit state has its attribute set to the
-  false state, or all its ancestors have their &lt;code
-  title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute set to
-  the inherit state and the &lt;code&gt;Document&lt;/code&gt; itself has &lt;code
-  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; disabled; either
-  way, the element is not editable.&lt;/p&gt;
-
-  &lt;/div&gt;
-
   &lt;dl class=&quot;domintro&quot;&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-contentEditable&quot;&gt;contentEditable&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
@@ -81936,154 +81905,80 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-isContentEditable&quot;&gt;&lt;code&gt;isContentEditable&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute, on getting, must return true if the element is
-  &lt;span&gt;editable&lt;/span&gt;, and false otherwise.&lt;/p&gt;
+  IDL attribute, on getting, must return true if the element is either
+  an &lt;span&gt;editing host&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt;, and false
+  otherwise.&lt;/p&gt;
 
-  &lt;p&gt;If an element is &lt;span&gt;editable&lt;/span&gt; and its parent element is
-  not, or if an element is &lt;span&gt;editable&lt;/span&gt; and it has no parent
-  element, then the element is an &lt;dfn&gt;editing host&lt;/dfn&gt;. Editable
-  elements can be nested. Editing hosts are typically focusable and
-  typically form part of the &lt;span title=&quot;attr-tabindex&quot;&gt;tab
-  order&lt;/span&gt;. An editing host can contain non-editable sections,
-  these are handled as described below. An editing host can contain
-  non-editable sections that contain further editing hosts.&lt;/p&gt;
-
-  &lt;p&gt;When an editing host has focus, it must have a &lt;dfn&gt;caret
-  position&lt;/dfn&gt; that specifies where the current editing position is.
-  It may also have a selection.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;How the caret and selection are represented depends
-  entirely on the UA.&lt;/p&gt;
-
-  &lt;!-- v2: would be useful to have a way to mark an element as
-  unremovable. --&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4&gt;Making entire documents editable: The &lt;code
+  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; IDL attribute&lt;/h4&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;h4&gt;User editing actions&lt;/h4&gt;
+  &lt;p&gt;Documents have a &lt;dfn id=&quot;designMode&quot;
+  title=&quot;dom-document-designMode&quot;&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
+  can be either enabled or disabled.&lt;/p&gt;
 
-  &lt;p&gt;There are several actions that the user agent should allow the
-  user to perform while the user is interacting with an editing
-  host. How exactly each action is triggered is not defined for every
-  action, but when it is not defined, suggested key bindings are
-  provided to guide implementors.&lt;/p&gt;
+  &lt;/div&gt;
 
-  &lt;dl&gt;
+  &lt;dl class=&quot;domintro&quot;&gt;
 
-   &lt;dt&gt;Move the caret&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to move the caret to any
-   position within an editing host, even into nested editable
-   elements. This could be triggered as the default action of &lt;code
-   title=&quot;event-keydown&quot;&gt;keydown&lt;/code&gt; events with various key
-   identifiers and as the default action of &lt;code
-   title=&quot;event-mousedown&quot;&gt;mousedown&lt;/code&gt; events.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;
 
+    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
+    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-   &lt;dt&gt;Change the selection&lt;/dt&gt;
+    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
 
-   &lt;dd&gt;&lt;p&gt;User agents must allow users to change the selection within
-   an editing host, even into nested editable elements. User agents
-   may prevent selections from being made in ways that cross from
-   editable elements into non-editable elements (e.g. by making each
-   non-editable descendant atomically selectable, but not allowing
-   text selection within them). This could be triggered as the default
-   action of &lt;code title=&quot;event-keydown&quot;&gt;keydown&lt;/code&gt; events with
-   various key identifiers and as the default action of &lt;code
-   title=&quot;event-mousedown&quot;&gt;mousedown&lt;/code&gt; events.&lt;/p&gt;&lt;/dd&gt;
-
-
-   &lt;dt id=&quot;contenteditable-insertText&quot;&gt;Insert text&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This action must be triggered as the default action of a
-   &lt;code title=&quot;event-textInput&quot;&gt;textInput&lt;/code&gt; event, and may be
-   triggered by other commands as well. It must cause the user agent
-   to insert the specified text (given by the event object's &lt;code
-   title=&quot;&quot;&gt;data&lt;/code&gt; attribute in the case of the &lt;code
-   title=&quot;event-textInput&quot;&gt;textInput&lt;/code&gt; event) at the caret.&lt;/p&gt;
-
-   &lt;p&gt;If the caret is positioned somewhere where &lt;span&gt;phrasing
-   content&lt;/span&gt; is not allowed (e.g. inside an empty &lt;code&gt;ol&lt;/code&gt;
-   element), then the user agent must not insert the text directly at
-   the caret position. In such cases the behavior is UA-dependent,
-   but user agents must not, in response to a request to insert text,
-   generate a DOM that is less conformant than the DOM prior to the
-   request.&lt;/p&gt;
-
-   &lt;p&gt;User agents should allow users to insert new paragraphs into
-   elements that contains only content other than paragraphs.&lt;/p&gt;
-
-   &lt;div class=&quot;example&quot;&gt;
-    &lt;p&gt;For example, given the markup:&lt;/p&gt;
-    &lt;pre&gt;&lt;section&gt;
- &lt;dl&gt;
-  &lt;dt&gt; Ben &lt;/dt&gt;
-  &lt;dd&gt; Goat &lt;/dd&gt;
- &lt;/dl&gt;
-&lt;/section&gt;&lt;/pre&gt;
-    &lt;p&gt;...the user agent should allow the user to insert
-    &lt;code&gt;p&lt;/code&gt; elements before and after the &lt;code&gt;dl&lt;/code&gt;
-    element, as children of the &lt;code&gt;section&lt;/code&gt; element.&lt;/p&gt;
-   &lt;/div&gt;
-
    &lt;/dd&gt;
 
+  &lt;/dl&gt;
 
-   &lt;dt id=&quot;contenteditable-breakBlock&quot;&gt;Break block&lt;/dt&gt;
+  &lt;div class=&quot;impl&quot;&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request that the
-   current paragraph be broken at the caret, e.g. as the default
-   action of a &lt;code title=&quot;event-keydown&quot;&gt;keydown&lt;/code&gt; event whose
-   identifier is the &quot;Enter&quot; key and that has no modifiers set.&lt;/p&gt;
+  &lt;p&gt;The &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; IDL
+  attribute on the &lt;code&gt;Document&lt;/code&gt; object takes two values,
+  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
+  is set, the new value must be compared in an &lt;span&gt;ASCII
+  case-insensitive&lt;/span&gt; manner to these two values. If it matches
+  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code
+  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; must be enabled,
+  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code
+  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; must be
+  disabled. Other values must be ignored.&lt;/p&gt;
 
-   &lt;p&gt;The exact behavior is UA-dependent, but user agents must not,
-   in response to a request to break a paragraph, generate a DOM that
-   is less conformant than the DOM prior to the request.&lt;/p&gt;&lt;/dd&gt;
+  &lt;p&gt;When &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; is
+  enabled, the IDL attribute must return the value &quot;&lt;code
+  title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
+  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
 
+  &lt;p&gt;The last state set must persist until the document is destroyed
+  or the state is changed. Initially, documents must have their &lt;code
+  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; disabled.&lt;/p&gt;
 
-   &lt;dt id=&quot;contenteditable-br&quot;&gt;Insert a line separator&lt;/dt&gt;
+  &lt;/div&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to request an explicit
-   line break at the caret position without breaking the paragraph,
-   e.g. as the default action of a &lt;code
-   title=&quot;event-keydown&quot;&gt;keydown&lt;/code&gt; event whose identifier is the
-   &quot;Enter&quot; key and that has a shift modifier set. Line separators are
-   typically found within a poem verse or an address. To insert a line
-   break, the user agent must insert a &lt;code&gt;br&lt;/code&gt; element.&lt;/p&gt;
 
-   &lt;p&gt;If the caret is positioned somewhere where &lt;span&gt;phrasing
-   content&lt;/span&gt; is not allowed (e.g. in an empty &lt;code&gt;ol&lt;/code&gt;
-   element), then the user agent must not insert the &lt;code&gt;br&lt;/code&gt;
-   element directly at the caret position. In such cases the behavior
-   is UA-dependent, but user agents must not, in response to a request
-   to insert a line separator, generate a DOM that is less conformant
-   than the DOM prior to the request.&lt;/p&gt;&lt;/dd&gt;
 
+  &lt;div class=&quot;impl&quot;&gt;
 
-   &lt;dt id=&quot;contenteditable-delete&quot;&gt;Delete&lt;/dt&gt;
+  &lt;h4&gt;User editing actions&lt;/h4&gt;
 
-   &lt;dd&gt;&lt;p&gt;UAs should offer a way for the user to delete text and
-   elements, including non-editable descendants, e.g. as the default
-   action of &lt;code title=&quot;event-keydown&quot;&gt;keydown&lt;/code&gt; events whose
-   identifiers are &quot;U+0008&quot; or &quot;U+007F&quot;.&lt;/p&gt;
+  &lt;p class=&quot;XXX&quot;&gt;This section will be removed shortly. What remains
+  here is simply what has not yet been merged into Aryeh's spec.&lt;/p&gt;
 
-   &lt;p&gt;Five edge cases in particular need to be considered carefully
-   when implementing this feature: backspacing at the start of an
-   element, backspacing when the caret is immediately after an
-   element, forward-deleting at the end of an element,
-   forward-deleting when the caret is immediately before an element,
-   and deleting a selection whose start and end points do not share a
-   common parent node.&lt;/p&gt;
+  &lt;p&gt;There are several actions that the user agent should allow the
+  user to perform while the user is interacting with an editing
+  host. How exactly each action is triggered is not defined for every
+  action, but when it is not defined, suggested key bindings are
+  provided to guide implementors.&lt;/p&gt;
 
-   &lt;p&gt;In any case, the exact behavior is UA-dependent, but user
-   agents must not, in response to a request to delete text or an
-   element, generate a DOM that is less conformant than the DOM prior
-   to the request.&lt;/p&gt;&lt;/dd&gt;
+  &lt;dl&gt;
 
-
    &lt;dt id=&quot;contenteditable-wrapSemantic&quot;&gt;Insert, and wrap text in,
    semantic elements&lt;/dt&gt;
 
@@ -82147,81 +82042,50 @@
 
   &lt;/dl&gt;
 
-  &lt;p&gt;User agents may perform several commands per user request; for
-  example if the user selects a block of text and hits
-  &lt;kbd&gt;&lt;kbd&gt;Enter&lt;/kbd&gt;&lt;/kbd&gt;, the UA might interpret that as a
-  request to delete the content of the selection followed by a request
-  to break the paragraph at that position.&lt;/p&gt;
+  &lt;p&gt;User agents may add DOM changes to the &lt;span&gt;undo transaction
+  history&lt;/span&gt; of the &lt;span&gt;editing host&lt;/span&gt;'s
+  &lt;code&gt;Document&lt;/code&gt; object each time an action is triggered.&lt;/p&gt;
 
-  &lt;p&gt;User agents may add &lt;span&gt;DOM changes&lt;/span&gt; entries to the
-  &lt;span&gt;undo transaction history&lt;/span&gt; of the &lt;span&gt;editing
-  host&lt;/span&gt;'s &lt;code&gt;Document&lt;/code&gt; object each time an action is
-  triggered.&lt;/p&gt;
-
-  &lt;p&gt;All of the actions defined above, whether triggered by the user
-  or programmatically (e.g. by &lt;code
-  title=&quot;dom-document-execCommand&quot;&gt;execCommand()&lt;/code&gt; commands),
-  must fire mutation events as appropriate.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
+  &lt;h4&gt;Editing APIs&lt;/h4&gt;
 
-  &lt;h4&gt;Making entire documents editable&lt;/h4&gt;
+  &lt;p&gt;The definition of the terms &lt;dfn&gt;active range&lt;/dfn&gt;, &lt;dfn&gt;editing
+  host&lt;/dfn&gt;, and &lt;dfn&gt;editable&lt;/dfn&gt;, the user interface requirements
+  of elements that are &lt;span title=&quot;editing host&quot;&gt;editing hosts&lt;/span&gt;
+  or &lt;span&gt;editable&lt;/span&gt;, and the
 
-  &lt;div class=&quot;impl&quot;&gt;
+  &lt;dfn title=&quot;dom-document-execCommand&quot; id=&quot;execCommand&quot;&gt;&lt;code&gt;execCommand()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn title=&quot;dom-document-queryCommandEnabled&quot;&gt;&lt;code&gt;queryCommandEnabled()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn title=&quot;dom-document-queryCommandIndeterm&quot;&gt;&lt;code&gt;queryCommandIndeterm()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn title=&quot;dom-document-queryCommandState&quot;&gt;&lt;code&gt;queryCommandState()&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn title=&quot;dom-document-queryCommandSupported&quot;&gt;&lt;code&gt;queryCommandSupported()&lt;/code&gt;&lt;/dfn&gt;, and
+  &lt;dfn title=&quot;dom-document-queryCommandValue&quot;&gt;&lt;code&gt;queryCommandValue()&lt;/code&gt;&lt;/dfn&gt;
 
-  &lt;p&gt;Documents have a &lt;dfn id=&quot;designMode&quot;
-  title=&quot;dom-document-designMode&quot;&gt;&lt;code&gt;designMode&lt;/code&gt;&lt;/dfn&gt;, which
-  can be either enabled or disabled.&lt;/p&gt;
+  methods are defined in the HTML Editing APIs specification. Text
+  selections are defined in the DOM Range specification. The
+  interaction of editing and the undo/redo features in user agents is
+  defined by the UndoManager and DOM Transaction specification. &lt;a
+  href=&quot;#refsEDITING&quot;&gt;[EDITING]&lt;/a&gt; &lt;a
+  href=&quot;#refsDOMRANGE&quot;&gt;[DOMRANGE]&lt;/a&gt; &lt;a
+  href=&quot;#refsUNDO&quot;&gt;[UNDO]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;p class=&quot;XXX&quot;&gt;Need to decide what to do with the &lt;dfn&gt;&lt;code
+  title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/dfn&gt; category.&lt;/p&gt;
 
-  &lt;dl class=&quot;domintro&quot;&gt;
+  &lt;p class=&quot;XXX&quot;&gt;&lt;dfn&gt;undo transaction history&lt;/dfn&gt; is currently
+  defined in &lt;a href=&quot;#refsUNDO&quot;&gt;[UNDO]&lt;/a&gt; but this spec hasn't been
+  updated to make sense with the new definition&lt;/p&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+  &lt;!-- those might get merged in here eventually --&gt;
 
-   &lt;dd&gt;
 
-    &lt;p&gt;Returns &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; if the document is editable,
-    and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; if it isn't.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the document's current state.&lt;/p&gt;
+  &lt;h4&gt;Spelling and grammar checking&lt;/h4&gt;
 
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; IDL
-  attribute on the &lt;code&gt;Document&lt;/code&gt; object takes two values,
-  &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; and &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;. When it
-  is set, the new value must be compared in an &lt;span&gt;ASCII
-  case-insensitive&lt;/span&gt; manner to these two values. If it matches
-  the &quot;&lt;code title=&quot;&quot;&gt;on&lt;/code&gt;&quot; value, then &lt;code
-  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; must be enabled,
-  and if it matches the &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot; value, then &lt;code
-  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; must be
-  disabled. Other values must be ignored.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; is
-  enabled, the IDL attribute must return the value &quot;&lt;code
-  title=&quot;&quot;&gt;on&lt;/code&gt;&quot;, and when it is disabled, it must return the
-  value &quot;&lt;code title=&quot;&quot;&gt;off&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;The last state set must persist until the document is destroyed
-  or the state is changed. Initially, documents must have their &lt;code
-  title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/code&gt; disabled.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-  &lt;h3&gt;Spelling and grammar checking&lt;/h3&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
   &lt;p&gt;User agents can support the checking of spelling and grammar of
   editable text, either in form controls (such as the value of
   &lt;code&gt;textarea&lt;/code&gt; elements), or in elements in an &lt;span&gt;editing
@@ -82348,7 +82212,8 @@
    title=&quot;concept-fe-disabled&quot;&gt;disabled&lt;/span&gt;.&lt;/li&gt;
 
    &lt;li&gt;Text in &lt;span title=&quot;text node&quot;&gt;text nodes&lt;/span&gt; that are
-   children of &lt;span&gt;editable&lt;/span&gt; elements.&lt;/li&gt;
+   children of &lt;span title=&quot;editing host&quot;&gt;editing hosts&lt;/span&gt; or
+   &lt;span&gt;editable&lt;/span&gt; elements.&lt;/li&gt;
 
    &lt;li&gt;Text in attributes of &lt;span&gt;editable&lt;/span&gt; elements.&lt;/li&gt;
 
@@ -84287,10 +84152,11 @@
   &lt;p&gt;From the moment that the user agent is to &lt;dfn&gt;initiate the
   drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
   operation, device input events (e.g. mouse and keyboard events) must
-  be suppressed. In addition, the user agent must track all DOM
-  changes made during the drag-and-drop operation, and add them to its
-  &lt;span&gt;undo transaction history&lt;/span&gt; as one atomic operation once
-  the drag-and-drop operation has ended.&lt;/p&gt;
+  be suppressed. &lt;span class=&quot;XXX&quot;&gt;In addition, the user agent must
+  track all DOM changes made during the drag-and-drop operation, and
+  add them to its &lt;span&gt;undo transaction history&lt;/span&gt; as one atomic
+  operation once the drag-and-drop operation has ended.&lt;/span&gt;&lt;/p&gt;
+  &lt;!-- need to update this to new UndoManager code --&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn&gt;immediate user
@@ -84400,10 +84266,11 @@
          element whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt;
          attribute is in the &lt;span
          title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-         &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
-         item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item
-         type string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the
-         drag data item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;span&gt;editing host&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt; element,
+         and the &lt;span&gt;drag data store item list&lt;/span&gt; has an item
+         with &lt;span&gt;the drag data item type string&lt;/span&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data item
+         kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current target element&lt;/span&gt; to the
          &lt;span&gt;immediate user selection&lt;/span&gt; anyway.&lt;/p&gt;&lt;/dd&gt;
@@ -84478,10 +84345,11 @@
        (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
        whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
        the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-       &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
-       item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item type
-       string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data
-       item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;span&gt;editing host&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt; element, and
+       the &lt;span&gt;drag data store item list&lt;/span&gt; has an item with
+       &lt;span&gt;the drag data item type string&lt;/span&gt;
+       &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data item
+       kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current drag operation&lt;/span&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
@@ -84670,10 +84538,11 @@
          element whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt;
          attribute is in the &lt;span
          title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-         &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
-         item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item
-         type string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the
-         drag data item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+         &lt;span&gt;editing host&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt; element,
+         and the &lt;span&gt;drag data store item list&lt;/span&gt; has an item
+         with &lt;span&gt;the drag data item type string&lt;/span&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data item
+         kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
          &lt;span&gt;drag data store item list&lt;/span&gt; to have &lt;span
@@ -84681,10 +84550,10 @@
          string&lt;/span&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span
          title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/span&gt;
          that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
-         &lt;span&gt;editable&lt;/span&gt; element in a manner consistent with
-         platform-specific conventions (e.g. inserting it at the
-         current mouse cursor position, or inserting it at the end of
-         the field).&lt;/p&gt;&lt;/dd&gt;
+         &lt;span&gt;editing host&lt;/span&gt; or &lt;span&gt;editable&lt;/span&gt; element in
+         a manner consistent with platform-specific conventions (e.g.
+         inserting it at the current mouse cursor position, or
+         inserting it at the end of the field).&lt;/p&gt;&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -85407,511 +85276,6 @@
 
 
 
-  &lt;h3&gt;Editing APIs&lt;/h3&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-execCommand&quot;&gt;execCommand&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ] ] )&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Runs the action specified by the first argument, as described
-    in the list below. The second and third arguments sometimes affect
-    the action. (If they don't they are ignored.)&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-queryCommandEnabled&quot;&gt;queryCommandEnabled&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is enabled, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-queryCommandIndeterm&quot;&gt;queryCommandIndeterm&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns whether the given command is indeterminate, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-queryCommandState&quot;&gt;queryCommandState&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the state of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-queryCommandSupported&quot;&gt;queryCommandSupported&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the command is supported; otherwise, returns false.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-queryCommandValue&quot;&gt;queryCommandValue&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the value of the command, as described in the list below.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;The &lt;dfn id=&quot;execCommand&quot;
-  title=&quot;dom-document-execCommand&quot;&gt;&lt;code&gt;execCommand(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; interface allows scripts to perform
-  actions on the current selection or at the current caret position.
-  Generally, these commands would be used to implement editor UI, for
-  example having a &quot;delete&quot; button on a toolbar.&lt;/p&gt;
-
-  &lt;p&gt;There are three variants to this method, with one, two, and three
-  arguments respectively. The &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored
-  except where otherwise stated.&lt;/p&gt;
-
-  &lt;p&gt;When &lt;code title=&quot;dom-document-execCommand&quot;&gt;execCommand()&lt;/code&gt;
-  is invoked, the user agent must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;If the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; maps to an entry in
-   the list below whose &quot;Enabled When&quot; entry has a condition that is
-   currently false, do nothing; abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, execute the &quot;Action&quot; listed below for the given &lt;var
-   title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;A document is &lt;dfn&gt;ready for editing host commands&lt;/dfn&gt; if it
-  has a selection that is entirely within an &lt;span&gt;editing
-  host&lt;/span&gt;, or if it has no selection but its caret is inside an
-  &lt;span&gt;editing host&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-queryCommandEnabled&quot;&gt;&lt;code&gt;queryCommandEnabled(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Enabled When&quot; for
-  the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-queryCommandIndeterm&quot;&gt;&lt;code&gt;queryCommandIndeterm(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the condition listed below under &quot;Indeterminate When&quot;
-  for the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is true, and false
-  otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-queryCommandState&quot;&gt;&lt;code&gt;queryCommandState(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;State&quot; for the given &lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-queryCommandSupported&quot;&gt;&lt;code&gt;queryCommandSupported(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return true if the given &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is in the
-  list below, and false otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-queryCommandValue&quot;&gt;&lt;code&gt;queryCommandValue(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must
-  return the value expressed below under &quot;Value&quot; for the given &lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;The possible values for &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt;, and their
-  corresponding meanings, are as follows. &lt;span class=&quot;impl&quot;&gt;These
-  values must be compared to the argument in an &lt;span&gt;ASCII
-  case-insensitive&lt;/span&gt; manner.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-bold&quot;&gt;&lt;code&gt;bold&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is bold.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;b&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;b&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-createLink&quot;&gt;&lt;code&gt;createLink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is a
-   link or not. If the second argument is true, and a link is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;a&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;a&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;a&lt;/code&gt; element, then if the &lt;var
-   title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;span&gt;URL&lt;/span&gt; of the link. Otherwise, the user agent
-   should prompt the user for the URL of the link.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-delete&quot;&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character before the cursor.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a backspace
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-formatBlock&quot;&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Wraps the selection in the element
-   given by the third argument. If the third argument doesn't
-   specify an element that is a &lt;dfn&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt;
-   candidate&lt;/dfn&gt;, does nothing.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/p&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument has a leading
-     U+003C LESS-THAN SIGN character (&lt;) and a trailing U+003E
-     GREATER-THAN SIGN character (&gt;), then remove the first and last
-     characters from &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-     &lt;li&gt;
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) an &lt;span&gt;ASCII
-      case-insensitive&lt;/span&gt; match for the tag name of an element
-      defined by this specification that is defined to be a
-      &lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;, then,
-      for every position in the selection, take the nearest
-      &lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;
-      ancestor element of that position that contains only
-      &lt;span&gt;phrasing content&lt;/span&gt;, and, if that element is
-      &lt;span&gt;editable&lt;/span&gt;, is not an &lt;span&gt;editing host&lt;/span&gt;, and
-      has a parent element whose content model allows that parent to
-      contain any &lt;span&gt;flow content&lt;/span&gt;, replace it with an
-      element in the HTML namespace whose name is &lt;var
-      title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the children that were in it
-      to the new element, and copy all the attributes that were on it
-      to the new element.&lt;/p&gt;
-      &lt;p&gt;If there is no selection, then, where in the description
-      above refers to the selection, the user agent must act as if the
-      selection was an empty range (with just one position) at the
-      caret position.&lt;/p&gt;
-     &lt;/li&gt;
-    &lt;/ol&gt;
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-forwardDelete&quot;&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Deletes the selection or the
-   character after the cursor.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a forward delete
-   operation&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertImage&quot;&gt;&lt;code&gt;insertImage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an
-   image or not. If the second argument is true, and an image is to be
-   added, the user agent will ask the user for the address. Otherwise,
-   the third argument will be used as the address.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act
-   as if the user had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;img&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA). If the user agent creates an &lt;code&gt;img&lt;/code&gt; element or
-   modifies an existing &lt;code&gt;img&lt;/code&gt; element, then if the &lt;var
-   title=&quot;&quot;&gt;showUI&lt;/var&gt; argument is present and has the value false,
-   then the value of the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument must be
-   used as the &lt;span&gt;URL&lt;/span&gt; of the image. Otherwise, the user
-   agent should prompt the user for the URL of the image.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertHTML&quot;&gt;&lt;code&gt;insertHTML&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Replaces the selection with the value
-   of the third argument parsed as HTML.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;
-    &lt;p&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must run the following
-    steps:&lt;/p&gt;
-    &lt;ol&gt;
-     &lt;li&gt;&lt;p&gt;If the document is an &lt;span title=&quot;XML documents&quot;&gt;XML
-     document&lt;/span&gt;, then throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt;
-     exception and abort these steps.&lt;/p&gt;&lt;/li&gt;&lt;!-- v2 support XML? --&gt;
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
-     specified, abort these steps without doing anything.&lt;/p&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;If there is a selection, act as if the user had requested
-     that &lt;a href=&quot;#contenteditable-delete&quot;&gt;the selection be
-     deleted&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Invoke the &lt;span&gt;HTML fragment parsing algorithm&lt;/span&gt;
-     with an arbitrary orphan &lt;code&gt;body&lt;/code&gt; element owned by the
-     same &lt;code&gt;Document&lt;/code&gt; as the &lt;i title=&quot;&quot;&gt;context&lt;/i&gt; element
-     and with the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument as &lt;i
-     title=&quot;&quot;&gt;input&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;p&gt;Insert the nodes returned by the previous step into the
-     document at the location of the caret, firing any mutation events
-     as appropriate.&lt;/p&gt;&lt;/li&gt;
-    &lt;/ol&gt;
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertLineBreak&quot;&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a line break.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=&quot;#contenteditable-br&quot;&gt;requested a line
-   separator&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertOrderedList&quot;&gt;&lt;code&gt;insertOrderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an ordered list.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;ol&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertUnorderedList&quot;&gt;&lt;code&gt;insertUnorderedList&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is an unordered list.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;ul&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertParagraph&quot;&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts a paragraph break.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had performed a &lt;a href=&quot;#contenteditable-breakBlock&quot;&gt;break
-   block&lt;/a&gt; editing action.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-insertText&quot;&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Inserts the text given in the third parameter.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had &lt;a href=&quot;#contenteditable-insertText&quot;&gt;inserted text&lt;/a&gt;
-   corresponding to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-italic&quot;&gt;&lt;code&gt;italic&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is italic.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;i&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;i&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-redo&quot;&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested a redo.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span
-   title=&quot;do-redo&quot;&gt;move forward one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the end of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the end of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-selectAll&quot;&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Selects all the editable content.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that all the content in the currently focused
-   &lt;span&gt;editing host&lt;/span&gt; is selected. If no &lt;span&gt;editing
-   host&lt;/span&gt; is focused, then the content of the entire document
-   must be selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-subscript&quot;&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is subscripted.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;sub&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-superscript&quot;&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Toggles whether the selection is superscripted.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must act as if the user
-   had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;sup&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behavior is UA-defined).&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document is &lt;span&gt;ready for
-   editing host commands&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: True if the selection, or the caret, if
-   there is no selection, is, or is contained within, a
-   &lt;code&gt;sup&lt;/code&gt; element. False otherwise.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: The string &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;
-   if the expression given for the &quot;State&quot; above is true, the string
-   &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-undo&quot;&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Acts as if the user had requested an undo.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must &lt;span
-   title=&quot;do-undo&quot;&gt;move back one step&lt;/span&gt; in its &lt;span&gt;undo
-   transaction history&lt;/span&gt;, restoring the associated state. If the
-   &lt;span&gt;undo position&lt;/span&gt; is at the start of the &lt;span&gt;undo
-   transaction history&lt;/span&gt;, the user agent must do nothing.
-   &lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The &lt;span&gt;undo position&lt;/span&gt;
-   is not at the start of the &lt;span&gt;undo transaction
-   history&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-unlink&quot;&gt;&lt;code&gt;unlink&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Removes all links from the selection.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must remove all
-   &lt;code&gt;a&lt;/code&gt; elements that have &lt;code
-   title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; attributes and that are partially
-   or completely included in the current selection.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: The document has a selection
-   that is entirely within an &lt;span&gt;editing host&lt;/span&gt; and that
-   contains (either partially or completely) at least one
-   &lt;code&gt;a&lt;/code&gt; element that has an &lt;code
-   title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; attribute.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;command-unselect&quot;&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;&lt;strong&gt;Summary&lt;/strong&gt;: Unselects everything.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: The user agent must change the
-   selection so that nothing is selected.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Always.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-   &lt;dt class=&quot;impl&quot;&gt;&lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;&lt;/dt&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents may implement
-   vendor-specific extensions to this API. Vendor-specific extensions
-   to the list of commands should use the syntax &lt;code&gt;&lt;var
-   title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;
-   so as to prevent clashes between extensions from different vendors
-   and future additions to this specification.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;State&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Value&lt;/strong&gt;: UA-defined.&lt;/dd&gt;
-
-   &lt;dt class=&quot;impl&quot;&gt;Anything else&lt;/dt&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Action&lt;/strong&gt;: User agents must do nothing.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Enabled When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Indeterminate When&lt;/strong&gt;: Never.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;State&lt;/strong&gt;: Always false.&lt;/dd&gt;
-   &lt;dd class=&quot;impl&quot;&gt;&lt;strong&gt;Value&lt;/strong&gt;: Always the string &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-&lt;!--
-v2 (well, really v0):
- &quot;forecolor&quot;, &quot;hilitecolor&quot;, &quot;fontname&quot;, &quot;fontsize&quot;, &quot;justifyleft&quot;,
- &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
---&gt;
-
 &lt;!--START rtc--&gt;&lt;!--END w3c-html--&gt;&lt;!--PEERCONNECTION--&gt;
 &lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
@@ -108616,11 +107980,11 @@
 
   &lt;h4&gt;Editing hosts&lt;/h4&gt;
 
-  &lt;p&gt;The current text editing caret (the one at the &lt;span&gt;caret
-  position&lt;/span&gt; in a focused &lt;span&gt;editing host&lt;/span&gt;) is expected
-  to act like an inline replaced element with the vertical dimensions
-  of the caret and with zero width for the purposes of the CSS
-  rendering model.&lt;/p&gt;
+  &lt;p&gt;The current text editing caret (i.e. the &lt;span&gt;active
+  range&lt;/span&gt;, if it is empty and in an &lt;span&gt;editing host&lt;/span&gt;),
+  if any, is expected to act like an inline replaced element with the
+  vertical dimensions of the caret and with zero width for the
+  purposes of the CSS rendering model.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;This means that even an empty block can have the
   caret inside it, and that when the caret is in such an element, it
@@ -113425,7 +112789,7 @@
     &lt;tr&gt;
      &lt;th&gt; &lt;code title=&quot;&quot;&gt;contenteditable&lt;/code&gt;
      &lt;td&gt; &lt;span title=&quot;attr-contenteditable&quot;&gt;HTML elements&lt;/span&gt;
-     &lt;td&gt; Whether the element is &lt;span&gt;editable&lt;/span&gt;
+     &lt;td&gt; Whether the element is an editable
      &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;true&lt;/code&gt;&quot;; &quot;&lt;code title=&quot;&quot;&gt;false&lt;/code&gt;&quot;
     &lt;tr&gt;
      &lt;th&gt; &lt;code title=&quot;&quot;&gt;contextmenu&lt;/code&gt;
@@ -115460,6 +114824,9 @@
    href=&quot;<A HREF="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</A>&quot;&gt;ECMAScript
    Language Specification&lt;/a&gt;&lt;/cite&gt;. ECMA.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsEDITING&quot;&gt;[EDITING]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://aryeh.name/spec/editing/editing.html">http://aryeh.name/spec/editing/editing.html</A>&quot;&gt;HTML Editing APIs&lt;/a&gt;&lt;/cite&gt;, A. Gregor.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsECMA357&quot;&gt;[ECMA357]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://www.ecma-international.org/publications/standards/Ecma-357.htm">http://www.ecma-international.org/publications/standards/Ecma-357.htm</A>&quot;&gt;ECMAScript
@@ -115960,6 +115327,9 @@
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,
    J. Spellman. W3C.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsUNDO&quot;&gt;[UNDO]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://rniwa.com/editing/undomanager.html">http://rniwa.com/editing/undomanager.html</A>&quot;&gt;UndoManager and DOM Transaction&lt;/a&gt;&lt;/cite&gt;, R. Niwa.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsUNICODE&quot;&gt;[UNICODE]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.unicode.org/versions/">http://www.unicode.org/versions/</A>&quot;&gt;The Unicode Standard&lt;/a&gt;&lt;/cite&gt;. Unicode Consortium.&lt;/dd&gt;
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013394.html">[html5] r6527 - [] (0) Remove UndoManager in favour of	http://rniwa.com/editing/undomanager.html [...]
</A></li>
	<LI>Next message: <A HREF="013396.html">[html5] r6529 - [e] (0) internal note to avoid changing canvas	method order in the future
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13395">[ date ]</a>
              <a href="thread.html#13395">[ thread ]</a>
              <a href="subject.html#13395">[ subject ]</a>
              <a href="author.html#13395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
