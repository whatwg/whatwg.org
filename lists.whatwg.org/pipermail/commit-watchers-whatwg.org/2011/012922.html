<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6055 - [e] (0) xref Fixing	http://www.w3.org/Bugs/Public/show_bug.cgi?id=12061
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6055%20-%20%5Be%5D%20%280%29%20xref%20Fixing%0A%09http%3A//www.w3.org/Bugs/Public/show_bug.cgi%3Fid%3D12061&In-Reply-To=%3C20110503200129.5FDD78058167%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012921.html">
   <LINK REL="Next"  HREF="012923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6055 - [e] (0) xref Fixing	http://www.w3.org/Bugs/Public/show_bug.cgi?id=12061</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6055%20-%20%5Be%5D%20%280%29%20xref%20Fixing%0A%09http%3A//www.w3.org/Bugs/Public/show_bug.cgi%3Fid%3D12061&In-Reply-To=%3C20110503200129.5FDD78058167%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6055 - [e] (0) xref Fixing	http://www.w3.org/Bugs/Public/show_bug.cgi?id=12061">whatwg at whatwg.org
       </A><BR>
    <I>Tue May  3 13:01:29 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012921.html">[html5] r6054 - [e] (0) Update ARIA role for &lt;summary&gt;. Fixing	http://www.w3.org/Bugs/Public/sho [...]
</A></li>
        <LI>Next message: <A HREF="012923.html">[html5] r6056 - [e] (0) hide the DOM Range dfns for now Fixing	http://www.w3.org/Bugs/Public/sho [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12922">[ date ]</a>
              <a href="thread.html#12922">[ thread ]</a>
              <a href="subject.html#12922">[ subject ]</a>
              <a href="author.html#12922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-05-03 13:01:28 -0700 (Tue, 03 May 2011)
New Revision: 6055

Modified:
   complete.html
   index
   source
Log:
[e] (0) xref
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=12061">http://www.w3.org/Bugs/Public/show_bug.cgi?id=12061</A>

Modified: complete.html
===================================================================
--- complete.html	2011-05-03 19:54:01 UTC (rev 6054)
+++ complete.html	2011-05-03 20:01:28 UTC (rev 6055)
@@ -12816,7 +12816,7 @@
 
     &lt;p&gt;In either case, the algorithm must be invoked with the string
     being assigned into the &lt;code title=dom-innerHTML&gt;&lt;a href=#dom-innerhtml&gt;innerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;. If the node is an &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;
-    node, then, in addition, that element must be passed as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    node, then, in addition, that element must be passed as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -12954,7 +12954,7 @@
     parsing algorithm&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;In either case, the algorithm must be invoked with the string
-    being assigned into the &lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    being assigned into the &lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -13087,8 +13087,7 @@
     documents&quot;&gt;XML document&lt;/a&gt;: Invoke the &lt;a href=#xml-fragment-parsing-algorithm&gt;XML fragment
     parsing algorithm&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;In either case, the algorithm must be invoked with &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;
-    element.&lt;/p&gt;
+    &lt;p&gt;In either case, the algorithm must be invoked with &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -16280,10 +16279,13 @@
    &lt;dd&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element must contain only text,
    except that invoking the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing
    algorithm&lt;/a&gt; &lt;!-- (which disables &lt;script&gt; execution) --&gt; with
-   the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that consists
-   only of &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, and
-   &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements that would be conforming if they were
-   children of the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element, and no &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse errors&lt;/a&gt;.&lt;/dd&gt;
+   the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element and the
+   text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+   list of nodes that consists only of &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements that would be
+   conforming if they were children of the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;
+   element, and no &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse
+   errors&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Outside of &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; elements, if &lt;a href=#concept-n-noscript title=concept-n-noscript&gt;scripting is disabled&lt;/a&gt; for the
    &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
@@ -24121,11 +24123,11 @@
   documents&lt;/a&gt;, the allowed content model of &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;
   elements is text, except that invoking the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment
   parsing algorithm&lt;/a&gt; with the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; element as the
-  &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the
-  &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that are
-  all &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, with no &lt;a href=#parse-error title=&quot;parse
-  error&quot;&gt;parse errors&lt;/a&gt; having occurred, with no
-  &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements being anywhere in the list or as
+  &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element and
+  the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+  list of nodes that are all &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, with no
+  &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse errors&lt;/a&gt; having occurred, with
+  no &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements being anywhere in the list or as
   descendants of elements in the list, and with all the elements in
   the list (including their descendants) being themselves
   conforming.&lt;/p&gt;
@@ -81494,7 +81496,8 @@
 
    &lt;li&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the first node in
    the stack of open elements, then set &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; to
-   true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.
+   (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
@@ -88577,18 +88580,19 @@
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-parsing-algorithm&gt;HTML fragment parsing
   algorithm&lt;/dfn&gt;. The algorithm optionally takes as input an
-  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node, referred to as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, which gives the context for the
-  parser, as well as &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and
-  returns a list of zero or more nodes.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node, referred to as the &lt;dfn id=concept-frag-parse-context title=concept-frag-parse-context&gt;&lt;var&gt;context&lt;/var&gt;&lt;/dfn&gt; element,
+  which gives the context for the parser, as well as &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and returns a list of zero
+  or more nodes.&lt;/p&gt;
 
   &lt;p class=note&gt;Parts marked &lt;dfn id=fragment-case&gt;fragment case&lt;/dfn&gt; in algorithms
   in the parser section are parts that only occur if the parser was
-  created for the purposes of this algorithm (and with a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element). The algorithms have been annotated
-  with such markings for informational purposes only; such markings
-  have no normative weight. If it is possible for a condition
-  described as a &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt; to occur even when the
-  parser wasn't created for the purposes of handling this algorithm,
-  then that is an error in the specification.&lt;/p&gt;
+  created for the purposes of this algorithm (and with a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element). The
+  algorithms have been annotated with such markings for informational
+  purposes only; such markings have no normative weight. If it is
+  possible for a condition described as a &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;
+  to occur even when the parser wasn't created for the purposes of
+  handling this algorithm, then that is an error in the
+  specification.&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -88599,14 +88603,15 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, and the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-    is in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-    be in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;. Otherwise, if there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, and the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of
-    the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element is in &lt;a href=#limited-quirks-mode&gt;limited-quirks
-    mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in
-    &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;. Otherwise, leave the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in &lt;a href=#no-quirks-mode&gt;no-quirks mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, and the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is in
+    &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in
+    &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;. Otherwise, if there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, and the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is in
+    &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;, then let the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;.
+    Otherwise, leave the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in &lt;a href=#no-quirks-mode&gt;no-quirks
+    mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -88619,8 +88624,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, run these
-    substeps:&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, run
+    these substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
@@ -88699,16 +88704,17 @@
       &lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
       parser's insertion mode appropriately&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p class=note&gt;The parser will reference the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element as part of that algorithm.&lt;/p&gt;
+      &lt;p class=note&gt;The parser will reference the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element as part
+      of that algorithm.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Set the parser's &lt;a href=#form-element-pointer&gt;&lt;code&gt;form&lt;/code&gt; element pointer&lt;/a&gt;
-      to the nearest node to the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-      that is a &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element (going straight up the
-      ancestor chain, and including the element itself, if it is a
+      &lt;p&gt;Set the parser's &lt;a href=#form-element-pointer&gt;&lt;code&gt;form&lt;/code&gt; element
+      pointer&lt;/a&gt; to the nearest node to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element that is
+      a &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element (going straight up the ancestor
+      chain, and including the element itself, if it is a
       &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element), or, if there is no such
       &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element, to null.&lt;/p&gt;
 
@@ -88734,8 +88740,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, return the
-    child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;a href=#tree-order&gt;tree
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, return
+    the child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;a href=#tree-order&gt;tree
     order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
@@ -89016,11 +89022,11 @@
 
   &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns
-  a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt;
-  exception. Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional
-  context element &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;, the algorithm is as
-  follows:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.
+  Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional context
+  element &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt;, the
+  algorithm is as follows:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -89030,12 +89036,12 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;a href=#feed-the-parser&gt;feed
-    the parser&lt;/a&gt; just created the string corresponding to the
-    start tag of that element, declaring all the namespace prefixes
-    that are in scope on that element in the DOM, as well as declaring
-    the default namespace (if any) that is in scope on that element in
-    the DOM.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element,
+    &lt;a href=#feed-the-parser&gt;feed the parser&lt;/a&gt; just created the string corresponding
+    to the start tag of that element, declaring all the namespace
+    prefixes that are in scope on that element in the DOM, as well as
+    declaring the default namespace (if any) that is in scope on that
+    element in the DOM.&lt;/p&gt;
 
     &lt;p&gt;A namespace prefix is in scope if the DOM Core &lt;code title=&quot;&quot;&gt;lookupNamespaceURI()&lt;/code&gt; method on the element would
     return a non-null value for that prefix.&lt;/p&gt;
@@ -89044,10 +89050,9 @@
     &lt;code title=&quot;&quot;&gt;isDefaultNamespace()&lt;/code&gt; method on the element
     would return true.&lt;/p&gt;
 
-    &lt;p class=note&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element,
-    no &lt;code title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and
-    therefore no external subset is referenced, and therefore no
-    entities will be recognized.&lt;/p&gt;
+    &lt;p class=note&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, no &lt;code title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and therefore no
+    external subset is referenced, and therefore no entities will be
+    recognized.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -89059,9 +89064,9 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;a href=#feed-the-parser&gt;feed
-    the parser&lt;/a&gt; just created the string corresponding to the
-    end tag of that element.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element,
+    &lt;a href=#feed-the-parser&gt;feed the parser&lt;/a&gt; just created the string corresponding
+    to the end tag of that element.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -89075,8 +89080,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, then return
-    the child nodes of the root element of the resulting
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, then
+    return the child nodes of the root element of the resulting
     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;

Modified: index
===================================================================
--- index	2011-05-03 19:54:01 UTC (rev 6054)
+++ index	2011-05-03 20:01:28 UTC (rev 6055)
@@ -12842,7 +12842,7 @@
 
     &lt;p&gt;In either case, the algorithm must be invoked with the string
     being assigned into the &lt;code title=dom-innerHTML&gt;&lt;a href=#dom-innerhtml&gt;innerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;. If the node is an &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;
-    node, then, in addition, that element must be passed as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    node, then, in addition, that element must be passed as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -12980,7 +12980,7 @@
     parsing algorithm&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;In either case, the algorithm must be invoked with the string
-    being assigned into the &lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    being assigned into the &lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt; attribute as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -13113,8 +13113,7 @@
     documents&quot;&gt;XML document&lt;/a&gt;: Invoke the &lt;a href=#xml-fragment-parsing-algorithm&gt;XML fragment
     parsing algorithm&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;In either case, the algorithm must be invoked with &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;
-    element.&lt;/p&gt;
+    &lt;p&gt;In either case, the algorithm must be invoked with &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -16306,10 +16305,13 @@
    &lt;dd&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element must contain only text,
    except that invoking the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing
    algorithm&lt;/a&gt; &lt;!-- (which disables &lt;script&gt; execution) --&gt; with
-   the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that consists
-   only of &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, and
-   &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements that would be conforming if they were
-   children of the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element, and no &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse errors&lt;/a&gt;.&lt;/dd&gt;
+   the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element and the
+   text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+   list of nodes that consists only of &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-meta-element&gt;meta&lt;/a&gt;&lt;/code&gt; elements that would be
+   conforming if they were children of the &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;
+   element, and no &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse
+   errors&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;Outside of &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; elements, if &lt;a href=#concept-n-noscript title=concept-n-noscript&gt;scripting is disabled&lt;/a&gt; for the
    &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
@@ -24150,11 +24152,11 @@
   documents&lt;/a&gt;, the allowed content model of &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;
   elements is text, except that invoking the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment
   parsing algorithm&lt;/a&gt; with the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; element as the
-  &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the
-  &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that are
-  all &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, with no &lt;a href=#parse-error title=&quot;parse
-  error&quot;&gt;parse errors&lt;/a&gt; having occurred, with no
-  &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements being anywhere in the list or as
+  &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element and
+  the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+  list of nodes that are all &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt;, with no
+  &lt;a href=#parse-error title=&quot;parse error&quot;&gt;parse errors&lt;/a&gt; having occurred, with
+  no &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; elements being anywhere in the list or as
   descendants of elements in the list, and with all the elements in
   the list (including their descendants) being themselves
   conforming.&lt;/p&gt;
@@ -77476,7 +77478,8 @@
 
    &lt;li&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the first node in
    the stack of open elements, then set &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; to
-   true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
+   true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element.
+   (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element,
    then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
@@ -84559,18 +84562,19 @@
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-parsing-algorithm&gt;HTML fragment parsing
   algorithm&lt;/dfn&gt;. The algorithm optionally takes as input an
-  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node, referred to as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, which gives the context for the
-  parser, as well as &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and
-  returns a list of zero or more nodes.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node, referred to as the &lt;dfn id=concept-frag-parse-context title=concept-frag-parse-context&gt;&lt;var&gt;context&lt;/var&gt;&lt;/dfn&gt; element,
+  which gives the context for the parser, as well as &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and returns a list of zero
+  or more nodes.&lt;/p&gt;
 
   &lt;p class=note&gt;Parts marked &lt;dfn id=fragment-case&gt;fragment case&lt;/dfn&gt; in algorithms
   in the parser section are parts that only occur if the parser was
-  created for the purposes of this algorithm (and with a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element). The algorithms have been annotated
-  with such markings for informational purposes only; such markings
-  have no normative weight. If it is possible for a condition
-  described as a &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt; to occur even when the
-  parser wasn't created for the purposes of handling this algorithm,
-  then that is an error in the specification.&lt;/p&gt;
+  created for the purposes of this algorithm (and with a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element). The
+  algorithms have been annotated with such markings for informational
+  purposes only; such markings have no normative weight. If it is
+  possible for a condition described as a &lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;
+  to occur even when the parser wasn't created for the purposes of
+  handling this algorithm, then that is an error in the
+  specification.&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -84581,14 +84585,15 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, and the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-    is in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-    be in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;. Otherwise, if there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, and the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of
-    the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element is in &lt;a href=#limited-quirks-mode&gt;limited-quirks
-    mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in
-    &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;. Otherwise, leave the
-    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in &lt;a href=#no-quirks-mode&gt;no-quirks mode&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, and the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is in
+    &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, then let the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in
+    &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;. Otherwise, if there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, and the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element is in
+    &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;, then let the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; be in &lt;a href=#limited-quirks-mode&gt;limited-quirks mode&lt;/a&gt;.
+    Otherwise, leave the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in &lt;a href=#no-quirks-mode&gt;no-quirks
+    mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -84601,8 +84606,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, run these
-    substeps:&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, run
+    these substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
@@ -84681,16 +84686,17 @@
       &lt;p&gt;&lt;a href=#reset-the-insertion-mode-appropriately title=&quot;reset the insertion mode appropriately&quot;&gt;Reset the
       parser's insertion mode appropriately&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p class=note&gt;The parser will reference the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element as part of that algorithm.&lt;/p&gt;
+      &lt;p class=note&gt;The parser will reference the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element as part
+      of that algorithm.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Set the parser's &lt;a href=#form-element-pointer&gt;&lt;code&gt;form&lt;/code&gt; element pointer&lt;/a&gt;
-      to the nearest node to the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-      that is a &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element (going straight up the
-      ancestor chain, and including the element itself, if it is a
+      &lt;p&gt;Set the parser's &lt;a href=#form-element-pointer&gt;&lt;code&gt;form&lt;/code&gt; element
+      pointer&lt;/a&gt; to the nearest node to the &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element that is
+      a &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element (going straight up the ancestor
+      chain, and including the element itself, if it is a
       &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element), or, if there is no such
       &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element, to null.&lt;/p&gt;
 
@@ -84716,8 +84722,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, return the
-    child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;a href=#tree-order&gt;tree
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, return
+    the child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;a href=#tree-order&gt;tree
     order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
@@ -84998,11 +85004,11 @@
 
   &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns
-  a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt;
-  exception. Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional
-  context element &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;, the algorithm is as
-  follows:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.
+  Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional context
+  element &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt;, the
+  algorithm is as follows:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;
 
@@ -85012,12 +85018,12 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;a href=#feed-the-parser&gt;feed
-    the parser&lt;/a&gt; just created the string corresponding to the
-    start tag of that element, declaring all the namespace prefixes
-    that are in scope on that element in the DOM, as well as declaring
-    the default namespace (if any) that is in scope on that element in
-    the DOM.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element,
+    &lt;a href=#feed-the-parser&gt;feed the parser&lt;/a&gt; just created the string corresponding
+    to the start tag of that element, declaring all the namespace
+    prefixes that are in scope on that element in the DOM, as well as
+    declaring the default namespace (if any) that is in scope on that
+    element in the DOM.&lt;/p&gt;
 
     &lt;p&gt;A namespace prefix is in scope if the DOM Core &lt;code title=&quot;&quot;&gt;lookupNamespaceURI()&lt;/code&gt; method on the element would
     return a non-null value for that prefix.&lt;/p&gt;
@@ -85026,10 +85032,9 @@
     &lt;code title=&quot;&quot;&gt;isDefaultNamespace()&lt;/code&gt; method on the element
     would return true.&lt;/p&gt;
 
-    &lt;p class=note&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element,
-    no &lt;code title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and
-    therefore no external subset is referenced, and therefore no
-    entities will be recognized.&lt;/p&gt;
+    &lt;p class=note&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, no &lt;code title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and therefore no
+    external subset is referenced, and therefore no entities will be
+    recognized.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -85041,9 +85046,9 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;a href=#feed-the-parser&gt;feed
-    the parser&lt;/a&gt; just created the string corresponding to the
-    end tag of that element.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element,
+    &lt;a href=#feed-the-parser&gt;feed the parser&lt;/a&gt; just created the string corresponding
+    to the end tag of that element.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -85057,8 +85062,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, then return
-    the child nodes of the root element of the resulting
+    &lt;p&gt;If there is a &lt;var title=concept-frag-parse-context&gt;&lt;a href=#concept-frag-parse-context&gt;context&lt;/a&gt;&lt;/var&gt; element, then
+    return the child nodes of the root element of the resulting
     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;

Modified: source
===================================================================
--- source	2011-05-03 19:54:01 UTC (rev 6054)
+++ source	2011-05-03 20:01:28 UTC (rev 6055)
@@ -13493,7 +13493,7 @@
     title=&quot;dom-innerHTML&quot;&gt;innerHTML&lt;/code&gt; attribute as the &lt;var
     title=&quot;&quot;&gt;input&lt;/var&gt;. If the node is an &lt;code&gt;Element&lt;/code&gt;
     node, then, in addition, that element must be passed as the &lt;var
-    title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -13649,7 +13649,7 @@
     being assigned into the &lt;code
     title=&quot;dom-outerHTML&quot;&gt;outerHTML&lt;/code&gt; attribute as the &lt;var
     title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; as the &lt;var
-    title=&quot;&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -13805,8 +13805,8 @@
 
     &lt;p&gt;In either case, the algorithm must be invoked with &lt;var
     title=&quot;&quot;&gt;text&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and &lt;var
-    title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;
-    element.&lt;/p&gt;
+    title=&quot;&quot;&gt;destination&lt;/var&gt; as the &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element.&lt;/p&gt;
 
     &lt;p&gt;If this raises an exception, then abort these steps.&lt;/p&gt;
 
@@ -17473,12 +17473,13 @@
    except that invoking the &lt;span&gt;HTML fragment parsing
    algorithm&lt;/span&gt; &lt;!-- (which disables &lt;script&gt; execution) --&gt; with
    the &lt;code&gt;noscript&lt;/code&gt; element as the &lt;var
-   title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that consists
-   only of &lt;code&gt;link&lt;/code&gt;, &lt;code&gt;style&lt;/code&gt;, and
-   &lt;code&gt;meta&lt;/code&gt; elements that would be conforming if they were
-   children of the &lt;code&gt;noscript&lt;/code&gt; element, and no &lt;span
-   title=&quot;parse error&quot;&gt;parse errors&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+   title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element and the
+   text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+   list of nodes that consists only of &lt;code&gt;link&lt;/code&gt;,
+   &lt;code&gt;style&lt;/code&gt;, and &lt;code&gt;meta&lt;/code&gt; elements that would be
+   conforming if they were children of the &lt;code&gt;noscript&lt;/code&gt;
+   element, and no &lt;span title=&quot;parse error&quot;&gt;parse
+   errors&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;Outside of &lt;code&gt;head&lt;/code&gt; elements, if &lt;span
    title=&quot;concept-n-noscript&quot;&gt;scripting is disabled&lt;/span&gt; for the
@@ -25999,11 +26000,11 @@
   documents&lt;/span&gt;, the allowed content model of &lt;code&gt;iframe&lt;/code&gt;
   elements is text, except that invoking the &lt;span&gt;HTML fragment
   parsing algorithm&lt;/span&gt; with the &lt;code&gt;iframe&lt;/code&gt; element as the
-  &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element and the text contents as the
-  &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that are
-  all &lt;span&gt;phrasing content&lt;/span&gt;, with no &lt;span title=&quot;parse
-  error&quot;&gt;parse errors&lt;/span&gt; having occurred, with no
-  &lt;code&gt;script&lt;/code&gt; elements being anywhere in the list or as
+  &lt;var title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element and
+  the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
+  list of nodes that are all &lt;span&gt;phrasing content&lt;/span&gt;, with no
+  &lt;span title=&quot;parse error&quot;&gt;parse errors&lt;/span&gt; having occurred, with
+  no &lt;code&gt;script&lt;/code&gt; elements being anywhere in the list or as
   descendants of elements in the list, and with all the elements in
   the list (including their descendants) being themselves
   conforming.&lt;/p&gt;
@@ -92511,7 +92512,8 @@
    &lt;li&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the first node in
    the stack of open elements, then set &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; to
    true and set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the &lt;var
-   title=&quot;&quot;&gt;context&lt;/var&gt; element. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
+   title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element.
+   (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;select&lt;/code&gt; element,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
@@ -100499,20 +100501,22 @@
 
   &lt;p&gt;The following steps form the &lt;dfn&gt;HTML fragment parsing
   algorithm&lt;/dfn&gt;. The algorithm optionally takes as input an
-  &lt;code&gt;Element&lt;/code&gt; node, referred to as the &lt;var
-  title=&quot;&quot;&gt;context&lt;/var&gt; element, which gives the context for the
-  parser, as well as &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and
-  returns a list of zero or more nodes.&lt;/p&gt;
+  &lt;code&gt;Element&lt;/code&gt; node, referred to as the &lt;dfn
+  title=&quot;concept-frag-parse-context&quot;&gt;&lt;var&gt;context&lt;/var&gt;&lt;/dfn&gt; element,
+  which gives the context for the parser, as well as &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt;, a string to parse, and returns a list of zero
+  or more nodes.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Parts marked &lt;dfn&gt;fragment case&lt;/dfn&gt; in algorithms
   in the parser section are parts that only occur if the parser was
   created for the purposes of this algorithm (and with a &lt;var
-  title=&quot;&quot;&gt;context&lt;/var&gt; element). The algorithms have been annotated
-  with such markings for informational purposes only; such markings
-  have no normative weight. If it is possible for a condition
-  described as a &lt;span&gt;fragment case&lt;/span&gt; to occur even when the
-  parser wasn't created for the purposes of handling this algorithm,
-  then that is an error in the specification.&lt;/p&gt;
+  title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element). The
+  algorithms have been annotated with such markings for informational
+  purposes only; such markings have no normative weight. If it is
+  possible for a condition described as a &lt;span&gt;fragment case&lt;/span&gt;
+  to occur even when the parser wasn't created for the purposes of
+  handling this algorithm, then that is an error in the
+  specification.&lt;/p&gt;
 
   &lt;ol&gt;
 
@@ -100525,15 +100529,19 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, and the
-    &lt;code&gt;Document&lt;/code&gt; of the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-    is in &lt;span&gt;quirks mode&lt;/span&gt;, then let the &lt;code&gt;Document&lt;/code&gt;
-    be in &lt;span&gt;quirks mode&lt;/span&gt;. Otherwise, if there is a &lt;var
-    title=&quot;&quot;&gt;context&lt;/var&gt; element, and the &lt;code&gt;Document&lt;/code&gt; of
-    the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element is in &lt;span&gt;limited-quirks
-    mode&lt;/span&gt;, then let the &lt;code&gt;Document&lt;/code&gt; be in
-    &lt;span&gt;limited-quirks mode&lt;/span&gt;. Otherwise, leave the
-    &lt;code&gt;Document&lt;/code&gt; in &lt;span&gt;no-quirks mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, and the
+    &lt;code&gt;Document&lt;/code&gt; of the &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element is in
+    &lt;span&gt;quirks mode&lt;/span&gt;, then let the &lt;code&gt;Document&lt;/code&gt; be in
+    &lt;span&gt;quirks mode&lt;/span&gt;. Otherwise, if there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, and the
+    &lt;code&gt;Document&lt;/code&gt; of the &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element is in
+    &lt;span&gt;limited-quirks mode&lt;/span&gt;, then let the
+    &lt;code&gt;Document&lt;/code&gt; be in &lt;span&gt;limited-quirks mode&lt;/span&gt;.
+    Otherwise, leave the &lt;code&gt;Document&lt;/code&gt; in &lt;span&gt;no-quirks
+    mode&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -100546,8 +100554,9 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, run these
-    substeps:&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, run
+    these substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
@@ -100633,16 +100642,18 @@
       parser's insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
 
       &lt;p class=&quot;note&quot;&gt;The parser will reference the &lt;var
-      title=&quot;&quot;&gt;context&lt;/var&gt; element as part of that algorithm.&lt;/p&gt;
+      title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element as part
+      of that algorithm.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Set the parser's &lt;span&gt;&lt;code&gt;form&lt;/code&gt; element pointer&lt;/span&gt;
-      to the nearest node to the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element
-      that is a &lt;code&gt;form&lt;/code&gt; element (going straight up the
-      ancestor chain, and including the element itself, if it is a
+      &lt;p&gt;Set the parser's &lt;span&gt;&lt;code&gt;form&lt;/code&gt; element
+      pointer&lt;/span&gt; to the nearest node to the &lt;var
+      title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element that is
+      a &lt;code&gt;form&lt;/code&gt; element (going straight up the ancestor
+      chain, and including the element itself, if it is a
       &lt;code&gt;form&lt;/code&gt; element), or, if there is no such
       &lt;code&gt;form&lt;/code&gt; element, to null.&lt;/p&gt;
 
@@ -100671,8 +100682,9 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, return the
-    child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;span&gt;tree
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, return
+    the child nodes of &lt;var title=&quot;&quot;&gt;root&lt;/var&gt;, in &lt;span&gt;tree
     order&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;Document&lt;/code&gt;
@@ -100991,11 +101003,11 @@
 
   &lt;h3&gt;Parsing XHTML fragments&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns
-  a &lt;code&gt;Document&lt;/code&gt; or raises a &lt;code&gt;SYNTAX_ERR&lt;/code&gt;
-  exception. Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional
-  context element &lt;var title=&quot;&quot;&gt;context&lt;/var&gt;, the algorithm is as
-  follows:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns a
+  &lt;code&gt;Document&lt;/code&gt; or raises a &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception.
+  Given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and an optional context
+  element &lt;var title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt;, the
+  algorithm is as follows:&lt;/p&gt;
 
   &lt;ol&gt;
 
@@ -101007,12 +101019,13 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;span&gt;feed
-    the parser&lt;/span&gt; just created the string corresponding to the
-    start tag of that element, declaring all the namespace prefixes
-    that are in scope on that element in the DOM, as well as declaring
-    the default namespace (if any) that is in scope on that element in
-    the DOM.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element,
+    &lt;span&gt;feed the parser&lt;/span&gt; just created the string corresponding
+    to the start tag of that element, declaring all the namespace
+    prefixes that are in scope on that element in the DOM, as well as
+    declaring the default namespace (if any) that is in scope on that
+    element in the DOM.&lt;/p&gt;
 
     &lt;p&gt;A namespace prefix is in scope if the DOM Core &lt;code
     title=&quot;&quot;&gt;lookupNamespaceURI()&lt;/code&gt; method on the element would
@@ -101022,10 +101035,11 @@
     &lt;code title=&quot;&quot;&gt;isDefaultNamespace()&lt;/code&gt; method on the element
     would return true.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element,
-    no &lt;code title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and
-    therefore no external subset is referenced, and therefore no
-    entities will be recognized.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, no &lt;code
+    title=&quot;&quot;&gt;DOCTYPE&lt;/code&gt; is passed to the parser, and therefore no
+    external subset is referenced, and therefore no entities will be
+    recognized.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -101038,9 +101052,10 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, &lt;span&gt;feed
-    the parser&lt;/span&gt; just created the string corresponding to the
-    end tag of that element.&lt;/p&gt;
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element,
+    &lt;span&gt;feed the parser&lt;/span&gt; just created the string corresponding
+    to the end tag of that element.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -101054,8 +101069,9 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; element, then return
-    the child nodes of the root element of the resulting
+    &lt;p&gt;If there is a &lt;var
+    title=&quot;concept-frag-parse-context&quot;&gt;context&lt;/var&gt; element, then
+    return the child nodes of the root element of the resulting
     &lt;code&gt;Document&lt;/code&gt;, in &lt;span&gt;tree order&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return the children of the &lt;code&gt;Document&lt;/code&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012921.html">[html5] r6054 - [e] (0) Update ARIA role for &lt;summary&gt;. Fixing	http://www.w3.org/Bugs/Public/sho [...]
</A></li>
	<LI>Next message: <A HREF="012923.html">[html5] r6056 - [e] (0) hide the DOM Range dfns for now Fixing	http://www.w3.org/Bugs/Public/sho [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12922">[ date ]</a>
              <a href="thread.html#12922">[ thread ]</a>
              <a href="subject.html#12922">[ subject ]</a>
              <a href="author.html#12922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
