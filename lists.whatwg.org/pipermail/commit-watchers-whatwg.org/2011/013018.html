<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6151 - [giow] (0) WebSockets: binary data (first draft)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6151%20-%20%5Bgiow%5D%20%280%29%20WebSockets%3A%20binary%20data%20%28first%20draft%29&In-Reply-To=%3C20110526234723.1809E11C7C00C%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013017.html">
   <LINK REL="Next"  HREF="013019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6151 - [giow] (0) WebSockets: binary data (first draft)</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6151%20-%20%5Bgiow%5D%20%280%29%20WebSockets%3A%20binary%20data%20%28first%20draft%29&In-Reply-To=%3C20110526234723.1809E11C7C00C%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6151 - [giow] (0) WebSockets: binary data (first draft)">whatwg at whatwg.org
       </A><BR>
    <I>Thu May 26 16:47:23 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013017.html">[html5] r6150 - [e] (0) fix another idl typo
</A></li>
        <LI>Next message: <A HREF="013019.html">[html5] r6152 - [giow] (1) Fix WebIDL-related issues uncovered by	the recent updates to the webi [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13018">[ date ]</a>
              <a href="thread.html#13018">[ thread ]</a>
              <a href="subject.html#13018">[ subject ]</a>
              <a href="author.html#13018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-05-26 16:47:22 -0700 (Thu, 26 May 2011)
New Revision: 6151

Modified:
   complete.html
   source
Log:
[giow] (0) WebSockets: binary data (first draft)

Modified: complete.html
===================================================================
--- complete.html	2011-05-24 23:50:04 UTC (rev 6150)
+++ complete.html	2011-05-26 23:47:22 UTC (rev 6151)
@@ -239,7 +239,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Web Applications 1.0&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 24 May 2011&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 26 May 2011&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
     &lt;dd&gt;&lt;a href=<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/">http://www.whatwg.org/specs/web-apps/current-work/complete/</A>&gt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/&lt;/a">http://www.whatwg.org/specs/web-apps/current-work/complete/&lt;/a</A>&gt;&lt;/dd&gt;
     &lt;dt&gt;One-page version:&lt;/dt&gt;
@@ -78822,12 +78822,17 @@
 
   // networking
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onopen title=handler-WebSocket-onopen&gt;onopen&lt;/a&gt;;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onmessage title=handler-WebSocket-onmessage&gt;onmessage&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onerror title=handler-WebSocket-onerror&gt;onerror&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onclose title=handler-WebSocket-onclose&gt;onclose&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-websocket-protocol title=dom-WebSocket-protocol&gt;protocol&lt;/a&gt;;
+  void &lt;a href=#dom-websocket-close title=dom-WebSocket-close&gt;close&lt;/a&gt;();
+
+  // messaging
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onmessage title=handler-WebSocket-onmessage&gt;onmessage&lt;/a&gt;;
+           attribute Object &lt;a href=#dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;binaryType&lt;/a&gt;;
   void &lt;a href=#dom-websocket-send title=dom-WebSocket-send&gt;send&lt;/a&gt;(in DOMString data);
-  void &lt;a href=#dom-websocket-close title=dom-WebSocket-close&gt;close&lt;/a&gt;();
+  void &lt;a href=#dom-websocket-send title=dom-WebSocket-send&gt;send&lt;/a&gt;(in &lt;span&gt;ArrayBuffer&lt;/span&gt; data);
+  void &lt;a href=#dom-websocket-send title=dom-WebSocket-send&gt;send&lt;/a&gt;(in &lt;a href=#blob&gt;Blob&lt;/a&gt; data);
 };
 &lt;a href=#websocket&gt;WebSocket&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;&lt;/pre&gt;
 
@@ -78965,21 +78970,6 @@
   conjunction with the array form of the constructor's second argument
   to perform subprotocol negotiation.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
-  connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is
-  &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must
-  raise an &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt; exception. Otherwise, if the
-  &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument has any unpaired surrogates, then
-  it must raise &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt;. If the connection is
-  established, and the string has no unpaired surrogates, and &lt;span title=&quot;the WebSocket closing handshake has started&quot;&gt;the WebSocket
-  closing handshake has not yet started&lt;/span&gt;, then the user agent
-  must &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;;
-  if the data cannot be sent, e.g. because it would need to be
-  buffered but the buffer is full, the user agent must &lt;span&gt;close the
-  WebSocket connection&lt;/span&gt;. Any invokation of this method that does
-  not raise an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt; attribute
-  by the number of bytes needed to express the argument as UTF-8. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-websocket-close title=dom-WebSocket-close&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
   method must run the first matching steps from the following list:&lt;/p&gt;
 
@@ -79086,7 +79076,108 @@
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; that must be
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, its &lt;dfn id=dom-websocket-binarytype title=dom-WebSocket-binaryType&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must be set to the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; interface object
+  associated with the same global object as the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; constructor used to create
+  the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object. On getting, it must return the
+  last value it was set to. On setting, if the new value is either the
+  &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;ArrayBuffer&lt;/code&gt; interface object
+  associated with the same global object as the &lt;code title=dom-WebSocket&gt;&lt;a href=#dom-websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; constructor used to create
+  the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object, then set the IDL attribute to
+  this new value. Otherwise, throw a &lt;code&gt;&lt;a href=#not_supported_err&gt;NOT_SUPPORTED_ERR&lt;/a&gt;&lt;/code&gt;
+  exception.&lt;/p&gt;
+
+  &lt;p class=note&gt;This attribute allows authors to control how binary
+  data is exposed to scripts. By setting the attribute to
+  &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;, binary data is returned in &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;
+  form; by setting it to &lt;code&gt;ArrayBuffer&lt;/code&gt;, it is returned in
+  &lt;code&gt;ArrayBuffer&lt;/code&gt; form. User agents can use this as a hint
+  for how to handle incoming binary data: if the attribute is set to
+  &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;, it is safe to spool it to disk, and if it is set
+  to &lt;code&gt;ArrayBuffer&lt;/code&gt;, it is likely more efficient to keep the
+  data in memory. Naturally, user agents are encouraged to use more
+  subtle heuristics to decide whether to keep incoming data in memory
+  or not, e.g. based on how big the data is or how common it is for a
+  script to change the attribute at the last minute. This latter
+  aspect is important in particular because it is quite possible for
+  the attribute to be changed after the user agent has received the
+  data but before the user agent as fired the event for it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-websocket-send title=dom-WebSocket-send&gt;&lt;code&gt;send(&lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
+  connection. If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is
+  &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;, it must
+  raise an &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt; exception. Otherwise, the
+  user agent must run the appropriate set of steps from the following
+  list:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;If the argument is a string&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument has any unpaired
+    surrogates, then raise an &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception. If
+    the connection is established, and the string has no unpaired
+    surrogates, and &lt;span title=&quot;the WebSocket closing handshake has
+    started&quot;&gt;the WebSocket closing handshake has not yet
+    started&lt;/span&gt;, then the user agent must &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt; using a text frame
+    opcode; if the data cannot be sent, e.g. because it would need to
+    be buffered but the buffer is full, the user agent must
+    &lt;span&gt;close the WebSocket connection&lt;/span&gt;. Any invokation of
+    this method with a string argument that does not raise an
+    exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
+    attribute by the number of bytes needed to express the argument as
+    UTF-8. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;If the argument is a &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the connection is established, and &lt;span title=&quot;The
+    WebSocket Closing Handshake is Started&quot;&gt;the WebSocket closing
+    handshake has not yet started&lt;/span&gt;, then the user agent must
+    &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;
+    using a binary frame opcode; if the data cannot be sent, e.g.
+    because it would need to be buffered but the buffer is full, the
+    user agent must &lt;span&gt;close the WebSocket connection&lt;/span&gt;. The
+    data to be sent is the raw data represented by the
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object. &lt;!-- that sentence is meant to invoke
+    &quot;This interface represents immutable raw data.&quot; --&gt; Any invokation
+    of this method with a &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; argument that does not
+    raise an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
+    attribute by the size of the &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object's raw data,
+    in bytes. &lt;!-- that sentence is meant to invoke the same as
+    Blob.size --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;If the argument is an &lt;code&gt;ArrayBuffer&lt;/code&gt; object&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the connection is established, and &lt;span title=&quot;The
+    WebSocket Closing Handshake is Started&quot;&gt;the WebSocket closing
+    handshake has not yet started&lt;/span&gt;, then the user agent must
+    &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;
+    using a binary frame opcode; if the data cannot be sent, e.g.
+    because it would need to be buffered but the buffer is full, the
+    user agent must &lt;span&gt;close the WebSocket connection&lt;/span&gt;. The
+    data to be sent is the data stored in the buffer described by the
+    &lt;code&gt;ArrayBuffer&lt;/code&gt; object. &lt;!-- that sentence is meant to
+    invoke &quot;The ArrayBuffer type describes a buffer used to store data
+    for the array buffer views.&quot; at the top of the Typed Array spec
+    --&gt; Any invokation of this method with an &lt;code&gt;ArrayBuffer&lt;/code&gt;
+    argument that does not raise an exception must increase the &lt;code title=dom-WebSocket-bufferedAmount&gt;&lt;a href=#dom-websocket-bufferedamount&gt;bufferedAmount&lt;/a&gt;&lt;/code&gt;
+    attribute by the length of the &lt;code&gt;ArrayBuffer&lt;/code&gt; in bytes.
+    &lt;!-- that sentence is meant to invoke the same as
+    ArrayBuffer.byteLength --&gt; &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt; &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; that must be
   supported, as IDL attributes, by all objects implementing the
   &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
@@ -79120,14 +79211,63 @@
   and then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.
   &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with text &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must create an event that uses
-  the &lt;code&gt;&lt;a href=#messageevent&gt;MessageEvent&lt;/a&gt;&lt;/code&gt; interface, with the event name &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt;, which does not bubble, is not
-  cancelable, has no default action, and whose &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute is set to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to check to see
-  if the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-  attribute's value is &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt;
-  (1) or &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2), and
-  if so, dispatch the event at the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; and data &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user
+  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to follow these steps: &lt;a href=#refsWSP&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;
+
+    &lt;p&gt;If the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+    attribute's value is not &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) or &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2), then abort these
+    steps.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; be an event that uses the
+    &lt;code&gt;&lt;a href=#messageevent&gt;MessageEvent&lt;/a&gt;&lt;/code&gt; interface, with the event name &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt;, which does not bubble, is
+    not cancelable, and has no default action.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text,
+    then set &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
+    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
+    set to &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt;, then set &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s
+    &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
+    &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
+    as its raw data. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
+    and &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; is
+    set to &lt;code&gt;ArrayBuffer&lt;/code&gt;, then set &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute to a new
+    read-only &lt;code&gt;ArrayBuffer&lt;/code&gt; object whose contents are &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a href=#refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Dispatch &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; at the
+    &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;User agents are encouraged to check if they can
+  perform the above steps efficiently before they run the task,
+  picking tasks from other &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;
+  while they prepare the buffers if not. For example, if the &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; attribute was set
+  to &lt;code&gt;&lt;a href=#blob&gt;Blob&lt;/a&gt;&lt;/code&gt; when the data arrived, and the user agent
+  spooled all the data to disk, but just before running the above
+  &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; for this particular message
+  the script switched &lt;code title=dom-WebSocket-binaryType&gt;&lt;a href=#dom-websocket-binarytype&gt;binaryType&lt;/a&gt;&lt;/code&gt; to
+  &lt;code&gt;ArrayBuffer&lt;/code&gt;, the user agent would want to page the data
+  back to RAM before running this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; so as to avoid stalling the main
+  thread while it created the &lt;code&gt;ArrayBuffer&lt;/code&gt; object.&lt;/p&gt;
+
   &lt;p&gt;When &lt;i&gt;a WebSocket error has been detected&lt;/i&gt;, the user agent
   must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to check to see if the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
   is &lt;code title=dom-WebSocket-OPEN&gt;&lt;a href=#dom-websocket-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; (1) or &lt;code title=dom-WebSocket-CLOSING&gt;&lt;a href=#dom-websocket-closing&gt;CLOSING&lt;/a&gt;&lt;/code&gt; (2), and if so,
@@ -99093,6 +99233,9 @@
    &lt;dt id=refsTURN&gt;[TURN]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5766">http://tools.ietf.org/html/rfc5766</A>&gt;Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, R. Mahy, P. Matthews, J. Rosenberg. IETF.&lt;/dd&gt;
 
+   &lt;dt id=refsTYPEDARRAY&gt;[TYPEDARRAY]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.khronos.org/registry/typedarray/specs/latest/">http://www.khronos.org/registry/typedarray/specs/latest/</A>&gt;Typed Array Specification&lt;/a&gt;&lt;/cite&gt;, D. Herman, K. Russell. Khronos.&lt;/dd&gt;
+
    &lt;dt id=refsUAAG&gt;[UAAG]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/UAAG20/">http://www.w3.org/TR/UAAG20/</A>&gt;Web Content Accessibility
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,

Modified: source
===================================================================
--- source	2011-05-24 23:50:04 UTC (rev 6150)
+++ source	2011-05-26 23:47:22 UTC (rev 6151)
@@ -89458,12 +89458,17 @@
 
   // networking
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onopen&quot;&gt;onopen&lt;/span&gt;;
-           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onmessage&quot;&gt;onmessage&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onerror&quot;&gt;onerror&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onclose&quot;&gt;onclose&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-WebSocket-protocol&quot;&gt;protocol&lt;/span&gt;;
+  void &lt;span title=&quot;dom-WebSocket-close&quot;&gt;close&lt;/span&gt;();
+
+  // messaging
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onmessage&quot;&gt;onmessage&lt;/span&gt;;
+           attribute Object &lt;span title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/span&gt;;
   void &lt;span title=&quot;dom-WebSocket-send&quot;&gt;send&lt;/span&gt;(in DOMString data);
-  void &lt;span title=&quot;dom-WebSocket-close&quot;&gt;close&lt;/span&gt;();
+  void &lt;span title=&quot;dom-WebSocket-send&quot;&gt;send&lt;/span&gt;(in &lt;span&gt;ArrayBuffer&lt;/span&gt; data);
+  void &lt;span title=&quot;dom-WebSocket-send&quot;&gt;send&lt;/span&gt;(in &lt;span&gt;Blob&lt;/span&gt; data);
 };
 &lt;span&gt;WebSocket&lt;/span&gt; implements &lt;span&gt;EventTarget&lt;/span&gt;;&lt;/pre&gt;
 
@@ -89628,26 +89633,6 @@
   conjunction with the array form of the constructor's second argument
   to perform subprotocol negotiation.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-send&quot;&gt;&lt;code&gt;send(&lt;var
-  title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
-  connection. If the &lt;code
-  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute is
-  &lt;code title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;, it must
-  raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception. Otherwise, if the
-  &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument has any unpaired surrogates, then
-  it must raise &lt;code&gt;SYNTAX_ERR&lt;/code&gt;. If the connection is
-  established, and the string has no unpaired surrogates, and &lt;span
-  title=&quot;the WebSocket closing handshake has started&quot;&gt;the WebSocket
-  closing handshake has not yet started&lt;/span&gt;, then the user agent
-  must &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;;
-  if the data cannot be sent, e.g. because it would need to be
-  buffered but the buffer is full, the user agent must &lt;span&gt;close the
-  WebSocket connection&lt;/span&gt;. Any invokation of this method that does
-  not raise an exception must increase the &lt;code
-  title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt; attribute
-  by the number of bytes needed to express the argument as UTF-8. &lt;a
-  href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-close&quot;&gt;&lt;code&gt;close()&lt;/code&gt;&lt;/dfn&gt;
   method must run the first matching steps from the following list:&lt;/p&gt;
 
@@ -89779,6 +89764,124 @@
 
   &lt;hr&gt;
 
+  &lt;p&gt;When a &lt;code&gt;WebSocket&lt;/code&gt; object is created, its &lt;dfn
+  title=&quot;dom-WebSocket-binaryType&quot;&gt;&lt;code&gt;binaryType&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must be set to the &lt;code&gt;Blob&lt;/code&gt; interface object
+  associated with the same global object as the &lt;code
+  title=&quot;dom-WebSocket&quot;&gt;WebSocket&lt;/code&gt; constructor used to create
+  the &lt;code&gt;WebSocket&lt;/code&gt; object. On getting, it must return the
+  last value it was set to. On setting, if the new value is either the
+  &lt;code&gt;Blob&lt;/code&gt; or &lt;code&gt;ArrayBuffer&lt;/code&gt; interface object
+  associated with the same global object as the &lt;code
+  title=&quot;dom-WebSocket&quot;&gt;WebSocket&lt;/code&gt; constructor used to create
+  the &lt;code&gt;WebSocket&lt;/code&gt; object, then set the IDL attribute to
+  this new value. Otherwise, throw a &lt;code&gt;NOT_SUPPORTED_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This attribute allows authors to control how binary
+  data is exposed to scripts. By setting the attribute to
+  &lt;code&gt;Blob&lt;/code&gt;, binary data is returned in &lt;code&gt;Blob&lt;/code&gt;
+  form; by setting it to &lt;code&gt;ArrayBuffer&lt;/code&gt;, it is returned in
+  &lt;code&gt;ArrayBuffer&lt;/code&gt; form. User agents can use this as a hint
+  for how to handle incoming binary data: if the attribute is set to
+  &lt;code&gt;Blob&lt;/code&gt;, it is safe to spool it to disk, and if it is set
+  to &lt;code&gt;ArrayBuffer&lt;/code&gt;, it is likely more efficient to keep the
+  data in memory. Naturally, user agents are encouraged to use more
+  subtle heuristics to decide whether to keep incoming data in memory
+  or not, e.g. based on how big the data is or how common it is for a
+  script to change the attribute at the last minute. This latter
+  aspect is important in particular because it is quite possible for
+  the attribute to be changed after the user agent has received the
+  data but before the user agent as fired the event for it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket-send&quot;&gt;&lt;code&gt;send(&lt;var
+  title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method transmits data using the
+  connection. If the &lt;code
+  title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute is
+  &lt;code title=&quot;dom-WebSocket-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;, it must
+  raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception. Otherwise, the
+  user agent must run the appropriate set of steps from the following
+  list:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;If the argument is a string&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; argument has any unpaired
+    surrogates, then raise an &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception. If
+    the connection is established, and the string has no unpaired
+    surrogates, and &lt;span title=&quot;the WebSocket closing handshake has
+    started&quot;&gt;the WebSocket closing handshake has not yet
+    started&lt;/span&gt;, then the user agent must &lt;span&gt;send &lt;var
+    title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt; using a text frame
+    opcode; if the data cannot be sent, e.g. because it would need to
+    be buffered but the buffer is full, the user agent must
+    &lt;span&gt;close the WebSocket connection&lt;/span&gt;. Any invokation of
+    this method with a string argument that does not raise an
+    exception must increase the &lt;code
+    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
+    attribute by the number of bytes needed to express the argument as
+    UTF-8. &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;If the argument is a &lt;code&gt;Blob&lt;/code&gt; object&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the connection is established, and &lt;span title=&quot;The
+    WebSocket Closing Handshake is Started&quot;&gt;the WebSocket closing
+    handshake has not yet started&lt;/span&gt;, then the user agent must
+    &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;
+    using a binary frame opcode; if the data cannot be sent, e.g.
+    because it would need to be buffered but the buffer is full, the
+    user agent must &lt;span&gt;close the WebSocket connection&lt;/span&gt;. The
+    data to be sent is the raw data represented by the
+    &lt;code&gt;Blob&lt;/code&gt; object. &lt;!-- that sentence is meant to invoke
+    &quot;This interface represents immutable raw data.&quot; --&gt; Any invokation
+    of this method with a &lt;code&gt;Blob&lt;/code&gt; argument that does not
+    raise an exception must increase the &lt;code
+    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
+    attribute by the size of the &lt;code&gt;Blob&lt;/code&gt; object's raw data,
+    in bytes. &lt;!-- that sentence is meant to invoke the same as
+    Blob.size --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
+    href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;If the argument is an &lt;code&gt;ArrayBuffer&lt;/code&gt; object&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;If the connection is established, and &lt;span title=&quot;The
+    WebSocket Closing Handshake is Started&quot;&gt;the WebSocket closing
+    handshake has not yet started&lt;/span&gt;, then the user agent must
+    &lt;span&gt;send &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; using the WebSocket&lt;/span&gt;
+    using a binary frame opcode; if the data cannot be sent, e.g.
+    because it would need to be buffered but the buffer is full, the
+    user agent must &lt;span&gt;close the WebSocket connection&lt;/span&gt;. The
+    data to be sent is the data stored in the buffer described by the
+    &lt;code&gt;ArrayBuffer&lt;/code&gt; object. &lt;!-- that sentence is meant to
+    invoke &quot;The ArrayBuffer type describes a buffer used to store data
+    for the array buffer views.&quot; at the top of the Typed Array spec
+    --&gt; Any invokation of this method with an &lt;code&gt;ArrayBuffer&lt;/code&gt;
+    argument that does not raise an exception must increase the &lt;code
+    title=&quot;dom-WebSocket-bufferedAmount&quot;&gt;bufferedAmount&lt;/code&gt;
+    attribute by the length of the &lt;code&gt;ArrayBuffer&lt;/code&gt; in bytes.
+    &lt;!-- that sentence is meant to invoke the same as
+    ArrayBuffer.byteLength --&gt; &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt; &lt;a
+    href=&quot;#refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;hr&gt;
+
   &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; that must be
   supported, as IDL attributes, by all objects implementing the
   &lt;code&gt;WebSocket&lt;/code&gt; interface:&lt;/p&gt;
@@ -89823,19 +89926,81 @@
   title=&quot;event-open&quot;&gt;open&lt;/code&gt; at the &lt;code&gt;WebSocket&lt;/code&gt; object.
   &lt;a href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with text &lt;var
-  title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must create an event that uses
-  the &lt;code&gt;MessageEvent&lt;/code&gt; interface, with the event name &lt;code
-  title=&quot;event-message&quot;&gt;message&lt;/code&gt;, which does not bubble, is not
-  cancelable, has no default action, and whose &lt;code
-  title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute is set to &lt;var
-  title=&quot;&quot;&gt;data&lt;/var&gt;, and &lt;span&gt;queue a task&lt;/span&gt; to check to see
-  if the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
-  attribute's value is &lt;code title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt;
-  (1) or &lt;code title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2), and
-  if so, dispatch the event at the &lt;code&gt;WebSocket&lt;/code&gt; object. &lt;a
+  &lt;p&gt;When &lt;i&gt;a WebSocket message has been received&lt;/i&gt; with type &lt;var
+  title=&quot;&quot;&gt;type&lt;/var&gt; and data &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user
+  agent must &lt;span&gt;queue a task&lt;/span&gt; to follow these steps: &lt;a
   href=&quot;#refsWSP&quot;&gt;[WSP]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
+    attribute's value is not &lt;code
+    title=&quot;dom-WebSocket-OPEN&quot;&gt;OPEN&lt;/code&gt; (1) or &lt;code
+    title=&quot;dom-WebSocket-CLOSING&quot;&gt;CLOSING&lt;/code&gt; (2), then abort these
+    steps.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; be an event that uses the
+    &lt;code&gt;MessageEvent&lt;/code&gt; interface, with the event name &lt;code
+    title=&quot;event-message&quot;&gt;message&lt;/code&gt;, which does not bubble, is
+    not cancelable, and has no default action.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Text,
+    then set &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
+    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to &lt;var
+    title=&quot;&quot;&gt;data&lt;/var&gt;.
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
+    and &lt;code title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is
+    set to &lt;code&gt;Blob&lt;/code&gt;, then set &lt;var title=&quot;&quot;&gt;event&lt;/var&gt;'s
+    &lt;code title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to a new
+    &lt;code&gt;Blob&lt;/code&gt; object that represents &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
+    as its raw data. &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; indicates that the data is Binary,
+    and &lt;code title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; is
+    set to &lt;code&gt;ArrayBuffer&lt;/code&gt;, then set &lt;var
+    title=&quot;&quot;&gt;event&lt;/var&gt;'s &lt;code
+    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute to a new
+    read-only &lt;code&gt;ArrayBuffer&lt;/code&gt; object whose contents are &lt;var
+    title=&quot;&quot;&gt;data&lt;/var&gt;. &lt;a
+    href=&quot;#refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Dispatch &lt;var title=&quot;&quot;&gt;event&lt;/var&gt; at the
+    &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p class=&quot;note&quot;&gt;User agents are encouraged to check if they can
+  perform the above steps efficiently before they run the task,
+  picking tasks from other &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;
+  while they prepare the buffers if not. For example, if the &lt;code
+  title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; attribute was set
+  to &lt;code&gt;Blob&lt;/code&gt; when the data arrived, and the user agent
+  spooled all the data to disk, but just before running the above
+  &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; for this particular message
+  the script switched &lt;code
+  title=&quot;dom-WebSocket-binaryType&quot;&gt;binaryType&lt;/code&gt; to
+  &lt;code&gt;ArrayBuffer&lt;/code&gt;, the user agent would want to page the data
+  back to RAM before running this &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; so as to avoid stalling the main
+  thread while it created the &lt;code&gt;ArrayBuffer&lt;/code&gt; object.&lt;/p&gt;
+
   &lt;p&gt;When &lt;i&gt;a WebSocket error has been detected&lt;/i&gt;, the user agent
   must &lt;span&gt;queue a task&lt;/span&gt; to check to see if the &lt;code
   title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt; attribute's value
@@ -113159,6 +113324,9 @@
    &lt;dt id=&quot;refsTURN&quot;&gt;[TURN]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc5766">http://tools.ietf.org/html/rfc5766</A>&quot;&gt;Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, R. Mahy, P. Matthews, J. Rosenberg. IETF.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsTYPEDARRAY&quot;&gt;[TYPEDARRAY]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.khronos.org/registry/typedarray/specs/latest/">http://www.khronos.org/registry/typedarray/specs/latest/</A>&quot;&gt;Typed Array Specification&lt;/a&gt;&lt;/cite&gt;, D. Herman, K. Russell. Khronos.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsUAAG&quot;&gt;[UAAG]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://www.w3.org/TR/UAAG20/">http://www.w3.org/TR/UAAG20/</A>&quot;&gt;Web Content Accessibility


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013017.html">[html5] r6150 - [e] (0) fix another idl typo
</A></li>
	<LI>Next message: <A HREF="013019.html">[html5] r6152 - [giow] (1) Fix WebIDL-related issues uncovered by	the recent updates to the webi [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13018">[ date ]</a>
              <a href="thread.html#13018">[ thread ]</a>
              <a href="subject.html#13018">[ subject ]</a>
              <a href="author.html#13018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
