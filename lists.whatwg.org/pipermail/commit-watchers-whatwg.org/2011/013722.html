<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6859 - [giow] (0) Define how to handle synthesised audio	descriptions that take longer [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6859%20-%20%5Bgiow%5D%20%280%29%20Define%20how%20to%20handle%20synthesised%20audio%0A%09descriptions%20that%20take%20longer%20%5B...%5D&In-Reply-To=%3C20111209215100.69C1D8058041%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013721.html">
   <LINK REL="Next"  HREF="013723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6859 - [giow] (0) Define how to handle synthesised audio	descriptions that take longer [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6859%20-%20%5Bgiow%5D%20%280%29%20Define%20how%20to%20handle%20synthesised%20audio%0A%09descriptions%20that%20take%20longer%20%5B...%5D&In-Reply-To=%3C20111209215100.69C1D8058041%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6859 - [giow] (0) Define how to handle synthesised audio	descriptions that take longer [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Dec  9 13:51:00 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013721.html">[html5] r6858 - [] (1) Define the meaning of preload='' values	while the video is playing. Affec [...]
</A></li>
        <LI>Next message: <A HREF="013723.html">[html5] r6860 - [e] (0) Improve accuracy. Affected topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13722">[ date ]</a>
              <a href="thread.html#13722">[ thread ]</a>
              <a href="subject.html#13722">[ subject ]</a>
              <a href="author.html#13722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-12-09 13:50:59 -0800 (Fri, 09 Dec 2011)
New Revision: 6859

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Define how to handle synthesised audio descriptions that take longer to play than the cue with which they are associated
Affected topics: Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2011-12-09 21:46:47 UTC (rev 6858)
+++ complete.html	2011-12-09 21:50:59 UTC (rev 6859)
@@ -29406,12 +29406,12 @@
       &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute
       changed to a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;, and
       the element has not &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, and playback
-      has not &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, and playback has not
-      &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;, the user agent must
-      &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
-      named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at
-      the element, and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
-      simple event&lt;/a&gt; named &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+      has not &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, &lt;a href=#paused-for-user-interaction&gt;paused for
+      user interaction&lt;/a&gt;, or &lt;a href=#paused-for-in-band-content&gt;paused for in-band
+      content&lt;/a&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
+      &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the element,
+      and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+      event&lt;/a&gt; named &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -29612,7 +29612,8 @@
   &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; state, the
   &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; state, or
   the &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; state,
-  or if the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.&lt;/p&gt;
+  or if the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or
+  &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to be &lt;dfn id=potentially-playing&gt;potentially
   playing&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt;
@@ -29623,6 +29624,12 @@
   on its media controller&lt;/a&gt;,
   and the element is not a &lt;a href=#blocked-media-element&gt;blocked media element&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p class=note&gt;A &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
+  DOM event &lt;a href=#fire-waiting-when-waiting&gt;can be fired&lt;/a&gt; as a
+  result of an element that is &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;
+  stopping playback due to its &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute changing to
+  a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=ended-playback&gt;ended
   playback&lt;/dfn&gt; when:&lt;/p&gt;
 
@@ -29681,8 +29688,7 @@
   controller&lt;/a&gt; when the user makes a selection, allowing playback
   to resume, the user agent must similarly &lt;a href=#report-the-controller-state&gt;report the controller
   state&lt;/a&gt; for the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current
-  media controller&lt;/a&gt;.
-  &lt;/p&gt;
+  media controller&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;It is possible for a &lt;a href=#media-element&gt;media element&lt;/a&gt; to have both
   &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt; and &lt;a href=#paused-for-user-interaction&gt;paused for user
@@ -29693,13 +29699,34 @@
   interaction&lt;/a&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-  &lt;p class=note&gt;A &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
-  DOM event &lt;a href=#fire-waiting-when-waiting&gt;can be fired&lt;/a&gt; as a
-  result of an element that is &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;
-  stopping playback due to its &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute changing to
-  a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=paused-for-in-band-content&gt;paused for
+  in-band content&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is false, the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
+  &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or
+  &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt; and
+  the user agent has suspended playback of the &lt;a href=#media-resource&gt;media
+  resource&lt;/a&gt; in order to play content that is temporally anchored
+  to the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; and has a non-zero length, or to
+  play content that is temporally anchored to a segment of the
+  &lt;a href=#media-resource&gt;media resource&lt;/a&gt; but has a length longer than that
+  segment. If the &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt; when this happens, then the user agent must
+  &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; for the &lt;a href=#media-element&gt;media
+  element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current media controller&lt;/a&gt;. If the
+  &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt; when the user agent unsuspends playback, the user
+  agent must similarly &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; for
+  the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; reaches the end
+  &lt;p class=example&gt;One example of when a &lt;a href=#media-element&gt;media element&lt;/a&gt;
+  would be &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt; is when the user
+  agent is playing &lt;a href=#attr-track-kind-descriptions title=attr-track-kind-descriptions&gt;audio
+  descriptions&lt;/a&gt; from an external WebVTT file, and the
+  synthesized speech generated for a cue is longer than the time
+  between the &lt;a href=#text-track-cue-start-time&gt;text track cue start time&lt;/a&gt; and the
+  &lt;a href=#text-track-cue-end-time&gt;text track cue end time&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; reaches the end
   of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; when the &lt;a href=#direction-of-playback&gt;direction of
   playback&lt;/a&gt; is forwards, then the user agent must follow these
   steps:&lt;/p&gt;
@@ -33817,13 +33844,13 @@
      &lt;td&gt;Playback is ready to start after having been paused or delayed due to lack of &lt;a href=#media-data&gt;media data&lt;/a&gt;.
      &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to or greater than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false, or &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is newly false and &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is equal to or greater than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;. Even if this event fires, the element might still not be &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;, e.g. if
      the element is &lt;a href=#blocked-on-its-media-controller&gt;blocked on its media controller&lt;/a&gt; (e.g. because the &lt;a href=#current-media-controller&gt;current media controller&lt;/a&gt; is paused, or another &lt;a href=#slaved-media-elements title=&quot;slaved media elements&quot;&gt;slaved media element&lt;/a&gt; is stalled somehow, or because the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; has no data corresponding to the &lt;a href=#media-controller-position&gt;media controller position&lt;/a&gt;), or
-     the element is &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.
+     the element is &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-media-waiting title=event-media-waiting&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
      &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is equal to or less than &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false. Either &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; is true, or the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is not contained in any of the ranges in &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;. It is possible for playback to stop for other reasons without &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; being false, but those reasons do not fire this event (and when those situations resolve, a separate &lt;code title=event-media-playing&gt;&lt;a href=#event-media-playing&gt;playing&lt;/a&gt;&lt;/code&gt; event is not fired either): e.g.
      the element is newly &lt;a href=#blocked-on-its-media-controller&gt;blocked on its media controller&lt;/a&gt;, or
-     &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, or the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.
+     &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, or the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-media-seeking title=event-media-seeking&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;The &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; IDL attribute changed to true.

Modified: index
===================================================================
--- index	2011-12-09 21:46:47 UTC (rev 6858)
+++ index	2011-12-09 21:50:59 UTC (rev 6859)
@@ -29406,12 +29406,12 @@
       &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute
       changed to a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;, and
       the element has not &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, and playback
-      has not &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, and playback has not
-      &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;, the user agent must
-      &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
-      named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at
-      the element, and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
-      simple event&lt;/a&gt; named &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+      has not &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, &lt;a href=#paused-for-user-interaction&gt;paused for
+      user interaction&lt;/a&gt;, or &lt;a href=#paused-for-in-band-content&gt;paused for in-band
+      content&lt;/a&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
+      &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the element,
+      and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+      event&lt;/a&gt; named &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -29612,7 +29612,8 @@
   &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; state, the
   &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; state, or
   the &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; state,
-  or if the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.&lt;/p&gt;
+  or if the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or
+  &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to be &lt;dfn id=potentially-playing&gt;potentially
   playing&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt;
@@ -29623,6 +29624,12 @@
   on its media controller&lt;/a&gt;,
   and the element is not a &lt;a href=#blocked-media-element&gt;blocked media element&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p class=note&gt;A &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
+  DOM event &lt;a href=#fire-waiting-when-waiting&gt;can be fired&lt;/a&gt; as a
+  result of an element that is &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;
+  stopping playback due to its &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute changing to
+  a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=ended-playback&gt;ended
   playback&lt;/dfn&gt; when:&lt;/p&gt;
 
@@ -29681,8 +29688,7 @@
   controller&lt;/a&gt; when the user makes a selection, allowing playback
   to resume, the user agent must similarly &lt;a href=#report-the-controller-state&gt;report the controller
   state&lt;/a&gt; for the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current
-  media controller&lt;/a&gt;.
-  &lt;/p&gt;
+  media controller&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;It is possible for a &lt;a href=#media-element&gt;media element&lt;/a&gt; to have both
   &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt; and &lt;a href=#paused-for-user-interaction&gt;paused for user
@@ -29693,13 +29699,34 @@
   interaction&lt;/a&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
   &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-timeupdate&gt;&lt;a href=#event-media-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-  &lt;p class=note&gt;A &lt;code title=event-media-waiting&gt;&lt;a href=#event-media-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
-  DOM event &lt;a href=#fire-waiting-when-waiting&gt;can be fired&lt;/a&gt; as a
-  result of an element that is &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;
-  stopping playback due to its &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute changing to
-  a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=paused-for-in-band-content&gt;paused for
+  in-band content&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is false, the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
+  &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or
+  &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt; and
+  the user agent has suspended playback of the &lt;a href=#media-resource&gt;media
+  resource&lt;/a&gt; in order to play content that is temporally anchored
+  to the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; and has a non-zero length, or to
+  play content that is temporally anchored to a segment of the
+  &lt;a href=#media-resource&gt;media resource&lt;/a&gt; but has a length longer than that
+  segment. If the &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt; when this happens, then the user agent must
+  &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; for the &lt;a href=#media-element&gt;media
+  element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current media controller&lt;/a&gt;. If the
+  &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt; when the user agent unsuspends playback, the user
+  agent must similarly &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; for
+  the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-media-controller&gt;current media
+  controller&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; reaches the end
+  &lt;p class=example&gt;One example of when a &lt;a href=#media-element&gt;media element&lt;/a&gt;
+  would be &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt; is when the user
+  agent is playing &lt;a href=#attr-track-kind-descriptions title=attr-track-kind-descriptions&gt;audio
+  descriptions&lt;/a&gt; from an external WebVTT file, and the
+  synthesized speech generated for a cue is longer than the time
+  between the &lt;a href=#text-track-cue-start-time&gt;text track cue start time&lt;/a&gt; and the
+  &lt;a href=#text-track-cue-end-time&gt;text track cue end time&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; reaches the end
   of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; when the &lt;a href=#direction-of-playback&gt;direction of
   playback&lt;/a&gt; is forwards, then the user agent must follow these
   steps:&lt;/p&gt;
@@ -33817,13 +33844,13 @@
      &lt;td&gt;Playback is ready to start after having been paused or delayed due to lack of &lt;a href=#media-data&gt;media data&lt;/a&gt;.
      &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to or greater than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false, or &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is newly false and &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is equal to or greater than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;. Even if this event fires, the element might still not be &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt;, e.g. if
      the element is &lt;a href=#blocked-on-its-media-controller&gt;blocked on its media controller&lt;/a&gt; (e.g. because the &lt;a href=#current-media-controller&gt;current media controller&lt;/a&gt; is paused, or another &lt;a href=#slaved-media-elements title=&quot;slaved media elements&quot;&gt;slaved media element&lt;/a&gt; is stalled somehow, or because the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; has no data corresponding to the &lt;a href=#media-controller-position&gt;media controller position&lt;/a&gt;), or
-     the element is &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.
+     the element is &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-media-waiting title=event-media-waiting&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
      &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is equal to or less than &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false. Either &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; is true, or the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is not contained in any of the ranges in &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;. It is possible for playback to stop for other reasons without &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; being false, but those reasons do not fire this event (and when those situations resolve, a separate &lt;code title=event-media-playing&gt;&lt;a href=#event-media-playing&gt;playing&lt;/a&gt;&lt;/code&gt; event is not fired either): e.g.
      the element is newly &lt;a href=#blocked-on-its-media-controller&gt;blocked on its media controller&lt;/a&gt;, or
-     &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, or the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.
+     &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, or the element has &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt; or &lt;a href=#paused-for-in-band-content&gt;paused for in-band content&lt;/a&gt;.
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-media-seeking title=event-media-seeking&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt;The &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; IDL attribute changed to true.

Modified: source
===================================================================
--- source	2011-12-09 21:46:47 UTC (rev 6858)
+++ source	2011-12-09 21:50:59 UTC (rev 6859)
@@ -31960,12 +31960,13 @@
       changed to a value lower than &lt;code
       title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;, and
       the element has not &lt;span&gt;ended playback&lt;/span&gt;, and playback
-      has not &lt;span&gt;stopped due to errors&lt;/span&gt;, and playback has not
-      &lt;span&gt;paused for user interaction&lt;/span&gt;, the user agent must
-      &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-      named &lt;code title=&quot;event-media-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at
-      the element, and &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
-      simple event&lt;/span&gt; named &lt;code
+      has not &lt;span&gt;stopped due to errors&lt;/span&gt;, &lt;span&gt;paused for
+      user interaction&lt;/span&gt;, or &lt;span&gt;paused for in-band
+      content&lt;/span&gt;, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to
+      &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+      title=&quot;event-media-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the element,
+      and &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+      event&lt;/span&gt; named &lt;code
       title=&quot;event-media-waiting&quot;&gt;waiting&lt;/code&gt; at the element.&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -32196,7 +32197,8 @@
   &lt;code title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; state, or
   the &lt;code
   title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; state,
-  or if the element has &lt;span&gt;paused for user interaction&lt;/span&gt;.&lt;/p&gt;
+  or if the element has &lt;span&gt;paused for user interaction&lt;/span&gt; or
+  &lt;span&gt;paused for in-band content&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to be &lt;dfn&gt;potentially
   playing&lt;/dfn&gt; when its &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt;
@@ -32207,6 +32209,14 @@
   on its media controller&lt;/span&gt;,
   and the element is not a &lt;span&gt;blocked media element&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;A &lt;code title=&quot;event-media-waiting&quot;&gt;waiting&lt;/code&gt;
+  DOM event &lt;a href=&quot;#fire-waiting-when-waiting&quot;&gt;can be fired&lt;/a&gt; as a
+  result of an element that is &lt;span&gt;potentially playing&lt;/span&gt;
+  stopping playback due to its &lt;code
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute changing to
+  a value lower than &lt;code
+  title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;.&lt;/p&gt;
+
   &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to have &lt;dfn&gt;ended
   playback&lt;/dfn&gt; when:&lt;/p&gt;
 
@@ -32284,8 +32294,7 @@
   controller&lt;/span&gt; when the user makes a selection, allowing playback
   to resume, the user agent must similarly &lt;span&gt;report the controller
   state&lt;/span&gt; for the &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;current
-  media controller&lt;/span&gt;.
-  &lt;/p&gt;
+  media controller&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;It is possible for a &lt;span&gt;media element&lt;/span&gt; to have both
   &lt;span&gt;ended playback&lt;/span&gt; and &lt;span&gt;paused for user
@@ -32297,14 +32306,37 @@
   &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
   title=&quot;event-media-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the element.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;A &lt;code title=&quot;event-media-waiting&quot;&gt;waiting&lt;/code&gt;
-  DOM event &lt;a href=&quot;#fire-waiting-when-waiting&quot;&gt;can be fired&lt;/a&gt; as a
-  result of an element that is &lt;span&gt;potentially playing&lt;/span&gt;
-  stopping playback due to its &lt;code
-  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute changing to
-  a value lower than &lt;code
-  title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to have &lt;dfn&gt;paused for
+  in-band content&lt;/dfn&gt; when its &lt;code
+  title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; attribute is false, the &lt;code
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
+  &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or
+  &lt;code title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/code&gt; and
+  the user agent has suspended playback of the &lt;span&gt;media
+  resource&lt;/span&gt; in order to play content that is temporally anchored
+  to the &lt;span&gt;media resource&lt;/span&gt; and has a non-zero length, or to
+  play content that is temporally anchored to a segment of the
+  &lt;span&gt;media resource&lt;/span&gt; but has a length longer than that
+  segment. If the &lt;span&gt;media element&lt;/span&gt; has a &lt;span&gt;current media
+  controller&lt;/span&gt; when this happens, then the user agent must
+  &lt;span&gt;report the controller state&lt;/span&gt; for the &lt;span&gt;media
+  element&lt;/span&gt;'s &lt;span&gt;current media controller&lt;/span&gt;. If the
+  &lt;span&gt;media element&lt;/span&gt; has a &lt;span&gt;current media
+  controller&lt;/span&gt; when the user agent unsuspends playback, the user
+  agent must similarly &lt;span&gt;report the controller state&lt;/span&gt; for
+  the &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;current media
+  controller&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p class=&quot;example&quot;&gt;One example of when a &lt;span&gt;media element&lt;/span&gt;
+  would be &lt;span&gt;paused for in-band content&lt;/span&gt; is when the user
+  agent is playing &lt;span title=&quot;attr-track-kind-descriptions&quot;&gt;audio
+  descriptions&lt;/span&gt; from an external WebVTT file, and the
+  synthesized speech generated for a cue is longer than the time
+  between the &lt;span&gt;text track cue start time&lt;/span&gt; and the
+  &lt;span&gt;text track cue end time&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
   &lt;p&gt;When the &lt;span&gt;current playback position&lt;/span&gt; reaches the end
   of the &lt;span&gt;media resource&lt;/span&gt; when the &lt;span&gt;direction of
   playback&lt;/span&gt; is forwards, then the user agent must follow these
@@ -39346,14 +39378,14 @@
      &lt;td&gt;Playback is ready to start after having been paused or delayed due to lack of &lt;span&gt;media data&lt;/span&gt;.
      &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is newly equal to or greater than &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; and &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is false, or &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is newly false and &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is equal to or greater than &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;. Even if this event fires, the element might still not be &lt;span&gt;potentially playing&lt;/span&gt;, e.g. if
      the element is &lt;span&gt;blocked on its media controller&lt;/span&gt; (e.g. because the &lt;span&gt;current media controller&lt;/span&gt; is paused, or another &lt;span title=&quot;slaved media elements&quot;&gt;slaved media element&lt;/span&gt; is stalled somehow, or because the &lt;span&gt;media resource&lt;/span&gt; has no data corresponding to the &lt;span&gt;media controller position&lt;/span&gt;), or
-     the element is &lt;span&gt;paused for user interaction&lt;/span&gt;.
+     the element is &lt;span&gt;paused for user interaction&lt;/span&gt; or &lt;span&gt;paused for in-band content&lt;/span&gt;.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-media-waiting&quot;&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
      &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is equal to or less than &lt;code title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt;, and &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is false. Either &lt;code title=&quot;dom-media-seeking&quot;&gt;seeking&lt;/code&gt; is true, or the &lt;span&gt;current playback position&lt;/span&gt; is not contained in any of the ranges in &lt;code title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt;. It is possible for playback to stop for other reasons without &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; being false, but those reasons do not fire this event (and when those situations resolve, a separate &lt;code title=&quot;event-media-playing&quot;&gt;playing&lt;/code&gt; event is not fired either): e.g.
      the element is newly &lt;span&gt;blocked on its media controller&lt;/span&gt;, or
-     &lt;span title=&quot;ended playback&quot;&gt;playback ended&lt;/span&gt;, or playback &lt;span&gt;stopped due to errors&lt;/span&gt;, or the element has &lt;span&gt;paused for user interaction&lt;/span&gt;.
+     &lt;span title=&quot;ended playback&quot;&gt;playback ended&lt;/span&gt;, or playback &lt;span&gt;stopped due to errors&lt;/span&gt;, or the element has &lt;span&gt;paused for user interaction&lt;/span&gt; or &lt;span&gt;paused for in-band content&lt;/span&gt;.
    &lt;tbody&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-media-seeking&quot;&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013721.html">[html5] r6858 - [] (1) Define the meaning of preload='' values	while the video is playing. Affec [...]
</A></li>
	<LI>Next message: <A HREF="013723.html">[html5] r6860 - [e] (0) Improve accuracy. Affected topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13722">[ date ]</a>
              <a href="thread.html#13722">[ thread ]</a>
              <a href="subject.html#13722">[ subject ]</a>
              <a href="author.html#13722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
