<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r6718 - [giow] (2) Make HTMLDocument === Document. Fixing	http://www.w3.org/Bugs/Public/ [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6718%20-%20%5Bgiow%5D%20%282%29%20Make%20HTMLDocument%20%3D%3D%3D%20Document.%20Fixing%0A%09http%3A//www.w3.org/Bugs/Public/%20%5B...%5D&In-Reply-To=%3C20111020230105.065D31C84004%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013583.html">
   <LINK REL="Next"  HREF="013585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r6718 - [giow] (2) Make HTMLDocument === Document. Fixing	http://www.w3.org/Bugs/Public/ [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r6718%20-%20%5Bgiow%5D%20%282%29%20Make%20HTMLDocument%20%3D%3D%3D%20Document.%20Fixing%0A%09http%3A//www.w3.org/Bugs/Public/%20%5B...%5D&In-Reply-To=%3C20111020230105.065D31C84004%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r6718 - [giow] (2) Make HTMLDocument === Document. Fixing	http://www.w3.org/Bugs/Public/ [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Oct 20 16:01:05 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013583.html">[html5] r6717 - [giowt] (0) Simplification in the microsyntax	parsing rules, which makes non-neg [...]
</A></li>
        <LI>Next message: <A HREF="013585.html">[html5] r6719 - [giow] (1) Move XMLDocumentLoader.load to	XMLDocument. Fixing http://www.w3.org/ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13584">[ date ]</a>
              <a href="thread.html#13584">[ thread ]</a>
              <a href="subject.html#13584">[ subject ]</a>
              <a href="author.html#13584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-10-20 16:01:03 -0700 (Thu, 20 Oct 2011)
New Revision: 6718

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Make HTMLDocument === Document.
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=14037">http://www.w3.org/Bugs/Public/show_bug.cgi?id=14037</A>

Modified: complete.html
===================================================================
--- complete.html	2011-10-20 22:13:42 UTC (rev 6717)
+++ complete.html	2011-10-20 23:01:03 UTC (rev 6718)
@@ -2132,7 +2132,7 @@
   &lt;pre&gt;&lt;&lt;a href=#the-form-element&gt;form&lt;/a&gt; &lt;a href=#attr-form-name title=attr-form-name&gt;name&lt;/a&gt;=&quot;main&quot;&gt;
  Result: &lt;&lt;a href=#the-output-element&gt;output&lt;/a&gt; &lt;a href=#attr-fe-name title=attr-fe-name&gt;name&lt;/a&gt;=&quot;result&quot;&gt;&lt;/output&gt;
  &lt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&gt;
-  &lt;a href=#htmldocument title=HTMLDocument&gt;document&lt;/a&gt;.&lt;a href=#dom-document-forms title=dom-document-forms&gt;forms&lt;/a&gt;.main.&lt;a href=#dom-form-elements title=dom-form-elements&gt;elements&lt;/a&gt;.result.&lt;a href=#dom-output-value title=dom-output-value&gt;value&lt;/a&gt; = 'Hello World';
+  &lt;a href=#document title=Document&gt;document&lt;/a&gt;.&lt;a href=#dom-document-forms title=dom-document-forms&gt;forms&lt;/a&gt;.main.&lt;a href=#dom-form-elements title=dom-form-elements&gt;elements&lt;/a&gt;.result.&lt;a href=#dom-output-value title=dom-output-value&gt;value&lt;/a&gt; = 'Hello World';
  &lt;/script&gt;
 &lt;/form&gt;&lt;/pre&gt;
 
@@ -2142,7 +2142,7 @@
   can have its &quot;&lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;&quot;
   attribute changed in several ways:&lt;/p&gt;
 
-  &lt;pre&gt;var a = &lt;a href=#htmldocument title=HTMLDocument&gt;document&lt;/a&gt;.&lt;a href=#dom-document-links title=dom-document-links&gt;links&lt;/a&gt;[0]; // obtain the first link in the document
+  &lt;pre&gt;var a = &lt;a href=#document title=Document&gt;document&lt;/a&gt;.&lt;a href=#dom-document-links title=dom-document-links&gt;links&lt;/a&gt;[0]; // obtain the first link in the document
 a.&lt;a href=#dom-a-href title=dom-a-href&gt;href&lt;/a&gt; = 'sample.html'; // change the destination URL of the link
 a.&lt;a href=#dom-uda-protocol title=dom-uda-protocol&gt;protocol&lt;/a&gt; = 'https'; // change just the scheme part of the URL
 a.setAttribute('href', '<A HREF="http://example.com/">http://example.com/</A>'); // change the content attribute directly&lt;/pre&gt;
@@ -9222,26 +9222,10 @@
 
   &lt;/ol&gt;&lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
 
-  &lt;p&gt;All &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects (in user agents implementing
-  this specification) &lt;span class=impl&gt;must&lt;/span&gt; also implement
-  the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface, available using
-  binding-specific methods. (This is the case whether or not the
-  document in question is an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML
-  document&lt;/a&gt; or indeed whether it contains any &lt;a href=#html-elements&gt;HTML
-  elements&lt;/a&gt; at all.) &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects &lt;span class=impl&gt;must&lt;/span&gt; also implement the document-level interface
-  of any other namespaces that the UA supports.&lt;/p&gt;
-
-  &lt;p class=example&gt;For example, if an HTML implementation also
-  supports SVG, then the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object implements both
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;SVGDocument&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p class=note&gt;Because the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface is
-  now obtained using binding-specific casting methods instead of
-  simply being the primary interface of the document object, it is no
-  longer defined as inheriting from &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
-
   &lt;pre class=idl&gt;[OverrideBuiltins]
-interface &lt;dfn id=htmldocument&gt;HTMLDocument&lt;/dfn&gt; {
+partial interface &lt;a href=#document&gt;Document&lt;/a&gt; {
+  readonly attribute &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#htmldocument title=HTMLDocument&gt;HTMLDocument&lt;/a&gt;;
+
   // &lt;a href=#resource-metadata-management&gt;resource metadata management&lt;/a&gt;
   [PutForwards=&lt;a href=#dom-location-href title=dom-location-href&gt;href&lt;/a&gt;] readonly attribute &lt;a href=#location&gt;Location&lt;/a&gt;? &lt;a href=#dom-document-location title=dom-document-location&gt;location&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-document-url title=dom-document-URL&gt;URL&lt;/a&gt;;
@@ -9268,7 +9252,7 @@
 &lt;!--CSSREF--&gt;  readonly attribute &lt;a href=#domelementmap&gt;DOMElementMap&lt;/a&gt; &lt;a href=#dom-document-csselementmap title=dom-document-cssElementMap&gt;cssElementMap&lt;/a&gt;;&lt;!--CSSREF--&gt;
 
   // &lt;a href=#dynamic-markup-insertion&gt;dynamic markup insertion&lt;/a&gt;
-  &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(optional DOMString type, optional DOMString replace);
+  &lt;a href=#document&gt;Document&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(optional DOMString type, optional DOMString replace);
   &lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(DOMString url, DOMString name, DOMString features, optional boolean replace);
   void &lt;a href=#dom-document-close title=dom-document-close&gt;close&lt;/a&gt;();
   void &lt;a href=#dom-document-write title=dom-document-write&gt;write&lt;/a&gt;(DOMString... text);
@@ -9346,12 +9330,10 @@
 
   // special &lt;a href=#event-handler-idl-attributes&gt;event handler IDL attributes&lt;/a&gt; that only apply to Document objects
   [TreatNonCallableAsNull] attribute &lt;a href=#function&gt;Function&lt;/a&gt;? &lt;a href=#handler-onreadystatechange title=handler-onreadystatechange&gt;onreadystatechange&lt;/a&gt;;
-};
-&lt;a href=#document&gt;Document&lt;/a&gt; implements &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;;&lt;/pre&gt;
+};&lt;/pre&gt;
 
-  &lt;p&gt;Since the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface holds methods and
-  attributes related to a number of disparate features, the members of
-  this interface are described in various different sections.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=htmldocument&gt;&lt;code&gt;HTMLDocument&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  return the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object on which it is called.&lt;/p&gt;
 
 
   &lt;h4 id=security-document&gt;&lt;span class=secno&gt;3.1.2 &lt;/span&gt;Security&lt;/h4&gt;
@@ -9628,8 +9610,9 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#root-element&gt;root element&lt;/a&gt; is an &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;
    element in the &quot;&lt;code title=&quot;&quot;&gt;<A HREF="http://www.w3.org/2000/svg&lt;/code">http://www.w3.org/2000/svg&lt;/code</A>&gt;&quot;
    namespace, and the user agent supports SVG, then the setter must
-   defer to the setter for the IDL attribute of the same name on the
-   &lt;code&gt;SVGDocument&lt;/code&gt; interface. Stop the algorithm here. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/li&gt;
+   act as if it was the setter for the IDL attribute of the same name
+   on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface defined by the SVG
+   specification. Stop the algorithm here. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;a href=#the-title-element-0&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/a&gt; is null and
    &lt;a href=#the-head-element-0&gt;the &lt;code&gt;head&lt;/code&gt; element&lt;/a&gt; is null, then the
@@ -9646,10 +9629,10 @@
    &lt;li&gt;A single &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node whose data is the new value
    being assigned must be appended to &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;code title=dom-document-title&gt;&lt;a href=#document.title&gt;title&lt;/a&gt;&lt;/code&gt; attribute on
-  the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface should shadow the attribute
-  of the same name on the &lt;code&gt;SVGDocument&lt;/code&gt; interface when the
-  user agent supports both HTML and SVG. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;code title=dom-document-title&gt;&lt;a href=#document.title&gt;title&lt;/a&gt;&lt;/code&gt; IDL attribute
+  defined above must replace the attribute of the same name on the
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface defined by the SVG specification
+  when the user agent supports both HTML and SVG. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -9868,7 +9851,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface &lt;span title=&quot;support
+  &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface &lt;span title=&quot;support
   named properties&quot;&gt;supports named properties&lt;/span&gt;. The
   &lt;a href=#supported-property-names&gt;supported property names&lt;/a&gt; at any moment consist of the
   values of the &lt;code title=attr-name&gt;name&lt;/code&gt; content attributes
@@ -9889,7 +9872,7 @@
   elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that have both &lt;code title=attr-name&gt;name&lt;/code&gt; content attributes and &lt;code title=attr-id&gt;&lt;a href=#the-id-attribute&gt;id&lt;/a&gt;&lt;/code&gt; content attributes.&lt;/p&gt;
 
   &lt;p&gt;To &lt;a href=#determine-the-value-of-a-named-property&gt;determine the value of a named property&lt;/a&gt; &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; when &lt;dfn id=dom-document-nameditem title=dom-document-namedItem&gt;the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; object is indexed for property
+  &lt;code&gt;Document&lt;/code&gt; object is indexed for property
   retrieval&lt;/dfn&gt;, the user agent must return the value obtained using
   the following steps:&lt;/p&gt;
 
@@ -9959,7 +9942,7 @@
   &lt;/div&gt;
 
   &lt;hr&gt;&lt;p class=note&gt;The &lt;code title=dom-document-dir&gt;&lt;a href=#dom-document-dir&gt;dir&lt;/a&gt;&lt;/code&gt;
-  attribute on the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface is defined
+  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface is defined
   along with the &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; content
   attribute.&lt;/p&gt;
 
@@ -10884,7 +10867,7 @@
   &lt;a href=#limited-to-only-known-values&gt;limited to only known values&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-dir title=dom-document-dir&gt;&lt;code&gt;dir&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must
+  attribute on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; content
   attribute of &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/a&gt;, if any,
   &lt;a href=#limited-to-only-known-values&gt;limited to only known values&lt;/a&gt;. If there is no such
@@ -13066,10 +13049,10 @@
   tasks&lt;/a&gt; or &lt;a href=#completely-loaded&gt;completely loaded&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When called with three or more arguments, the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object must call the &lt;code title=dom-open&gt;&lt;a href=#dom-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object, with the same
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object must call the &lt;code title=dom-open&gt;&lt;a href=#dom-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, with the same
   arguments as the original call to the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method, and return whatever
-  that method returned. If the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object has no
+  that method returned. If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object has no
   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, then the method must throw an
   &lt;code&gt;&lt;a href=#invalidaccesserror&gt;InvalidAccessError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
@@ -54359,7 +54342,7 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-commands title=dom-document-commands&gt;&lt;code&gt;commands&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the document's &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return an
+  of the document's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return an
   &lt;code&gt;&lt;a href=#htmlcollection&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; rooted at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
   node, whose filter matches only elements that &lt;a href=#concept-command title=concept-command&gt;define commands&lt;/a&gt; and have &lt;a href=#command-facet-id title=command-facet-ID&gt;IDs&lt;/a&gt;.&lt;/p&gt;
 
@@ -62595,7 +62578,7 @@
   context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-defaultview title=dom-document-defaultView&gt;&lt;code&gt;defaultView&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return the
+  attribute of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
   &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object, if there is one, or null
   otherwise.&lt;/p&gt;
@@ -64365,7 +64348,7 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-location title=dom-document-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return the
+  of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return the
   &lt;code&gt;&lt;a href=#location&gt;Location&lt;/a&gt;&lt;/code&gt; object for that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object,
   if it is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and null otherwise.&lt;/p&gt;
 
@@ -69625,7 +69608,7 @@
   &lt;/table&gt;&lt;p class=note&gt;The &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt;
   handler is also used for &lt;a href=#runtime-script-errors&gt;reporting script errors&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;!-- this guy is only on HTMLDocument and not on HTMLElement because
+  &lt;hr&gt;&lt;!-- this guy is only on Document and not on HTMLElement because
   otherwise HTMLScriptElement would have it and that causes
   compatibility issues since IE fires readystatechange events on
   &lt;script&gt;, not load events, and we can't fire both, and some sites
@@ -72012,13 +71995,13 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
-  attribute on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must return the
+  attribute on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the
   element in the document that is focused. If no element in the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is focused, this must return &lt;a href=#the-body-element-0&gt;the body
   element&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method
-  on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must return true if the
+  on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true if the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is focused,
   and all its &lt;a href=#ancestor-browsing-context title=&quot;ancestor browsing context&quot;&gt;ancestor
   browsing contexts&lt;/a&gt; are also focused, and the &lt;a href=#top-level-browsing-context&gt;top-level
@@ -97466,7 +97449,7 @@
   spec, albeit as obsolete, and then we say that only elements not
   defined in this spec use HTMLUnknownElement. --&gt;
 
-  &lt;hr&gt;&lt;pre class=idl&gt;partial interface &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt; {
+  &lt;hr&gt;&lt;pre class=idl&gt;partial interface &lt;a href=#document&gt;Document&lt;/a&gt; {
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-fgcolor title=dom-document-fgColor&gt;fgColor&lt;/a&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-linkcolor title=dom-document-linkColor&gt;linkColor&lt;/a&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-vlinkcolor title=dom-document-vlinkColor&gt;vlinkColor&lt;/a&gt;;
@@ -102645,8 +102628,8 @@
         library.onload = function() {
           var sound1 = library.getAudio(&quot;sound1.wav&quot;); // returns an Audio object
           var image1 = library.getImage(&quot;image1.png&quot;); // returns an HTMLImageElement
-          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document
-          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns an HTMLDocument
+          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document (XML Document mode)
+          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns a Document (HTML Document mode)
         }
        or:
         var library = new ResourceLoader(&quot;data.zip&quot;);

Modified: index
===================================================================
--- index	2011-10-20 22:13:42 UTC (rev 6717)
+++ index	2011-10-20 23:01:03 UTC (rev 6718)
@@ -2132,7 +2132,7 @@
   &lt;pre&gt;&lt;&lt;a href=#the-form-element&gt;form&lt;/a&gt; &lt;a href=#attr-form-name title=attr-form-name&gt;name&lt;/a&gt;=&quot;main&quot;&gt;
  Result: &lt;&lt;a href=#the-output-element&gt;output&lt;/a&gt; &lt;a href=#attr-fe-name title=attr-fe-name&gt;name&lt;/a&gt;=&quot;result&quot;&gt;&lt;/output&gt;
  &lt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&gt;
-  &lt;a href=#htmldocument title=HTMLDocument&gt;document&lt;/a&gt;.&lt;a href=#dom-document-forms title=dom-document-forms&gt;forms&lt;/a&gt;.main.&lt;a href=#dom-form-elements title=dom-form-elements&gt;elements&lt;/a&gt;.result.&lt;a href=#dom-output-value title=dom-output-value&gt;value&lt;/a&gt; = 'Hello World';
+  &lt;a href=#document title=Document&gt;document&lt;/a&gt;.&lt;a href=#dom-document-forms title=dom-document-forms&gt;forms&lt;/a&gt;.main.&lt;a href=#dom-form-elements title=dom-form-elements&gt;elements&lt;/a&gt;.result.&lt;a href=#dom-output-value title=dom-output-value&gt;value&lt;/a&gt; = 'Hello World';
  &lt;/script&gt;
 &lt;/form&gt;&lt;/pre&gt;
 
@@ -2142,7 +2142,7 @@
   can have its &quot;&lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;&quot;
   attribute changed in several ways:&lt;/p&gt;
 
-  &lt;pre&gt;var a = &lt;a href=#htmldocument title=HTMLDocument&gt;document&lt;/a&gt;.&lt;a href=#dom-document-links title=dom-document-links&gt;links&lt;/a&gt;[0]; // obtain the first link in the document
+  &lt;pre&gt;var a = &lt;a href=#document title=Document&gt;document&lt;/a&gt;.&lt;a href=#dom-document-links title=dom-document-links&gt;links&lt;/a&gt;[0]; // obtain the first link in the document
 a.&lt;a href=#dom-a-href title=dom-a-href&gt;href&lt;/a&gt; = 'sample.html'; // change the destination URL of the link
 a.&lt;a href=#dom-uda-protocol title=dom-uda-protocol&gt;protocol&lt;/a&gt; = 'https'; // change just the scheme part of the URL
 a.setAttribute('href', '<A HREF="http://example.com/">http://example.com/</A>'); // change the content attribute directly&lt;/pre&gt;
@@ -9222,26 +9222,10 @@
 
   &lt;/ol&gt;&lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
 
-  &lt;p&gt;All &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects (in user agents implementing
-  this specification) &lt;span class=impl&gt;must&lt;/span&gt; also implement
-  the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface, available using
-  binding-specific methods. (This is the case whether or not the
-  document in question is an &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML
-  document&lt;/a&gt; or indeed whether it contains any &lt;a href=#html-elements&gt;HTML
-  elements&lt;/a&gt; at all.) &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects &lt;span class=impl&gt;must&lt;/span&gt; also implement the document-level interface
-  of any other namespaces that the UA supports.&lt;/p&gt;
-
-  &lt;p class=example&gt;For example, if an HTML implementation also
-  supports SVG, then the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object implements both
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;SVGDocument&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p class=note&gt;Because the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface is
-  now obtained using binding-specific casting methods instead of
-  simply being the primary interface of the document object, it is no
-  longer defined as inheriting from &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
-
   &lt;pre class=idl&gt;[OverrideBuiltins]
-interface &lt;dfn id=htmldocument&gt;HTMLDocument&lt;/dfn&gt; {
+partial interface &lt;a href=#document&gt;Document&lt;/a&gt; {
+  readonly attribute &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#htmldocument title=HTMLDocument&gt;HTMLDocument&lt;/a&gt;;
+
   // &lt;a href=#resource-metadata-management&gt;resource metadata management&lt;/a&gt;
   [PutForwards=&lt;a href=#dom-location-href title=dom-location-href&gt;href&lt;/a&gt;] readonly attribute &lt;a href=#location&gt;Location&lt;/a&gt;? &lt;a href=#dom-document-location title=dom-document-location&gt;location&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-document-url title=dom-document-URL&gt;URL&lt;/a&gt;;
@@ -9268,7 +9252,7 @@
 &lt;!--CSSREF--&gt;  readonly attribute &lt;a href=#domelementmap&gt;DOMElementMap&lt;/a&gt; &lt;a href=#dom-document-csselementmap title=dom-document-cssElementMap&gt;cssElementMap&lt;/a&gt;;&lt;!--CSSREF--&gt;
 
   // &lt;a href=#dynamic-markup-insertion&gt;dynamic markup insertion&lt;/a&gt;
-  &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(optional DOMString type, optional DOMString replace);
+  &lt;a href=#document&gt;Document&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(optional DOMString type, optional DOMString replace);
   &lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt; &lt;a href=#dom-document-open title=dom-document-open&gt;open&lt;/a&gt;(DOMString url, DOMString name, DOMString features, optional boolean replace);
   void &lt;a href=#dom-document-close title=dom-document-close&gt;close&lt;/a&gt;();
   void &lt;a href=#dom-document-write title=dom-document-write&gt;write&lt;/a&gt;(DOMString... text);
@@ -9346,12 +9330,10 @@
 
   // special &lt;a href=#event-handler-idl-attributes&gt;event handler IDL attributes&lt;/a&gt; that only apply to Document objects
   [TreatNonCallableAsNull] attribute &lt;a href=#function&gt;Function&lt;/a&gt;? &lt;a href=#handler-onreadystatechange title=handler-onreadystatechange&gt;onreadystatechange&lt;/a&gt;;
-};
-&lt;a href=#document&gt;Document&lt;/a&gt; implements &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;;&lt;/pre&gt;
+};&lt;/pre&gt;
 
-  &lt;p&gt;Since the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface holds methods and
-  attributes related to a number of disparate features, the members of
-  this interface are described in various different sections.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=htmldocument&gt;&lt;code&gt;HTMLDocument&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  return the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object on which it is called.&lt;/p&gt;
 
 
   &lt;h4 id=security-document&gt;&lt;span class=secno&gt;3.1.2 &lt;/span&gt;Security&lt;/h4&gt;
@@ -9628,8 +9610,9 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#root-element&gt;root element&lt;/a&gt; is an &lt;code&gt;&lt;a href=#svg&gt;svg&lt;/a&gt;&lt;/code&gt;
    element in the &quot;&lt;code title=&quot;&quot;&gt;<A HREF="http://www.w3.org/2000/svg&lt;/code">http://www.w3.org/2000/svg&lt;/code</A>&gt;&quot;
    namespace, and the user agent supports SVG, then the setter must
-   defer to the setter for the IDL attribute of the same name on the
-   &lt;code&gt;SVGDocument&lt;/code&gt; interface. Stop the algorithm here. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/li&gt;
+   act as if it was the setter for the IDL attribute of the same name
+   on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface defined by the SVG
+   specification. Stop the algorithm here. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;a href=#the-title-element-0&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/a&gt; is null and
    &lt;a href=#the-head-element-0&gt;the &lt;code&gt;head&lt;/code&gt; element&lt;/a&gt; is null, then the
@@ -9646,10 +9629,10 @@
    &lt;li&gt;A single &lt;code&gt;&lt;a href=#text&gt;Text&lt;/a&gt;&lt;/code&gt; node whose data is the new value
    being assigned must be appended to &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;code title=dom-document-title&gt;&lt;a href=#document.title&gt;title&lt;/a&gt;&lt;/code&gt; attribute on
-  the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface should shadow the attribute
-  of the same name on the &lt;code&gt;SVGDocument&lt;/code&gt; interface when the
-  user agent supports both HTML and SVG. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;code title=dom-document-title&gt;&lt;a href=#document.title&gt;title&lt;/a&gt;&lt;/code&gt; IDL attribute
+  defined above must replace the attribute of the same name on the
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface defined by the SVG specification
+  when the user agent supports both HTML and SVG. &lt;a href=#refsSVG&gt;[SVG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -9868,7 +9851,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface &lt;span title=&quot;support
+  &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface &lt;span title=&quot;support
   named properties&quot;&gt;supports named properties&lt;/span&gt;. The
   &lt;a href=#supported-property-names&gt;supported property names&lt;/a&gt; at any moment consist of the
   values of the &lt;code title=attr-name&gt;name&lt;/code&gt; content attributes
@@ -9889,7 +9872,7 @@
   elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that have both &lt;code title=attr-name&gt;name&lt;/code&gt; content attributes and &lt;code title=attr-id&gt;&lt;a href=#the-id-attribute&gt;id&lt;/a&gt;&lt;/code&gt; content attributes.&lt;/p&gt;
 
   &lt;p&gt;To &lt;a href=#determine-the-value-of-a-named-property&gt;determine the value of a named property&lt;/a&gt; &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; when &lt;dfn id=dom-document-nameditem title=dom-document-namedItem&gt;the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; object is indexed for property
+  &lt;code&gt;Document&lt;/code&gt; object is indexed for property
   retrieval&lt;/dfn&gt;, the user agent must return the value obtained using
   the following steps:&lt;/p&gt;
 
@@ -9959,7 +9942,7 @@
   &lt;/div&gt;
 
   &lt;hr&gt;&lt;p class=note&gt;The &lt;code title=dom-document-dir&gt;&lt;a href=#dom-document-dir&gt;dir&lt;/a&gt;&lt;/code&gt;
-  attribute on the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface is defined
+  attribute on the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface is defined
   along with the &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; content
   attribute.&lt;/p&gt;
 
@@ -10884,7 +10867,7 @@
   &lt;a href=#limited-to-only-known-values&gt;limited to only known values&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-dir title=dom-document-dir&gt;&lt;code&gt;dir&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must
+  attribute on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-dir&gt;&lt;a href=#the-dir-attribute&gt;dir&lt;/a&gt;&lt;/code&gt; content
   attribute of &lt;a href=#the-html-element-0&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/a&gt;, if any,
   &lt;a href=#limited-to-only-known-values&gt;limited to only known values&lt;/a&gt;. If there is no such
@@ -13066,10 +13049,10 @@
   tasks&lt;/a&gt; or &lt;a href=#completely-loaded&gt;completely loaded&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When called with three or more arguments, the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object must call the &lt;code title=dom-open&gt;&lt;a href=#dom-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object, with the same
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object must call the &lt;code title=dom-open&gt;&lt;a href=#dom-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, with the same
   arguments as the original call to the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method, and return whatever
-  that method returned. If the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object has no
+  that method returned. If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object has no
   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, then the method must throw an
   &lt;code&gt;&lt;a href=#invalidaccesserror&gt;InvalidAccessError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
@@ -54359,7 +54342,7 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-commands title=dom-document-commands&gt;&lt;code&gt;commands&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the document's &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return an
+  of the document's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return an
   &lt;code&gt;&lt;a href=#htmlcollection&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; rooted at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
   node, whose filter matches only elements that &lt;a href=#concept-command title=concept-command&gt;define commands&lt;/a&gt; and have &lt;a href=#command-facet-id title=command-facet-ID&gt;IDs&lt;/a&gt;.&lt;/p&gt;
 
@@ -62595,7 +62578,7 @@
   context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-defaultview title=dom-document-defaultView&gt;&lt;code&gt;defaultView&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return the
+  attribute of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
   &lt;code&gt;&lt;a href=#windowproxy&gt;WindowProxy&lt;/a&gt;&lt;/code&gt; object, if there is one, or null
   otherwise.&lt;/p&gt;
@@ -64365,7 +64348,7 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-location title=dom-document-location&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return the
+  of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; interface must return the
   &lt;code&gt;&lt;a href=#location&gt;Location&lt;/a&gt;&lt;/code&gt; object for that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object,
   if it is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, and null otherwise.&lt;/p&gt;
 
@@ -69625,7 +69608,7 @@
   &lt;/table&gt;&lt;p class=note&gt;The &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt;
   handler is also used for &lt;a href=#runtime-script-errors&gt;reporting script errors&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;!-- this guy is only on HTMLDocument and not on HTMLElement because
+  &lt;hr&gt;&lt;!-- this guy is only on Document and not on HTMLElement because
   otherwise HTMLScriptElement would have it and that causes
   compatibility issues since IE fires readystatechange events on
   &lt;script&gt;, not load events, and we can't fire both, and some sites
@@ -72012,13 +71995,13 @@
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
-  attribute on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must return the
+  attribute on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the
   element in the document that is focused. If no element in the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is focused, this must return &lt;a href=#the-body-element-0&gt;the body
   element&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method
-  on &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects must return true if the
+  on &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true if the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is focused,
   and all its &lt;a href=#ancestor-browsing-context title=&quot;ancestor browsing context&quot;&gt;ancestor
   browsing contexts&lt;/a&gt; are also focused, and the &lt;a href=#top-level-browsing-context&gt;top-level
@@ -97466,7 +97449,7 @@
   spec, albeit as obsolete, and then we say that only elements not
   defined in this spec use HTMLUnknownElement. --&gt;
 
-  &lt;hr&gt;&lt;pre class=idl&gt;partial interface &lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt; {
+  &lt;hr&gt;&lt;pre class=idl&gt;partial interface &lt;a href=#document&gt;Document&lt;/a&gt; {
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-fgcolor title=dom-document-fgColor&gt;fgColor&lt;/a&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-linkcolor title=dom-document-linkColor&gt;linkColor&lt;/a&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;a href=#dom-document-vlinkcolor title=dom-document-vlinkColor&gt;vlinkColor&lt;/a&gt;;
@@ -102645,8 +102628,8 @@
         library.onload = function() {
           var sound1 = library.getAudio(&quot;sound1.wav&quot;); // returns an Audio object
           var image1 = library.getImage(&quot;image1.png&quot;); // returns an HTMLImageElement
-          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document
-          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns an HTMLDocument
+          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document (XML Document mode)
+          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns a Document (HTML Document mode)
         }
        or:
         var library = new ResourceLoader(&quot;data.zip&quot;);

Modified: source
===================================================================
--- source	2011-10-20 22:13:42 UTC (rev 6717)
+++ source	2011-10-20 23:01:03 UTC (rev 6718)
@@ -931,7 +931,7 @@
   &lt;pre&gt;&lt;&lt;span&gt;form&lt;/span&gt; &lt;span title=&quot;attr-form-name&quot;&gt;name&lt;/span&gt;=&quot;main&quot;&gt;
  Result: &lt;&lt;span&gt;output&lt;/span&gt; &lt;span title=&quot;attr-fe-name&quot;&gt;name&lt;/span&gt;=&quot;result&quot;&gt;&lt;/output&gt;
  &lt;&lt;span&gt;script&lt;/span&gt;&gt;
-  &lt;span title=&quot;HTMLDocument&quot;&gt;document&lt;/span&gt;.&lt;span title=&quot;dom-document-forms&quot;&gt;forms&lt;/span&gt;.main.&lt;span title=&quot;dom-form-elements&quot;&gt;elements&lt;/span&gt;.result.&lt;span title=&quot;dom-output-value&quot;&gt;value&lt;/span&gt; = 'Hello World';
+  &lt;span title=&quot;Document&quot;&gt;document&lt;/span&gt;.&lt;span title=&quot;dom-document-forms&quot;&gt;forms&lt;/span&gt;.main.&lt;span title=&quot;dom-form-elements&quot;&gt;elements&lt;/span&gt;.result.&lt;span title=&quot;dom-output-value&quot;&gt;value&lt;/span&gt; = 'Hello World';
  &lt;/script&gt;
 &lt;/form&gt;&lt;/pre&gt;
 
@@ -941,7 +941,7 @@
   can have its &quot;&lt;code title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt;&quot;
   attribute changed in several ways:&lt;/p&gt;
 
-  &lt;pre&gt;var a = &lt;span title=&quot;HTMLDocument&quot;&gt;document&lt;/span&gt;.&lt;span title=&quot;dom-document-links&quot;&gt;links&lt;/span&gt;[0]; // obtain the first link in the document
+  &lt;pre&gt;var a = &lt;span title=&quot;Document&quot;&gt;document&lt;/span&gt;.&lt;span title=&quot;dom-document-links&quot;&gt;links&lt;/span&gt;[0]; // obtain the first link in the document
 a.&lt;span title=&quot;dom-a-href&quot;&gt;href&lt;/span&gt; = 'sample.html'; // change the destination URL of the link
 a.&lt;span title=&quot;dom-uda-protocol&quot;&gt;protocol&lt;/span&gt; = 'https'; // change just the scheme part of the URL
 a.setAttribute('href', '<A HREF="http://example.com/">http://example.com/</A>'); // change the content attribute directly&lt;/pre&gt;
@@ -9249,27 +9249,10 @@
 
   &lt;h4&gt;Documents in the DOM&lt;/h4&gt;
 
-  &lt;p&gt;All &lt;code&gt;Document&lt;/code&gt; objects (in user agents implementing
-  this specification) &lt;span class=&quot;impl&quot;&gt;must&lt;/span&gt; also implement
-  the &lt;code&gt;HTMLDocument&lt;/code&gt; interface, available using
-  binding-specific methods. (This is the case whether or not the
-  document in question is an &lt;span title=&quot;HTML documents&quot;&gt;HTML
-  document&lt;/span&gt; or indeed whether it contains any &lt;span&gt;HTML
-  elements&lt;/span&gt; at all.) &lt;code&gt;Document&lt;/code&gt; objects &lt;span
-  class=&quot;impl&quot;&gt;must&lt;/span&gt; also implement the document-level interface
-  of any other namespaces that the UA supports.&lt;/p&gt;
-
-  &lt;p class=&quot;example&quot;&gt;For example, if an HTML implementation also
-  supports SVG, then the &lt;code&gt;Document&lt;/code&gt; object implements both
-  &lt;code&gt;HTMLDocument&lt;/code&gt; and &lt;code&gt;SVGDocument&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;Because the &lt;code&gt;HTMLDocument&lt;/code&gt; interface is
-  now obtained using binding-specific casting methods instead of
-  simply being the primary interface of the document object, it is no
-  longer defined as inheriting from &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
-
   &lt;pre class=&quot;idl&quot;&gt;[OverrideBuiltins]
-interface &lt;dfn&gt;HTMLDocument&lt;/dfn&gt; {
+partial interface &lt;span&gt;Document&lt;/span&gt; {
+  readonly attribute &lt;code&gt;Document&lt;/code&gt; &lt;span title=&quot;HTMLDocument&quot;&gt;HTMLDocument&lt;/span&gt;;
+
   // &lt;span&gt;resource metadata management&lt;/span&gt;
   [PutForwards=&lt;span title=&quot;dom-location-href&quot;&gt;href&lt;/span&gt;] readonly attribute &lt;span&gt;Location&lt;/span&gt;? &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-document-URL&quot;&gt;URL&lt;/span&gt;;
@@ -9296,7 +9279,7 @@
 &lt;!--END w3c-html--&gt;&lt;!--CSSREF--&gt;  readonly attribute &lt;span&gt;DOMElementMap&lt;/span&gt; &lt;span title=&quot;dom-document-cssElementMap&quot;&gt;cssElementMap&lt;/span&gt;;&lt;!--START w3c-html--&gt;&lt;!--CSSREF--&gt;
 
   // &lt;span&gt;dynamic markup insertion&lt;/span&gt;
-  &lt;span&gt;HTMLDocument&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(optional DOMString type, optional DOMString replace);
+  &lt;span&gt;Document&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(optional DOMString type, optional DOMString replace);
   &lt;span&gt;WindowProxy&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(DOMString url, DOMString name, DOMString features, optional boolean replace);
   void &lt;span title=&quot;dom-document-close&quot;&gt;close&lt;/span&gt;();
   void &lt;span title=&quot;dom-document-write&quot;&gt;write&lt;/span&gt;(DOMString... text);
@@ -9374,12 +9357,10 @@
 
   // special &lt;span&gt;event handler IDL attributes&lt;/span&gt; that only apply to Document objects
   [TreatNonCallableAsNull] attribute &lt;span&gt;Function&lt;/span&gt;? &lt;span title=&quot;handler-onreadystatechange&quot;&gt;onreadystatechange&lt;/span&gt;;
-};
-&lt;span&gt;Document&lt;/span&gt; implements &lt;span&gt;HTMLDocument&lt;/span&gt;;&lt;/pre&gt;
+};&lt;/pre&gt;
 
-  &lt;p&gt;Since the &lt;code&gt;HTMLDocument&lt;/code&gt; interface holds methods and
-  attributes related to a number of disparate features, the members of
-  this interface are described in various different sections.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;HTMLDocument&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  return the &lt;code&gt;Document&lt;/code&gt; object on which it is called.&lt;/p&gt;
 
 
   &lt;h4 id=&quot;security-document&quot;&gt;Security&lt;/h4&gt;
@@ -9725,8 +9706,9 @@
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;root element&lt;/span&gt; is an &lt;code&gt;svg&lt;/code&gt;
    element in the &quot;&lt;code title=&quot;&quot;&gt;<A HREF="http://www.w3.org/2000/svg&lt;/code">http://www.w3.org/2000/svg&lt;/code</A>&gt;&quot;
    namespace, and the user agent supports SVG, then the setter must
-   defer to the setter for the IDL attribute of the same name on the
-   &lt;code&gt;SVGDocument&lt;/code&gt; interface. Stop the algorithm here. &lt;a
+   act as if it was the setter for the IDL attribute of the same name
+   on the &lt;code&gt;Document&lt;/code&gt; interface defined by the SVG
+   specification. Stop the algorithm here. &lt;a
    href=&quot;#refsSVG&quot;&gt;[SVG]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;span&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/span&gt; is null and
@@ -9749,10 +9731,10 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;dom-document-title&quot;&gt;title&lt;/code&gt; attribute on
-  the &lt;code&gt;HTMLDocument&lt;/code&gt; interface should shadow the attribute
-  of the same name on the &lt;code&gt;SVGDocument&lt;/code&gt; interface when the
-  user agent supports both HTML and SVG. &lt;a
+  &lt;p&gt;The &lt;code title=&quot;dom-document-title&quot;&gt;title&lt;/code&gt; IDL attribute
+  defined above must replace the attribute of the same name on the
+  &lt;code&gt;Document&lt;/code&gt; interface defined by the SVG specification
+  when the user agent supports both HTML and SVG. &lt;a
   href=&quot;#refsSVG&quot;&gt;[SVG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
@@ -10024,7 +10006,7 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;code&gt;HTMLDocument&lt;/code&gt; interface &lt;span title=&quot;support
+  &lt;p&gt;The &lt;code&gt;Document&lt;/code&gt; interface &lt;span title=&quot;support
   named properties&quot;&gt;supports named properties&lt;/span&gt;. The
   &lt;span&gt;supported property names&lt;/span&gt; at any moment consist of the
   values of the &lt;code title=&quot;attr-name&quot;&gt;name&lt;/code&gt; content attributes
@@ -10050,7 +10032,7 @@
 
   &lt;p&gt;To &lt;span&gt;determine the value of a named property&lt;/span&gt; &lt;var
   title=&quot;&quot;&gt;name&lt;/var&gt; when &lt;dfn title=&quot;dom-document-namedItem&quot;&gt;the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; object is indexed for property
+  &lt;code&gt;Document&lt;/code&gt; object is indexed for property
   retrieval&lt;/dfn&gt;, the user agent must return the value obtained using
   the following steps:&lt;/p&gt;
 
@@ -10137,7 +10119,7 @@
   &lt;hr&gt;
 
   &lt;p class=&quot;note&quot;&gt;The &lt;code title=&quot;dom-document-dir&quot;&gt;dir&lt;/code&gt;
-  attribute on the &lt;code&gt;HTMLDocument&lt;/code&gt; interface is defined
+  attribute on the &lt;code&gt;Document&lt;/code&gt; interface is defined
   along with the &lt;code title=&quot;attr-dir&quot;&gt;dir&lt;/code&gt; content
   attribute.&lt;/p&gt;
 
@@ -11175,7 +11157,7 @@
   &lt;span&gt;limited to only known values&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-document-dir&quot;&gt;&lt;code&gt;dir&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute on &lt;code&gt;HTMLDocument&lt;/code&gt; objects must
+  attribute on &lt;code&gt;Document&lt;/code&gt; objects must
   &lt;span&gt;reflect&lt;/span&gt; the &lt;code title=&quot;attr-dir&quot;&gt;dir&lt;/code&gt; content
   attribute of &lt;span&gt;the &lt;code&gt;html&lt;/code&gt; element&lt;/span&gt;, if any,
   &lt;span&gt;limited to only known values&lt;/span&gt;. If there is no such
@@ -13647,12 +13629,12 @@
 
   &lt;p&gt;When called with three or more arguments, the &lt;code
   title=&quot;dom-document-open&quot;&gt;open()&lt;/code&gt; method on the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; object must call the &lt;code
+  &lt;code&gt;Document&lt;/code&gt; object must call the &lt;code
   title=&quot;dom-open&quot;&gt;open()&lt;/code&gt; method on the &lt;code&gt;Window&lt;/code&gt;
-  object of the &lt;code&gt;HTMLDocument&lt;/code&gt; object, with the same
+  object of the &lt;code&gt;Document&lt;/code&gt; object, with the same
   arguments as the original call to the &lt;code
   title=&quot;dom-document-open&quot;&gt;open()&lt;/code&gt; method, and return whatever
-  that method returned. If the &lt;code&gt;HTMLDocument&lt;/code&gt; object has no
+  that method returned. If the &lt;code&gt;Document&lt;/code&gt; object has no
   &lt;code&gt;Window&lt;/code&gt; object, then the method must throw an
   &lt;code&gt;InvalidAccessError&lt;/code&gt; exception.&lt;/p&gt;
 
@@ -61210,7 +61192,7 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-commands&quot;&gt;&lt;code&gt;commands&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the document's &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return an
+  of the document's &lt;code&gt;Document&lt;/code&gt; interface must return an
   &lt;code&gt;HTMLCollection&lt;/code&gt; rooted at the &lt;code&gt;Document&lt;/code&gt;
   node, whose filter matches only elements that &lt;span
   title=&quot;concept-command&quot;&gt;define commands&lt;/span&gt; and have &lt;span
@@ -65795,7 +65777,7 @@
   &lt;h3&gt;Microdata DOM API&lt;/h3&gt;
 
 &lt;!--END html--&gt;&lt;!--END dev-html--&gt;&lt;!--END complete--&gt;&lt;!--END epub--&gt;&lt;!--MD--&gt;
-  &lt;pre class=&quot;idl&quot;&gt;partial interface &lt;span&gt;HTMLDocument&lt;/span&gt; { &lt;!--WARNING: ALSO DUPLICATED IN HTMLDocument SECTION--&gt;
+  &lt;pre class=&quot;idl&quot;&gt;partial interface &lt;span&gt;Document&lt;/span&gt; { &lt;!--WARNING: ALSO DUPLICATED IN Document SECTION--&gt;
   NodeList &lt;span title=&quot;dom-document-getItems&quot;&gt;getItems&lt;/span&gt;(optional DOMString typeNames); // &lt;span&gt;microdata&lt;/span&gt;
 };
 
@@ -71055,7 +71037,7 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-defaultView&quot;&gt;&lt;code&gt;defaultView&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute of the &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return the
+  attribute of the &lt;code&gt;Document&lt;/code&gt; interface must return the
   &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt;'s
   &lt;code&gt;WindowProxy&lt;/code&gt; object, if there is one, or null
   otherwise.&lt;/p&gt;
@@ -73079,7 +73061,7 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-location&quot;&gt;&lt;code&gt;location&lt;/code&gt;&lt;/dfn&gt; attribute
-  of the &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return the
+  of the &lt;code&gt;Document&lt;/code&gt; interface must return the
   &lt;code&gt;Location&lt;/code&gt; object for that &lt;code&gt;Document&lt;/code&gt; object,
   if it is in a &lt;span&gt;browsing context&lt;/span&gt;, and null otherwise.&lt;/p&gt;
 
@@ -79207,7 +79189,7 @@
 
   &lt;hr&gt;
 
-  &lt;!-- this guy is only on HTMLDocument and not on HTMLElement because
+  &lt;!-- this guy is only on Document and not on HTMLElement because
   otherwise HTMLScriptElement would have it and that causes
   compatibility issues since IE fires readystatechange events on
   &lt;script&gt;, not load events, and we can't fire both, and some sites
@@ -81969,14 +81951,14 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-activeElement&quot;&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
-  attribute on &lt;code&gt;HTMLDocument&lt;/code&gt; objects must return the
+  attribute on &lt;code&gt;Document&lt;/code&gt; objects must return the
   element in the document that is focused. If no element in the
   &lt;code&gt;Document&lt;/code&gt; is focused, this must return &lt;span&gt;the body
   element&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-hasFocus&quot;&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method
-  on &lt;code&gt;HTMLDocument&lt;/code&gt; objects must return true if the
+  on &lt;code&gt;Document&lt;/code&gt; objects must return true if the
   &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt; is focused,
   and all its &lt;span title=&quot;ancestor browsing context&quot;&gt;ancestor
   browsing contexts&lt;/span&gt; are also focused, and the &lt;span&gt;top-level
@@ -110619,7 +110601,7 @@
 
   &lt;hr&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;partial interface &lt;span&gt;HTMLDocument&lt;/span&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;partial interface &lt;span&gt;Document&lt;/span&gt; {
   [TreatNullAs=EmptyString] attribute DOMString &lt;span title=&quot;dom-document-fgColor&quot;&gt;fgColor&lt;/span&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;span title=&quot;dom-document-linkColor&quot;&gt;linkColor&lt;/span&gt;;
   [TreatNullAs=EmptyString] attribute DOMString &lt;span title=&quot;dom-document-vlinkColor&quot;&gt;vlinkColor&lt;/span&gt;;
@@ -116970,8 +116952,8 @@
         library.onload = function() {
           var sound1 = library.getAudio(&quot;sound1.wav&quot;); // returns an Audio object
           var image1 = library.getImage(&quot;image1.png&quot;); // returns an HTMLImageElement
-          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document
-          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns an HTMLDocument
+          var doc1 = library.getXMLDocument(&quot;doc1.xml&quot;); // returns a Document (XML Document mode)
+          var doc2 = library.getHTMLDocument(&quot;doc1.html&quot;); // returns a Document (HTML Document mode)
         }
        or:
         var library = new ResourceLoader(&quot;data.zip&quot;);


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013583.html">[html5] r6717 - [giowt] (0) Simplification in the microsyntax	parsing rules, which makes non-neg [...]
</A></li>
	<LI>Next message: <A HREF="013585.html">[html5] r6719 - [giow] (1) Move XMLDocumentLoader.load to	XMLDocument. Fixing http://www.w3.org/ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13584">[ date ]</a>
              <a href="thread.html#13584">[ thread ]</a>
              <a href="subject.html#13584">[ subject ]</a>
              <a href="author.html#13584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
