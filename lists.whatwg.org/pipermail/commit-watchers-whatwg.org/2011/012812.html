<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5945 - [giow] (0) Completely revamp how peer-to-peer	networking works (and some minor t [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5945%20-%20%5Bgiow%5D%20%280%29%20Completely%20revamp%20how%20peer-to-peer%0A%09networking%20works%20%28and%20some%20minor%20t%20%5B...%5D&In-Reply-To=%3C20110314101951.6D6A82C7C002%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012811.html">
   <LINK REL="Next"  HREF="012813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5945 - [giow] (0) Completely revamp how peer-to-peer	networking works (and some minor t [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5945%20-%20%5Bgiow%5D%20%280%29%20Completely%20revamp%20how%20peer-to-peer%0A%09networking%20works%20%28and%20some%20minor%20t%20%5B...%5D&In-Reply-To=%3C20110314101951.6D6A82C7C002%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5945 - [giow] (0) Completely revamp how peer-to-peer	networking works (and some minor t [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Mar 14 03:19:50 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012811.html">[html5] r5944 - [e] (0) alphabetic ordering seems the order of the	day here Fixing http://www.w3 [...]
</A></li>
        <LI>Next message: <A HREF="012813.html">[html5] r5946 - [giow] (0) Fix some minor mistakes and change the	way the data UDP media stream [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12812">[ date ]</a>
              <a href="thread.html#12812">[ thread ]</a>
              <a href="subject.html#12812">[ subject ]</a>
              <a href="author.html#12812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-03-14 03:19:45 -0700 (Mon, 14 Mar 2011)
New Revision: 5945

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Completely revamp how peer-to-peer networking works (and some minor typo fixes in other parts of the spec). This is only a second draft, and therefore this feature will likely evolve a lot over the coming months. Detailed responses to feedback on the topic will be sent out soon.

Modified: complete.html
===================================================================
--- complete.html	2011-03-05 00:12:36 UTC (rev 5944)
+++ complete.html	2011-03-14 10:19:45 UTC (rev 5945)
@@ -239,7 +239,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Web Applications 1.0&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 5 March 2011&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 14 March 2011&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -770,11 +770,7 @@
   a command&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-on-a-label-element-to-define-a-command&gt;&lt;span class=secno&gt;4.11.5.6 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute on a &lt;code&gt;label&lt;/code&gt; element to define a command&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-on-a-legend-element-to-define-a-command&gt;&lt;span class=secno&gt;4.11.5.7 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute on a &lt;code&gt;legend&lt;/code&gt; element to define a command&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-to-define-a-command-on-other-elements&gt;&lt;span class=secno&gt;4.11.5.8 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute to define a command on other elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#devices&gt;&lt;span class=secno&gt;4.11.6 &lt;/span&gt;The &lt;code&gt;device&lt;/code&gt; element&lt;/a&gt;
-      &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#stream-api&gt;&lt;span class=secno&gt;4.11.6.1 &lt;/span&gt;Stream API&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#peer-to-peer-connections&gt;&lt;span class=secno&gt;4.11.6.2 &lt;/span&gt;Peer-to-peer connections&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-to-define-a-command-on-other-elements&gt;&lt;span class=secno&gt;4.11.5.8 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute to define a command on other elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#links&gt;&lt;span class=secno&gt;4.12 &lt;/span&gt;Links&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-2&gt;&lt;span class=secno&gt;4.12.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -1006,340 +1002,350 @@
      &lt;li&gt;&lt;a href=#the-undomanagerevent-interface-and-the-undo-and-redo-events&gt;&lt;span class=secno&gt;8.8.5 &lt;/span&gt;The &lt;code&gt;UndoManagerEvent&lt;/code&gt; interface and the &lt;code title=event-undo&gt;undo&lt;/code&gt; and &lt;code title=event-redo&gt;redo&lt;/code&gt; events&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#implementation-notes&gt;&lt;span class=secno&gt;8.8.6 &lt;/span&gt;Implementation notes&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#workers&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Web workers&lt;/a&gt;
+ &lt;li&gt;&lt;a href=#video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#scope-0&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Scope&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#tutorial&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Tutorial&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#obtaining-local-multimedia-content&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Obtaining local multimedia content&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#stream-api&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Stream API&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#peer-to-peer-connections&gt;&lt;span class=secno&gt;9.1.3 &lt;/span&gt;Peer-to-peer connections&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-data-stream&gt;&lt;span class=secno&gt;9.1.4 &lt;/span&gt;The data stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;9.1.5 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-summary&gt;&lt;span class=secno&gt;9.1.6 &lt;/span&gt;Event Summary&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#workers&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Web workers&lt;/a&gt;
+  &lt;ol&gt;
+   &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/a&gt;
+    &lt;ol&gt;
+     &lt;li&gt;&lt;a href=#scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#tutorial&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Tutorial&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#a-background-number-crunching-worker&gt;&lt;span class=secno&gt;9.1.2.1 &lt;/span&gt;A background number-crunching worker&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#a-worker-for-updating-a-client-side-database&gt;&lt;span class=secno&gt;9.1.2.2 &lt;/span&gt;A worker for updating a client-side database&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#worker-used-for-background-i/o&gt;&lt;span class=secno&gt;9.1.2.3 &lt;/span&gt;Worker used for background I/O&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#shared-workers-introduction&gt;&lt;span class=secno&gt;9.1.2.4 &lt;/span&gt;Shared workers introduction&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#shared-state-using-a-shared-worker&gt;&lt;span class=secno&gt;9.1.2.5 &lt;/span&gt;Shared state using a shared worker&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#delegation&gt;&lt;span class=secno&gt;9.1.2.6 &lt;/span&gt;Delegation&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#infrastructure-0&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;Infrastructure&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#a-background-number-crunching-worker&gt;&lt;span class=secno&gt;10.1.2.1 &lt;/span&gt;A background number-crunching worker&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#a-worker-for-updating-a-client-side-database&gt;&lt;span class=secno&gt;10.1.2.2 &lt;/span&gt;A worker for updating a client-side database&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#worker-used-for-background-i/o&gt;&lt;span class=secno&gt;10.1.2.3 &lt;/span&gt;Worker used for background I/O&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#shared-workers-introduction&gt;&lt;span class=secno&gt;10.1.2.4 &lt;/span&gt;Shared workers introduction&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#shared-state-using-a-shared-worker&gt;&lt;span class=secno&gt;10.1.2.5 &lt;/span&gt;Shared state using a shared worker&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#delegation&gt;&lt;span class=secno&gt;10.1.2.6 &lt;/span&gt;Delegation&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#infrastructure-0&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Infrastructure&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-global-scope&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;The global scope&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-global-scope&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;The global scope&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-workerglobalscope-abstract-interface&gt;&lt;span class=secno&gt;9.2.1.1 &lt;/span&gt;The &lt;code&gt;WorkerGlobalScope&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-dedicatedworkerglobalscope-interface&gt;&lt;span class=secno&gt;9.2.1.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;9.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#origins-of-workers&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;Origins of workers&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-event-loop&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-4&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Creating workers&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#the-workerglobalscope-abstract-interface&gt;&lt;span class=secno&gt;10.2.1.1 &lt;/span&gt;The &lt;code&gt;WorkerGlobalScope&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-dedicatedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#origins-of-workers&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;Origins of workers&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-event-loop&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-4&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Creating workers&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.7.1 &lt;/span&gt;The &lt;code&gt;AbstractWorker&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;Worker&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorker&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#apis-available-to-workers&gt;&lt;span class=secno&gt;9.3 &lt;/span&gt;APIs available to workers&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;10.2.7.1 &lt;/span&gt;The &lt;code&gt;AbstractWorker&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;10.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;Worker&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;10.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorker&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#apis-available-to-workers&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;APIs available to workers&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#importing-scripts-and-libraries&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-workernavigator-object&gt;&lt;span class=secno&gt;9.3.2 &lt;/span&gt;The &lt;code&gt;WorkerNavigator&lt;/code&gt; object&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#interface-objects-and-constructors&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Interface objects and constructors&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#worker-locations&gt;&lt;span class=secno&gt;9.3.4 &lt;/span&gt;Worker locations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Communication&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#importing-scripts-and-libraries&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-workernavigator-object&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;The &lt;code&gt;WorkerNavigator&lt;/code&gt; object&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#interface-objects-and-constructors&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Interface objects and constructors&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#worker-locations&gt;&lt;span class=secno&gt;10.3.4 &lt;/span&gt;Worker locations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Communication&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#server-sent-events&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Server-sent events&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#server-sent-events&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;Server-sent events&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-eventsource-interface&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#notes&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Notes&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#eventsource-push&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Connectionless push and other features&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#garbage-collection-0&gt;&lt;span class=secno&gt;10.2.8 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#iana-considerations&gt;&lt;span class=secno&gt;10.2.9 &lt;/span&gt;IANA considerations&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-eventsource-interface&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#notes&gt;&lt;span class=secno&gt;11.2.6 &lt;/span&gt;Notes&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#eventsource-push&gt;&lt;span class=secno&gt;11.2.7 &lt;/span&gt;Connectionless push and other features&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#garbage-collection-0&gt;&lt;span class=secno&gt;11.2.8 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#iana-considerations&gt;&lt;span class=secno&gt;11.2.9 &lt;/span&gt;IANA considerations&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#text/event-stream&gt;&lt;span class=secno&gt;10.2.9.1 &lt;/span&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#last-event-id&gt;&lt;span class=secno&gt;10.2.9.2 &lt;/span&gt;&lt;code&gt;Last-Event-ID&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#network&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;Web sockets&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#text/event-stream&gt;&lt;span class=secno&gt;11.2.9.1 &lt;/span&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#last-event-id&gt;&lt;span class=secno&gt;11.2.9.2 &lt;/span&gt;&lt;code&gt;Last-Event-ID&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#network&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Web sockets&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#network-intro&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-websocket-interface&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;The &lt;code&gt;WebSocket&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#feedback-from-the-protocol&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Feedback from the protocol&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#network-intro&gt;&lt;span class=secno&gt;11.3.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-websocket-interface&gt;&lt;span class=secno&gt;11.3.2 &lt;/span&gt;The &lt;code&gt;WebSocket&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#feedback-from-the-protocol&gt;&lt;span class=secno&gt;11.3.3 &lt;/span&gt;Feedback from the protocol&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;10.3.3.2 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;10.4 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#event-definitions-2&gt;&lt;span class=secno&gt;11.3.3.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;11.3.3.2 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;10.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;10.4.2 &lt;/span&gt;Security&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;11.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;11.4.2 &lt;/span&gt;Security&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;10.4.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#user-agents&gt;&lt;span class=secno&gt;10.4.2.2 &lt;/span&gt;User agents&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;10.4.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;10.5 &lt;/span&gt;Channel messaging&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;11.4.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#user-agents&gt;&lt;span class=secno&gt;11.4.2.2 &lt;/span&gt;User agents&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;11.4.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Channel messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;10.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#message-channels&gt;&lt;span class=secno&gt;10.5.2 &lt;/span&gt;Message channels&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#message-ports&gt;&lt;span class=secno&gt;10.5.3 &lt;/span&gt;Message ports&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;11.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#message-channels&gt;&lt;span class=secno&gt;11.5.2 &lt;/span&gt;Message channels&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#message-ports&gt;&lt;span class=secno&gt;11.5.3 &lt;/span&gt;Message ports&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#ports-and-garbage-collection&gt;&lt;span class=secno&gt;10.5.3.1 &lt;/span&gt;Ports and garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#webstorage&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Web storage&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#ports-and-garbage-collection&gt;&lt;span class=secno&gt;11.5.3.1 &lt;/span&gt;Ports and garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#webstorage&gt;&lt;span class=secno&gt;12 &lt;/span&gt;Web storage&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#storage&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;The API&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#storage&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;The API&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-storage-interface&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;The &lt;code&gt;Storage&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-sessionstorage-attribute&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The &lt;code title=dom-sessionStorage&gt;sessionStorage&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-localstorage-attribute&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;The &lt;code title=dom-localStorage&gt;localStorage&lt;/code&gt; attribute&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-storage-interface&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;The &lt;code&gt;Storage&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-sessionstorage-attribute&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;The &lt;code title=dom-sessionStorage&gt;sessionStorage&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-localstorage-attribute&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;The &lt;code title=dom-localStorage&gt;localStorage&lt;/code&gt; attribute&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#security-localStorage&gt;&lt;span class=secno&gt;11.2.3.1 &lt;/span&gt;Security&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-storage-event&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;The &lt;code title=event-storage&gt;storage&lt;/code&gt; event&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#security-localStorage&gt;&lt;span class=secno&gt;12.2.3.1 &lt;/span&gt;Security&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-storage-event&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;The &lt;code title=event-storage&gt;storage&lt;/code&gt; event&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#event-definition-0&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;Event definition&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#threads&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;Threads&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#disk-space-0&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Disk space&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#privacy&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Privacy&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#event-definition-0&gt;&lt;span class=secno&gt;12.2.4.1 &lt;/span&gt;Event definition&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#threads&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;Threads&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#disk-space-0&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Disk space&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#privacy&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Privacy&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#user-tracking&gt;&lt;span class=secno&gt;11.4.1 &lt;/span&gt;User tracking&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#sensitivity-of-data&gt;&lt;span class=secno&gt;11.4.2 &lt;/span&gt;Sensitivity of data&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#security-storage&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Security&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#user-tracking&gt;&lt;span class=secno&gt;12.4.1 &lt;/span&gt;User tracking&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#sensitivity-of-data&gt;&lt;span class=secno&gt;12.4.2 &lt;/span&gt;Sensitivity of data&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#security-storage&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;Security&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#dns-spoofing-attacks&gt;&lt;span class=secno&gt;11.5.1 &lt;/span&gt;DNS spoofing attacks&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#cross-directory-attacks&gt;&lt;span class=secno&gt;11.5.2 &lt;/span&gt;Cross-directory attacks&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#implementation-risks&gt;&lt;span class=secno&gt;11.5.3 &lt;/span&gt;Implementation risks&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#syntax&gt;&lt;span class=secno&gt;12 &lt;/span&gt;The HTML syntax&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#dns-spoofing-attacks&gt;&lt;span class=secno&gt;12.5.1 &lt;/span&gt;DNS spoofing attacks&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#cross-directory-attacks&gt;&lt;span class=secno&gt;12.5.2 &lt;/span&gt;Cross-directory attacks&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#implementation-risks&gt;&lt;span class=secno&gt;12.5.3 &lt;/span&gt;Implementation risks&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#syntax&gt;&lt;span class=secno&gt;13 &lt;/span&gt;The HTML syntax&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#writing&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Writing HTML documents&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#writing&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Writing HTML documents&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-doctype&gt;&lt;span class=secno&gt;12.1.1 &lt;/span&gt;The DOCTYPE&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#elements-0&gt;&lt;span class=secno&gt;12.1.2 &lt;/span&gt;Elements&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-doctype&gt;&lt;span class=secno&gt;13.1.1 &lt;/span&gt;The DOCTYPE&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#elements-0&gt;&lt;span class=secno&gt;13.1.2 &lt;/span&gt;Elements&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#start-tags&gt;&lt;span class=secno&gt;12.1.2.1 &lt;/span&gt;Start tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#end-tags&gt;&lt;span class=secno&gt;12.1.2.2 &lt;/span&gt;End tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attributes-0&gt;&lt;span class=secno&gt;12.1.2.3 &lt;/span&gt;Attributes&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#optional-tags&gt;&lt;span class=secno&gt;12.1.2.4 &lt;/span&gt;Optional tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#element-restrictions&gt;&lt;span class=secno&gt;12.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;12.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#text-1&gt;&lt;span class=secno&gt;12.1.3 &lt;/span&gt;Text&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#start-tags&gt;&lt;span class=secno&gt;13.1.2.1 &lt;/span&gt;Start tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#end-tags&gt;&lt;span class=secno&gt;13.1.2.2 &lt;/span&gt;End tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attributes-0&gt;&lt;span class=secno&gt;13.1.2.3 &lt;/span&gt;Attributes&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#optional-tags&gt;&lt;span class=secno&gt;13.1.2.4 &lt;/span&gt;Optional tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#element-restrictions&gt;&lt;span class=secno&gt;13.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;13.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#text-1&gt;&lt;span class=secno&gt;13.1.3 &lt;/span&gt;Text&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#newlines&gt;&lt;span class=secno&gt;12.1.3.1 &lt;/span&gt;Newlines&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#character-references&gt;&lt;span class=secno&gt;12.1.4 &lt;/span&gt;Character references&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#cdata-sections&gt;&lt;span class=secno&gt;12.1.5 &lt;/span&gt;CDATA sections&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#comments&gt;&lt;span class=secno&gt;12.1.6 &lt;/span&gt;Comments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing HTML documents&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#newlines&gt;&lt;span class=secno&gt;13.1.3.1 &lt;/span&gt;Newlines&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#character-references&gt;&lt;span class=secno&gt;13.1.4 &lt;/span&gt;Character references&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#cdata-sections&gt;&lt;span class=secno&gt;13.1.5 &lt;/span&gt;CDATA sections&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#comments&gt;&lt;span class=secno&gt;13.1.6 &lt;/span&gt;Comments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Parsing HTML documents&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#overview-of-the-parsing-model&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;Overview of the parsing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-stream&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;The input stream&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#overview-of-the-parsing-model&gt;&lt;span class=secno&gt;13.2.1 &lt;/span&gt;Overview of the parsing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-stream&gt;&lt;span class=secno&gt;13.2.2 &lt;/span&gt;The input stream&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#determining-the-character-encoding&gt;&lt;span class=secno&gt;12.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;12.2.2.2 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;12.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;12.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#parse-state&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;Parse state&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#determining-the-character-encoding&gt;&lt;span class=secno&gt;13.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;13.2.2.2 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;13.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;13.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#parse-state&gt;&lt;span class=secno&gt;13.2.3 &lt;/span&gt;Parse state&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-insertion-mode&gt;&lt;span class=secno&gt;12.2.3.1 &lt;/span&gt;The insertion mode&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-stack-of-open-elements&gt;&lt;span class=secno&gt;12.2.3.2 &lt;/span&gt;The stack of open elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;12.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-element-pointers&gt;&lt;span class=secno&gt;12.2.3.4 &lt;/span&gt;The element pointers&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#other-parsing-state-flags&gt;&lt;span class=secno&gt;12.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#tokenization&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;Tokenization&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#the-insertion-mode&gt;&lt;span class=secno&gt;13.2.3.1 &lt;/span&gt;The insertion mode&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-stack-of-open-elements&gt;&lt;span class=secno&gt;13.2.3.2 &lt;/span&gt;The stack of open elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;13.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-element-pointers&gt;&lt;span class=secno&gt;13.2.3.4 &lt;/span&gt;The element pointers&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#other-parsing-state-flags&gt;&lt;span class=secno&gt;13.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#tokenization&gt;&lt;span class=secno&gt;13.2.4 &lt;/span&gt;Tokenization&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#data-state&gt;&lt;span class=secno&gt;12.2.4.1 &lt;/span&gt;Data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-data-state&gt;&lt;span class=secno&gt;12.2.4.2 &lt;/span&gt;Character reference in data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-state&gt;&lt;span class=secno&gt;12.2.4.3 &lt;/span&gt;RCDATA state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;12.2.4.4 &lt;/span&gt;Character reference in RCDATA state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-state&gt;&lt;span class=secno&gt;12.2.4.5 &lt;/span&gt;RAWTEXT state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-state&gt;&lt;span class=secno&gt;12.2.4.6 &lt;/span&gt;Script data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#plaintext-state&gt;&lt;span class=secno&gt;12.2.4.7 &lt;/span&gt;PLAINTEXT state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tag-open-state&gt;&lt;span class=secno&gt;12.2.4.8 &lt;/span&gt;Tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.9 &lt;/span&gt;End tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tag-name-state&gt;&lt;span class=secno&gt;12.2.4.10 &lt;/span&gt;Tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.11 &lt;/span&gt;RCDATA less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.12 &lt;/span&gt;RCDATA end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.13 &lt;/span&gt;RCDATA end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.14 &lt;/span&gt;RAWTEXT less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.15 &lt;/span&gt;RAWTEXT end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.16 &lt;/span&gt;RAWTEXT end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.17 &lt;/span&gt;Script data less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.18 &lt;/span&gt;Script data end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.19 &lt;/span&gt;Script data end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escape-start-state&gt;&lt;span class=secno&gt;12.2.4.20 &lt;/span&gt;Script data escape start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;12.2.4.21 &lt;/span&gt;Script data escape start dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-state&gt;&lt;span class=secno&gt;12.2.4.22 &lt;/span&gt;Script data escaped state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-dash-state&gt;&lt;span class=secno&gt;12.2.4.23 &lt;/span&gt;Script data escaped dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;12.2.4.24 &lt;/span&gt;Script data escaped dash dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.25 &lt;/span&gt;Script data escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.26 &lt;/span&gt;Script data escaped end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.27 &lt;/span&gt;Script data escaped end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escape-start-state&gt;&lt;span class=secno&gt;12.2.4.28 &lt;/span&gt;Script data double escape start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-state&gt;&lt;span class=secno&gt;12.2.4.29 &lt;/span&gt;Script data double escaped state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;12.2.4.30 &lt;/span&gt;Script data double escaped dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;12.2.4.31 &lt;/span&gt;Script data double escaped dash dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.32 &lt;/span&gt;Script data double escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escape-end-state&gt;&lt;span class=secno&gt;12.2.4.33 &lt;/span&gt;Script data double escape end state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.34 &lt;/span&gt;Before attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.35 &lt;/span&gt;Attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.36 &lt;/span&gt;After attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-attribute-value-state&gt;&lt;span class=secno&gt;12.2.4.37 &lt;/span&gt;Before attribute value state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.38 &lt;/span&gt;Attribute value (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.39 &lt;/span&gt;Attribute value (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;12.2.4.40 &lt;/span&gt;Attribute value (unquoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;12.2.4.41 &lt;/span&gt;Character reference in attribute value state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;12.2.4.42 &lt;/span&gt;After attribute value (quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#self-closing-start-tag-state&gt;&lt;span class=secno&gt;12.2.4.43 &lt;/span&gt;Self-closing start tag state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#bogus-comment-state&gt;&lt;span class=secno&gt;12.2.4.44 &lt;/span&gt;Bogus comment state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#markup-declaration-open-state&gt;&lt;span class=secno&gt;12.2.4.45 &lt;/span&gt;Markup declaration open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-start-state&gt;&lt;span class=secno&gt;12.2.4.46 &lt;/span&gt;Comment start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-start-dash-state&gt;&lt;span class=secno&gt;12.2.4.47 &lt;/span&gt;Comment start dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-state&gt;&lt;span class=secno&gt;12.2.4.48 &lt;/span&gt;Comment state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-dash-state&gt;&lt;span class=secno&gt;12.2.4.49 &lt;/span&gt;Comment end dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-state&gt;&lt;span class=secno&gt;12.2.4.50 &lt;/span&gt;Comment end state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-bang-state&gt;&lt;span class=secno&gt;12.2.4.51 &lt;/span&gt;Comment end bang state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-state&gt;&lt;span class=secno&gt;12.2.4.52 &lt;/span&gt;DOCTYPE state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.53 &lt;/span&gt;Before DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.54 &lt;/span&gt;DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.55 &lt;/span&gt;After DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;12.2.4.56 &lt;/span&gt;After DOCTYPE public keyword state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;12.2.4.57 &lt;/span&gt;Before DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.58 &lt;/span&gt;DOCTYPE public identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.59 &lt;/span&gt;DOCTYPE public identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;12.2.4.60 &lt;/span&gt;After DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;12.2.4.61 &lt;/span&gt;Between DOCTYPE public and system identifiers state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;12.2.4.62 &lt;/span&gt;After DOCTYPE system keyword state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;12.2.4.63 &lt;/span&gt;Before DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.64 &lt;/span&gt;DOCTYPE system identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.65 &lt;/span&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;12.2.4.66 &lt;/span&gt;After DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#bogus-doctype-state&gt;&lt;span class=secno&gt;12.2.4.67 &lt;/span&gt;Bogus DOCTYPE state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#cdata-section-state&gt;&lt;span class=secno&gt;12.2.4.68 &lt;/span&gt;CDATA section state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tokenizing-character-references&gt;&lt;span class=secno&gt;12.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#tree-construction&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;Tree construction&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#data-state&gt;&lt;span class=secno&gt;13.2.4.1 &lt;/span&gt;Data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-data-state&gt;&lt;span class=secno&gt;13.2.4.2 &lt;/span&gt;Character reference in data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-state&gt;&lt;span class=secno&gt;13.2.4.3 &lt;/span&gt;RCDATA state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;13.2.4.4 &lt;/span&gt;Character reference in RCDATA state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-state&gt;&lt;span class=secno&gt;13.2.4.5 &lt;/span&gt;RAWTEXT state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-state&gt;&lt;span class=secno&gt;13.2.4.6 &lt;/span&gt;Script data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#plaintext-state&gt;&lt;span class=secno&gt;13.2.4.7 &lt;/span&gt;PLAINTEXT state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tag-open-state&gt;&lt;span class=secno&gt;13.2.4.8 &lt;/span&gt;Tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.9 &lt;/span&gt;End tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tag-name-state&gt;&lt;span class=secno&gt;13.2.4.10 &lt;/span&gt;Tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.11 &lt;/span&gt;RCDATA less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.12 &lt;/span&gt;RCDATA end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.13 &lt;/span&gt;RCDATA end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.14 &lt;/span&gt;RAWTEXT less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.15 &lt;/span&gt;RAWTEXT end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.16 &lt;/span&gt;RAWTEXT end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.17 &lt;/span&gt;Script data less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.18 &lt;/span&gt;Script data end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.19 &lt;/span&gt;Script data end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.20 &lt;/span&gt;Script data escape start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.21 &lt;/span&gt;Script data escape start dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-state&gt;&lt;span class=secno&gt;13.2.4.22 &lt;/span&gt;Script data escaped state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-dash-state&gt;&lt;span class=secno&gt;13.2.4.23 &lt;/span&gt;Script data escaped dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;13.2.4.24 &lt;/span&gt;Script data escaped dash dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.25 &lt;/span&gt;Script data escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.26 &lt;/span&gt;Script data escaped end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.27 &lt;/span&gt;Script data escaped end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.28 &lt;/span&gt;Script data double escape start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-state&gt;&lt;span class=secno&gt;13.2.4.29 &lt;/span&gt;Script data double escaped state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;13.2.4.30 &lt;/span&gt;Script data double escaped dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;13.2.4.31 &lt;/span&gt;Script data double escaped dash dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.32 &lt;/span&gt;Script data double escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escape-end-state&gt;&lt;span class=secno&gt;13.2.4.33 &lt;/span&gt;Script data double escape end state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.34 &lt;/span&gt;Before attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.35 &lt;/span&gt;Attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.36 &lt;/span&gt;After attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-attribute-value-state&gt;&lt;span class=secno&gt;13.2.4.37 &lt;/span&gt;Before attribute value state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.38 &lt;/span&gt;Attribute value (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.39 &lt;/span&gt;Attribute value (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;13.2.4.40 &lt;/span&gt;Attribute value (unquoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;13.2.4.41 &lt;/span&gt;Character reference in attribute value state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;13.2.4.42 &lt;/span&gt;After attribute value (quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#self-closing-start-tag-state&gt;&lt;span class=secno&gt;13.2.4.43 &lt;/span&gt;Self-closing start tag state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#bogus-comment-state&gt;&lt;span class=secno&gt;13.2.4.44 &lt;/span&gt;Bogus comment state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#markup-declaration-open-state&gt;&lt;span class=secno&gt;13.2.4.45 &lt;/span&gt;Markup declaration open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-start-state&gt;&lt;span class=secno&gt;13.2.4.46 &lt;/span&gt;Comment start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.47 &lt;/span&gt;Comment start dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-state&gt;&lt;span class=secno&gt;13.2.4.48 &lt;/span&gt;Comment state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-dash-state&gt;&lt;span class=secno&gt;13.2.4.49 &lt;/span&gt;Comment end dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-state&gt;&lt;span class=secno&gt;13.2.4.50 &lt;/span&gt;Comment end state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-bang-state&gt;&lt;span class=secno&gt;13.2.4.51 &lt;/span&gt;Comment end bang state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-state&gt;&lt;span class=secno&gt;13.2.4.52 &lt;/span&gt;DOCTYPE state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.53 &lt;/span&gt;Before DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.54 &lt;/span&gt;DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.55 &lt;/span&gt;After DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;13.2.4.56 &lt;/span&gt;After DOCTYPE public keyword state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;13.2.4.57 &lt;/span&gt;Before DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.58 &lt;/span&gt;DOCTYPE public identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.59 &lt;/span&gt;DOCTYPE public identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;13.2.4.60 &lt;/span&gt;After DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;13.2.4.61 &lt;/span&gt;Between DOCTYPE public and system identifiers state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;13.2.4.62 &lt;/span&gt;After DOCTYPE system keyword state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;13.2.4.63 &lt;/span&gt;Before DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.64 &lt;/span&gt;DOCTYPE system identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.65 &lt;/span&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;13.2.4.66 &lt;/span&gt;After DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#bogus-doctype-state&gt;&lt;span class=secno&gt;13.2.4.67 &lt;/span&gt;Bogus DOCTYPE state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#cdata-section-state&gt;&lt;span class=secno&gt;13.2.4.68 &lt;/span&gt;CDATA section state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tokenizing-character-references&gt;&lt;span class=secno&gt;13.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#tree-construction&gt;&lt;span class=secno&gt;13.2.5 &lt;/span&gt;Tree construction&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#creating-and-inserting-elements&gt;&lt;span class=secno&gt;12.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;12.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#foster-parenting&gt;&lt;span class=secno&gt;12.2.5.3 &lt;/span&gt;Foster parenting&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#parsing-main-inhtml&gt;&lt;span class=secno&gt;12.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#creating-and-inserting-elements&gt;&lt;span class=secno&gt;13.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;13.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#foster-parenting&gt;&lt;span class=secno&gt;13.2.5.3 &lt;/span&gt;Foster parenting&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#parsing-main-inhtml&gt;&lt;span class=secno&gt;13.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=#the-initial-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.1 &lt;/span&gt;The &quot;initial&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-before-html-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.2 &lt;/span&gt;The &quot;before html&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-before-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.3 &lt;/span&gt;The &quot;before head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inhead&gt;&lt;span class=secno&gt;12.2.5.4.4 &lt;/span&gt;The &quot;in head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;12.2.5.4.5 &lt;/span&gt;The &quot;in head noscript&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.6 &lt;/span&gt;The &quot;after head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inbody&gt;&lt;span class=secno&gt;12.2.5.4.7 &lt;/span&gt;The &quot;in body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incdata&gt;&lt;span class=secno&gt;12.2.5.4.8 &lt;/span&gt;The &quot;text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intabletext&gt;&lt;span class=secno&gt;12.2.5.4.10 &lt;/span&gt;The &quot;in table text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incaption&gt;&lt;span class=secno&gt;12.2.5.4.11 &lt;/span&gt;The &quot;in caption&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incolgroup&gt;&lt;span class=secno&gt;12.2.5.4.12 &lt;/span&gt;The &quot;in column group&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intbody&gt;&lt;span class=secno&gt;12.2.5.4.13 &lt;/span&gt;The &quot;in table body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intr&gt;&lt;span class=secno&gt;12.2.5.4.14 &lt;/span&gt;The &quot;in row&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;12.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;12.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;12.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;12.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;12.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/a&gt;
+         &lt;li&gt;&lt;a href=#the-initial-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.1 &lt;/span&gt;The &quot;initial&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-before-html-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.2 &lt;/span&gt;The &quot;before html&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-before-head-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.3 &lt;/span&gt;The &quot;before head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inhead&gt;&lt;span class=secno&gt;13.2.5.4.4 &lt;/span&gt;The &quot;in head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;13.2.5.4.5 &lt;/span&gt;The &quot;in head noscript&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-head-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.6 &lt;/span&gt;The &quot;after head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inbody&gt;&lt;span class=secno&gt;13.2.5.4.7 &lt;/span&gt;The &quot;in body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incdata&gt;&lt;span class=secno&gt;13.2.5.4.8 &lt;/span&gt;The &quot;text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intable&gt;&lt;span class=secno&gt;13.2.5.4.9 &lt;/span&gt;The &quot;in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intabletext&gt;&lt;span class=secno&gt;13.2.5.4.10 &lt;/span&gt;The &quot;in table text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incaption&gt;&lt;span class=secno&gt;13.2.5.4.11 &lt;/span&gt;The &quot;in caption&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incolgroup&gt;&lt;span class=secno&gt;13.2.5.4.12 &lt;/span&gt;The &quot;in column group&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intbody&gt;&lt;span class=secno&gt;13.2.5.4.13 &lt;/span&gt;The &quot;in table body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intr&gt;&lt;span class=secno&gt;13.2.5.4.14 &lt;/span&gt;The &quot;in row&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;13.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;13.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;13.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;13.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;13.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;13.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;13.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;13.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;13.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;13.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;12.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;12.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#unexpected-markup-in-tables&gt;&lt;span class=secno&gt;12.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;12.2.8.4 &lt;/span&gt;Scripts that modify the page as it is being parsed&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;12.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#unclosed-formatting-elements&gt;&lt;span class=secno&gt;12.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#serializing-html-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing HTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-html-fragments&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Parsing HTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#named-character-references&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;Named character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#the-xhtml-syntax&gt;&lt;span class=secno&gt;13 &lt;/span&gt;The XHTML syntax&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;13.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;13.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#unexpected-markup-in-tables&gt;&lt;span class=secno&gt;13.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;13.2.8.4 &lt;/span&gt;Scripts that modify the page as it is being parsed&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;13.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#unclosed-formatting-elements&gt;&lt;span class=secno&gt;13.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#serializing-html-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing HTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-html-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing HTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#named-character-references&gt;&lt;span class=secno&gt;13.5 &lt;/span&gt;Named character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#the-xhtml-syntax&gt;&lt;span class=secno&gt;14 &lt;/span&gt;The XHTML syntax&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#writing-xhtml-documents&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Writing XHTML documents&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-xhtml-documents&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Parsing XHTML documents&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#serializing-xhtml-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing XHTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Rendering&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#writing-xhtml-documents&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Writing XHTML documents&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-xhtml-documents&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;Parsing XHTML documents&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#serializing-xhtml-fragments&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Serializing XHTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;15 &lt;/span&gt;Rendering&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;14.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#display-types&gt;&lt;span class=secno&gt;14.2.2 &lt;/span&gt;Display types&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#margins-and-padding&gt;&lt;span class=secno&gt;14.2.3 &lt;/span&gt;Margins and padding&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#alignment&gt;&lt;span class=secno&gt;14.2.4 &lt;/span&gt;Alignment&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#fonts-and-colors&gt;&lt;span class=secno&gt;14.2.5 &lt;/span&gt;Fonts and colors&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#punctuation-and-decorations&gt;&lt;span class=secno&gt;14.2.6 &lt;/span&gt;Punctuation and decorations&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;14.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-hr-element-0&gt;&lt;span class=secno&gt;14.2.8 &lt;/span&gt;The &lt;code&gt;hr&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-fieldset-element-0&gt;&lt;span class=secno&gt;14.2.9 &lt;/span&gt;The &lt;code&gt;fieldset&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#replaced-elements&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Replaced elements&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;15.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#display-types&gt;&lt;span class=secno&gt;15.2.2 &lt;/span&gt;Display types&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#margins-and-padding&gt;&lt;span class=secno&gt;15.2.3 &lt;/span&gt;Margins and padding&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#alignment&gt;&lt;span class=secno&gt;15.2.4 &lt;/span&gt;Alignment&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#fonts-and-colors&gt;&lt;span class=secno&gt;15.2.5 &lt;/span&gt;Fonts and colors&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#punctuation-and-decorations&gt;&lt;span class=secno&gt;15.2.6 &lt;/span&gt;Punctuation and decorations&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;15.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-hr-element-0&gt;&lt;span class=secno&gt;15.2.8 &lt;/span&gt;The &lt;code&gt;hr&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-fieldset-element-0&gt;&lt;span class=secno&gt;15.2.9 &lt;/span&gt;The &lt;code&gt;fieldset&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#replaced-elements&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;Replaced elements&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#embedded-content-2&gt;&lt;span class=secno&gt;14.3.1 &lt;/span&gt;Embedded content&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#timed-text-tracks-0&gt;&lt;span class=secno&gt;14.3.2 &lt;/span&gt;Timed text tracks&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#embedded-content-2&gt;&lt;span class=secno&gt;15.3.1 &lt;/span&gt;Embedded content&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#timed-text-tracks-0&gt;&lt;span class=secno&gt;15.3.2 &lt;/span&gt;Timed text tracks&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;14.3.2.1 &lt;/span&gt;WebVTT cue text rendering rules&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;14.3.2.2 &lt;/span&gt;Applying CSS properties to WebVTT Node Objects&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#css-extensions&gt;&lt;span class=secno&gt;14.3.2.3 &lt;/span&gt;CSS extensions&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;15.3.2.1 &lt;/span&gt;WebVTT cue text rendering rules&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;15.3.2.2 &lt;/span&gt;Applying CSS properties to WebVTT Node Objects&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#css-extensions&gt;&lt;span class=secno&gt;15.3.2.3 &lt;/span&gt;CSS extensions&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;14.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;14.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#images-0&gt;&lt;span class=secno&gt;14.3.3 &lt;/span&gt;Images&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;14.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;14.3.5 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#toolbars-0&gt;&lt;span class=secno&gt;14.3.6 &lt;/span&gt;Toolbars&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;Bindings&lt;/a&gt;
+         &lt;li&gt;&lt;a href=&quot;#the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;15.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=&quot;#the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;15.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#images-0&gt;&lt;span class=secno&gt;15.3.3 &lt;/span&gt;Images&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;15.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;15.3.5 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#toolbars-0&gt;&lt;span class=secno&gt;15.3.6 &lt;/span&gt;Toolbars&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;15.4 &lt;/span&gt;Bindings&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;14.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;14.4.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;14.4.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;14.4.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;14.4.5 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as domain-specific widgets&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;14.4.6 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a range control&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;14.4.7 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a color well&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;14.4.8 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a checkbox and radio button widgets&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;14.4.9 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a file upload control&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-button&gt;&lt;span class=secno&gt;14.4.10 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a button&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-marquee-element-0&gt;&lt;span class=secno&gt;14.4.11 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-meter-element-0&gt;&lt;span class=secno&gt;14.4.12 &lt;/span&gt;The &lt;code&gt;meter&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-progress-element-0&gt;&lt;span class=secno&gt;14.4.13 &lt;/span&gt;The &lt;code&gt;progress&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-select-element-0&gt;&lt;span class=secno&gt;14.4.14 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-textarea-element-0&gt;&lt;span class=secno&gt;14.4.15 &lt;/span&gt;The &lt;code&gt;textarea&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-keygen-element-0&gt;&lt;span class=secno&gt;14.4.16 &lt;/span&gt;The &lt;code&gt;keygen&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-time-element-0&gt;&lt;span class=secno&gt;14.4.17 &lt;/span&gt;The &lt;code&gt;time&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#frames-and-framesets&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Frames and framesets&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#interactive-media&gt;&lt;span class=secno&gt;14.6 &lt;/span&gt;Interactive media&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-15&gt;&lt;span class=secno&gt;15.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;15.4.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;15.4.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;15.4.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;15.4.5 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as domain-specific widgets&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;15.4.6 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a range control&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;15.4.7 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a color well&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;15.4.8 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a checkbox and radio button widgets&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;15.4.9 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a file upload control&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-button&gt;&lt;span class=secno&gt;15.4.10 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a button&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-marquee-element-0&gt;&lt;span class=secno&gt;15.4.11 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-meter-element-0&gt;&lt;span class=secno&gt;15.4.12 &lt;/span&gt;The &lt;code&gt;meter&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-progress-element-0&gt;&lt;span class=secno&gt;15.4.13 &lt;/span&gt;The &lt;code&gt;progress&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-select-element-0&gt;&lt;span class=secno&gt;15.4.14 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-textarea-element-0&gt;&lt;span class=secno&gt;15.4.15 &lt;/span&gt;The &lt;code&gt;textarea&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-keygen-element-0&gt;&lt;span class=secno&gt;15.4.16 &lt;/span&gt;The &lt;code&gt;keygen&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-time-element-0&gt;&lt;span class=secno&gt;15.4.17 &lt;/span&gt;The &lt;code&gt;time&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#frames-and-framesets&gt;&lt;span class=secno&gt;15.5 &lt;/span&gt;Frames and framesets&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#interactive-media&gt;&lt;span class=secno&gt;15.6 &lt;/span&gt;Interactive media&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#links,-forms,-and-navigation&gt;&lt;span class=secno&gt;14.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-title-attribute-0&gt;&lt;span class=secno&gt;14.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;title&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#editing-hosts&gt;&lt;span class=secno&gt;14.6.3 &lt;/span&gt;Editing hosts&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;14.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#print-media&gt;&lt;span class=secno&gt;14.7 &lt;/span&gt;Print media&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#obsolete&gt;&lt;span class=secno&gt;15 &lt;/span&gt;Obsolete features&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#links,-forms,-and-navigation&gt;&lt;span class=secno&gt;15.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-title-attribute-0&gt;&lt;span class=secno&gt;15.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;title&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#editing-hosts&gt;&lt;span class=secno&gt;15.6.3 &lt;/span&gt;Editing hosts&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;15.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#print-media&gt;&lt;span class=secno&gt;15.7 &lt;/span&gt;Print media&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#obsolete&gt;&lt;span class=secno&gt;16 &lt;/span&gt;Obsolete features&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#obsolete-but-conforming-features&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;Obsolete but conforming features&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#obsolete-but-conforming-features&gt;&lt;span class=secno&gt;16.1 &lt;/span&gt;Obsolete but conforming features&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;15.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#non-conforming-features&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;Non-conforming features&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#requirements-for-implementations&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;Requirements for implementations&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;16.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#non-conforming-features&gt;&lt;span class=secno&gt;16.2 &lt;/span&gt;Non-conforming features&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#requirements-for-implementations&gt;&lt;span class=secno&gt;16.3 &lt;/span&gt;Requirements for implementations&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-applet-element&gt;&lt;span class=secno&gt;15.3.1 &lt;/span&gt;The &lt;code&gt;applet&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-marquee-element&gt;&lt;span class=secno&gt;15.3.2 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#frames&gt;&lt;span class=secno&gt;15.3.3 &lt;/span&gt;Frames&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;15.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#iana&gt;&lt;span class=secno&gt;16 &lt;/span&gt;IANA considerations&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-applet-element&gt;&lt;span class=secno&gt;16.3.1 &lt;/span&gt;The &lt;code&gt;applet&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-marquee-element&gt;&lt;span class=secno&gt;16.3.2 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#frames&gt;&lt;span class=secno&gt;16.3.3 &lt;/span&gt;Frames&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;16.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#iana&gt;&lt;span class=secno&gt;17 &lt;/span&gt;IANA considerations&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#text/html&gt;&lt;span class=secno&gt;16.1 &lt;/span&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/html-sandboxed&gt;&lt;span class=secno&gt;16.2 &lt;/span&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#application/xhtml+xml&gt;&lt;span class=secno&gt;16.3 &lt;/span&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/cache-manifest&gt;&lt;span class=secno&gt;16.4 &lt;/span&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/ping&gt;&lt;span class=secno&gt;16.5 &lt;/span&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/vtt&gt;&lt;span class=secno&gt;16.6 &lt;/span&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#application/microdata+json&gt;&lt;span class=secno&gt;16.7 &lt;/span&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#ping-from&gt;&lt;span class=secno&gt;16.8 &lt;/span&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#ping-to&gt;&lt;span class=secno&gt;16.9 &lt;/span&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/html&gt;&lt;span class=secno&gt;17.1 &lt;/span&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/html-sandboxed&gt;&lt;span class=secno&gt;17.2 &lt;/span&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#application/xhtml+xml&gt;&lt;span class=secno&gt;17.3 &lt;/span&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/cache-manifest&gt;&lt;span class=secno&gt;17.4 &lt;/span&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/ping&gt;&lt;span class=secno&gt;17.5 &lt;/span&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/vtt&gt;&lt;span class=secno&gt;17.6 &lt;/span&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#application/microdata+json&gt;&lt;span class=secno&gt;17.7 &lt;/span&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#ping-from&gt;&lt;span class=secno&gt;17.8 &lt;/span&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#ping-to&gt;&lt;span class=secno&gt;17.9 &lt;/span&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a class=no-num href=#index&gt;Index&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a class=no-num href=#elements-1&gt;Elements&lt;/a&gt;&lt;/li&gt;
@@ -24808,7 +24814,7 @@
  zero or more &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
  &lt;a href=#transparent&gt;transparent&lt;/a&gt;, but with no &lt;a href=#media-element&gt;media element&lt;/a&gt; descendants.&lt;/dd&gt;
-   &lt;dd&gt;If the element does not have a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute: one or more &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; elements, then
+   &lt;dd&gt;If the element does not have a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute: zero or more &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-END w3c-html--&gt;&lt;!--TT--&gt;
  zero or more &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
@@ -27335,8 +27341,8 @@
     &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
     named &lt;code title=event-media-playing&gt;&lt;a href=#event-media-playing&gt;playing&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;User agents are not required to autoplay, and it
-    is suggested that user agents honor user preferences on the
+    &lt;p class=note&gt;User agents do not need to support autoplay,
+    and it is suggested that user agents honor user preferences on the
     matter. Authors are urged to use the &lt;code title=attr-media-autoplay&gt;&lt;a href=#attr-media-autoplay&gt;autoplay&lt;/a&gt;&lt;/code&gt; attribute rather than
     using script to force the video to play, so as to allow the user
     to override the behavior if so desired.&lt;/p&gt;
@@ -50731,236 +50737,8 @@
   &lt;/ol&gt;&lt;/div&gt;
 
 
-&lt;!--DEVICE--&gt;
-&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
 
-  &lt;h4 id=devices&gt;&lt;span class=secno&gt;4.11.6 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;device&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
-
-  &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#interactive-content&gt;Interactive content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;Empty.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-device-type&gt;&lt;a href=#attr-device-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=idl&gt;interface &lt;dfn id=htmldeviceelement&gt;HTMLDeviceElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
-           attribute DOMString &lt;span title=dom-device-type&gt;type&lt;/span&gt;;
-  readonly attribute any &lt;span title=dom-device-data&gt;data&lt;/span&gt;;
-};&lt;/pre&gt;
-  &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element represents a device selector, to
-  allow the user to give the page access to a device, for example a
-  video camera.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=attr-device-type title=attr-device-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
-  attribute allows the author to specify which kind of device the page
-  would like access to. The attribute is an &lt;a href=#enumerated-attribute&gt;enumerated
-  attribute&lt;/a&gt; with the keywords given in the first column of the
-  following table, and their corresponding states given in the cell in
-  second column of the same row.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;RS232 and USB are only included below to give an idea
-  of where we could go with this. &lt;strong&gt;Should we instead just make
-  this only useful for audiovisual streams?&lt;/strong&gt; Unless there are
-  compelling reasons, we probably should not be this generic. So far,
-  the reasons for RS232 aren't that compelling. For USB, slightly more
-  so.&lt;/p&gt;
-
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Keyword
-     &lt;th&gt;State
-     &lt;th&gt;Device description
-     &lt;th&gt;Examples
-   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-media title=attr-device-type-keyword-media&gt;&lt;code&gt;media&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-media&gt;Media&lt;/span&gt;
-     &lt;td&gt;Stream of audio and/or video data.
-     &lt;td&gt;A webcam.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-fs title=attr-device-type-keyword-fs&gt;&lt;code&gt;fs&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-fs&gt;File system&lt;/span&gt;
-     &lt;td&gt;File system.
-     &lt;td&gt;A USB-connected media player.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-rs232 title=attr-device-type-keyword-rs232&gt;&lt;code&gt;rs232&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-rs232&gt;RS232&lt;/span&gt;
-     &lt;td&gt;RS232 device.
-     &lt;td&gt;A serial port.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-usb title=attr-device-type-keyword-usb&gt;&lt;code&gt;usb&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-usb&gt;USB&lt;/span&gt;
-     &lt;td&gt;USB device.
-     &lt;td&gt;A scanner, a music player, a disk jockey, a fish tank.
-  &lt;/table&gt;&lt;p class=XXX&gt;processing model: 'change' event fires once user
-  selects a new device; .data is set to new Stream, LocalFS, USB, or
-  RS232 object as appropriate.&lt;/p&gt;
-
-  &lt;div class=example&gt;
-
-   &lt;pre&gt;&lt;p&gt;To start chatting, select a video camera: &lt;device type=media onchange=&quot;update(this.data)&quot;&gt;&lt;/p&gt;
-&lt;video autoplay&gt;&lt;/video&gt;
-&lt;script&gt;
- function update(stream) {
-   document.getElementsByTagName('video')[0].src = stream.url;
- }
-&lt;/script&gt;&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=XXX&gt;The &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element is intended to be a
-  void element, but the parser spec hasn't yet been updated. This
-  section of the spec is very much awaiting implementation
-  experience.&lt;/p&gt;
-
-
-  &lt;h5 id=stream-api&gt;&lt;span class=secno&gt;4.11.6.1 &lt;/span&gt;Stream API&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface is used to represent
-  streams.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;interface &lt;dfn id=stream&gt;Stream&lt;/dfn&gt; {
-  readonly attribute DOMString &lt;a href=#dom-stream-url title=dom-stream-url&gt;url&lt;/a&gt;;
-  &lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt; &lt;a href=#dom-stream-record title=dom-stream-record&gt;record&lt;/a&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-stream-url title=dom-stream-url&gt;&lt;code&gt;url&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return a &lt;span title=fileURN&gt;File URN&lt;/span&gt; representing the
-  stream. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the stream must be in a format
-  supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and
-  &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;This will be pinned down to a specific codec.&lt;/p&gt;
-
-  &lt;p&gt;When the &lt;dfn id=dom-stream-record title=dom-stream-record&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must return a new
-  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object associated with the stream.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;interface &lt;dfn id=streamrecorder&gt;StreamRecorder&lt;/dfn&gt; {
-  &lt;span&gt;File&lt;/span&gt; &lt;a href=#dom-streamrecorder-stop title=dom-StreamRecorder-stop&gt;stop&lt;/a&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-streamrecorder-stop title=dom-StreamRecorder-stop&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method
-  must return a new &lt;code&gt;File&lt;/code&gt; object representing the data
-  that was streamed between the creation of the
-  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object and the invocation of the &lt;code title=dom-StreamRecorder-stop&gt;&lt;a href=#dom-streamrecorder-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the file must be in a format
-  supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and
-  &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;This again will be pinned down to a specific codec.&lt;/p&gt;
-
-
-  &lt;h5 id=peer-to-peer-connections&gt;&lt;span class=secno&gt;4.11.6.2 &lt;/span&gt;Peer-to-peer connections&lt;/h5&gt;
-
-  &lt;p class=XXX&gt;This section will be moved to a more appropriate
-  location in due course; it is here currently to keep it near the
-  &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element to allow reviewers to look at it.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;[Constructor(in DOMString serverConfiguration)]
-interface &lt;dfn id=connectionpeer&gt;ConnectionPeer&lt;/dfn&gt; {
-  void sendText(in DOMString text, in optional boolean unimportant); // if second arg is true, then use unreliable low-latency transport (UDP-like), otherwise guarantee delivery (TCP-like)
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; ontext; // receiving
-
-  void sendBitmap(in HTMLImageElement image);
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onbitmap; // receiving
-
-  void sendFile(in File file);
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onfile; // receiving
-
-  void addStream(in Stream stream);
-  void removeStream(in Stream stream);
-  readonly attribute Stream[] localStreams;
-  readonly attribute Stream[] remoteStreams;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onstream; // receiving
-
-  void &lt;span title=dom-ConnectionPeer-getLocalConfiguration&gt;getLocalConfiguration&lt;/span&gt;(in &lt;a href=#connectionpeerconfigurationcallback&gt;ConnectionPeerConfigurationCallback&lt;/a&gt; callback); // maybe this should be in the constructor, or be an event
-  void &lt;span title=dom-ConnectionPeer-addRemoteConfiguration&gt;addRemoteConfiguration&lt;/span&gt;(in DOMString configuration, in optional DOMString remoteOrigin); // remote origin is assumed to be same-origin if not specified. If specified, has to match remote origin (checked in handshake). Should support leading &quot;*.&quot; to mean &quot;any subdomain of&quot;.
-  void close(); // disconnects and stops listening
-
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onconnect;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onerror;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; ondisconnect;
-};
-&lt;a href=#connectionpeer&gt;ConnectionPeer&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn id=connectionpeerconfigurationcallback&gt;ConnectionPeerConfigurationCallback&lt;/dfn&gt; {
-  void &lt;span title=dom-ConnectionPeerConfigurationCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#connectionpeer&gt;ConnectionPeer&lt;/a&gt; server, in DOMString configuration);
-};&lt;/pre&gt;
-
-  &lt;p class=XXX&gt;...&lt;/p&gt;
-
-  &lt;div class=XXX&gt;
-
-   &lt;p&gt;This relies on some currently hypothetical other standard to
-   define:&lt;/p&gt;
-
-   &lt;ul&gt;&lt;li&gt;The format of server configuration strings.
-    &lt;li&gt;The format of client configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to third-party servers mentioned in the server configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to each other.
-   &lt;/ul&gt;&lt;/div&gt;
-
-  &lt;div class=example&gt;
-
-   &lt;p&gt;When two peers decide they are going to set up a connection to
-   each other, they both go through these steps. The serverConfig
-   comes from a third-party server they can use to get things like
-   their public IP address or to set up NAT traversal. They also have
-   to send their respective configuration to each other using the same
-   out-of-band mechanism they used to establish that they were going
-   to communicate in the first place.&lt;/p&gt;
-
-   &lt;pre&gt;var serverConfig = ...; // configuration string obtained from server
-// contains details such as the IP address of a server that can speak some
-// protocol to help the client determine its public IP address, route packets
-// if necessary, etc.
-
-var local = new ConnectionPeer(serverConfig);
-local.getLocalConfiguration(function (configuration) {
-  if (configuration != '') {
-    ...; // send configuration to other peer using out-of-band mechanism
-  } else {
-    // we've exhausted our options; wait for connection
-  }
-});
-
-function ... (configuration) {
-  // called whenever we get configuration information out-of-band
-  local.addRemoteConfiguration(configuration);
-}
-
-local.onconnect = function (event) {
-  // we are connected!
-  local.sendText('Hello');
-  local.addStream(...); // send video
-  local.onstream = function (event) {
-    // receive video
-    // (videoElement is some &lt;video&gt; element)
-    if (local.remoteStreams.length &gt; 0)
-      videoElement.src = local.remoteStreams[0].url;
-  };
-};&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=warning&gt;To prevent network sniffing from allowing a
-  fourth party to establish a connection to a peer using the
-  information sent out-of-band to the other peer and thus spoofing the
-  client, the configuration information should always be transmitted
-  using an encrypted connection.&lt;/p&gt;
-
-
-&lt;/div&gt;
-&lt;!--DEVICE--&gt;
-
-
-
-
   &lt;h3 id=links&gt;&lt;span class=secno&gt;4.12 &lt;/span&gt;Links&lt;/h3&gt;
 
   &lt;h4 id=introduction-2&gt;&lt;span class=secno&gt;4.12.1 &lt;/span&gt;Introduction&lt;/h4&gt;
@@ -66731,7 +66509,6 @@
 
 
 
-
   &lt;h2 id=editing&gt;&lt;span class=secno&gt;8 &lt;/span&gt;&lt;dfn&gt;User interaction&lt;/dfn&gt;&lt;/h2&gt;
 
 
@@ -71198,17 +70975,1456 @@
 v2 (well, really v0):
  &quot;forecolor&quot;, &quot;hilitecolor&quot;, &quot;fontname&quot;, &quot;fontsize&quot;, &quot;justifyleft&quot;,
  &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
---&gt;&lt;div data-component=&quot;Web Workers (editor: Ian Hickson)&quot;&gt;
+--&gt;&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
-  &lt;h2 id=workers&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Web workers&lt;/h2&gt;
+  &lt;h2 id=video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/h2&gt;
 
+  &lt;h3 id=introduction-8&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
+  &lt;p&gt;There are a number of facets to video-conferencing in HTML:&lt;/p&gt;
 
-  &lt;h3 id=introduction-8&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;ul&gt;&lt;li&gt;Getting a multimedia stream (video, audio, or both) from local
+   devices (video cameras, microphones, Web cams) or from prerecorded
+   files provided by the user.&lt;/li&gt;
 
-  &lt;h4 id=scope-0&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Scope&lt;/h4&gt;
+   &lt;li&gt;Recording such streams locally.&lt;/li&gt;
 
+   &lt;li&gt;Connecting to remote peers using NAT-traversal technologies
+   such as ICE, STUN, and TURN.&lt;/li&gt;
+
+   &lt;li&gt;Sending the locally-produced streams to remote peers and
+   receiving streams from remote peers.&lt;/li&gt;
+
+   &lt;li&gt;Displaying such streams (both the locally-produced ones and the
+   remotely-obtained ones) locally using the &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; or
+   &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; elements.&lt;/li&gt;
+
+   &lt;li&gt;Sending arbitrary data to remote peers.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;This section defines the APIs used for these features.&lt;/p&gt;
+
+
+  &lt;h4 id=obtaining-local-multimedia-content&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Obtaining local multimedia content&lt;/h4&gt;
+
+  &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermedia&gt;NavigatorUserMedia&lt;/dfn&gt; {
+  void &lt;a href=#dom-navigator-getusermedia title=dom-navigator-getUserMedia&gt;getUserMedia&lt;/a&gt;(in DOMString options, in &lt;a href=#navigatorusermediasuccesscallback&gt;NavigatorUserMediaSuccessCallback&lt;/a&gt; successCallback, in optional &lt;a href=#navigatorusermediaerrorcallback&gt;NavigatorUserMediaErrorCallback&lt;/a&gt; errorCallback);
+};
+&lt;a href=#navigator&gt;Navigator&lt;/a&gt; implements &lt;a href=#navigatorusermedia&gt;NavigatorUserMedia&lt;/a&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermediasuccesscallback&gt;NavigatorUserMediaSuccessCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-NavigatorUserMediaSuccessCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt; stream);
+};
+
+[NoInterfaceObject]&lt;!-- this is based on PositionError in geolocation --&gt;
+interface &lt;dfn id=navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/dfn&gt; {
+  const unsigned short &lt;a href=#dom-navigatorusermediaerror-permission_denied title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;PERMISSION_DENIED&lt;/a&gt; = 1;&lt;!--
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-UNAVAILABLE&quot;&gt;UNAVAILABLE&lt;/span&gt; = 2;
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-TIMEOUT&quot;&gt;TIMEOUT&lt;/span&gt; = 3;--&gt;
+  readonly attribute unsigned short &lt;a href=#dom-navigatorusermediaerror-code title=dom-NavigatorUserMediaError-code&gt;code&lt;/a&gt;;&lt;!--
+  readonly attribute DOMString &lt;span title=&quot;dom-NavigatorUserMediaError-message&quot;&gt;message&lt;/span&gt;;--&gt;
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermediaerrorcallback&gt;NavigatorUserMediaErrorCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-NavigatorUserMediaSuccessCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt; error);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-navigator&gt;&lt;a href=#dom-navigator&gt;navigator&lt;/a&gt;&lt;/code&gt; . &lt;code title=dom-navigator-getUserMedia&gt;&lt;a href=#dom-navigator-getusermedia&gt;getUserMedia&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;options&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; ] )&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Prompts the user for permission to use their Web cam or other
+    video or audio input.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; argument is a string of
+    comma-separated values from the following list:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include audio data.&lt;/dd&gt;
+
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;video&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include video data.&lt;/dd&gt;
+
+
+    &lt;/dl&gt;&lt;p&gt;If the user accepts, the &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is
+    invoked, with a suitable &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object as
+    its argument.&lt;/p&gt;
+
+    &lt;p&gt;If the user declines, the &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; (if
+    any) is invoked.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;error&lt;/var&gt; . &lt;code title=dom-NavigatorUserMediaError-code&gt;&lt;a href=#dom-navigatorusermediaerror-code&gt;code&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the current error's error code. At this time, this will
+    always be 1, for which the constant &lt;code title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;a href=#dom-navigatorusermediaerror-permission_denied&gt;PERMISSION_DENIED&lt;/a&gt;&lt;/code&gt;
+    is defined.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-navigator-getusermedia title=dom-navigator-getUserMedia&gt;&lt;code&gt;getUserMedia()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; be the method's first
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; be the callback
+   indicated by the method's second argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; be the callback
+   indicated by the method's third argument, if any, or null
+   otherwise.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is null, abort these
+   steps.&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here, or for /options/ below, without changing the
+   algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#split-a-string-on-spaces title=&quot;split a string on spaces&quot;&gt;Split &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; on spaces&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;video&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/li&gt;
+
+   &lt;!-- any error handling for /options/ should be done here (that's
+   why the method doesn't return until the next step: so we can add
+   exception throwing here) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, e.g. based on a previously-established user
+   preference, for security reasons, or due to platform limitations,
+   jump to the step labeled &lt;i&gt;failure&lt;/i&gt; below.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Prompt the user in a user-agent-specific manner for permission
+    to provide the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt;
+    with a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object representing a media
+    stream.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; is true, then the provided media
+    should include an audio component. If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt;
+    is false, then the provided media must not include an audio
+    component.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is true, then the provided media
+    should include a video component. If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is
+    false, then the provided media must not include a video
+    component.&lt;/p&gt;
+
+    &lt;p&gt;User agents are encouraged to default to using the user's
+    primary or system default camera and/or microphone (as
+    appropriate) to generate the media stream. User agents may allow
+    users to use any media source, including pre-recorded media
+    files.&lt;/p&gt;
+
+    &lt;p&gt;If the user grants permission to use local recording devices,
+    user agents are encouraged to include a prominent indicator that
+    the devices are &quot;hot&quot; (i.e. an &quot;on-air&quot; or &quot;recording&quot;
+    indicator).&lt;/p&gt;
+
+    &lt;p&gt;If the user denies permission, jump to the step labeled
+    &lt;i&gt;failure&lt;/i&gt; below. If the user never responds, this algorithm
+    stalls on this step.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object for which the user granted
+   permission.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; as
+   its argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Failure&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; is
+   null, abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; be a new
+   &lt;code&gt;&lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-NavigatorUserMediaError-code&gt;&lt;a href=#dom-navigatorusermediaerror-code&gt;code&lt;/a&gt;&lt;/code&gt; attribute has
+   the numeric value 1 (&lt;code title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;a href=#dom-navigatorusermediaerror-permission_denied&gt;PERMISSION_DENIED&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; as its
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for these &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; is the &lt;a href=#user-interaction-task-source&gt;user interaction task
+  source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-navigatorusermediaerror-code title=dom-NavigatorUserMediaError-code&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt;&lt;/code&gt; object must return the code
+  for the error, which must be &lt;!--one of--&gt; the following:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-navigatorusermediaerror-permission_denied title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;code&gt;PERMISSION_DENIED&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The user denied the page permission to use the user's media devices.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;A voice chat feature in a game could attempt to get access to
+   the user's microphone by calling the API as follows:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ navigator.getUserMedia('audio', gotAudio);
+ function gotAudio(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;A video-conferencing system would ask for both audio and video:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ function beginCall() {
+   navigator.getUserMedia('audio,video', gotStream);
+ }
+ function gotStream(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4 id=stream-api&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Stream API&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface is used to represent streams,
+  typically (but not necessarily) of audio and/or video content, e.g.
+  from a local camera or a remote site.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface is used when the user
+  agent is generating the stream's data (e.g. from a camera or
+  streaming it from a local video file). It allows authors to pause
+  the generation of the content, e.g. to allow the user to temporarily
+  disable a local camera during a video-conference chat.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is being generated
+  from a local file (as opposed to a live audio/video source), the
+  user agent should stream the data from the file in real time, not
+  all at once. This reduces the ease with which pages can distinguish
+  live video from pre-recorded video, which can help protect the
+  user's privacy.&lt;/p&gt;
+
+  &lt;!-- v2: support reading the bits from the stream directly, for use
+  with streaming over WebSocket? Or do we rely on FileReader for that? --&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=stream&gt;Stream&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;a href=#dom-stream-label title=dom-stream-label&gt;label&lt;/a&gt;;
+  &lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt; &lt;a href=#dom-stream-record title=dom-stream-record&gt;record&lt;/a&gt;();
+&lt;!--
+  const unsigned short &lt;span title=&quot;dom-stream-LOADING&quot;&gt;LOADING&lt;/span&gt; = 0; --&gt;
+  const unsigned short &lt;a href=#dom-stream-live title=dom-stream-LIVE&gt;LIVE&lt;/a&gt; = 1;
+  const unsigned short &lt;a href=#dom-stream-ended title=dom-stream-ENDED&gt;ENDED&lt;/a&gt; = 2;
+  readonly attribute unsigned short &lt;a href=#dom-stream-readystate title=dom-stream-readyState&gt;readyState&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onreadystatechange title=handler-stream-onreadystatechange&gt;onreadystatechange&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onended title=handler-stream-onended&gt;onended&lt;/a&gt;;
+};
+&lt;a href=#stream&gt;Stream&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
+
+interface &lt;dfn id=generatedstream&gt;GeneratedStream&lt;/dfn&gt; {
+  void &lt;a href=#dom-stream-stop title=dom-stream-stop&gt;stop&lt;/a&gt;();
+
+  // temporarily pausing the stream
+  const unsigned short &lt;a href=#dom-stream-paused title=dom-stream-PAUSED&gt;PAUSED&lt;/a&gt; = 3;
+  void &lt;a href=#dom-stream-pause title=dom-stream-pause&gt;pause&lt;/a&gt;();
+  void &lt;a href=#dom-stream-resume title=dom-stream-resume&gt;resume&lt;/a&gt;();
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onpause title=handler-stream-onpause&gt;onpause&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onplay title=handler-stream-onplay&gt;onplay&lt;/a&gt;;
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a label that is unique to this stream, so that streams
+    can be recognised after they are sent through the
+    &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; API.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-record&gt;&lt;a href=#dom-stream-record&gt;record&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Begins recording the stream. The returned
+    &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object provides access to the recorded
+    data.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Permanently stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-paused&gt;&lt;a href=#dom-stream-paused&gt;paused&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-stream-readystate title=dom-stream-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the state of the stream. It must return the
+  value to which the user agent last set it (as defined below). It can
+  have the following values:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-stream-live title=dom-stream-LIVE&gt;&lt;code&gt;LIVE&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is active (the user agent is making a best-effort
+   attempt to receive or generate data in real time).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-stream-ended title=dom-stream-ENDED&gt;&lt;code&gt;ENDED&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream has finished (the user agent is no longer receiving
+   or generating data, and will never receive or generate more data
+   for this stream).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-stream-paused title=dom-stream-PAUSED&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is not generating data at this time, but could still
+   be resumed. Only &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects can be in
+   this state.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object is created, its &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute must be
+  set to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object ends for any reason other than
+  the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method being invoke
+  (e.g. because the user rescinds the permission for the page to use
+  the local camera, or because the data comes from a finite file and
+  the file's end has been reached and the user has not requested that
+  it be looped, or because the stream comes from a remote peer and the
+  remote peer has permanently stopped sending data), the user agent
+  must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute has the
+   value &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2) already, then
+   abort these steps. (The &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;
+   method was probably called just before the stream stopped for other
+   reasons, e.g. the user clicked an in-page stop button and then the
+   user-agent-provided stop button.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;If the end of the stream was reached due to a user request, the
+  &lt;a href=#task-source&gt;task source&lt;/a&gt; for this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is the &lt;a href=#user-interaction-task-source&gt;user interaction task
+  source&lt;/a&gt;. Otherwise the &lt;a href=#task-source&gt;task source&lt;/a&gt; for this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is the &lt;a href=#networking-task-source&gt;networking task
+  source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is created, the user
+  agent must generate a globally unique identifier string, and must
+  initialize the object's &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;
+  attribute to that string. Such strings must only use characters in
+  the ranges U+0021, U+0023 to U+0027, U+002A to U+002B, U+002D to
+  U+002E, U+0030 to U+0039, U+0041 to U+005A, U+005E to U+007E, and
+  must be 36 characters long.&lt;/p&gt; &lt;!-- UUIDs have 36 characters
+  including hyphens; the ranges above comes from RFC4574 (the a=label:
+  thing in SDP) --&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; is created to represent a stream
+  obtained from a remote peer, the &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute is initialized from
+  information provided by the remote source.&lt;/p&gt; &lt;!-- described below
+  --&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-stream-label title=dom-stream-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was initialized when the
+  object was created.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When the &lt;dfn id=dom-stream-record title=dom-stream-record&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must return a new
+  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object associated with the stream.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-stop title=dom-stream-stop&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method is invoked,
+  the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is in the
+   &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2) state, then abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Permanently stop the generation of data for the stream. If
+   the data is being generated from a live source (e.g. a microphone
+   or camera), and no other stream is being generated from a live
+   source, then the user agent should remove any active &quot;on-air&quot;
+   indicator. If the data is being generated from a prerecorded source
+   (e.g. a video file), any remaining content in the file is
+   ignored.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-pause title=dom-stream-pause&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
+   the &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1) state, then abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
+   being generated from a live source (e.g. a microphone or camera),
+   then data collected for this stream while the stream is paused must
+   be discarded. If the data is being generated from a prerecorded
+   source (e.g. a video file), the user agent should follow user
+   preferences for handling a pause (either skipping over data in real
+   time or resuming from the same point when the stream is later
+   resumed).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-pause&gt;pause&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-resume title=dom-stream-resume&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
+   the &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3) state, then
+   abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-play&gt;play&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause()&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume()&lt;/a&gt;&lt;/code&gt; methods is the &lt;a href=#dom-manipulation-task-source&gt;DOM
+  manipulation task source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
+  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onreadystatechange title=handler-stream-onreadystatechange&gt;&lt;code&gt;onreadystatechange&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-readystatechange&gt;readystatechange&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onended title=handler-stream-onended&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-ended&gt;ended&lt;/code&gt;
+  &lt;/table&gt;&lt;p&gt;The following are the additional &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and
+  their corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event
+  handler event types&lt;/a&gt;) that must be supported, as IDL
+  attributes, by all objects implementing the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onpause title=handler-stream-onpause&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-pause&gt;pause&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onplay title=handler-stream-onplay&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-play&gt;play&lt;/code&gt;
+  &lt;/table&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This sample code exposes a button. When clicked, the button is
+   disabled and the user is prompted to offer a stream. The user can
+   cause the button to be re-enabled by providing a stream (e.g.
+   giving the page access to the local camera) and then disabling the
+   stream (e.g. revoking that access).&lt;/p&gt;
+
+   &lt;pre&gt;
+&lt;input type=&quot;button&quot; value=&quot;Start&quot; onclick=&quot;start()&quot; id=&quot;startBtn&quot;&gt;
+&lt;script&gt;
+ var startBtn = document.getElementById('startBtn');
+ function start() {
+   navigator.getUserMedia('audio,video', gotStream);
+   startBtn.disabled = true;
+ }
+ function gotStream(stream) {
+   stream.onended = function () {
+     startBtn.disabled = false;
+   }
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=streamrecorder&gt;StreamRecorder&lt;/dfn&gt; {
+  &lt;span&gt;Blob&lt;/span&gt; &lt;a href=#dom-streamrecorder-getrecordeddata title=dom-StreamRecorder-getRecordedData&gt;getRecordedData&lt;/a&gt;(in &lt;a href=#blobcallback&gt;BlobCallback&lt;/a&gt; callback);
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=blobcallback&gt;BlobCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-BlobCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;Blob&lt;/span&gt; blob);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; . &lt;code title=dom-StreamRecorder-getRecordedData&gt;&lt;a href=#dom-streamrecorder-getrecordeddata&gt;getRecordedData&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;callback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;Blob&lt;/code&gt; of the recorded data, and invokes
+    the provided callback with that &lt;code&gt;Blob&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-streamrecorder-getrecordeddata title=dom-StreamRecorder-getRecordedData&gt;&lt;code&gt;getRecordedData()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be the callback
+   indicated by the method's first argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; is null, abort these
+   steps.&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here without changing the algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the data that was streamed
+   by the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object from which the
+   &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; was created since the creation of the
+   &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Generate a file that containing &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; in
+   a format supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt;
+   and &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; be a &lt;code&gt;Blob&lt;/code&gt; object
+   representing the contents of the file generated in the previous
+   step. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; as its
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The &lt;code title=dom-StreamRecorder-getRecordedData&gt;&lt;a href=#dom-streamrecorder-getrecordeddata&gt;getRecordedData()&lt;/a&gt;&lt;/code&gt;
+  method can be called multiple times on one
+  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object; each time, it will create a new
+  file as if this was the first time the method was being called. In
+  particular, the method does not stop or reset the recording when the
+  method is called.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This example allows people to record a short audio message and
+   upload it to the server. This example even shows rudimentary error
+   handling.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;input type=&quot;button&quot; value=&quot;&#9899;&quot; onclick=&quot;msgRecord()&quot; id=&quot;recBtn&quot;&gt;
+&lt;input type=&quot;button&quot; value=&quot;&#9724;&quot; onclick=&quot;msgStop()&quot; id=&quot;stopBtn&quot; disabled&gt;
+&lt;p id=&quot;status&quot;&gt;To start recording, press the &#9899; button.&lt;/p&gt;
+&lt;script&gt;
+ var recBtn = document.getElementById('recBtn');
+ var stopBtn = document.getElementById('stopBtn');
+ function report(s) {
+   document.getElementById('status').textContent = s;
+ }
+ function msgRecord() {
+   report('Attempting to access microphone...');
+   navigator.getUserMedia('audio', gotStream, noStream);
+   recBtn.disabled = true;
+ }
+ var msgStream;
+ function gotStream(stream) {
+   report('Recording... To stop, press to &#9724; button.');
+   msgStream = stream;
+   stopBtn.disabled = false;
+   stream.onended = function () {
+     msgStop();     
+   }
+ }
+ function msgStop() {
+   report('Creating file...');
+   stopBtn.disabled = true;
+   stream.onended = null;
+   stream.stop();
+   stream.getRecordedData(msgSave);
+ }
+ function msgSave(blob) {
+   report('Uploading file...');
+   var x = new XMLHttpRequest();
+   x.open('POST', 'uploadMessage');
+   x.send(blob);
+   x.onload = function () {
+     report('Done! To record a new message, press the &#9899; button.');
+     recBtn.disabled = false;
+   };
+   x.onerror = function () {
+     report('Failed to upload message. To try recording a message again, press the &#9899; button.');
+     recBtn.disabled = false;
+   };
+ }
+ funciton noStream() {
+   report('Could not obtain access to your microphone. To try again, press the &#9899; button.');
+   recBtn.disabled = false;
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=idl&gt;[Supplemental]
+interface &lt;dfn id=dom-url title=dom-URL&gt;URL&lt;/dfn&gt; {
+  static DOMString &lt;a href=#dom-url-createobjecturl title=dom-URL-createObjectURL&gt;createObjectURL&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-URL&gt;&lt;a href=#dom-url&gt;URL&lt;/a&gt;&lt;/code&gt; . &lt;code title=dom-URL-createObjectURL&gt;&lt;a href=#dom-url-createobjecturl&gt;createObjectURL&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Mints a &lt;a href=#blob-url&gt;Blob URL&lt;/a&gt; to refer to the given &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-url-createobjecturl title=dom-URL-createObjectURL&gt;&lt;code&gt;createObjectURL()&lt;/code&gt;&lt;/dfn&gt;
+  method is called with a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; argument, the user agent
+  must return a unique &lt;a href=#blob-url&gt;Blob URL&lt;/a&gt; for the given
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;For audio and video streams, the data exposed on that stream must
+  be in a format supported by the user agent for use in
+  &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
+
+  &lt;p class=bookkeeping&gt;A &lt;dfn id=blob-url&gt;Blob URL&lt;/dfn&gt; is the same as what the
+  File API specification calls a &lt;span&gt;Blob URI&lt;/span&gt;, except that
+  anything in the definition of that feature that refers to
+  &lt;code&gt;File&lt;/code&gt; and &lt;code&gt;Blob&lt;/code&gt; objects is hereby extended
+  to also apply to &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; and
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This example allows people to take photos of themselves from the
+   local video camera.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;style scoped&gt;
+  video { transform: scaleX(-1); }
+  p { text-align: center; }
+ &lt;/style&gt;
+ &lt;h1&gt;Snapshot Kiosk&lt;/h1&gt;
+ &lt;section id=&quot;splash&quot;&gt;
+  &lt;p id=&quot;errorMessage&quot;&gt;Loading...&lt;/p&gt;
+ &lt;/section&gt;
+ &lt;section id=&quot;app&quot; hidden&gt;
+  &lt;p&gt;&lt;video id=&quot;monitor&quot;&gt;&lt;/video&gt; &lt;canvas id=&quot;photo&quot;&gt;&lt;/canvas&gt;
+  &lt;p&gt;&lt;input type=button value=&quot;&amp;#x1F4F7;&quot; onclick=&quot;snapshot()&quot;&gt;
+ &lt;/section&gt;
+ &lt;script&gt;
+  navigator.getUserMedia('video', gotStream, noStream);
+  var video = document.getElementById('monitor');
+  var canvas = document.getElementById('photo');
+  function gotStream(stream) {
+    video.src = URL.getObjectURL(stream);
+    video.onerror = function () {
+      stream.stop();
+      noStream();
+    }
+    video.onloadedmetadata = function () {
+      canvas.width = video.videoWidth;
+      canvas.height = video.videoHeight;
+      document.getElementById('splash').hidden = true;
+      document.getElementById('app').hidden = false;
+    }
+  }
+  function noStream() {
+    document.getElementById('errorMessage').textContent = 'No camera available.';
+  }
+  function snapshot() {
+    canvas.getContext('2d').drawImage(video, 0, 0);
+  }
+ &lt;/script&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4 id=peer-to-peer-connections&gt;&lt;span class=secno&gt;9.1.3 &lt;/span&gt;Peer-to-peer connections&lt;/h4&gt;
+
+  &lt;pre class=idl&gt;[&lt;a href=#dom-peerconnection title=dom-PeerConnection&gt;Constructor&lt;/a&gt;(in DOMString configuration, in &lt;a href=#signalingcallback&gt;SignalingCallback&lt;/a&gt; signalingCallback)]
+interface &lt;dfn id=peerconnection&gt;PeerConnection&lt;/dfn&gt; {
+  void &lt;a href=#dom-peerconnection-signalingmessage title=dom-PeerConnection-signalingMessage&gt;signalingMessage&lt;/a&gt;(in DOMString message);
+
+  // &lt;span class=XXX&gt;readyState, etc&lt;/span&gt;
+
+  void &lt;a href=#dom-peerconnection-send title=dom-PeerConnection-send&gt;send&lt;/a&gt;(in DOMString text);
+  void &lt;a href=#dom-peerconnection-addstream title=dom-PeerConnection-addStream&gt;addStream&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+  void &lt;a href=#dom-peerconnection-removestream title=dom-PeerConnection-removeStream&gt;removeStream&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt;[] &lt;a href=#dom-peerconnection-localstreams title=dom-PeerConnection-localStreams&gt;localStreams&lt;/a&gt;;
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt;[] &lt;a href=#dom-peerconnection-remotestreams title=dom-PeerConnection-remoteStreams&gt;remoteStreams&lt;/a&gt;;
+
+  // &lt;span class=XXX&gt;connection quality information&lt;/span&gt;
+
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-ontext title=handler-PeerConnection-ontext&gt;ontext&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-onaddstream title=handler-PeerConnection-onaddstream&gt;onaddstream&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-onremovestream title=handler-PeerConnection-onremovestream&gt;onremovestream&lt;/a&gt;;
+};
+&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=signalingcallback&gt;SignalingCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-SignalingCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt; source, in DOMString message);
+};&lt;/pre&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; allows two users to communicate
+  directly, browser-to-browser. Communications are coordinated via a
+  signaling channel provided by script in the page via the server,
+  e.g. using &lt;code&gt;XMLHttpRequest&lt;/code&gt;.&lt;/p&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; = new &lt;code title=dom-PeerConnection&gt;&lt;a href=#dom-peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt; string gives the address
+    of a STUN or TURN server to use to establish the connection. &lt;a href=#refsSTUN&gt;[STUN]&lt;/a&gt; &lt;a href=#refsTURN&gt;[TURN]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;The allowed formats for this string are:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; 203.0.113.2:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific IP address and port for the server.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; relay.example.net:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific host and port for the server; the user agent will look up the IP address in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; example.net&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific domain for the server; the user agent will look up the IP address and port in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p&gt;The &quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt;&lt;/code&gt;&quot; is one of:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server that is to be contacted using a TLS session.
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server that is to be contacted using a TLS session.
+
+    &lt;/dl&gt;&lt;p&gt;The &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; argument is a method
+    that will be invoked when the user agent needs to send a message
+    to the other host over the signaling channel. When the callback
+    is invoked, convey its argument (a string) to the other peer using
+    whatever method is being used by the Web application to relay
+    signaling messages. (Messages returned from the other peer are
+    provided back to the user agent using the &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage()&lt;/a&gt;&lt;/code&gt;
+    method.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;When a message is relayed from the remote peer over the
+    signaling channel is received by the Web application, pass it to
+    the user agent by calling the &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage()&lt;/a&gt;&lt;/code&gt;
+    method.&lt;/p&gt;
+
+    &lt;p&gt;The order of messages is important. Passing messages to the
+    user agent in a different order than they were generated by the
+    remote peer's user agent can prevent a successful connection from
+    being established or degrade the connection's quality if one is
+    established.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-send&gt;&lt;a href=#dom-peerconnection-send&gt;send&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;text&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to send the given text to the remote peer. This uses
+    UDP, which is inherently unreliable; there is no guarantee that
+    every message will be received.&lt;/p&gt;
+
+    &lt;p&gt;When a message sent in this manner from the other peer is
+    received, a &lt;code title=event-PeerConnection-text&gt;text&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-addStream&gt;&lt;a href=#dom-peerconnection-addstream&gt;addStream&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to starting sending the given stream to the remote
+    peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer starts sending a stream in this manner, an
+    &lt;code title=event-PeerConnection-addstream&gt;addstream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-removeStream&gt;&lt;a href=#dom-peerconnection-removestream&gt;removeStream&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Steps sending the given stream to the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer stops sending a stream in this manner, a
+    &lt;code title=event-PeerConnection-removestream&gt;removestream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently attempting to transmit to the remote peer (those that
+    were added with &lt;code title=dom-PeerConnection-addStream&gt;&lt;a href=#dom-peerconnection-addstream&gt;addStream()&lt;/a&gt;&lt;/code&gt;).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently receiving from the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;This array is updated when &lt;code title=event-PeerConnection-addstream&gt;addstream&lt;/code&gt; and &lt;code title=event-PeerConnection-removestream&gt;removestream&lt;/code&gt;
+    events are fired.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object has an associated
+  &lt;dfn id=peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/dfn&gt;, a
+  &lt;dfn id=peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/dfn&gt;, a
+  &lt;dfn id=peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/dfn&gt; and an
+  &lt;dfn id=ice-started-flag&gt;ICE started flag&lt;/dfn&gt;. These are initialized when the object
+  is created.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-peerconnection title=dom-PeerConnection&gt;&lt;code&gt;PeerConnection()&lt;/code&gt;&lt;/dfn&gt;
+  constructor is invoked, the user agent must run the following steps.
+  This algorithm has a &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; (which is
+  triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; algorithm). Steps
+  in the &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; are marked with
+  &#8987;.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; be the constructor's
+   first argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; be the
+   constructor's second argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be a newly created
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an ICE Agent and let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; be that ICE
+   Agent. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; contains a U+000A LINE
+   FEED (LF) character or a U+000D CARRIAGE RETURN (CR) character (or
+   both), remove all characters from &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt;
+   after the first such character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#split-a-string-on-spaces title=&quot;split a string on spaces&quot;&gt;Split &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; on spaces&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; has two or more
+    components, and the first component is a
+    &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for one of the following
+    strings:&lt;/p&gt;
+
+    &lt;ul class=brief&gt;&lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;
+    &lt;/ul&gt;&lt;p&gt;...then run the following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; be STUN if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;,
+     and TURN otherwise (the first component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is &quot;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;).&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; be true if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;,
+     and false otherwise.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;host&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; up to
+     the character before the first U+003A COLON character (:), if
+     any, or the entire string otherwise.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;port&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; from
+     the character after the first U+003A COLON character (:) up to
+     the end, if any, or the empty string otherwise.&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Configure the &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+      Agent&lt;/a&gt;'s STUN or TURN server as follows:&lt;/p&gt;
+
+      &lt;ul&gt;&lt;li&gt;If &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is STUN, the server is a
+       STUN server. Otherwise, &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is TURN
+       and the server is a TURN server.&lt;/li&gt;
+
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; is true, the server is to be
+       contacted using TLS-over-TCP, otherwise, it is to be contacted
+       using UDP.&lt;/li&gt;
+
+       &lt;li&gt;The IP address, host name, or domain name of the server is
+       &lt;var title=&quot;&quot;&gt;host&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;The port to use is &lt;var title=&quot;&quot;&gt;port&lt;/var&gt;. If this is the
+       empty string, then only a domain name is configured (and the
+       ICE Agent will use DNS SRV requests to determine the IP address
+       and port).&lt;/li&gt;
+
+       &lt;li&gt;The long-term username for the the STUN or TURN server is
+       the &lt;a href=#ascii-serialization-of-an-origin title=&quot;ASCII serialization of an origin&quot;&gt;ASCII
+       serialization&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
+       &lt;a href=#origin&gt;origin&lt;/a&gt;; the long-term password is the empty
+       string.&lt;/li&gt;
+
+      &lt;/ul&gt;&lt;p&gt;If the given IP address, host name, domain name, or port are
+      invalid, then the user agent must act as if no STUN or TURN
+      server is configured.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/a&gt; be
+   &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+   flag&lt;/a&gt; to false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; be a
+   new &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; array. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; array. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;, but continue these
+   steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#await-a-stable-state&gt;Await a stable state&lt;/a&gt;. The &lt;a href=#synchronous-section&gt;synchronous
+   section&lt;/a&gt; consists of the remaining steps of this
+   algorithm. (Steps in &lt;a href=#synchronous-section title=&quot;synchronous section&quot;&gt;synchronous
+   sections&lt;/a&gt; are marked with &#8987;.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&#8987; If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is still false, start the
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; and send the
+   initial offer. The initial offer must include a media description
+   for the &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media
+   stream&lt;/a&gt; and for all the streams in &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&#8987; Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; be true.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; is
+  required to send SDP offers or answers, the user agent must follow
+  these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the SDP offer or answer to be
+   sent. &lt;a href=#refsSDPOFFERANSWER&gt;[SDPOFFERANSWER]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the concatenation of the
+   string &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot;, a U+000A LINE FEED (LF)
+   character, and &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt;, in that order.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke that
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt;'s
+   &lt;a href=#peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/a&gt; with
+   &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; as its argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;All SDP media descriptions for streams represented by
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; objects must include a label attribute (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the value of the
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;a href=#peerconnection-ice-agent title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/a&gt; must not
+  generate any candidates for media streams whose media descriptions
+  do not have a label attribute (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;). &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt; &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When a user agent starts receiving media for a component an a
+  candidate provided for that component by a
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt;, the user agent
+  must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; whose ICE Agent is expecting this
+   media.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is already a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object for the
+   media stream to which this component belongs, then associate the
+   component with that media stream and abort these steps. (Some media
+   streams have multiple components; this API does not expose the
+   role of these individual components in ICE.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object to represent the media
+   stream. Set its &lt;code title=attr-stream-label&gt;label&lt;/code&gt;
+   attribute to the value of the SDP Label attribute for that
+   component's media stream.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to add the newly created
+   &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object to the end of &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   array, then &lt;a href=#fire-a-stream-event&gt;fire a stream event&lt;/a&gt; named &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt; with the newly
+   created &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object at the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; finds
+  that a stream from the remote peer has been removed (its port has
+  been set to zero in a media description sent on the signaling
+  channel), the user agent must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; whose &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   ICE Agent&lt;/a&gt; has determined that a stream is being removed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;
+   object that represents the media stream being removed, if any. If
+   there isn't one, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to remove &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; from &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   array, then &lt;a href=#fire-a-stream-event&gt;fire a stream event&lt;/a&gt; named &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt; with &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; at the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;
+   object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-signalingmessage title=dom-PeerConnection-signalingMessage&gt;&lt;code title=&quot;&quot;&gt;signalingMessage()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the first four characters of &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; are
+    not &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot; followed by a U+000A LINE FEED
+    (LF) character, then abort these steps. (This indicates an error
+    in the signaling channel implementation. User agents may report
+    such errors to their developer consoles to aid debugging.)&lt;/p&gt;
+
+    &lt;p class=note&gt;Future extensions to the
+    &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; interface might use other prefix
+    values to implement additional features.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the string consisting of all
+   but the first four characters of &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+    flag&lt;/a&gt; is still false, start the
+    &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; and pass it
+    &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; as the initial offer from the other peer;
+    the ICE Agent will then (asynchronously) construct the initial
+    answer and transmit it as described above. The initial answer must
+    include a media description for the
+    &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; and
+    for all the streams in &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+    flag&lt;/a&gt; is true, then pass &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; to the
+    &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; as a subsequent
+    offer or answer, to be interpreted as appropriate given the
+    current state of the ICE Agent. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+   flag&lt;/a&gt; be true.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-send title=dom-PeerConnection-send&gt;&lt;code title=&quot;&quot;&gt;send()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's first
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;
+   encoded as UTF-8. &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is longer than 65470 bytes,
+   throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these
+   steps.&lt;/li&gt;
+   &lt;!-- 65470 = 65535 (64K, max IP size) - 40 (IP header) - 8 (UDP header) - 16 (nonce) - 1 (payload type byte) --&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; is
+   not an &lt;a href=#active-data-udp-media-stream&gt;active data UDP media stream&lt;/a&gt;, abort these
+   steps. No message is sent.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#transmit-a-data-packet-to-a-peer&gt;Transmit a data packet to a peer&lt;/a&gt; using the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   data UDP media stream&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as the
+   message.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-addstream title=dom-PeerConnection-addStream&gt;&lt;code title=&quot;&quot;&gt;addStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is already in the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt; object,
+   then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; to the end of the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is false, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; add a media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt; &lt;!-- section 9.1.1.3 --&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-removestream title=dom-PeerConnection-removeStream&gt;&lt;code title=&quot;&quot;&gt;removeStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is not in the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt; object,
+   then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; from the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is false, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; remove the media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt; &lt;!-- section 9.1.1.2 --&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-peerconnection-localstreams title=dom-PeerConnection-localStreams&gt;&lt;code&gt;localStreams&lt;/code&gt;&lt;/dfn&gt;
+  and &lt;dfn id=dom-peerconnection-remotestreams title=dom-PeerConnection-remoteStreams&gt;&lt;code&gt;remoteStreams&lt;/code&gt;&lt;/dfn&gt;
+  attributes must return the read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; arrays that
+  the attributes were respectively set to when the
+  &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s constructor ran.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
+  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;
+  interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-ontext title=handler-PeerConnection-ontext&gt;&lt;code&gt;ontext&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-text&gt;text&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-onaddstream title=handler-PeerConnection-onaddstream&gt;&lt;code&gt;onaddstream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-onremovestream title=handler-PeerConnection-onremovestream&gt;&lt;code&gt;onremovestream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt;
+  &lt;/table&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; listed in this section is the
+  &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;When two peers decide they are going to set up a connection to
+   each other, they both go through these steps. The STUN/TURN server
+   configuration describes a server they can use to get things like
+   their public IP address or to set up NAT traversal. They also have
+   to send data for the signaling channel to each other using the same
+   out-of-band mechanism they used to establish that they were going
+   to communicate in the first place.&lt;/p&gt;
+
+   &lt;pre&gt;// the first argument describes the STUN/TURN server configuration
+var local = new PeerConnection('TURNS example.net', sendSignalingChannel);
+local.signalingChannel(...); // if we have a message from the other side, pass it along here
+
+// (aLocalStream is some GeneratedStream object)
+local.addStream(aLocalStream); // start sending video
+
+function sendSignalingChannel(message) {
+  ... // send message to the other side via the signaling channel
+}
+
+function receiveSignalingChannel (message) {
+  // call this whenever we get a message on the signaling channel
+  local.signalingChannel(message);
+}
+
+local.onaddstream = function (event) {
+  // (videoElement is some &lt;video&gt; element)
+  videoElement.src = URL.getObjectURL(event.stream);
+};&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;p class=warning&gt;To prevent network sniffing from allowing a
+  fourth party to establish a connection to a peer using the
+  information sent out-of-band to the other peer and thus spoofing the
+  client, the configuration information should always be transmitted
+  using an encrypted connection.&lt;/p&gt;
+
+
+
+  &lt;h4 id=the-data-stream&gt;&lt;span class=secno&gt;9.1.4 &lt;/span&gt;The data stream&lt;/h4&gt;
+
+  &lt;p&gt;All &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; connections include a &lt;dfn id=data-udp-media-stream&gt;data
+  UDP media stream&lt;/dfn&gt;, which is used to send data packets
+  peer-to-peer, for instance game control packets. This data channel
+  is unreliable (packets are not guaranteed to be delivered, and are
+  not guaranteed to be delivered in the right order).&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;a href=#data-udp-media-stream title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/a&gt; must include a label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the string &quot;&lt;code title=&quot;&quot;&gt;data&lt;/code&gt;&quot;. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;a href=#data-udp-media-stream title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/a&gt; must also include a key field
+  (&quot;&lt;code title=&quot;&quot;&gt;k=&lt;/code&gt;&quot;), with the value being a base64-encoded
+  representation of 16 cryptographically random bytes determined on a
+  per-ICE-Agent basis. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;a href=#peerconnection-ice-agent title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/a&gt; must attempt to
+  establish a connection for their &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+  data UDP media stream&lt;/a&gt; during the initial offer/answer
+  exchange, and must maintain that UDP media stream for the ICE
+  Agents' whole lifetime.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; is an &lt;dfn id=active-data-udp-media-stream&gt;active data UDP
+  media stream&lt;/dfn&gt; if the &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+  Agent&lt;/a&gt; has selected a destination for it. A &lt;a href=#data-udp-media-stream&gt;data UDP
+  media stream&lt;/a&gt; can change active status many times during the
+  lifetime of its &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object (e.g. any time
+  the network topology changes and the ICE Agent performs an ICE
+  Restart). &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Bytes transmitted on a &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; are
+  masked so as to prevent cross-protocol attacks (&lt;a href=#data-udp-media-stream&gt;data UDP media
+  stream&lt;/a&gt; always appear to contain random noise to other
+  protocols). For the purposes of masking, the &lt;dfn id=data-udp-media-stream-salt&gt;data UDP media
+  stream salt&lt;/dfn&gt; is defined to be the following 16 bytes, described
+  here as hexadecimal numbers: DB 68 B5 FD 17 0E 15 77 56 AF 7A 3A 1A
+  57 75 02&lt;/p&gt; &lt;!-- obtained thusly: head -c 16 /dev/urandom |
+  hexdump -C --&gt;
+
+  &lt;p&gt;When the user agent is to &lt;dfn id=transmit-a-data-packet-to-a-peer&gt;transmit a data packet to a
+  peer&lt;/dfn&gt; using a &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; and with a
+  byte string payload &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must
+  run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be 16 cryptographically random
+   bytes.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; in its
+   media description, as defined above.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;a href=#data-udp-media-stream-salt&gt;data UDP media stream salt&lt;/a&gt; bytes. &lt;a href=#refsHMAC&gt;[HMAC]&lt;/a&gt; &lt;a href=#refsSHA1&gt;[SHA1]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a 0x01 byte followed by
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;masked message&lt;/var&gt; be the result of
+   encrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a href=#refsAES128CTR&gt;[AES128CTR]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Send the concatenation of &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;masked message&lt;/var&gt; in a UDP packet to the destination
+   that the relevant &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+   Agent&lt;/a&gt; has selected a destination for the &lt;a href=#data-udp-media-stream&gt;data UDP
+   media stream&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;A &lt;dfn id=remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/dfn&gt; is the first UDP media
+  stream whose sender is the remote peer, whose label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) has the value &quot;&lt;code title=&quot;&quot;&gt;data&lt;/code&gt;&quot;, and for which a
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; has selected a
+  destination, if that media stream has an encryption key advertised
+  in its media description, and if that encryption key is 16 bytes
+  long. A &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; is associated with
+  the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object for which the
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; in question is
+  operating.&lt;/p&gt;
+
+  &lt;p&gt;When a packet from a &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; is
+  received, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the UDP packet's data.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is shorter than 17 bytes, then
+   abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be the first 16 bytes of the
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; in
+   the media description for this media stream. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;a href=#data-udp-media-stream-salt&gt;data UDP media stream salt&lt;/a&gt; bytes. &lt;a href=#refsHMAC&gt;[HMAC]&lt;/a&gt; &lt;a href=#refsSHA1&gt;[SHA1]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; be the result of
+   decrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a href=#refsAES128CTR&gt;[AES128CTR]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the first byte of &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; is
+   not 0x01, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;raw message&lt;/var&gt; be the string consisting
+   of all but the first character of &lt;var title=&quot;&quot;&gt;unmasked
+   message&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;raw
+   message&lt;/var&gt; &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error
+   handling&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an event that uses the &lt;code&gt;&lt;a href=#messageevent&gt;MessageEvent&lt;/a&gt;&lt;/code&gt;
+   interface, with the name &lt;code title=event-text&gt;text&lt;/code&gt;,
+   which does not bubble, is not cancelable, has no default action,
+   and has a &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute
+   whose value is &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, and &lt;a href=#queue-a-task&gt;queue a
+   task&lt;/a&gt; to dispatch the event at the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object that the &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP
+   media stream&lt;/a&gt; is associated with.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h4 id=event-definitions-0&gt;&lt;span class=secno&gt;9.1.5 &lt;/span&gt;Event definitions&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt; and
+  &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt; events
+  use the &lt;code&gt;&lt;a href=#streamevent&gt;StreamEvent&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=streamevent&gt;StreamEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt; &lt;a href=#dom-streamevent-stream title=dom-StreamEvent-stream&gt;stream&lt;/a&gt;;
+  void &lt;a href=#dom-closeevent-initcloseevent title=dom-CloseEvent-initCloseEvent&gt;initCloseEvent&lt;/a&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in &lt;a href=#stream&gt;Stream&lt;/a&gt; streamArg);
+};&lt;/pre&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-streamevent-initstreamevent title=dom-StreamEvent-initStreamEvent&gt;&lt;code&gt;initStreamEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-streamevent-stream title=dom-StreamEvent-stream&gt;&lt;code&gt;stream&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object associated with
+  the event.&lt;/p&gt;
+
+  &lt;p&gt;&lt;dfn id=fire-a-stream-event title=&quot;fire a stream event&quot;&gt;Firing a stream event named &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;&lt;/dfn&gt; with a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; means that an event with the name &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, which does not bubble (except where otherwise
+  stated) and is not cancelable (except where otherwise stated), and
+  which uses the &lt;code&gt;&lt;a href=#streamevent&gt;StreamEvent&lt;/a&gt;&lt;/code&gt; interface with the &lt;code title=dom-StreamEvent-stream&gt;&lt;a href=#dom-streamevent-stream&gt;stream&lt;/a&gt;&lt;/code&gt; attribute set to &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;, must be dispatched at the given target.&lt;/p&gt;
+
+
+  &lt;h4 id=event-summary&gt;&lt;span class=secno&gt;9.1.6 &lt;/span&gt;Event Summary&lt;/h4&gt;
+
+  &lt;p class=XXX&gt;...will add event summary for streams here...&lt;/p&gt;
+
+&lt;/div&gt;
+
+
+
+
+
+
+
+
+  &lt;div data-component=&quot;Web Workers (editor: Ian Hickson)&quot;&gt;
+
+  &lt;h2 id=workers&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Web workers&lt;/h2&gt;
+
+
+
+
+  &lt;h3 id=introduction-9&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+
+  &lt;h4 id=scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/h4&gt;
+
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
   &lt;p&gt;This specification defines an API for running scripts in the
@@ -71229,14 +72445,14 @@
   start-up performance cost, and a high per-instance memory cost.&lt;/p&gt;
 
 
-  &lt;h4 id=tutorial&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Tutorial&lt;/h4&gt;
+  &lt;h4 id=tutorial&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Tutorial&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
   &lt;p&gt;There are a variety of uses that workers can be put to. The
   following subsections show various examples of this use.&lt;/p&gt;
 
-  &lt;h5 id=a-background-number-crunching-worker&gt;&lt;span class=secno&gt;9.1.2.1 &lt;/span&gt;A background number-crunching worker&lt;/h5&gt;
+  &lt;h5 id=a-background-number-crunching-worker&gt;&lt;span class=secno&gt;10.1.2.1 &lt;/span&gt;A background number-crunching worker&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71283,14 +72499,14 @@
 }&lt;/pre&gt;
 
   &lt;p&gt;The bulk of this code is simply an unoptimized search for a prime
-  number. To send a message back to the page, the &lt;code title=dom-DedicatedWorkerGlobalScope-postMessage&gt;&lt;a href=#dom-dedicatedworkerglobalscope-postmessage&gt;postMessage()&lt;/a&gt;&lt;/code&gt;
+  number. To send a message back to the page, the &lt;code title=dom-DedicatedWorkerGlobalScope-send&gt;send()&lt;/code&gt;
   method is used to post a message when a prime is found.&lt;/p&gt;
 
   &lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/demos/workers/primes/page.html">http://www.whatwg.org/demos/workers/primes/page.html</A>&gt;View this example online&lt;/a&gt;.&lt;/p&gt;
 
 
 
-  &lt;h5 id=a-worker-for-updating-a-client-side-database&gt;&lt;span class=secno&gt;9.1.2.2 &lt;/span&gt;A worker for updating a client-side database&lt;/h5&gt;
+  &lt;h5 id=a-worker-for-updating-a-client-side-database&gt;&lt;span class=secno&gt;10.1.2.2 &lt;/span&gt;A worker for updating a client-side database&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71338,7 +72554,7 @@
 
 
 
-  &lt;h5 id=worker-used-for-background-i/o&gt;&lt;span class=secno&gt;9.1.2.3 &lt;/span&gt;Worker used for background I/O&lt;/h5&gt;
+  &lt;h5 id=worker-used-for-background-i/o&gt;&lt;span class=secno&gt;10.1.2.3 &lt;/span&gt;Worker used for background I/O&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71445,7 +72661,7 @@
   &lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/demos/workers/stocks/page.html">http://www.whatwg.org/demos/workers/stocks/page.html</A>&gt;View this example online&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=shared-workers-introduction&gt;&lt;span class=secno&gt;9.1.2.4 &lt;/span&gt;Shared workers introduction&lt;/h5&gt;
+  &lt;h5 id=shared-workers-introduction&gt;&lt;span class=secno&gt;10.1.2.4 &lt;/span&gt;Shared workers introduction&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71571,7 +72787,7 @@
   &lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/demos/workers/shared/003/test.html">http://www.whatwg.org/demos/workers/shared/003/test.html</A>&gt;View this example online&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=shared-state-using-a-shared-worker&gt;&lt;span class=secno&gt;9.1.2.5 &lt;/span&gt;Shared state using a shared worker&lt;/h5&gt;
+  &lt;h5 id=shared-state-using-a-shared-worker&gt;&lt;span class=secno&gt;10.1.2.5 &lt;/span&gt;Shared state using a shared worker&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71855,7 +73071,7 @@
   &lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/demos/workers/multiviewer/page.html">http://www.whatwg.org/demos/workers/multiviewer/page.html</A>&gt;View this example online&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=delegation&gt;&lt;span class=secno&gt;9.1.2.6 &lt;/span&gt;Delegation&lt;/h5&gt;
+  &lt;h5 id=delegation&gt;&lt;span class=secno&gt;10.1.2.6 &lt;/span&gt;Delegation&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -72187,7 +73403,7 @@
 
 
 
-  &lt;h3 id=infrastructure-0&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;Infrastructure&lt;/h3&gt;
+  &lt;h3 id=infrastructure-0&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Infrastructure&lt;/h3&gt;
 
   &lt;p&gt;There are two kinds of workers; dedicated workers, and shared
   workers. Dedicated workers, once created, and are linked to their
@@ -72198,11 +73414,11 @@
   obtain a reference to that worker and communicate with it.&lt;/p&gt;
 
 
-  &lt;h4 id=the-global-scope&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;The global scope&lt;/h4&gt;
+  &lt;h4 id=the-global-scope&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;The global scope&lt;/h4&gt;
 
   &lt;p&gt;The global scope is the &quot;inside&quot; of a worker.&lt;/p&gt;
 
-  &lt;h5 id=the-workerglobalscope-abstract-interface&gt;&lt;span class=secno&gt;9.2.1.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
+  &lt;h5 id=the-workerglobalscope-abstract-interface&gt;&lt;span class=secno&gt;10.2.1.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=workerglobalscope&gt;WorkerGlobalScope&lt;/dfn&gt; {
   readonly attribute &lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt; &lt;a href=#dom-workerglobalscope-self title=dom-WorkerGlobalScope-self&gt;self&lt;/a&gt;;
@@ -72256,7 +73472,7 @@
 
 
 
-  &lt;h5 id=dedicated-workers-and-the-dedicatedworkerglobalscope-interface&gt;&lt;span class=secno&gt;9.2.1.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=dedicated-workers-and-the-dedicatedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;dfn id=dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/dfn&gt; : &lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt; {
@@ -72297,7 +73513,7 @@
 
 
 
-  &lt;h5 id=shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;9.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;dfn id=sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/dfn&gt; : &lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt; {
@@ -72335,7 +73551,7 @@
   --&gt;
 
 
-  &lt;h4 id=origins-of-workers&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;Origins of workers&lt;/h4&gt;
+  &lt;h4 id=origins-of-workers&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;Origins of workers&lt;/h4&gt;
 
   &lt;p&gt;Both the &lt;a href=#origin&gt;origin&lt;/a&gt; and &lt;a href=#effective-script-origin&gt;effective script
   origin&lt;/a&gt; of scripts running in workers are the
@@ -72345,7 +73561,7 @@
 
 
 
-  &lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The event loop&lt;/h4&gt;
+  &lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;The event loop&lt;/h4&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event
   loop&lt;/a&gt; distinct from those defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of
@@ -72371,7 +73587,7 @@
 
 
 
-  &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
+  &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
 
   &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
   &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
@@ -72443,7 +73659,7 @@
   &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-4&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-4&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with
   &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a &lt;a href=#browsing-context&gt;browsing
@@ -72721,7 +73937,7 @@
   &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
+  &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
 
   &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
   worker's scripts, if the error did not occur while handling a
@@ -72780,9 +73996,9 @@
 
 
 
-  &lt;h4 id=creating-workers&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Creating workers&lt;/h4&gt;
+  &lt;h4 id=creating-workers&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Creating workers&lt;/h4&gt;
 
-  &lt;h5 id=the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.7.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
+  &lt;h5 id=the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;10.2.7.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;dfn id=abstractworker&gt;AbstractWorker&lt;/dfn&gt; {
@@ -72799,7 +74015,7 @@
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-abstractworker-onerror title=handler-AbstractWorker-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-error&gt;error&lt;/code&gt;
 &lt;!-- v2-onclose    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-AbstractWorker-onclose&quot;&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-close&quot;&gt;close&lt;/code&gt; --&gt;
-  &lt;/table&gt;&lt;h5 id=dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;/table&gt;&lt;h5 id=dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;10.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-worker title=dom-Worker&gt;Constructor&lt;/a&gt;(in DOMString scriptURL)]
 interface &lt;dfn id=worker&gt;Worker&lt;/dfn&gt; : &lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt; {
@@ -72945,7 +74161,7 @@
   implementing the &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
 
-  &lt;h5 id=shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;10.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-sharedworker title=dom-SharedWorker&gt;Constructor&lt;/a&gt;(in DOMString scriptURL, in optional DOMString name)]
 interface &lt;dfn id=sharedworker&gt;SharedWorker&lt;/dfn&gt; : &lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt; {
@@ -73160,7 +74376,7 @@
 
 
 
-  &lt;h3 id=apis-available-to-workers&gt;&lt;span class=secno&gt;9.3 &lt;/span&gt;APIs available to workers&lt;/h3&gt;
+  &lt;h3 id=apis-available-to-workers&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;APIs available to workers&lt;/h3&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;dfn id=workerutils&gt;WorkerUtils&lt;/dfn&gt; {
@@ -73174,7 +74390,7 @@
   specification.&lt;/p&gt;
 
 
-  &lt;h4 id=importing-scripts-and-libraries&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/h4&gt;
+  &lt;h4 id=importing-scripts-and-libraries&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/h4&gt;
 
   &lt;p&gt;When a script invokes the &lt;dfn id=dom-workerglobalscope-importscripts title=dom-WorkerGlobalScope-importScripts&gt;&lt;code&gt;importScripts(&lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on a
   &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, the user agent must run the
@@ -73264,7 +74480,7 @@
 
     &lt;/ol&gt;&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h4 id=the-workernavigator-object&gt;&lt;span class=secno&gt;9.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; object&lt;/h4&gt;
+  &lt;/ol&gt;&lt;h4 id=the-workernavigator-object&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; object&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-worker-navigator title=dom-worker-navigator&gt;&lt;code&gt;navigator&lt;/code&gt;&lt;/dfn&gt; attribute
   of the &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt; interface must return an instance of
@@ -73287,7 +74503,7 @@
 
 
 
-  &lt;h4 id=interface-objects-and-constructors&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Interface objects and constructors&lt;/h4&gt;
+  &lt;h4 id=interface-objects-and-constructors&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Interface objects and constructors&lt;/h4&gt;
 
   &lt;p&gt;There must be no interface objects and constructors available in
   the global scope of scripts whose &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
@@ -73322,7 +74538,7 @@
   visibility of interfaces annotated with the &lt;code title=&quot;&quot;&gt;[NoInterfaceObject]&lt;/code&gt; extended attribute.&lt;/p&gt;
 
 
-  &lt;h4 id=worker-locations&gt;&lt;span class=secno&gt;9.3.4 &lt;/span&gt;Worker locations&lt;/h4&gt;
+  &lt;h4 id=worker-locations&gt;&lt;span class=secno&gt;10.3.4 &lt;/span&gt;Worker locations&lt;/h4&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=workerlocation&gt;WorkerLocation&lt;/dfn&gt; {
   // &lt;a href=#url-decomposition-idl-attributes&gt;URL decomposition IDL attributes&lt;/a&gt;
@@ -73368,13 +74584,13 @@
 
 
 
-  &lt;h2 id=comms&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Communication&lt;/h2&gt;
+  &lt;h2 id=comms&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Communication&lt;/h2&gt;
 
   &lt;div data-component=&quot;Web Messaging (editor: Ian Hickson)&quot;&gt;
 
 
 
-  &lt;h3 id=event-definitions-0&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
+  &lt;h3 id=event-definitions-1&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
 
   &lt;p&gt;Messages in &lt;a href=#server-sent-events&gt;server-sent events&lt;/a&gt;, &lt;a href=#network&gt;Web
   sockets&lt;/a&gt;, &lt;a href=#web-messaging&gt;cross-document messaging&lt;/a&gt;, and
@@ -73484,13 +74700,13 @@
   
 
 
-  &lt;h3 id=server-sent-events&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;&lt;dfn&gt;Server-sent events&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=server-sent-events&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;&lt;dfn&gt;Server-sent events&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;div data-component=&quot;Server-Sent Events (editor: Ian Hickson)&quot;&gt;
 
   
 
-  &lt;h4 id=server-sent-events-intro&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=server-sent-events-intro&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -73526,7 +74742,7 @@
   discussed further in the section below on &lt;a href=#eventsource-push&gt;connectionless push&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-eventsource-interface&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-eventsource-interface&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-eventsource title=dom-EventSource&gt;Constructor&lt;/a&gt;(in DOMString url)]
 interface &lt;dfn id=eventsource&gt;EventSource&lt;/dfn&gt; {
@@ -73648,7 +74864,7 @@
   &lt;/ul&gt;&lt;p&gt;These values are not currently exposed on the interface.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;The resource indicated in the argument to the &lt;code title=dom-EventSource&gt;&lt;a href=#dom-eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; constructor is &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; when the constructor is run.&lt;/p&gt;
 
@@ -73759,7 +74975,7 @@
   &lt;dfn id=remote-event-task-source&gt;remote event task source&lt;/dfn&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=parsing-an-event-stream&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
+  &lt;h4 id=parsing-an-event-stream&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
 
   &lt;p&gt;This event stream format's &lt;a href=#mime-type&gt;MIME type&lt;/a&gt; is
   &lt;code&gt;&lt;a href=#text/event-stream&gt;text/event-stream&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
@@ -73800,7 +75016,7 @@
   expected line endings can cause delays in event dispatch.&lt;/p&gt;
 
 
-  &lt;h4 id=event-stream-interpretation&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Interpreting an event stream&lt;/h4&gt;
+  &lt;h4 id=event-stream-interpretation&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;Interpreting an event stream&lt;/h4&gt;
 
   &lt;p&gt;Streams must be &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error
   handling&lt;/a&gt;.
@@ -74067,7 +75283,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=notes&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Notes&lt;/h4&gt;
+  &lt;h4 id=notes&gt;&lt;span class=secno&gt;11.2.6 &lt;/span&gt;Notes&lt;/h4&gt;
 
   &lt;p&gt;Legacy proxy servers are known to, in certain cases, drop HTTP
   connections after a short timeout. To protect against such proxy
@@ -74100,7 +75316,7 @@
   &lt;/p&gt;
 
 
-  &lt;h4 id=eventsource-push&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Connectionless push and other features&lt;/h4&gt;
+  &lt;h4 id=eventsource-push&gt;&lt;span class=secno&gt;11.2.7 &lt;/span&gt;Connectionless push and other features&lt;/h4&gt;
 
   &lt;p&gt;User agents running in controlled environments, e.g. browsers on
   mobile handsets tied to specific carriers, may offload the
@@ -74157,7 +75373,7 @@
   define how they are to be parsed or processed.&lt;/p&gt;
 
 
-  &lt;h4 id=garbage-collection-0&gt;&lt;span class=secno&gt;10.2.8 &lt;/span&gt;Garbage collection&lt;/h4&gt;
+  &lt;h4 id=garbage-collection-0&gt;&lt;span class=secno&gt;11.2.8 &lt;/span&gt;Garbage collection&lt;/h4&gt;
 
   &lt;p&gt;While an &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is not &lt;code title=dom-EventSource-CLOSED&gt;&lt;a href=#dom-eventsource-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt;, and the object has one
   or more event listeners registered for &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events, there must be a strong
@@ -74169,9 +75385,9 @@
   its connection is still open, the connection must be closed.&lt;/p&gt;
 
 
-  &lt;h4 id=iana-considerations&gt;&lt;span class=secno&gt;10.2.9 &lt;/span&gt;IANA considerations&lt;/h4&gt;
+  &lt;h4 id=iana-considerations&gt;&lt;span class=secno&gt;11.2.9 &lt;/span&gt;IANA considerations&lt;/h4&gt;
 
-  &lt;h5 id=text/event-stream&gt;&lt;span class=secno&gt;10.2.9.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=text/event-stream&gt;&lt;span class=secno&gt;11.2.9.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -74249,7 +75465,7 @@
   &lt;code&gt;&lt;a href=#text/event-stream&gt;text/event-stream&lt;/a&gt;&lt;/code&gt; resources.&lt;/p&gt;
 
 
-  &lt;h5 id=last-event-id&gt;&lt;span class=secno&gt;10.2.9.2 &lt;/span&gt;&lt;dfn title=http-last-event-id&gt;&lt;code&gt;Last-Event-ID&lt;/code&gt;&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=last-event-id&gt;&lt;span class=secno&gt;11.2.9.2 &lt;/span&gt;&lt;dfn title=http-last-event-id&gt;&lt;code&gt;Last-Event-ID&lt;/code&gt;&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;This section describes a header field for registration in the
   Permanent Message Header Field Registry.  &lt;a href=#refsRFC3864&gt;[RFC3864]&lt;/a&gt;&lt;/p&gt;
@@ -74271,13 +75487,13 @@
   &lt;/dl&gt;&lt;/div&gt;&lt;!--data-component--&gt;
 
 
-  &lt;h3 id=network&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;&lt;dfn&gt;Web sockets&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=network&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;&lt;dfn&gt;Web sockets&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;div data-component=&quot;WebSocket API (editor: Ian Hickson)&quot;&gt;
 
 
 
-  &lt;h4 id=network-intro&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=network-intro&gt;&lt;span class=secno&gt;11.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -74291,7 +75507,7 @@
   server.&lt;/p&gt;
 
 
-  &lt;h4 id=the-websocket-interface&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-websocket-interface&gt;&lt;span class=secno&gt;11.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-websocket title=dom-WebSocket&gt;Constructor&lt;/a&gt;(in DOMString url, in optional DOMString protocols)]
 [&lt;a href=#dom-websocket title=dom-WebSocket&gt;Constructor&lt;/a&gt;(in DOMString url, in optional DOMString[] protocols)]
@@ -74566,7 +75782,7 @@
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onmessage title=handler-WebSocket-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onerror title=handler-WebSocket-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-error&gt;error&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-websocket-onclose title=handler-WebSocket-onclose&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-close&gt;close&lt;/code&gt;
-  &lt;/table&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
+  &lt;/table&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;11.3.3 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
 
   &lt;p&gt;When the &lt;i&gt;WebSocket connection is established&lt;/i&gt;, the user
   agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first change the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
@@ -74617,7 +75833,7 @@
   source&lt;/dfn&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=event-definitions-1&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
+  &lt;h5 id=event-definitions-2&gt;&lt;span class=secno&gt;11.3.3.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=closeevent&gt;CloseEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
   readonly attribute boolean &lt;a href=#dom-closeevent-wasclean title=dom-CloseEvent-wasClean&gt;wasClean&lt;/a&gt;;
@@ -74634,7 +75850,7 @@
 
 
 
-  &lt;h5 id=garbage-collection-1&gt;&lt;span class=secno&gt;10.3.3.2 &lt;/span&gt;Garbage collection&lt;/h5&gt;
+  &lt;h5 id=garbage-collection-1&gt;&lt;span class=secno&gt;11.3.3.2 &lt;/span&gt;Garbage collection&lt;/h5&gt;
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
   was set to &lt;code title=dom-WebSocket-CONNECTING&gt;&lt;a href=#dom-websocket-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;
@@ -74671,7 +75887,7 @@
 
   
 
-  &lt;h3 id=web-messaging&gt;&lt;span class=secno&gt;10.4 &lt;/span&gt;&lt;dfn id=crossDocumentMessages&gt;Cross-document messaging&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=web-messaging&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;&lt;dfn id=crossDocumentMessages&gt;Cross-document messaging&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;Web browsers, for security and privacy reasons, prevent documents
   in different domains from affecting each other; that is, cross-site
@@ -74692,7 +75908,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;10.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;11.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -74733,11 +75949,11 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=security-postmsg&gt;&lt;span class=secno&gt;10.4.2 &lt;/span&gt;Security&lt;/h4&gt;
+  &lt;h4 id=security-postmsg&gt;&lt;span class=secno&gt;11.4.2 &lt;/span&gt;Security&lt;/h4&gt;
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=authors&gt;&lt;span class=secno&gt;10.4.2.1 &lt;/span&gt;Authors&lt;/h5&gt;
+  &lt;h5 id=authors&gt;&lt;span class=secno&gt;11.4.2.1 &lt;/span&gt;Authors&lt;/h5&gt;
 
   &lt;/div&gt;
 
@@ -74765,7 +75981,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=user-agents&gt;&lt;span class=secno&gt;10.4.2.2 &lt;/span&gt;User agents&lt;/h5&gt;
+  &lt;h5 id=user-agents&gt;&lt;span class=secno&gt;11.4.2.2 &lt;/span&gt;User agents&lt;/h5&gt;
 
   &lt;p&gt;The integrity of this API is based on the inability for scripts
   of one &lt;a href=#origin&gt;origin&lt;/a&gt; to post arbitrary events (using &lt;code title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to objects in other
@@ -74781,7 +75997,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=posting-messages&gt;&lt;span class=secno&gt;10.4.3 &lt;/span&gt;Posting messages&lt;/h4&gt;
+  &lt;h4 id=posting-messages&gt;&lt;span class=secno&gt;11.4.3 &lt;/span&gt;Posting messages&lt;/h4&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-postMessage&gt;&lt;a href=#dom-window-postmessage&gt;postMessage&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;targetOrigin&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;ports&lt;/var&gt; ])&lt;/dt&gt;
 
@@ -74923,9 +76139,9 @@
 
 
 
-  &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;10.5 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;10.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-11&gt;&lt;span class=secno&gt;11.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -74962,7 +76178,7 @@
 }&lt;/pre&gt;
 
 
-  &lt;h4 id=message-channels&gt;&lt;span class=secno&gt;10.5.2 &lt;/span&gt;Message channels&lt;/h4&gt;
+  &lt;h4 id=message-channels&gt;&lt;span class=secno&gt;11.5.2 &lt;/span&gt;Message channels&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-messagechannel title=dom-MessageChannel&gt;Constructor&lt;/a&gt;]
 interface &lt;dfn id=messagechannel&gt;MessageChannel&lt;/dfn&gt; {
@@ -75031,7 +76247,7 @@
 
 
 
-  &lt;h4 id=message-ports&gt;&lt;span class=secno&gt;10.5.3 &lt;/span&gt;Message ports&lt;/h4&gt;
+  &lt;h4 id=message-ports&gt;&lt;span class=secno&gt;11.5.3 &lt;/span&gt;Message ports&lt;/h4&gt;
 
   &lt;p&gt;Each channel has two message ports. Data sent through one port is
   received by the other port, and vice versa.&lt;/p&gt;
@@ -75318,7 +76534,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=ports-and-garbage-collection&gt;&lt;span class=secno&gt;10.5.3.1 &lt;/span&gt;Ports and garbage collection&lt;/h5&gt;
+  &lt;h5 id=ports-and-garbage-collection&gt;&lt;span class=secno&gt;11.5.3.1 &lt;/span&gt;Ports and garbage collection&lt;/h5&gt;
 
   &lt;div class=impl&gt;
 
@@ -75371,11 +76587,11 @@
 
   &lt;div data-component=&quot;Web Storage (editor: Ian Hickson)&quot;&gt;
 
-  &lt;h2 id=webstorage&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Web storage&lt;/h2&gt;
+  &lt;h2 id=webstorage&gt;&lt;span class=secno&gt;12 &lt;/span&gt;Web storage&lt;/h2&gt;
 
 
 
-  &lt;h3 id=introduction-11&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -75471,9 +76687,9 @@
 
 
 
-  &lt;h3 id=storage&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;The API&lt;/h3&gt;
+  &lt;h3 id=storage&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;The API&lt;/h3&gt;
 
-  &lt;h4 id=the-storage-interface&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;h4 id=the-storage-interface&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=storage-0&gt;Storage&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=#dom-storage-length title=dom-Storage-length&gt;length&lt;/a&gt;;
@@ -75592,7 +76808,7 @@
   underlying list of key/value pairs see is required.&lt;/p&gt;
 
 
-  &lt;h4 id=the-sessionstorage-attribute&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The &lt;code title=dom-sessionStorage&gt;&lt;a href=#dom-sessionstorage&gt;sessionStorage&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-sessionstorage-attribute&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;The &lt;code title=dom-sessionStorage&gt;&lt;a href=#dom-sessionstorage&gt;sessionStorage&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;span&gt;WindowSessionStorage&lt;/span&gt; {
@@ -75667,7 +76883,7 @@
   storage area, other than &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, a &lt;code title=event-storage&gt;&lt;a href=#event-storage&gt;storage&lt;/a&gt;&lt;/code&gt; event must be fired, as &lt;a href=#event-storage title=event-storage&gt;described below&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-localstorage-attribute&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;The &lt;code title=dom-localStorage&gt;&lt;a href=#dom-localstorage&gt;localStorage&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-localstorage-attribute&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;The &lt;code title=dom-localStorage&gt;&lt;a href=#dom-localstorage&gt;localStorage&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
 interface &lt;span&gt;WindowLocalStorage&lt;/span&gt; {
@@ -75727,7 +76943,7 @@
   &lt;a href=#obtain-the-storage-mutex&gt;obtain the storage mutex&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=security-localStorage&gt;&lt;span class=secno&gt;11.2.3.1 &lt;/span&gt;Security&lt;/h5&gt;
+  &lt;h5 id=security-localStorage&gt;&lt;span class=secno&gt;12.2.3.1 &lt;/span&gt;Security&lt;/h5&gt;
 
   &lt;p&gt;User agents must raise a &lt;code&gt;&lt;a href=#security_err&gt;SECURITY_ERR&lt;/a&gt;&lt;/code&gt; exception
   whenever any of the members of a &lt;code&gt;&lt;a href=#storage-0&gt;Storage&lt;/a&gt;&lt;/code&gt; object
@@ -75744,7 +76960,7 @@
 
 
 
-  &lt;h4 id=the-storage-event&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;The &lt;code title=event-storage&gt;&lt;a href=#event-storage&gt;storage&lt;/a&gt;&lt;/code&gt; event&lt;/h4&gt;
+  &lt;h4 id=the-storage-event&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;The &lt;code title=event-storage&gt;&lt;a href=#event-storage&gt;storage&lt;/a&gt;&lt;/code&gt; event&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=event-storage title=event-storage&gt;&lt;code&gt;storage&lt;/code&gt;&lt;/dfn&gt; event
   is fired when a storage area changes, as described in the previous
@@ -75789,7 +77005,7 @@
   local).&lt;/p&gt;
 
 
-  &lt;h5 id=event-definition-0&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;Event definition&lt;/h5&gt;
+  &lt;h5 id=event-definition-0&gt;&lt;span class=secno&gt;12.2.4.1 &lt;/span&gt;Event definition&lt;/h5&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=storageevent&gt;StorageEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
   readonly attribute DOMString &lt;a href=#dom-storageevent-key title=dom-StorageEvent-key&gt;key&lt;/a&gt;;
@@ -75823,7 +77039,7 @@
 
 
 
-  &lt;h4 id=threads&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;Threads&lt;/h4&gt;
+  &lt;h4 id=threads&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;Threads&lt;/h4&gt;
 
   &lt;p&gt;Because of &lt;a href=#localStorageMutex&gt;the use&lt;/a&gt; of the
   &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt;, multiple browsing contexts will be able
@@ -75837,7 +77053,7 @@
   itself.&lt;/p&gt;
 
 
-  &lt;h3 id=disk-space-0&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Disk space&lt;/h3&gt;
+  &lt;h3 id=disk-space-0&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Disk space&lt;/h3&gt;
 
   &lt;p&gt;User agents should limit the total amount of space allowed for
   storage areas.&lt;/p&gt;
@@ -75865,9 +77081,9 @@
   future.&lt;/p&gt;
 
 
-  &lt;h3 id=privacy&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Privacy&lt;/h3&gt;
+  &lt;h3 id=privacy&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Privacy&lt;/h3&gt;
 
-  &lt;h4 id=user-tracking&gt;&lt;span class=secno&gt;11.4.1 &lt;/span&gt;User tracking&lt;/h4&gt;
+  &lt;h4 id=user-tracking&gt;&lt;span class=secno&gt;12.4.1 &lt;/span&gt;User tracking&lt;/h4&gt;
 
   &lt;p&gt;A third-party advertiser (or any entity capable of getting
   content distributed to multiple sites) could use a unique identifier
@@ -75988,7 +77204,7 @@
   separate sessions into coherent user profiles.&lt;/p&gt;
 
 
-  &lt;h4 id=sensitivity-of-data&gt;&lt;span class=secno&gt;11.4.2 &lt;/span&gt;Sensitivity of data&lt;/h4&gt;
+  &lt;h4 id=sensitivity-of-data&gt;&lt;span class=secno&gt;12.4.2 &lt;/span&gt;Sensitivity of data&lt;/h4&gt;
 
   &lt;p&gt;User agents should treat persistently stored data as potentially
   sensitive; it's quite possible for e-mails, calendar appointments,
@@ -75999,9 +77215,9 @@
   it is promptly deleted from the underlying storage.&lt;/p&gt;
 
 
-  &lt;h3 id=security-storage&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Security&lt;/h3&gt;
+  &lt;h3 id=security-storage&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;Security&lt;/h3&gt;
 
-  &lt;h4 id=dns-spoofing-attacks&gt;&lt;span class=secno&gt;11.5.1 &lt;/span&gt;DNS spoofing attacks&lt;/h4&gt;
+  &lt;h4 id=dns-spoofing-attacks&gt;&lt;span class=secno&gt;12.5.1 &lt;/span&gt;DNS spoofing attacks&lt;/h4&gt;
 
   &lt;p&gt;Because of the potential for DNS spoofing attacks, one cannot
   guarantee that a host claiming to be in a certain domain really is
@@ -76011,7 +77227,7 @@
   storage areas.&lt;/p&gt;
 
 
-  &lt;h4 id=cross-directory-attacks&gt;&lt;span class=secno&gt;11.5.2 &lt;/span&gt;Cross-directory attacks&lt;/h4&gt;
+  &lt;h4 id=cross-directory-attacks&gt;&lt;span class=secno&gt;12.5.2 &lt;/span&gt;Cross-directory attacks&lt;/h4&gt;
 
   &lt;p&gt;Different authors sharing one host name, for example users
   hosting content on &lt;code&gt;geocities.com&lt;/code&gt;, all share one local
@@ -76026,7 +77242,7 @@
   path.&lt;/p&gt;
 
 
-  &lt;h4 id=implementation-risks&gt;&lt;span class=secno&gt;11.5.3 &lt;/span&gt;Implementation risks&lt;/h4&gt;
+  &lt;h4 id=implementation-risks&gt;&lt;span class=secno&gt;12.5.3 &lt;/span&gt;Implementation risks&lt;/h4&gt;
 
   &lt;p&gt;The two primary risks when implementing these persistent storage
   features are letting hostile sites read information from other
@@ -76059,7 +77275,7 @@
 
 
 
-  &lt;h2 id=syntax&gt;&lt;span class=secno&gt;12 &lt;/span&gt;&lt;dfn&gt;The HTML syntax&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=syntax&gt;&lt;span class=secno&gt;13 &lt;/span&gt;&lt;dfn&gt;The HTML syntax&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p class=note&gt;This section only describes the rules for resources
   labeled with an &lt;a href=#html-mime-type&gt;HTML MIME type&lt;/a&gt;. Rules for XML resources
@@ -76067,7 +77283,7 @@
   syntax&lt;/a&gt;&quot;.&lt;/p&gt;
 
 
-  &lt;h3 id=writing&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Writing HTML documents&lt;/h3&gt;
+  &lt;h3 id=writing&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Writing HTML documents&lt;/h3&gt;
 
   &lt;div class=impl&gt;
 
@@ -76129,7 +77345,7 @@
   as &quot;case-insensitive&quot;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-doctype&gt;&lt;span class=secno&gt;12.1.1 &lt;/span&gt;The DOCTYPE&lt;/h4&gt;
+  &lt;h4 id=the-doctype&gt;&lt;span class=secno&gt;13.1.1 &lt;/span&gt;The DOCTYPE&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn id=syntax-doctype title=syntax-doctype&gt;DOCTYPE&lt;/dfn&gt; is a &lt;!-- mostly
   useless but nonetheless --&gt; required preamble.&lt;/p&gt;
@@ -76213,7 +77429,7 @@
 
 
 
-  &lt;h4 id=elements-0&gt;&lt;span class=secno&gt;12.1.2 &lt;/span&gt;Elements&lt;/h4&gt;
+  &lt;h4 id=elements-0&gt;&lt;span class=secno&gt;13.1.2 &lt;/span&gt;Elements&lt;/h4&gt;
 
   &lt;p&gt;There are five different kinds of &lt;dfn id=syntax-elements title=syntax-elements&gt;elements&lt;/dfn&gt;: &lt;a href=#void-elements&gt;void elements&lt;/a&gt;,
   &lt;a href=#raw-text-elements&gt;raw text elements&lt;/a&gt;, &lt;a href=#rcdata-elements&gt;RCDATA elements&lt;/a&gt;,
@@ -76335,7 +77551,7 @@
   tag name; tag names are case-insensitive.&lt;/p&gt;
 
 
-  &lt;h5 id=start-tags&gt;&lt;span class=secno&gt;12.1.2.1 &lt;/span&gt;Start tags&lt;/h5&gt;
+  &lt;h5 id=start-tags&gt;&lt;span class=secno&gt;13.1.2.1 &lt;/span&gt;Start tags&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-start-tag title=syntax-start-tag&gt;Start tags&lt;/dfn&gt; must have the
   following format:&lt;/p&gt;
@@ -76370,7 +77586,7 @@
    &lt;li&gt;Finally, start tags must be closed by a U+003E GREATER-THAN
    SIGN character (&gt;).&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=end-tags&gt;&lt;span class=secno&gt;12.1.2.2 &lt;/span&gt;End tags&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=end-tags&gt;&lt;span class=secno&gt;13.1.2.2 &lt;/span&gt;End tags&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-end-tag title=syntax-end-tag&gt;End tags&lt;/dfn&gt; must have the
   following format:&lt;/p&gt;
@@ -76390,7 +77606,7 @@
    &lt;li&gt;Finally, end tags must be closed by a U+003E GREATER-THAN SIGN
    character (&gt;).&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=attributes-0&gt;&lt;span class=secno&gt;12.1.2.3 &lt;/span&gt;Attributes&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=attributes-0&gt;&lt;span class=secno&gt;13.1.2.3 &lt;/span&gt;Attributes&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-attributes title=syntax-attributes&gt;Attributes&lt;/dfn&gt; for an element
   are expressed inside the element's start tag.&lt;/p&gt;
@@ -76584,7 +77800,7 @@
   HTML syntax&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=optional-tags&gt;&lt;span class=secno&gt;12.1.2.4 &lt;/span&gt;Optional tags&lt;/h5&gt;
+  &lt;h5 id=optional-tags&gt;&lt;span class=secno&gt;13.1.2.4 &lt;/span&gt;Optional tags&lt;/h5&gt;
 
   &lt;p&gt;Certain tags can be &lt;dfn id=syntax-tag-omission title=syntax-tag-omission&gt;omitted&lt;/dfn&gt;.&lt;/p&gt;
 
@@ -76761,7 +77977,7 @@
   tag&lt;/a&gt; must never be omitted if it has any attributes.&lt;/p&gt;
 
 
-  &lt;h5 id=element-restrictions&gt;&lt;span class=secno&gt;12.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/h5&gt;
+  &lt;h5 id=element-restrictions&gt;&lt;span class=secno&gt;13.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/h5&gt;
 
   &lt;p&gt;For historical reasons, certain elements have extra restrictions
   beyond even the restrictions given by their content model.&lt;/p&gt;
@@ -76790,7 +78006,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;12.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/h5&gt;
+  &lt;h5 id=cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;13.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/h5&gt;
 
   &lt;p&gt;The text in &lt;a href=#raw-text-elements title=&quot;raw text elements&quot;&gt;raw text&lt;/a&gt; and
   &lt;a href=#rcdata-elements&gt;RCDATA elements&lt;/a&gt; must not contain any occurrences of the
@@ -76802,7 +78018,7 @@
   U+002F SOLIDUS (/).&lt;/p&gt;
 
 
-  &lt;h4 id=text-1&gt;&lt;span class=secno&gt;12.1.3 &lt;/span&gt;Text&lt;/h4&gt;
+  &lt;h4 id=text-1&gt;&lt;span class=secno&gt;13.1.3 &lt;/span&gt;Text&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-text title=syntax-text&gt;Text&lt;/dfn&gt; is allowed inside elements,
   attribute values, and comments. Text must consist of Unicode
@@ -76813,7 +78029,7 @@
   the text is to be put, as described in the other sections.&lt;/p&gt;
 
 
-  &lt;h5 id=newlines&gt;&lt;span class=secno&gt;12.1.3.1 &lt;/span&gt;Newlines&lt;/h5&gt;
+  &lt;h5 id=newlines&gt;&lt;span class=secno&gt;13.1.3.1 &lt;/span&gt;Newlines&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-newlines title=syntax-newlines&gt;Newlines&lt;/dfn&gt; in HTML may be
   represented either as U+000D CARRIAGE RETURN (CR) characters, U+000A
@@ -76826,7 +78042,7 @@
   represents a &lt;a href=#syntax-newlines title=syntax-newlines&gt;newline&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=character-references&gt;&lt;span class=secno&gt;12.1.4 &lt;/span&gt;Character references&lt;/h4&gt;
+  &lt;h4 id=character-references&gt;&lt;span class=secno&gt;13.1.4 &lt;/span&gt;Character references&lt;/h4&gt;
 
   &lt;p&gt;In certain cases described in other sections, &lt;a href=#syntax-text title=syntax-text&gt;text&lt;/a&gt; may be mixed with &lt;dfn id=syntax-charref title=syntax-charref&gt;character references&lt;/dfn&gt;. These can be used
   to escape characters that couldn't otherwise legally be included in
@@ -76884,7 +78100,7 @@
   the &lt;a href=#named-character-references&gt;named character references&lt;/a&gt; section.&lt;/p&gt;
 
 
-  &lt;h4 id=cdata-sections&gt;&lt;span class=secno&gt;12.1.5 &lt;/span&gt;CDATA sections&lt;/h4&gt;
+  &lt;h4 id=cdata-sections&gt;&lt;span class=secno&gt;13.1.5 &lt;/span&gt;CDATA sections&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-cdata title=syntax-cdata&gt;CDATA sections&lt;/dfn&gt; must consist of
   the following components, in this order:&lt;/p&gt;
@@ -76915,7 +78131,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=comments&gt;&lt;span class=secno&gt;12.1.6 &lt;/span&gt;Comments&lt;/h4&gt;
+  &lt;h4 id=comments&gt;&lt;span class=secno&gt;13.1.6 &lt;/span&gt;Comments&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-comments title=syntax-comments&gt;Comments&lt;/dfn&gt; must start with the
   four character sequence U+003C LESS-THAN SIGN, U+0021 EXCLAMATION
@@ -76933,7 +78149,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=parsing&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
+  &lt;h3 id=parsing&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
 
   &lt;p&gt;&lt;i&gt;This section only applies to user agents, data mining tools,
   and conformance checkers.&lt;/i&gt;&lt;/p&gt;
@@ -77002,7 +78218,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=overview-of-the-parsing-model&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;Overview of the parsing model&lt;/h4&gt;
+  &lt;h4 id=overview-of-the-parsing-model&gt;&lt;span class=secno&gt;13.2.1 &lt;/span&gt;Overview of the parsing model&lt;/h4&gt;
 
   &lt;p&gt;The input to the HTML parsing process consists of a stream of
   Unicode characters, which is passed through a
@@ -77052,7 +78268,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-stream&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;The &lt;dfn&gt;input stream&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=the-input-stream&gt;&lt;span class=secno&gt;13.2.2 &lt;/span&gt;The &lt;dfn&gt;input stream&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The stream of Unicode characters that comprises the input to the
   tokenization stage will be initially seen by the user agent as a
@@ -77066,7 +78282,7 @@
   specification. This section does not apply to XML documents. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=determining-the-character-encoding&gt;&lt;span class=secno&gt;12.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/h5&gt;
+  &lt;h5 id=determining-the-character-encoding&gt;&lt;span class=secno&gt;13.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/h5&gt;
 
   &lt;p&gt;In some cases, it might be impractical to unambiguously determine
   the encoding before parsing the document. Because of this, this
@@ -77620,7 +78836,7 @@
   desire to be maximally compatible with legacy content. &lt;a href=#refsHTTP&gt;[HTTP]&lt;/a&gt; &lt;a href=#refsRFC2046&gt;[RFC2046]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=character-encodings-0&gt;&lt;span class=secno&gt;12.2.2.2 &lt;/span&gt;Character encodings&lt;/h5&gt;
+  &lt;h5 id=character-encodings-0&gt;&lt;span class=secno&gt;13.2.2.2 &lt;/span&gt;Character encodings&lt;/h5&gt;
 
   &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
   encodings, but may support more. &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;&lt;/p&gt;
@@ -77710,7 +78926,7 @@
 
 
 
-  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;12.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
+  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;13.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
 
   &lt;p&gt;Given an encoding, the bytes in the input stream must be
   converted to Unicode characters for the tokenizer, as described by
@@ -77789,7 +79005,7 @@
   the stream, but rather the lack of any further characters.&lt;/p&gt;
 
 
-  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;12.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
+  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;13.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
 
   &lt;p&gt;When the parser requires the user agent to &lt;dfn id=change-the-encoding&gt;change the
   encoding&lt;/dfn&gt;, it must run the following steps. This might happen
@@ -77846,9 +79062,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=parse-state&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;Parse state&lt;/h4&gt;
+  &lt;h4 id=parse-state&gt;&lt;span class=secno&gt;13.2.3 &lt;/span&gt;Parse state&lt;/h4&gt;
 
-  &lt;h5 id=the-insertion-mode&gt;&lt;span class=secno&gt;12.2.3.1 &lt;/span&gt;The insertion mode&lt;/h5&gt;
+  &lt;h5 id=the-insertion-mode&gt;&lt;span class=secno&gt;13.2.3.1 &lt;/span&gt;The insertion mode&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=insertion-mode&gt;insertion mode&lt;/dfn&gt; is a state variable that controls
   the primary operation of the tree construction stage.&lt;/p&gt;
@@ -77981,7 +79197,7 @@
 
    &lt;li&gt;Return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=the-stack-of-open-elements&gt;&lt;span class=secno&gt;12.2.3.2 &lt;/span&gt;The stack of open elements&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=the-stack-of-open-elements&gt;&lt;span class=secno&gt;13.2.3.2 &lt;/span&gt;The stack of open elements&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=stack-of-open-elements&gt;stack of open elements&lt;/dfn&gt; is empty. The
   stack grows downwards; the topmost node on the stack is the first
@@ -78144,7 +79360,7 @@
   the stack is manipulated in a random-access fashion.&lt;/p&gt;
 
 
-  &lt;h5 id=the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;12.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/h5&gt;
+  &lt;h5 id=the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;13.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=list-of-active-formatting-elements&gt;list of active formatting elements&lt;/dfn&gt; is
   empty. It is used to handle mis-nested &lt;a href=#formatting title=formatting&gt;formatting element tags&lt;/a&gt;.&lt;/p&gt;
@@ -78262,7 +79478,7 @@
 
    &lt;li&gt;Go to step 1.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=the-element-pointers&gt;&lt;span class=secno&gt;12.2.3.4 &lt;/span&gt;The element pointers&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=the-element-pointers&gt;&lt;span class=secno&gt;13.2.3.4 &lt;/span&gt;The element pointers&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
   pointer&lt;/dfn&gt; and the &lt;dfn id=form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
@@ -78279,7 +79495,7 @@
   markup, for historical reasons.&lt;/p&gt;
 
 
-  &lt;h5 id=other-parsing-state-flags&gt;&lt;span class=secno&gt;12.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/h5&gt;
+  &lt;h5 id=other-parsing-state-flags&gt;&lt;span class=secno&gt;13.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=scripting-flag&gt;scripting flag&lt;/dfn&gt; is set to &quot;enabled&quot; if &lt;a href=#concept-n-script title=concept-n-script&gt;scripting was enabled&lt;/a&gt; for the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; with which the parser is associated when the
@@ -78298,7 +79514,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=tokenization&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;&lt;dfn&gt;Tokenization&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=tokenization&gt;&lt;span class=secno&gt;13.2.4 &lt;/span&gt;&lt;dfn&gt;Tokenization&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;Implementations must act as if they used the following state
   machine to tokenize HTML. The state machine must start in the
@@ -78369,7 +79585,7 @@
   error, by unicode, then EOF, ending with &quot;anything else&quot; --&gt;
 
 
-  &lt;h5 id=data-state&gt;&lt;span class=secno&gt;12.2.4.1 &lt;/span&gt;&lt;dfn&gt;Data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=data-state&gt;&lt;span class=secno&gt;13.2.4.1 &lt;/span&gt;&lt;dfn&gt;Data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78391,7 +79607,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;12.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;13.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
@@ -78404,7 +79620,7 @@
   &lt;p&gt;Finally, switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;12.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;13.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78426,7 +79642,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;12.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;13.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
@@ -78439,7 +79655,7 @@
   &lt;p&gt;Finally, switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;12.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;13.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78457,7 +79673,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-state&gt;&lt;span class=secno&gt;12.2.4.6 &lt;/span&gt;&lt;dfn&gt;Script data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-state&gt;&lt;span class=secno&gt;13.2.4.6 &lt;/span&gt;&lt;dfn&gt;Script data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78475,7 +79691,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=plaintext-state&gt;&lt;span class=secno&gt;12.2.4.7 &lt;/span&gt;&lt;dfn&gt;PLAINTEXT state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=plaintext-state&gt;&lt;span class=secno&gt;13.2.4.7 &lt;/span&gt;&lt;dfn&gt;PLAINTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78490,7 +79706,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=tag-open-state&gt;&lt;span class=secno&gt;12.2.4.8 &lt;/span&gt;&lt;dfn&gt;Tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=tag-open-state&gt;&lt;span class=secno&gt;13.2.4.8 &lt;/span&gt;&lt;dfn&gt;Tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78522,7 +79738,7 @@
    character token and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78552,7 +79768,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-comment-state&gt;bogus
    comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=tag-name-state&gt;&lt;span class=secno&gt;12.2.4.10 &lt;/span&gt;&lt;dfn&gt;Tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=tag-name-state&gt;&lt;span class=secno&gt;13.2.4.10 &lt;/span&gt;&lt;dfn&gt;Tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78587,7 +79803,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    tag token's tag name.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.11 &lt;/span&gt;&lt;dfn&gt;RCDATA less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.11 &lt;/span&gt;&lt;dfn&gt;RCDATA less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT less-than sign state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78601,7 +79817,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag open state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78628,7 +79844,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag name state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78673,7 +79889,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA less-than sign state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78687,7 +79903,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag open state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78714,7 +79930,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag name state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78759,7 +79975,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78777,7 +79993,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag open state, except s/RCDATA/Script data/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78804,7 +80020,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag name state, except s/RCDATA/Script data/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -78849,7 +80065,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;12.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78861,7 +80077,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;12.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78873,7 +80089,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;12.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;13.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78897,7 +80113,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-state&gt;&lt;span class=secno&gt;12.2.4.23 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-state&gt;&lt;span class=secno&gt;13.2.4.23 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78922,7 +80138,7 @@
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;12.2.4.24 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;13.2.4.24 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78950,7 +80166,7 @@
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.25 &lt;/span&gt;&lt;dfn&gt;Script data escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.25 &lt;/span&gt;&lt;dfn&gt;Script data escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -78978,7 +80194,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data
    escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;12.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;13.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79004,7 +80220,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;12.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;13.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79048,7 +80264,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;12.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;13.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79079,7 +80295,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;12.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;13.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79104,7 +80320,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;12.2.4.30 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;13.2.4.30 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79131,7 +80347,7 @@
    state&lt;/a&gt;. Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a
    character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;12.2.4.31 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;13.2.4.31 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79161,7 +80377,7 @@
    state&lt;/a&gt;. Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a
    character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;12.2.4.32 &lt;/span&gt;&lt;dfn&gt;Script data double escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;13.2.4.32 &lt;/span&gt;&lt;dfn&gt;Script data double escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79174,7 +80390,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;12.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;13.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79205,7 +80421,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79253,7 +80469,7 @@
    its value to the empty string. Switch to the &lt;a href=#attribute-name-state&gt;attribute name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.35 &lt;/span&gt;&lt;dfn&gt;Attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.35 &lt;/span&gt;&lt;dfn&gt;Attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79306,7 +80522,7 @@
   associated with it (if any).&lt;/p&gt;
 
 
-  &lt;h5 id=after-attribute-name-state&gt;&lt;span class=secno&gt;12.2.4.36 &lt;/span&gt;&lt;dfn&gt;After attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=after-attribute-name-state&gt;&lt;span class=secno&gt;13.2.4.36 &lt;/span&gt;&lt;dfn&gt;After attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79356,7 +80572,7 @@
    its value to the empty string. Switch to the &lt;a href=#attribute-name-state&gt;attribute name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-attribute-value-state&gt;&lt;span class=secno&gt;12.2.4.37 &lt;/span&gt;&lt;dfn&gt;Before attribute value state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-attribute-value-state&gt;&lt;span class=secno&gt;13.2.4.37 &lt;/span&gt;&lt;dfn&gt;Before attribute value state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79401,7 +80617,7 @@
    attribute's value. Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted)
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.38 &lt;/span&gt;&lt;dfn&gt;Attribute value (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.38 &lt;/span&gt;&lt;dfn&gt;Attribute value (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79426,7 +80642,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.39 &lt;/span&gt;&lt;dfn&gt;Attribute value (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.39 &lt;/span&gt;&lt;dfn&gt;Attribute value (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79451,7 +80667,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;12.2.4.40 &lt;/span&gt;&lt;dfn&gt;Attribute value (unquoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;13.2.4.40 &lt;/span&gt;&lt;dfn&gt;Attribute value (unquoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79491,7 +80707,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;12.2.4.41 &lt;/span&gt;&lt;dfn&gt;Character reference in attribute value state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;13.2.4.41 &lt;/span&gt;&lt;dfn&gt;Character reference in attribute value state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;.&lt;/p&gt;
 
@@ -79505,7 +80721,7 @@
   into this state.&lt;/p&gt;
 
 
-  &lt;h5 id=after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;12.2.4.42 &lt;/span&gt;&lt;dfn&gt;After attribute value (quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;13.2.4.42 &lt;/span&gt;&lt;dfn&gt;After attribute value (quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79531,7 +80747,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
    the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;12.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;13.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79548,7 +80764,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
    the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;12.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;13.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume every character up to and including the first U+003E
   GREATER-THAN SIGN character (&gt;) or the end of the file (EOF),
@@ -79567,7 +80783,7 @@
   character.&lt;/p&gt;
 
 
-  &lt;h5 id=markup-declaration-open-state&gt;&lt;span class=secno&gt;12.2.4.45 &lt;/span&gt;&lt;dfn&gt;Markup declaration open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=markup-declaration-open-state&gt;&lt;span class=secno&gt;13.2.4.45 &lt;/span&gt;&lt;dfn&gt;Markup declaration open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;If the next two characters are both U+002D HYPHEN-MINUS
   characters (-), consume those two characters, create a comment token
@@ -79591,7 +80807,7 @@
   comment.&lt;/p&gt;
 
 
-  &lt;h5 id=comment-start-state&gt;&lt;span class=secno&gt;12.2.4.46 &lt;/span&gt;&lt;dfn&gt;Comment start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=comment-start-state&gt;&lt;span class=secno&gt;13.2.4.46 &lt;/span&gt;&lt;dfn&gt;Comment start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79616,7 +80832,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
    token's data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-start-dash-state&gt;&lt;span class=secno&gt;12.2.4.47 &lt;/span&gt;&lt;dfn&gt;Comment start dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-start-dash-state&gt;&lt;span class=secno&gt;13.2.4.47 &lt;/span&gt;&lt;dfn&gt;Comment start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79643,7 +80859,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment token's
    data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-state&gt;&lt;span class=secno&gt;12.2.4.48 &lt;/span&gt;&lt;dfn id=comment&gt;Comment state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-state&gt;&lt;span class=secno&gt;13.2.4.48 &lt;/span&gt;&lt;dfn id=comment&gt;Comment state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79663,7 +80879,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
    token's data.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-dash-state&gt;&lt;span class=secno&gt;12.2.4.49 &lt;/span&gt;&lt;dfn&gt;Comment end dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-dash-state&gt;&lt;span class=secno&gt;13.2.4.49 &lt;/span&gt;&lt;dfn&gt;Comment end dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79686,7 +80902,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment token's
    data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-state&gt;&lt;span class=secno&gt;12.2.4.50 &lt;/span&gt;&lt;dfn&gt;Comment end state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-state&gt;&lt;span class=secno&gt;13.2.4.50 &lt;/span&gt;&lt;dfn&gt;Comment end state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79722,7 +80938,7 @@
    comment token's data. Switch to the &lt;a href=#comment-state&gt;comment
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-bang-state&gt;&lt;span class=secno&gt;12.2.4.51 &lt;/span&gt;&lt;dfn&gt;Comment end bang state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-bang-state&gt;&lt;span class=secno&gt;13.2.4.51 &lt;/span&gt;&lt;dfn&gt;Comment end bang state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79752,7 +80968,7 @@
    character&lt;/a&gt; to the comment token's data. Switch to the
    &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-state&gt;&lt;span class=secno&gt;12.2.4.52 &lt;/span&gt;&lt;dfn&gt;DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-state&gt;&lt;span class=secno&gt;13.2.4.52 &lt;/span&gt;&lt;dfn&gt;DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79772,7 +80988,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in the
    &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79809,7 +81025,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;. Switch to the &lt;a href=#doctype-name-state&gt;DOCTYPE name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.54 &lt;/span&gt;&lt;dfn&gt;DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.54 &lt;/span&gt;&lt;dfn&gt;DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79842,7 +81058,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's name.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-name-state&gt;&lt;span class=secno&gt;12.2.4.55 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-name-state&gt;&lt;span class=secno&gt;13.2.4.55 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79882,7 +81098,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;12.2.4.56 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public keyword state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;13.2.4.56 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public keyword state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79919,7 +81135,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;12.2.4.57 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;13.2.4.57 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79955,7 +81171,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.58 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.58 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -79980,7 +81196,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's public identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.59 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.59 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80005,7 +81221,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's public identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;12.2.4.60 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;13.2.4.60 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80041,7 +81257,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;12.2.4.61 &lt;/span&gt;&lt;dfn&gt;Between DOCTYPE public and system identifiers state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;13.2.4.61 &lt;/span&gt;&lt;dfn&gt;Between DOCTYPE public and system identifiers state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80076,7 +81292,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;12.2.4.62 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system keyword state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;13.2.4.62 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system keyword state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80113,7 +81329,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;12.2.4.63 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;13.2.4.63 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80149,7 +81365,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.64 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.64 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80175,7 +81391,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's system identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;12.2.4.65 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;13.2.4.65 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80201,7 +81417,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's system identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;12.2.4.66 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;13.2.4.66 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80226,7 +81442,7 @@
    state&lt;/a&gt;. (This does &lt;em&gt;not&lt;/em&gt; set the DOCTYPE token's
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;.)&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=bogus-doctype-state&gt;&lt;span class=secno&gt;12.2.4.67 &lt;/span&gt;&lt;dfn&gt;Bogus DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=bogus-doctype-state&gt;&lt;span class=secno&gt;13.2.4.67 &lt;/span&gt;&lt;dfn&gt;Bogus DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -80241,7 +81457,7 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Ignore the character.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;12.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;13.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume every character up to the next occurrence of the three
   character sequence U+005D RIGHT SQUARE BRACKET U+005D RIGHT SQUARE
@@ -80260,7 +81476,7 @@
 
 
 
-  &lt;h5 id=tokenizing-character-references&gt;&lt;span class=secno&gt;12.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/h5&gt;
+  &lt;h5 id=tokenizing-character-references&gt;&lt;span class=secno&gt;13.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/h5&gt;
 
   &lt;p&gt;This section defines how to &lt;dfn id=consume-a-character-reference&gt;consume a character
   reference&lt;/dfn&gt;. This definition is used when parsing character
@@ -80471,7 +81687,7 @@
   thing to do is to close some formatting elements from the middle of
   the stack when you hit a limit, or something. --&gt;
 
-  &lt;h4 id=tree-construction&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;&lt;dfn&gt;Tree construction&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=tree-construction&gt;&lt;span class=secno&gt;13.2.5 &lt;/span&gt;&lt;dfn&gt;Tree construction&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The input to the tree construction stage is a sequence of tokens
   from the &lt;a href=#tokenization&gt;tokenization&lt;/a&gt; stage. The tree construction
@@ -80578,7 +81794,7 @@
   constraints.&lt;/p&gt;
 
 
-  &lt;h5 id=creating-and-inserting-elements&gt;&lt;span class=secno&gt;12.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/h5&gt;
+  &lt;h5 id=creating-and-inserting-elements&gt;&lt;span class=secno&gt;13.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/h5&gt;
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=create-an-element-for-the-token title=&quot;create an
   element for the token&quot;&gt;create an element for a token&lt;/dfn&gt; in a
@@ -80758,7 +81974,7 @@
 
    &lt;li&gt;&lt;p&gt;Then, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;12.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;13.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/h5&gt;
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=generate-implied-end-tags&gt;generate implied end
   tags&lt;/dfn&gt;, then, while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a
@@ -80774,7 +81990,7 @@
   above steps as if that element was not in the above list.&lt;/p&gt;
 
 
-  &lt;h5 id=foster-parenting&gt;&lt;span class=secno&gt;12.2.5.3 &lt;/span&gt;Foster parenting&lt;/h5&gt;
+  &lt;h5 id=foster-parenting&gt;&lt;span class=secno&gt;13.2.5.3 &lt;/span&gt;Foster parenting&lt;/h5&gt;
 
   &lt;p&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
 
@@ -80812,10 +82028,10 @@
 
 
 
-  &lt;h5 id=parsing-main-inhtml&gt;&lt;span class=secno&gt;12.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/h5&gt;
+  &lt;h5 id=parsing-main-inhtml&gt;&lt;span class=secno&gt;13.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/h5&gt;
 
 
-  &lt;h6 id=the-initial-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.1 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=the-initial-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.1 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion mode: initial&quot;&gt;initial&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81008,7 +82224,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-before-html-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.2 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-before-html-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.2 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81091,7 +82307,7 @@
   as described in the next section.&lt;/p&gt;
 
 
-  &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81156,7 +82372,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inhead&gt;&lt;span class=secno&gt;12.2.5.4.4 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inhead&gt;&lt;span class=secno&gt;13.2.5.4.4 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81322,7 +82538,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;12.2.5.4.5 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;13.2.5.4.5 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81382,7 +82598,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-head-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.6 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-head-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.6 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -81472,7 +82688,7 @@
     token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inbody&gt;&lt;span class=secno&gt;12.2.5.4.7 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inbody&gt;&lt;span class=secno&gt;13.2.5.4.7 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -82734,7 +83950,7 @@
 
     &lt;/ol&gt;&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incdata&gt;&lt;span class=secno&gt;12.2.5.4.8 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: text&quot;&gt;text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incdata&gt;&lt;span class=secno&gt;13.2.5.4.8 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: text&quot;&gt;text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -82886,7 +84102,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;12.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;13.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83089,7 +84305,7 @@
 
 
 
-  &lt;h6 id=parsing-main-intabletext&gt;&lt;span class=secno&gt;12.2.5.4.10 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intabletext&gt;&lt;span class=secno&gt;13.2.5.4.10 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intabletext title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83130,7 +84346,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incaption&gt;&lt;span class=secno&gt;12.2.5.4.11 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incaption&gt;&lt;span class=secno&gt;13.2.5.4.11 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83187,7 +84403,7 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;12.2.5.4.12 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;13.2.5.4.12 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83273,7 +84489,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;12.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;13.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83361,7 +84577,7 @@
   case&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-intr&gt;&lt;span class=secno&gt;12.2.5.4.14 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intr&gt;&lt;span class=secno&gt;13.2.5.4.14 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83451,7 +84667,7 @@
   case&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-intd&gt;&lt;span class=secno&gt;12.2.5.4.15 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intd&gt;&lt;span class=secno&gt;13.2.5.4.15 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83544,7 +84760,7 @@
   cell&lt;/a&gt; algorithm is invoked.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-inselect&gt;&lt;span class=secno&gt;12.2.5.4.16 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-inselect&gt;&lt;span class=secno&gt;13.2.5.4.16 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83694,7 +84910,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;12.2.5.4.17 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;13.2.5.4.17 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83725,7 +84941,7 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;12.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;13.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83782,7 +84998,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;12.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;13.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83874,7 +85090,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;12.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;13.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83927,7 +85143,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83960,7 +85176,7 @@
     reprocess the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;12.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;13.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -83997,7 +85213,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;12.2.5.5 &lt;/span&gt;The rules for parsing tokens &lt;dfn title=&quot;insertion mode: in foreign content&quot;&gt;in foreign content&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;13.2.5.5 &lt;/span&gt;The rules for parsing tokens &lt;dfn title=&quot;insertion mode: in foreign content&quot;&gt;in foreign content&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for parsing tokens in foreign content, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -84219,7 +85435,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-end&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;The end&lt;/h4&gt;
+  &lt;h4 id=the-end&gt;&lt;span class=secno&gt;13.2.6 &lt;/span&gt;The end&lt;/h4&gt;
 
   &lt;p&gt;Once the user agent &lt;dfn id=stop-parsing title=&quot;stop parsing&quot;&gt;stops parsing&lt;/dfn&gt;
   the document, the user agent must run the following steps:&lt;/p&gt;
@@ -84345,7 +85561,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/h4&gt;
+  &lt;h4 id=coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;13.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/h4&gt;
 
   &lt;p&gt;When an application uses an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; in
   conjunction with an XML pipeline, it is possible that the
@@ -84434,7 +85650,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;12.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/h4&gt;
+  &lt;h4 id=an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;13.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84442,7 +85658,7 @@
   the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; handles these cases.&lt;/p&gt;
 
 
-  &lt;h5 id=misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;12.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/h5&gt;
+  &lt;h5 id=misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;13.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84476,7 +85692,7 @@
   received, and the &quot;5&quot; text node is inserted, the DOM looks as
   follows:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;4&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;5&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;12.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;4&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;5&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;13.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84525,7 +85741,7 @@
   elements&lt;/a&gt;, so that when the &quot;3&quot; is parsed, it is appended to
   the &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=unexpected-markup-in-tables&gt;&lt;span class=secno&gt;12.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=unexpected-markup-in-tables&gt;&lt;span class=secno&gt;13.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84624,7 +85840,7 @@
   result in yet another &lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt; element being created, this
   time after the table:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;bbb&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;aaa&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;ccc&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;12.2.8.4 &lt;/span&gt;Scripts that modify the page as it is bein
 g parsed&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;bbb&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;aaa&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;ccc&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;13.2.8.4 &lt;/span&gt;Scripts that modify the page as it is bein
 g parsed&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84681,7 +85897,7 @@
   &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;alert(document.URL);&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;This second alert will say &quot;<A HREF="http://example.com/inner">http://example.com/inner</A>&quot;.&lt;/p&gt;
 
 
-  &lt;h5 id=the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;12.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/h5&gt;
+  &lt;h5 id=the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;13.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84697,7 +85913,7 @@
 
 
 
-  &lt;h5 id=unclosed-formatting-elements&gt;&lt;span class=secno&gt;12.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/h5&gt;
+  &lt;h5 id=unclosed-formatting-elements&gt;&lt;span class=secno&gt;13.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -84729,7 +85945,7 @@
 
 
 
-  &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
+  &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-serialization-algorithm&gt;HTML fragment serialization
   algorithm&lt;/dfn&gt;. The algorithm takes as input a DOM
@@ -84993,7 +86209,7 @@
    &lt;li&gt;&lt;p&gt;If the algorithm was &lt;em&gt;not&lt;/em&gt; invoked in the
    &lt;i&gt;attribute mode&lt;/i&gt;, replace any occurrences of the &quot;&lt;code title=&quot;&quot;&gt;&lt;&lt;/code&gt;&quot; character by the string &quot;&lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;&quot;, and any occurrences of the &quot;&lt;code title=&quot;&quot;&gt;&gt;&lt;/code&gt;&quot; character by the string &quot;&lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;&quot;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h3 id=parsing-html-fragments&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
+  &lt;/ol&gt;&lt;h3 id=parsing-html-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-parsing-algorithm&gt;HTML fragment parsing
   algorithm&lt;/dfn&gt;. The algorithm optionally takes as input an
@@ -85167,7 +86383,7 @@
 
 
 
-  &lt;h3 id=named-character-references&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;&lt;dfn&gt;Named character references&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=named-character-references&gt;&lt;span class=secno&gt;13.5 &lt;/span&gt;&lt;dfn&gt;Named character references&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This table lists the character reference names that are supported
   by HTML, and the code points to which they refer. It is referenced
@@ -85188,7 +86404,7 @@
 
 
 
-  &lt;h2 id=the-xhtml-syntax&gt;&lt;span class=secno&gt;13 &lt;/span&gt;&lt;dfn id=xhtml&gt;The XHTML syntax&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=the-xhtml-syntax&gt;&lt;span class=secno&gt;14 &lt;/span&gt;&lt;dfn id=xhtml&gt;The XHTML syntax&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p class=note&gt;This section only describes the rules for XML
   resources. Rules for &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt; resources are discussed
@@ -85197,7 +86413,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=writing-xhtml-documents&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Writing XHTML documents&lt;/h3&gt;
+  &lt;h3 id=writing-xhtml-documents&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Writing XHTML documents&lt;/h3&gt;
 
   &lt;/div&gt;
 
@@ -85222,7 +86438,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=parsing-xhtml-documents&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Parsing XHTML documents&lt;/h3&gt;
+  &lt;h3 id=parsing-xhtml-documents&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;Parsing XHTML documents&lt;/h3&gt;
 
   &lt;p&gt;This section describes the relationship between XML and the DOM,
   with a particular emphasis on how this interacts with HTML.&lt;/p&gt;
@@ -85337,7 +86553,7 @@
 
 
 
-  &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
+  &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-serialization-algorithm&gt;XML fragment serialization algorithm&lt;/dfn&gt; for a
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node either returns a
@@ -85434,7 +86650,7 @@
 
 
 
-  &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
+  &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns
   a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt;
@@ -85509,7 +86725,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h2 id=rendering&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Rendering&lt;/h2&gt;
+  &lt;h2 id=rendering&gt;&lt;span class=secno&gt;15 &lt;/span&gt;Rendering&lt;/h2&gt;
 
   &lt;p&gt;&lt;i&gt;User agents are not required to present HTML documents in any
   particular way. However, this section provides a set of suggestions
@@ -85525,7 +86741,7 @@
   &quot;must&quot;.&lt;/i&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-13&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;In general, user agents are expected to support CSS, and many of
   the suggestions in this section are expressed in CSS terms. User
@@ -85561,9 +86777,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/h3&gt;
+  &lt;h3 id=the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/h3&gt;
 
-  &lt;h4 id=introduction-13&gt;&lt;span class=secno&gt;14.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-14&gt;&lt;span class=secno&gt;15.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;The CSS rules given in these subsections are, except where
   otherwise specified, expected to be used as part of the user-agent
@@ -85615,7 +86831,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=display-types&gt;&lt;span class=secno&gt;14.2.2 &lt;/span&gt;Display types&lt;/h4&gt;
+  &lt;h4 id=display-types&gt;&lt;span class=secno&gt;15.2.2 &lt;/span&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -85693,7 +86909,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=margins-and-padding&gt;&lt;span class=secno&gt;14.2.3 &lt;/span&gt;Margins and padding&lt;/h4&gt;
+  &lt;h4 id=margins-and-padding&gt;&lt;span class=secno&gt;15.2.3 &lt;/span&gt;Margins and padding&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -85874,7 +87090,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=alignment&gt;&lt;span class=secno&gt;14.2.4 &lt;/span&gt;Alignment&lt;/h4&gt;
+  &lt;h4 id=alignment&gt;&lt;span class=secno&gt;15.2.4 &lt;/span&gt;Alignment&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -85995,7 +87211,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=fonts-and-colors&gt;&lt;span class=secno&gt;14.2.5 &lt;/span&gt;Fonts and colors&lt;/h4&gt;
+  &lt;h4 id=fonts-and-colors&gt;&lt;span class=secno&gt;15.2.5 &lt;/span&gt;Fonts and colors&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -86238,7 +87454,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=punctuation-and-decorations&gt;&lt;span class=secno&gt;14.2.6 &lt;/span&gt;Punctuation and decorations&lt;/h4&gt;
+  &lt;h4 id=punctuation-and-decorations&gt;&lt;span class=secno&gt;15.2.6 &lt;/span&gt;Punctuation and decorations&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -86414,7 +87630,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;14.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/h4&gt;
+  &lt;h4 id=resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;15.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/h4&gt;
 
   &lt;p&gt;The following rules are also expected to be in play, resetting
   certain properties to block inheritance by default.&lt;/p&gt;
@@ -86451,7 +87667,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-hr-element-0&gt;&lt;span class=secno&gt;14.2.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-hr-element-0&gt;&lt;span class=secno&gt;15.2.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -86504,7 +87720,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-fieldset-element-0&gt;&lt;span class=secno&gt;14.2.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-fieldset-element-0&gt;&lt;span class=secno&gt;15.2.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -86556,9 +87772,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=replaced-elements&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Replaced elements&lt;/h3&gt;
+  &lt;h3 id=replaced-elements&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;Replaced elements&lt;/h3&gt;
 
-  &lt;h4 id=embedded-content-2&gt;&lt;span class=secno&gt;14.3.1 &lt;/span&gt;Embedded content&lt;/h4&gt;
+  &lt;h4 id=embedded-content-2&gt;&lt;span class=secno&gt;15.3.1 &lt;/span&gt;Embedded content&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, and
   &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements are expected to be treated as replaced
@@ -86635,13 +87851,13 @@
 &lt;!--&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;--&gt;
   &lt;div class=impl&gt;
 
-  &lt;h4 id=timed-text-tracks-0&gt;&lt;span class=secno&gt;14.3.2 &lt;/span&gt;Timed text tracks&lt;/h4&gt;
+  &lt;h4 id=timed-text-tracks-0&gt;&lt;span class=secno&gt;15.3.2 &lt;/span&gt;Timed text tracks&lt;/h4&gt;
 
   &lt;p class=note&gt;This section is intended to be moved to its own CSS
   module once an editor is found to run with it.&lt;/p&gt;
 
 
-  &lt;h5 id=webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;14.3.2.1 &lt;/span&gt;&lt;dfn&gt;WebVTT cue text rendering rules&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;15.3.2.1 &lt;/span&gt;&lt;dfn&gt;WebVTT cue text rendering rules&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=rules-for-updating-the-display-of-webvtt-text-tracks&gt;rules for updating the display of WebVTT text
   tracks&lt;/dfn&gt; render the &lt;a href=#text-track title=&quot;text track&quot;&gt;text
@@ -87186,7 +88402,7 @@
 
    &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;14.3.2.2 &lt;/span&gt;Applying CSS properties to &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;15.3.2.2 &lt;/span&gt;Applying CSS properties to &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;&lt;/h5&gt;
 
   &lt;p&gt;When following the &lt;a href=#rules-for-updating-the-display-of-webvtt-text-tracks&gt;rules for updating the display of WebVTT
   text tracks&lt;/a&gt;, user agents must set properties of &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt; as defined in
@@ -87245,7 +88461,7 @@
   values.&lt;/p&gt;
 
 
-  &lt;h5 id=css-extensions&gt;&lt;span class=secno&gt;14.3.2.3 &lt;/span&gt;CSS extensions&lt;/h5&gt;
+  &lt;h5 id=css-extensions&gt;&lt;span class=secno&gt;15.3.2.3 &lt;/span&gt;CSS extensions&lt;/h5&gt;
 
   &lt;p&gt;When a user agent is rendering one or more &lt;a href=#text-track-cue title=&quot;text
   track cue&quot;&gt;text track cues&lt;/a&gt; according to the &lt;a href=#webvtt-cue-text-rendering-rules&gt;WebVTT cue
@@ -87277,7 +88493,7 @@
   ':past' and ':future' pseudo-classes.&lt;/p&gt;
 
 
-  &lt;h6 id=&quot;the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;14.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/h6&gt;
+  &lt;h6 id=&quot;the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;15.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/h6&gt;
 
   &lt;p&gt;The '&lt;dfn id=pseudo-cue title=pseudo-cue&gt;::cue&lt;/dfn&gt;' pseudo-element (with no
   argument) matches any &lt;a href=#list-of-webvtt-node-objects&gt;List of WebVTT Node Objects&lt;/a&gt;
@@ -87409,7 +88625,7 @@
   the &lt;a href=#webvtt-cue-background-box&gt;WebVTT cue background box&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=&quot;the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;14.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/h6&gt;
+  &lt;h6 id=&quot;the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;15.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn id=past-pseudo-class title=past-pseudo-class&gt;':past'&lt;/dfn&gt; and &lt;dfn id=future-pseudo-class title=future-pseudo-class&gt;':future'&lt;/dfn&gt; pseudo-classes only
   match &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;.&lt;/p&gt;
@@ -87448,7 +88664,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=images-0&gt;&lt;span class=secno&gt;14.3.3 &lt;/span&gt;Images&lt;/h4&gt;
+  &lt;h4 id=images-0&gt;&lt;span class=secno&gt;15.3.3 &lt;/span&gt;Images&lt;/h4&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
   when its &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
@@ -87508,7 +88724,7 @@
   up if the user interacted with the actual image.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;All animated images with the same &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; and
-  the same image data are expected to be rendered synchronised to the
+  the same image data are expected to be rendered synchronized to the
   same timeline as a group, with the timeline starting at the time of
   the most recent addition to the group.&lt;/p&gt;
 
@@ -87530,7 +88746,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;14.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/h4&gt;
+  &lt;h4 id=attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;15.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/h4&gt;
 
   &lt;p&gt;The following CSS rules are expected to apply as
   &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;:&lt;/p&gt;
@@ -87626,7 +88842,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=image-maps-0&gt;&lt;span class=secno&gt;14.3.5 &lt;/span&gt;Image maps&lt;/h4&gt;
+  &lt;h4 id=image-maps-0&gt;&lt;span class=secno&gt;15.3.5 &lt;/span&gt;Image maps&lt;/h4&gt;
 
   &lt;p&gt;Shapes on an &lt;a href=#image-map&gt;image map&lt;/a&gt; are expected to act, for the
   purpose of the CSS cascade, as elements independent of the original
@@ -87654,7 +88870,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=toolbars-0&gt;&lt;span class=secno&gt;14.3.6 &lt;/span&gt;Toolbars&lt;/h4&gt;
+  &lt;h4 id=toolbars-0&gt;&lt;span class=secno&gt;15.3.6 &lt;/span&gt;Toolbars&lt;/h4&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state, the element is
   expected to be treated as a replaced element with a height about two
@@ -87670,9 +88886,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=bindings&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;Bindings&lt;/h3&gt;
+  &lt;h3 id=bindings&gt;&lt;span class=secno&gt;15.4 &lt;/span&gt;Bindings&lt;/h3&gt;
 
-  &lt;h4 id=introduction-14&gt;&lt;span class=secno&gt;14.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-15&gt;&lt;span class=secno&gt;15.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;A number of elements have their rendering defined in terms of the
   'binding' property. &lt;a href=#refsBECSS&gt;[BECSS]&lt;/a&gt;&lt;/p&gt;
@@ -87695,7 +88911,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-button-element-0&gt;&lt;span class=secno&gt;14.4.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-button-element-0&gt;&lt;span class=secno&gt;15.4.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87711,7 +88927,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;14.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;15.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87746,7 +88962,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;14.4.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a text entry widget&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;15.4.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a text entry widget&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87793,7 +89009,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;14.4.5 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as domain-specific widgets&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;15.4.5 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as domain-specific widgets&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87848,7 +89064,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;14.4.6 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a range control&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;15.4.6 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a range control&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87874,7 +89090,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;14.4.7 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a color well&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;15.4.7 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a color well&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87896,7 +89112,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;14.4.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a checkbox and radio button widgets&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;15.4.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a checkbox and radio button widgets&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87918,7 +89134,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;14.4.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a file upload control&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;15.4.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a file upload control&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87936,7 +89152,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-button&gt;&lt;span class=secno&gt;14.4.10 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a button&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-button&gt;&lt;span class=secno&gt;15.4.10 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a button&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -87957,7 +89173,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-marquee-element-0&gt;&lt;span class=secno&gt;14.4.11 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-marquee-element-0&gt;&lt;span class=secno&gt;15.4.11 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88121,7 +89337,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-meter-element-0&gt;&lt;span class=secno&gt;14.4.12 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-meter-element&gt;meter&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-meter-element-0&gt;&lt;span class=secno&gt;15.4.12 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-meter-element&gt;meter&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88152,7 +89368,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-progress-element-0&gt;&lt;span class=secno&gt;14.4.13 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-progress-element-0&gt;&lt;span class=secno&gt;15.4.13 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88189,7 +89405,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-select-element-0&gt;&lt;span class=secno&gt;14.4.14 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-select-element-0&gt;&lt;span class=secno&gt;15.4.14 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88257,7 +89473,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-textarea-element-0&gt;&lt;span class=secno&gt;14.4.15 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-textarea-element-0&gt;&lt;span class=secno&gt;15.4.15 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88312,7 +89528,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-keygen-element-0&gt;&lt;span class=secno&gt;14.4.16 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-keygen-element&gt;keygen&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-keygen-element-0&gt;&lt;span class=secno&gt;15.4.16 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-keygen-element&gt;keygen&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88328,7 +89544,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-time-element-0&gt;&lt;span class=secno&gt;14.4.17 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-time-element-0&gt;&lt;span class=secno&gt;15.4.17 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -88348,7 +89564,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=frames-and-framesets&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Frames and framesets&lt;/h3&gt;
+  &lt;h3 id=frames-and-framesets&gt;&lt;span class=secno&gt;15.5 &lt;/span&gt;Frames and framesets&lt;/h3&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt; element's second child element is a
   &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, the user agent is expected to render
@@ -88633,9 +89849,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=interactive-media&gt;&lt;span class=secno&gt;14.6 &lt;/span&gt;Interactive media&lt;/h3&gt;
+  &lt;h3 id=interactive-media&gt;&lt;span class=secno&gt;15.6 &lt;/span&gt;Interactive media&lt;/h3&gt;
 
-  &lt;h4 id=links,-forms,-and-navigation&gt;&lt;span class=secno&gt;14.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/h4&gt;
+  &lt;h4 id=links,-forms,-and-navigation&gt;&lt;span class=secno&gt;15.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/h4&gt;
 
   &lt;p&gt;User agents are expected to allow the user to control aspects of
   &lt;a href=#hyperlink&gt;hyperlink&lt;/a&gt; activation and &lt;a href=#form-submission&gt;form submission&lt;/a&gt;,
@@ -88671,7 +89887,7 @@
 
 
 
-  &lt;h4 id=the-title-attribute-0&gt;&lt;span class=secno&gt;14.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-title-attribute-0&gt;&lt;span class=secno&gt;15.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;Given an element (e.g. the element designated by the mouse
   cursor), if the element, or one of its ancestors, has a &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute, and the nearest such
@@ -88705,7 +89921,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;14.6.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
+  &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;15.6.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
 
   &lt;p&gt;The current text editing caret (the one at the &lt;a href=#caret-position&gt;caret
   position&lt;/a&gt; in a focused &lt;a href=#editing-host&gt;editing host&lt;/a&gt;) is expected
@@ -88719,7 +89935,7 @@
 
 
 
-  &lt;h4 id=text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;14.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/h4&gt;
+  &lt;h4 id=text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;15.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/h4&gt;
 
   &lt;p&gt;User agents are expected to honor the Unicode semantics of text
   that is exposed in user interfaces, for example supporting the
@@ -88815,7 +90031,7 @@
 
 
 
-  &lt;h3 id=print-media&gt;&lt;span class=secno&gt;14.7 &lt;/span&gt;Print media&lt;/h3&gt;
+  &lt;h3 id=print-media&gt;&lt;span class=secno&gt;15.7 &lt;/span&gt;Print media&lt;/h3&gt;
 
   &lt;p&gt;User agents are expected to allow the user to request the
   opportunity to &lt;dfn id=obtain-a-physical-form&gt;obtain a physical form&lt;/dfn&gt; (or a
@@ -88835,9 +90051,9 @@
 
 
 
-  &lt;h2 id=obsolete&gt;&lt;span class=secno&gt;15 &lt;/span&gt;Obsolete features&lt;/h2&gt;
+  &lt;h2 id=obsolete&gt;&lt;span class=secno&gt;16 &lt;/span&gt;Obsolete features&lt;/h2&gt;
 
-  &lt;h3 id=obsolete-but-conforming-features&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;Obsolete but conforming features&lt;/h3&gt;
+  &lt;h3 id=obsolete-but-conforming-features&gt;&lt;span class=secno&gt;16.1 &lt;/span&gt;Obsolete but conforming features&lt;/h3&gt;
 
   &lt;p&gt;Features listed in this section will trigger warnings in
   conformance checkers.&lt;/p&gt;
@@ -88884,7 +90100,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;15.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/h4&gt;
+  &lt;h4 id=warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;16.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/h4&gt;
 
   &lt;p&gt;To ease the transition from HTML4 Transitional documents to the
   language defined in &lt;em&gt;this&lt;/em&gt; specification, and to discourage
@@ -88933,7 +90149,7 @@
   &lt;/div&gt;
 
 
-  &lt;h3 id=non-conforming-features&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;Non-conforming features&lt;/h3&gt;
+  &lt;h3 id=non-conforming-features&gt;&lt;span class=secno&gt;16.2 &lt;/span&gt;Non-conforming features&lt;/h3&gt;
 
   &lt;p&gt;Elements in the following list are entirely obsolete, and must
   not be used by authors:&lt;/p&gt;
@@ -89203,9 +90419,9 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;h3 id=requirements-for-implementations&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;Requirements for implementations&lt;/h3&gt;
+  &lt;h3 id=requirements-for-implementations&gt;&lt;span class=secno&gt;16.3 &lt;/span&gt;Requirements for implementations&lt;/h3&gt;
 
-  &lt;h4 id=the-applet-element&gt;&lt;span class=secno&gt;15.3.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;applet&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-applet-element&gt;&lt;span class=secno&gt;16.3.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;applet&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt; element is a Java-specific variant of the
   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element. The &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt; element is now
@@ -89281,7 +90497,7 @@
   &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-marquee-element&gt;&lt;span class=secno&gt;15.3.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;marquee&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-marquee-element&gt;&lt;span class=secno&gt;16.3.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;marquee&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element is a presentational element that
   animates content. CSS transitions and animations are a more
@@ -89458,7 +90674,7 @@
   attribute.&lt;/p&gt;
 
 
-  &lt;h4 id=frames&gt;&lt;span class=secno&gt;15.3.3 &lt;/span&gt;Frames&lt;/h4&gt;
+  &lt;h4 id=frames&gt;&lt;span class=secno&gt;16.3.3 &lt;/span&gt;Frames&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=frameset&gt;&lt;code&gt;frameset&lt;/code&gt;&lt;/dfn&gt; element acts as &lt;a href=#the-body-element&gt;the
   body element&lt;/a&gt; in documents that use frames.&lt;/p&gt;
@@ -89637,7 +90853,7 @@
 
 
 
-  &lt;h4 id=other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;15.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/h4&gt; &lt;!-- alphabetical by name and attribute --&gt;
+  &lt;h4 id=other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;16.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/h4&gt; &lt;!-- alphabetical by name and attribute --&gt;
 
   &lt;p&gt;User agents must treat &lt;code&gt;&lt;a href=#acronym&gt;acronym&lt;/a&gt;&lt;/code&gt; elements in a manner
   equivalent to &lt;code&gt;&lt;a href=#the-abbr-element&gt;abbr&lt;/a&gt;&lt;/code&gt; elements in terms of semantics and
@@ -90353,13 +91569,13 @@
 
 
 
-  &lt;h2 id=iana&gt;&lt;span class=secno&gt;16 &lt;/span&gt;IANA considerations&lt;/h2&gt;
+  &lt;h2 id=iana&gt;&lt;span class=secno&gt;17 &lt;/span&gt;IANA considerations&lt;/h2&gt;
 
   &lt;!-- <A HREF="http://www.w3.org/2002/06/registering-mediatype.html">http://www.w3.org/2002/06/registering-mediatype.html</A> --&gt;
 
 
 
-  &lt;h3 id=text/html&gt;&lt;span class=secno&gt;16.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/html&gt;&lt;span class=secno&gt;17.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90486,7 +91702,7 @@
   refer to &lt;a href=#the-indicated-part-of-the-document&gt;the indicated part of the document&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h3 id=text/html-sandboxed&gt;&lt;span class=secno&gt;16.2 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/html-sandboxed&gt;&lt;span class=secno&gt;17.2 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90568,7 +91784,7 @@
   document&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h3 id=application/xhtml+xml&gt;&lt;span class=secno&gt;16.3 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=application/xhtml+xml&gt;&lt;span class=secno&gt;17.3 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90633,7 +91849,7 @@
   type&lt;/a&gt;. &lt;a href=#refsRFC3023&gt;[RFC3023]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=text/cache-manifest&gt;&lt;span class=secno&gt;16.4 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/cache-manifest&gt;&lt;span class=secno&gt;17.4 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90704,7 +91920,7 @@
 
 
 &lt;!--PING--&gt;
-  &lt;h3 id=text/ping&gt;&lt;span class=secno&gt;16.5 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/ping&gt;&lt;span class=secno&gt;17.5 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90769,7 +91985,7 @@
 
 &lt;!--TT--&gt;
 &lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
-  &lt;h3 id=text/vtt&gt;&lt;span class=secno&gt;16.6 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/vtt&gt;&lt;span class=secno&gt;17.6 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -90850,7 +92066,7 @@
 
 &lt;!--MD--&gt;
 
-  &lt;h3 id=application/microdata+json&gt;&lt;span class=secno&gt;16.7 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=application/microdata+json&gt;&lt;span class=secno&gt;17.7 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
 
   &lt;p&gt;This registration is for community review and will be submitted
@@ -90919,7 +92135,7 @@
 &lt;!--MD--&gt;
 
 &lt;!--PING--&gt;
-  &lt;h3 id=ping-from&gt;&lt;span class=secno&gt;16.8 &lt;/span&gt;&lt;dfn title=http-ping-from&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=ping-from&gt;&lt;span class=secno&gt;17.8 &lt;/span&gt;&lt;dfn title=http-ping-from&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This section describes a header field for registration in the
   Permanent Message Header Field Registry.  &lt;a href=#refsRFC3864&gt;[RFC3864]&lt;/a&gt;&lt;/p&gt;
@@ -90938,7 +92154,7 @@
    &lt;/dd&gt;
    &lt;dt&gt;Related information&lt;/dt&gt;
    &lt;dd&gt;None.&lt;/dd&gt;
-  &lt;/dl&gt;&lt;h3 id=ping-to&gt;&lt;span class=secno&gt;16.9 &lt;/span&gt;&lt;dfn title=http-ping-to&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;/dl&gt;&lt;h3 id=ping-to&gt;&lt;span class=secno&gt;17.9 &lt;/span&gt;&lt;dfn title=http-ping-to&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This section describes a header field for registration in the
   Permanent Message Header Field Registry.  &lt;a href=#refsRFC3864&gt;[RFC3864]&lt;/a&gt;&lt;/p&gt;
@@ -93867,6 +95083,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/draft-holsten-about-uri-scheme">http://tools.ietf.org/html/draft-holsten-about-uri-scheme</A>&gt;The
    'about' URI scheme&lt;/a&gt;&lt;/cite&gt;, J. Holsten, L. Hunt. IETF.&lt;/dd&gt;
 
+   &lt;dt id=refsAES128CTR&gt;[AES128CTR]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</A>&gt;Advanced Encryption Standard (AES)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsARIA&gt;[ARIA]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/WAI/PF/aria/">http://www.w3.org/WAI/PF/aria/</A>&gt;Accessible Rich
    Internet Applications (WAI-ARIA)&lt;/a&gt;&lt;/cite&gt;, J. Craig, M. Cooper, L. Pappas,
@@ -94066,6 +95285,9 @@
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://microformats.org/wiki/hatom">http://microformats.org/wiki/hatom</A>&gt;hAtom&lt;/a&gt;&lt;/cite&gt;, D
    Janes. Microformats.&lt;/dd&gt;
 
+   &lt;dt id=refsHMAC&gt;[HMAC]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf">http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf</A>&gt;The Keyed-Hash Message Authentication Code (HMAC)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsHTMLDIFF&gt;[HTMLDIFF]&lt;/dt&gt;
    &lt;!--
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
@@ -94088,6 +95310,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.iana.org/assignments/message-headers/perm-headers.html">http://www.iana.org/assignments/message-headers/perm-headers.html</A>&gt;Permanent
    Message Header Field Names&lt;/a&gt;&lt;/cite&gt;. IANA.&lt;/dd&gt;
 
+   &lt;dt id=refsICE&gt;[ICE]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5245">http://tools.ietf.org/html/rfc5245</A>&gt;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsISO8601&gt;[ISO8601]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://isotc.iso.org/livelink/livelink/4021199/ISO_8601_2004_E.zip?func=doc.Fetch&amp;amp;nodeid=4021199">http://isotc.iso.org/livelink/livelink/4021199/ISO_8601_2004_E.zip?func=doc.Fetch&amp;nodeid=4021199</A>&quot;&gt;ISO8601: Data elements and interchange formats &mdash; Information interchange &mdash; Representation of dates and times&lt;/a&gt;&lt;/cite&gt;. ISO.&lt;/dd&gt;
 
@@ -94337,11 +95562,23 @@
    Compression Scheme For Unicode&lt;/a&gt;&lt;/cite&gt;, M. Wolf, K. Whistler,
    C. Wicksteed, M. Davis, A. Freytag, M. Scherer. Unicode Consortium.&lt;/dd&gt;
 
+   &lt;dt id=refsSDP&gt;[SDP]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc4566">http://tools.ietf.org/html/rfc4566</A>&gt;SDP: Session Description Protocol&lt;/a&gt;&lt;/cite&gt;, M. Handley, V. Jacobson, C. Perkins. IETF.&lt;/dd&gt;
+
+   &lt;dt id=refsSDPLABEL&gt;[SDPLABEL]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc4574">http://tools.ietf.org/html/rfc4574</A>&gt;The Session Description Protocol (SDP) Label Attribute&lt;/a&gt;&lt;/cite&gt;, O. Levin, G. Camarillo. IETF.&lt;/dd&gt;
+
+   &lt;dt id=refsSDPOFFERANSWER&gt;[SDPOFFERANSWER]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc3264">http://tools.ietf.org/html/rfc3264</A>&gt;An Offer/Answer Model with the Session Description Protocol (SDP)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, H. Schulzrinne. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsSELECTORS&gt;[SELECTORS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/css3-selectors">http://www.w3.org/TR/css3-selectors</A>&gt;Selectors&lt;/a&gt;&lt;/cite&gt;,
    T. &Ccedil;elik, E. Etemad, D.  Glazman, I. Hickson, P. Linss,
    J. Williams. W3C.&lt;/dd&gt;
 
+   &lt;dt id=refsSHA1&gt;[SHA1]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf">http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf</A>&gt;Secure Hash Standard&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsSHIFTJIS&gt;[SHIFTJIS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;JIS X0208: 7-bit and 8-bit double byte coded KANJI sets
    for information interchange&lt;/cite&gt;. Japanese Industrial Standards Committee.&lt;/dd&gt;
@@ -94352,6 +95589,9 @@
    and management &mdash; Part 2-1: Colour management &mdash; Default RGB colour
    space &mdash; sRGB&lt;/a&gt;&lt;/cite&gt;. IEC.&lt;/dd&gt;
 
+   &lt;dt id=refsSTUN&gt;[STUN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5389">http://tools.ietf.org/html/rfc5389</A>&gt;Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, R. Mahy, P. Matthews, D. Wing. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsSVG&gt;[SVG]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/SVGTiny12/">http://www.w3.org/TR/SVGTiny12/</A>&gt;Scalable Vector
    Graphics (SVG) Tiny 1.2 Specification&lt;/a&gt;&lt;/cite&gt;, O. Andersson,
@@ -94366,6 +95606,9 @@
    Ministry of Industry, Royal Thai Government. ISBN
    974-606-153-4.&lt;/dd&gt;
 
+   &lt;dt id=refsTURN&gt;[TURN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5766">http://tools.ietf.org/html/rfc5766</A>&gt;Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, R. Mahy, P. Matthews, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsUAAG&gt;[UAAG]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/UAAG20/">http://www.w3.org/TR/UAAG20/</A>&gt;Web Content Accessibility
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,

Modified: index
===================================================================
--- index	2011-03-05 00:12:36 UTC (rev 5944)
+++ index	2011-03-14 10:19:45 UTC (rev 5945)
@@ -243,7 +243,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 5 March 2011&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 14 March 2011&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -274,7 +274,7 @@
 
   &lt;p&gt;This specification evolves HTML and its related APIs to ease the
   authoring of Web-based applications. The most recent additions
-  include a &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element to enable video conferencing,
+  include a &lt;code&gt;device&lt;/code&gt; element to enable video conferencing,
   as well as all the features added as part of the earlier HTML5
   effort.&lt;/p&gt;
 
@@ -778,11 +778,7 @@
   a command&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-on-a-label-element-to-define-a-command&gt;&lt;span class=secno&gt;4.11.5.6 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute on a &lt;code&gt;label&lt;/code&gt; element to define a command&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-on-a-legend-element-to-define-a-command&gt;&lt;span class=secno&gt;4.11.5.7 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute on a &lt;code&gt;legend&lt;/code&gt; element to define a command&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-to-define-a-command-on-other-elements&gt;&lt;span class=secno&gt;4.11.5.8 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute to define a command on other elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#devices&gt;&lt;span class=secno&gt;4.11.6 &lt;/span&gt;The &lt;code&gt;device&lt;/code&gt; element&lt;/a&gt;
-      &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#stream-api&gt;&lt;span class=secno&gt;4.11.6.1 &lt;/span&gt;Stream API&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#peer-to-peer-connections&gt;&lt;span class=secno&gt;4.11.6.2 &lt;/span&gt;Peer-to-peer connections&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#using-the-accesskey-attribute-to-define-a-command-on-other-elements&gt;&lt;span class=secno&gt;4.11.5.8 &lt;/span&gt;Using the &lt;code title=attr-accesskey&gt;accesskey&lt;/code&gt; attribute to define a command on other elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#links&gt;&lt;span class=secno&gt;4.12 &lt;/span&gt;Links&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-2&gt;&lt;span class=secno&gt;4.12.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -1014,258 +1010,268 @@
      &lt;li&gt;&lt;a href=#the-undomanagerevent-interface-and-the-undo-and-redo-events&gt;&lt;span class=secno&gt;8.8.5 &lt;/span&gt;The &lt;code&gt;UndoManagerEvent&lt;/code&gt; interface and the &lt;code title=event-undo&gt;undo&lt;/code&gt; and &lt;code title=event-redo&gt;redo&lt;/code&gt; events&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#implementation-notes&gt;&lt;span class=secno&gt;8.8.6 &lt;/span&gt;Implementation notes&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.9 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Communication&lt;/a&gt;
+ &lt;li&gt;&lt;a href=#video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;Security&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#obtaining-local-multimedia-content&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Obtaining local multimedia content&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#stream-api&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Stream API&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#peer-to-peer-connections&gt;&lt;span class=secno&gt;9.1.3 &lt;/span&gt;Peer-to-peer connections&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-data-stream&gt;&lt;span class=secno&gt;9.1.4 &lt;/span&gt;The data stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;9.1.5 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-summary&gt;&lt;span class=secno&gt;9.1.6 &lt;/span&gt;Event Summary&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Communication&lt;/a&gt;
+  &lt;ol&gt;
+   &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
+    &lt;ol&gt;
+     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;Security&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;9.2.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#user-agents&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;User agents&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;9.3 &lt;/span&gt;Channel messaging&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;10.2.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#user-agents&gt;&lt;span class=secno&gt;10.2.2.2 &lt;/span&gt;User agents&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;Channel messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#message-channels&gt;&lt;span class=secno&gt;9.3.2 &lt;/span&gt;Message channels&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#message-ports&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Message ports&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#message-channels&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;Message channels&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#message-ports&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Message ports&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#ports-and-garbage-collection&gt;&lt;span class=secno&gt;9.3.3.1 &lt;/span&gt;Ports and garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#syntax&gt;&lt;span class=secno&gt;10 &lt;/span&gt;The HTML syntax&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#ports-and-garbage-collection&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Ports and garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#syntax&gt;&lt;span class=secno&gt;11 &lt;/span&gt;The HTML syntax&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#writing&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Writing HTML documents&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#writing&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Writing HTML documents&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-doctype&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;The DOCTYPE&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#elements-0&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Elements&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-doctype&gt;&lt;span class=secno&gt;11.1.1 &lt;/span&gt;The DOCTYPE&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#elements-0&gt;&lt;span class=secno&gt;11.1.2 &lt;/span&gt;Elements&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#start-tags&gt;&lt;span class=secno&gt;10.1.2.1 &lt;/span&gt;Start tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#end-tags&gt;&lt;span class=secno&gt;10.1.2.2 &lt;/span&gt;End tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attributes-0&gt;&lt;span class=secno&gt;10.1.2.3 &lt;/span&gt;Attributes&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#optional-tags&gt;&lt;span class=secno&gt;10.1.2.4 &lt;/span&gt;Optional tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#element-restrictions&gt;&lt;span class=secno&gt;10.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;10.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#text-1&gt;&lt;span class=secno&gt;10.1.3 &lt;/span&gt;Text&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#start-tags&gt;&lt;span class=secno&gt;11.1.2.1 &lt;/span&gt;Start tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#end-tags&gt;&lt;span class=secno&gt;11.1.2.2 &lt;/span&gt;End tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attributes-0&gt;&lt;span class=secno&gt;11.1.2.3 &lt;/span&gt;Attributes&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#optional-tags&gt;&lt;span class=secno&gt;11.1.2.4 &lt;/span&gt;Optional tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#element-restrictions&gt;&lt;span class=secno&gt;11.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;11.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#text-1&gt;&lt;span class=secno&gt;11.1.3 &lt;/span&gt;Text&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#newlines&gt;&lt;span class=secno&gt;10.1.3.1 &lt;/span&gt;Newlines&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#character-references&gt;&lt;span class=secno&gt;10.1.4 &lt;/span&gt;Character references&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#cdata-sections&gt;&lt;span class=secno&gt;10.1.5 &lt;/span&gt;CDATA sections&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#comments&gt;&lt;span class=secno&gt;10.1.6 &lt;/span&gt;Comments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Parsing HTML documents&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#newlines&gt;&lt;span class=secno&gt;11.1.3.1 &lt;/span&gt;Newlines&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#character-references&gt;&lt;span class=secno&gt;11.1.4 &lt;/span&gt;Character references&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#cdata-sections&gt;&lt;span class=secno&gt;11.1.5 &lt;/span&gt;CDATA sections&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#comments&gt;&lt;span class=secno&gt;11.1.6 &lt;/span&gt;Comments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;Parsing HTML documents&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#overview-of-the-parsing-model&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Overview of the parsing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-stream&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The input stream&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#overview-of-the-parsing-model&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;Overview of the parsing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-stream&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The input stream&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#determining-the-character-encoding&gt;&lt;span class=secno&gt;10.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;10.2.2.2 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;10.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;10.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#parse-state&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Parse state&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#determining-the-character-encoding&gt;&lt;span class=secno&gt;11.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;11.2.2.2 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;11.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;11.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#parse-state&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;Parse state&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-insertion-mode&gt;&lt;span class=secno&gt;10.2.3.1 &lt;/span&gt;The insertion mode&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-stack-of-open-elements&gt;&lt;span class=secno&gt;10.2.3.2 &lt;/span&gt;The stack of open elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;10.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-element-pointers&gt;&lt;span class=secno&gt;10.2.3.4 &lt;/span&gt;The element pointers&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#other-parsing-state-flags&gt;&lt;span class=secno&gt;10.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#tokenization&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Tokenization&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#the-insertion-mode&gt;&lt;span class=secno&gt;11.2.3.1 &lt;/span&gt;The insertion mode&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-stack-of-open-elements&gt;&lt;span class=secno&gt;11.2.3.2 &lt;/span&gt;The stack of open elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;11.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-element-pointers&gt;&lt;span class=secno&gt;11.2.3.4 &lt;/span&gt;The element pointers&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#other-parsing-state-flags&gt;&lt;span class=secno&gt;11.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#tokenization&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;Tokenization&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#data-state&gt;&lt;span class=secno&gt;10.2.4.1 &lt;/span&gt;Data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-data-state&gt;&lt;span class=secno&gt;10.2.4.2 &lt;/span&gt;Character reference in data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-state&gt;&lt;span class=secno&gt;10.2.4.3 &lt;/span&gt;RCDATA state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;10.2.4.4 &lt;/span&gt;Character reference in RCDATA state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-state&gt;&lt;span class=secno&gt;10.2.4.5 &lt;/span&gt;RAWTEXT state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-state&gt;&lt;span class=secno&gt;10.2.4.6 &lt;/span&gt;Script data state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#plaintext-state&gt;&lt;span class=secno&gt;10.2.4.7 &lt;/span&gt;PLAINTEXT state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tag-open-state&gt;&lt;span class=secno&gt;10.2.4.8 &lt;/span&gt;Tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.9 &lt;/span&gt;End tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tag-name-state&gt;&lt;span class=secno&gt;10.2.4.10 &lt;/span&gt;Tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.11 &lt;/span&gt;RCDATA less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.12 &lt;/span&gt;RCDATA end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.13 &lt;/span&gt;RCDATA end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.14 &lt;/span&gt;RAWTEXT less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.15 &lt;/span&gt;RAWTEXT end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.16 &lt;/span&gt;RAWTEXT end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.17 &lt;/span&gt;Script data less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.18 &lt;/span&gt;Script data end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.19 &lt;/span&gt;Script data end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escape-start-state&gt;&lt;span class=secno&gt;10.2.4.20 &lt;/span&gt;Script data escape start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;10.2.4.21 &lt;/span&gt;Script data escape start dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-state&gt;&lt;span class=secno&gt;10.2.4.22 &lt;/span&gt;Script data escaped state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-dash-state&gt;&lt;span class=secno&gt;10.2.4.23 &lt;/span&gt;Script data escaped dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;10.2.4.24 &lt;/span&gt;Script data escaped dash dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.25 &lt;/span&gt;Script data escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.26 &lt;/span&gt;Script data escaped end tag open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.27 &lt;/span&gt;Script data escaped end tag name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escape-start-state&gt;&lt;span class=secno&gt;10.2.4.28 &lt;/span&gt;Script data double escape start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-state&gt;&lt;span class=secno&gt;10.2.4.29 &lt;/span&gt;Script data double escaped state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;10.2.4.30 &lt;/span&gt;Script data double escaped dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;10.2.4.31 &lt;/span&gt;Script data double escaped dash dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.32 &lt;/span&gt;Script data double escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#script-data-double-escape-end-state&gt;&lt;span class=secno&gt;10.2.4.33 &lt;/span&gt;Script data double escape end state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.34 &lt;/span&gt;Before attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.35 &lt;/span&gt;Attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.36 &lt;/span&gt;After attribute name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-attribute-value-state&gt;&lt;span class=secno&gt;10.2.4.37 &lt;/span&gt;Before attribute value state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.38 &lt;/span&gt;Attribute value (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.39 &lt;/span&gt;Attribute value (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;10.2.4.40 &lt;/span&gt;Attribute value (unquoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;10.2.4.41 &lt;/span&gt;Character reference in attribute value state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;10.2.4.42 &lt;/span&gt;After attribute value (quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#self-closing-start-tag-state&gt;&lt;span class=secno&gt;10.2.4.43 &lt;/span&gt;Self-closing start tag state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#bogus-comment-state&gt;&lt;span class=secno&gt;10.2.4.44 &lt;/span&gt;Bogus comment state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#markup-declaration-open-state&gt;&lt;span class=secno&gt;10.2.4.45 &lt;/span&gt;Markup declaration open state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-start-state&gt;&lt;span class=secno&gt;10.2.4.46 &lt;/span&gt;Comment start state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-start-dash-state&gt;&lt;span class=secno&gt;10.2.4.47 &lt;/span&gt;Comment start dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-state&gt;&lt;span class=secno&gt;10.2.4.48 &lt;/span&gt;Comment state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-dash-state&gt;&lt;span class=secno&gt;10.2.4.49 &lt;/span&gt;Comment end dash state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-state&gt;&lt;span class=secno&gt;10.2.4.50 &lt;/span&gt;Comment end state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#comment-end-bang-state&gt;&lt;span class=secno&gt;10.2.4.51 &lt;/span&gt;Comment end bang state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-state&gt;&lt;span class=secno&gt;10.2.4.52 &lt;/span&gt;DOCTYPE state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.53 &lt;/span&gt;Before DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.54 &lt;/span&gt;DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.55 &lt;/span&gt;After DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;10.2.4.56 &lt;/span&gt;After DOCTYPE public keyword state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;10.2.4.57 &lt;/span&gt;Before DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.58 &lt;/span&gt;DOCTYPE public identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.59 &lt;/span&gt;DOCTYPE public identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;10.2.4.60 &lt;/span&gt;After DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;10.2.4.61 &lt;/span&gt;Between DOCTYPE public and system identifiers state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;10.2.4.62 &lt;/span&gt;After DOCTYPE system keyword state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;10.2.4.63 &lt;/span&gt;Before DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.64 &lt;/span&gt;DOCTYPE system identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.65 &lt;/span&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;10.2.4.66 &lt;/span&gt;After DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#bogus-doctype-state&gt;&lt;span class=secno&gt;10.2.4.67 &lt;/span&gt;Bogus DOCTYPE state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#cdata-section-state&gt;&lt;span class=secno&gt;10.2.4.68 &lt;/span&gt;CDATA section state&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#tokenizing-character-references&gt;&lt;span class=secno&gt;10.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#tree-construction&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Tree construction&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#data-state&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;Data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-data-state&gt;&lt;span class=secno&gt;11.2.4.2 &lt;/span&gt;Character reference in data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-state&gt;&lt;span class=secno&gt;11.2.4.3 &lt;/span&gt;RCDATA state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;11.2.4.4 &lt;/span&gt;Character reference in RCDATA state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-state&gt;&lt;span class=secno&gt;11.2.4.5 &lt;/span&gt;RAWTEXT state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-state&gt;&lt;span class=secno&gt;11.2.4.6 &lt;/span&gt;Script data state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#plaintext-state&gt;&lt;span class=secno&gt;11.2.4.7 &lt;/span&gt;PLAINTEXT state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tag-open-state&gt;&lt;span class=secno&gt;11.2.4.8 &lt;/span&gt;Tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.9 &lt;/span&gt;End tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tag-name-state&gt;&lt;span class=secno&gt;11.2.4.10 &lt;/span&gt;Tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.11 &lt;/span&gt;RCDATA less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.12 &lt;/span&gt;RCDATA end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.13 &lt;/span&gt;RCDATA end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.14 &lt;/span&gt;RAWTEXT less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.15 &lt;/span&gt;RAWTEXT end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.16 &lt;/span&gt;RAWTEXT end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.17 &lt;/span&gt;Script data less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.18 &lt;/span&gt;Script data end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.19 &lt;/span&gt;Script data end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escape-start-state&gt;&lt;span class=secno&gt;11.2.4.20 &lt;/span&gt;Script data escape start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;11.2.4.21 &lt;/span&gt;Script data escape start dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-state&gt;&lt;span class=secno&gt;11.2.4.22 &lt;/span&gt;Script data escaped state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-dash-state&gt;&lt;span class=secno&gt;11.2.4.23 &lt;/span&gt;Script data escaped dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;11.2.4.24 &lt;/span&gt;Script data escaped dash dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.25 &lt;/span&gt;Script data escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.26 &lt;/span&gt;Script data escaped end tag open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.27 &lt;/span&gt;Script data escaped end tag name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escape-start-state&gt;&lt;span class=secno&gt;11.2.4.28 &lt;/span&gt;Script data double escape start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-state&gt;&lt;span class=secno&gt;11.2.4.29 &lt;/span&gt;Script data double escaped state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;11.2.4.30 &lt;/span&gt;Script data double escaped dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;11.2.4.31 &lt;/span&gt;Script data double escaped dash dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.32 &lt;/span&gt;Script data double escaped less-than sign state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#script-data-double-escape-end-state&gt;&lt;span class=secno&gt;11.2.4.33 &lt;/span&gt;Script data double escape end state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.34 &lt;/span&gt;Before attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.35 &lt;/span&gt;Attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.36 &lt;/span&gt;After attribute name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-attribute-value-state&gt;&lt;span class=secno&gt;11.2.4.37 &lt;/span&gt;Before attribute value state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.38 &lt;/span&gt;Attribute value (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.39 &lt;/span&gt;Attribute value (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;11.2.4.40 &lt;/span&gt;Attribute value (unquoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;11.2.4.41 &lt;/span&gt;Character reference in attribute value state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;11.2.4.42 &lt;/span&gt;After attribute value (quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#self-closing-start-tag-state&gt;&lt;span class=secno&gt;11.2.4.43 &lt;/span&gt;Self-closing start tag state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#bogus-comment-state&gt;&lt;span class=secno&gt;11.2.4.44 &lt;/span&gt;Bogus comment state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#markup-declaration-open-state&gt;&lt;span class=secno&gt;11.2.4.45 &lt;/span&gt;Markup declaration open state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-start-state&gt;&lt;span class=secno&gt;11.2.4.46 &lt;/span&gt;Comment start state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-start-dash-state&gt;&lt;span class=secno&gt;11.2.4.47 &lt;/span&gt;Comment start dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-state&gt;&lt;span class=secno&gt;11.2.4.48 &lt;/span&gt;Comment state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-dash-state&gt;&lt;span class=secno&gt;11.2.4.49 &lt;/span&gt;Comment end dash state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-state&gt;&lt;span class=secno&gt;11.2.4.50 &lt;/span&gt;Comment end state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#comment-end-bang-state&gt;&lt;span class=secno&gt;11.2.4.51 &lt;/span&gt;Comment end bang state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-state&gt;&lt;span class=secno&gt;11.2.4.52 &lt;/span&gt;DOCTYPE state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.53 &lt;/span&gt;Before DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.54 &lt;/span&gt;DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.55 &lt;/span&gt;After DOCTYPE name state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;11.2.4.56 &lt;/span&gt;After DOCTYPE public keyword state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;11.2.4.57 &lt;/span&gt;Before DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.58 &lt;/span&gt;DOCTYPE public identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.59 &lt;/span&gt;DOCTYPE public identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;11.2.4.60 &lt;/span&gt;After DOCTYPE public identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;11.2.4.61 &lt;/span&gt;Between DOCTYPE public and system identifiers state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;11.2.4.62 &lt;/span&gt;After DOCTYPE system keyword state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;11.2.4.63 &lt;/span&gt;Before DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.64 &lt;/span&gt;DOCTYPE system identifier (double-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.65 &lt;/span&gt;DOCTYPE system identifier (single-quoted) state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;11.2.4.66 &lt;/span&gt;After DOCTYPE system identifier state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#bogus-doctype-state&gt;&lt;span class=secno&gt;11.2.4.67 &lt;/span&gt;Bogus DOCTYPE state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#cdata-section-state&gt;&lt;span class=secno&gt;11.2.4.68 &lt;/span&gt;CDATA section state&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#tokenizing-character-references&gt;&lt;span class=secno&gt;11.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#tree-construction&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;Tree construction&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#creating-and-inserting-elements&gt;&lt;span class=secno&gt;10.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;10.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#foster-parenting&gt;&lt;span class=secno&gt;10.2.5.3 &lt;/span&gt;Foster parenting&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#parsing-main-inhtml&gt;&lt;span class=secno&gt;10.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#creating-and-inserting-elements&gt;&lt;span class=secno&gt;11.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;11.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#foster-parenting&gt;&lt;span class=secno&gt;11.2.5.3 &lt;/span&gt;Foster parenting&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#parsing-main-inhtml&gt;&lt;span class=secno&gt;11.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=#the-initial-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.1 &lt;/span&gt;The &quot;initial&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-before-html-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.2 &lt;/span&gt;The &quot;before html&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-before-head-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.3 &lt;/span&gt;The &quot;before head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inhead&gt;&lt;span class=secno&gt;10.2.5.4.4 &lt;/span&gt;The &quot;in head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;10.2.5.4.5 &lt;/span&gt;The &quot;in head noscript&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-head-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.6 &lt;/span&gt;The &quot;after head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inbody&gt;&lt;span class=secno&gt;10.2.5.4.7 &lt;/span&gt;The &quot;in body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incdata&gt;&lt;span class=secno&gt;10.2.5.4.8 &lt;/span&gt;The &quot;text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intable&gt;&lt;span class=secno&gt;10.2.5.4.9 &lt;/span&gt;The &quot;in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intabletext&gt;&lt;span class=secno&gt;10.2.5.4.10 &lt;/span&gt;The &quot;in table text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incaption&gt;&lt;span class=secno&gt;10.2.5.4.11 &lt;/span&gt;The &quot;in caption&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-incolgroup&gt;&lt;span class=secno&gt;10.2.5.4.12 &lt;/span&gt;The &quot;in column group&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intbody&gt;&lt;span class=secno&gt;10.2.5.4.13 &lt;/span&gt;The &quot;in table body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intr&gt;&lt;span class=secno&gt;10.2.5.4.14 &lt;/span&gt;The &quot;in row&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;10.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;10.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;10.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;10.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;10.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;10.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;10.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;10.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/a&gt;
+         &lt;li&gt;&lt;a href=#the-initial-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.1 &lt;/span&gt;The &quot;initial&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-before-html-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.2 &lt;/span&gt;The &quot;before html&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-before-head-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.3 &lt;/span&gt;The &quot;before head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inhead&gt;&lt;span class=secno&gt;11.2.5.4.4 &lt;/span&gt;The &quot;in head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;11.2.5.4.5 &lt;/span&gt;The &quot;in head noscript&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-head-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.6 &lt;/span&gt;The &quot;after head&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inbody&gt;&lt;span class=secno&gt;11.2.5.4.7 &lt;/span&gt;The &quot;in body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incdata&gt;&lt;span class=secno&gt;11.2.5.4.8 &lt;/span&gt;The &quot;text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intable&gt;&lt;span class=secno&gt;11.2.5.4.9 &lt;/span&gt;The &quot;in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intabletext&gt;&lt;span class=secno&gt;11.2.5.4.10 &lt;/span&gt;The &quot;in table text&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incaption&gt;&lt;span class=secno&gt;11.2.5.4.11 &lt;/span&gt;The &quot;in caption&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-incolgroup&gt;&lt;span class=secno&gt;11.2.5.4.12 &lt;/span&gt;The &quot;in column group&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intbody&gt;&lt;span class=secno&gt;11.2.5.4.13 &lt;/span&gt;The &quot;in table body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intr&gt;&lt;span class=secno&gt;11.2.5.4.14 &lt;/span&gt;The &quot;in row&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-intd&gt;&lt;span class=secno&gt;11.2.5.4.15 &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inselect&gt;&lt;span class=secno&gt;11.2.5.4.16 &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inselectintable&gt;&lt;span class=secno&gt;11.2.5.4.17 &lt;/span&gt;The &quot;in select in table&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterbody&gt;&lt;span class=secno&gt;11.2.5.4.18 &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-inframeset&gt;&lt;span class=secno&gt;11.2.5.4.19 &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#parsing-main-afterframeset&gt;&lt;span class=secno&gt;11.2.5.4.20 &lt;/span&gt;The &quot;after frameset&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.21 &lt;/span&gt;The &quot;after after body&quot; insertion mode&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.22 &lt;/span&gt;The &quot;after after frameset&quot; insertion mode&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#parsing-main-inforeign&gt;&lt;span class=secno&gt;11.2.5.5 &lt;/span&gt;The rules for parsing tokens in foreign content&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-end&gt;&lt;span class=secno&gt;11.2.6 &lt;/span&gt;The end&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;11.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;11.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;10.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;10.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#unexpected-markup-in-tables&gt;&lt;span class=secno&gt;10.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;10.2.8.4 &lt;/span&gt;Scripts that modify the page as it is being parsed&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;10.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#unclosed-formatting-elements&gt;&lt;span class=secno&gt;10.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#serializing-html-fragments&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;Serializing HTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-html-fragments&gt;&lt;span class=secno&gt;10.4 &lt;/span&gt;Parsing HTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#named-character-references&gt;&lt;span class=secno&gt;10.5 &lt;/span&gt;Named character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#the-xhtml-syntax&gt;&lt;span class=secno&gt;11 &lt;/span&gt;The XHTML syntax&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;11.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;11.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#unexpected-markup-in-tables&gt;&lt;span class=secno&gt;11.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;11.2.8.4 &lt;/span&gt;Scripts that modify the page as it is being parsed&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;11.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#unclosed-formatting-elements&gt;&lt;span class=secno&gt;11.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#serializing-html-fragments&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Serializing HTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-html-fragments&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Parsing HTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#named-character-references&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Named character references&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#the-xhtml-syntax&gt;&lt;span class=secno&gt;12 &lt;/span&gt;The XHTML syntax&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#writing-xhtml-documents&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Writing XHTML documents&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-xhtml-documents&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;Parsing XHTML documents&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#serializing-xhtml-fragments&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Serializing XHTML fragments&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;12 &lt;/span&gt;Rendering&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#writing-xhtml-documents&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Writing XHTML documents&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-xhtml-documents&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing XHTML documents&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#serializing-xhtml-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing XHTML fragments&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;13 &lt;/span&gt;Rendering&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#display-types&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;Display types&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#margins-and-padding&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;Margins and padding&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#alignment&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;Alignment&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#fonts-and-colors&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;Fonts and colors&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#punctuation-and-decorations&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;Punctuation and decorations&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-hr-element-0&gt;&lt;span class=secno&gt;12.2.8 &lt;/span&gt;The &lt;code&gt;hr&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-fieldset-element-0&gt;&lt;span class=secno&gt;12.2.9 &lt;/span&gt;The &lt;code&gt;fieldset&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#replaced-elements&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Replaced elements&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;13.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#display-types&gt;&lt;span class=secno&gt;13.2.2 &lt;/span&gt;Display types&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#margins-and-padding&gt;&lt;span class=secno&gt;13.2.3 &lt;/span&gt;Margins and padding&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#alignment&gt;&lt;span class=secno&gt;13.2.4 &lt;/span&gt;Alignment&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#fonts-and-colors&gt;&lt;span class=secno&gt;13.2.5 &lt;/span&gt;Fonts and colors&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#punctuation-and-decorations&gt;&lt;span class=secno&gt;13.2.6 &lt;/span&gt;Punctuation and decorations&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;13.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-hr-element-0&gt;&lt;span class=secno&gt;13.2.8 &lt;/span&gt;The &lt;code&gt;hr&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-fieldset-element-0&gt;&lt;span class=secno&gt;13.2.9 &lt;/span&gt;The &lt;code&gt;fieldset&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#replaced-elements&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Replaced elements&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#embedded-content-2&gt;&lt;span class=secno&gt;12.3.1 &lt;/span&gt;Embedded content&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#timed-text-tracks-0&gt;&lt;span class=secno&gt;12.3.2 &lt;/span&gt;Timed text tracks&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#embedded-content-2&gt;&lt;span class=secno&gt;13.3.1 &lt;/span&gt;Embedded content&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#timed-text-tracks-0&gt;&lt;span class=secno&gt;13.3.2 &lt;/span&gt;Timed text tracks&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;12.3.2.1 &lt;/span&gt;WebVTT cue text rendering rules&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;12.3.2.2 &lt;/span&gt;Applying CSS properties to WebVTT Node Objects&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#css-extensions&gt;&lt;span class=secno&gt;12.3.2.3 &lt;/span&gt;CSS extensions&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;13.3.2.1 &lt;/span&gt;WebVTT cue text rendering rules&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;13.3.2.2 &lt;/span&gt;Applying CSS properties to WebVTT Node Objects&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#css-extensions&gt;&lt;span class=secno&gt;13.3.2.3 &lt;/span&gt;CSS extensions&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;12.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;12.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#images-0&gt;&lt;span class=secno&gt;12.3.3 &lt;/span&gt;Images&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;12.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;12.3.5 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#toolbars-0&gt;&lt;span class=secno&gt;12.3.6 &lt;/span&gt;Toolbars&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Bindings&lt;/a&gt;
+         &lt;li&gt;&lt;a href=&quot;#the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;13.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=&quot;#the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;13.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#images-0&gt;&lt;span class=secno&gt;13.3.3 &lt;/span&gt;Images&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;13.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;13.3.5 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#toolbars-0&gt;&lt;span class=secno&gt;13.3.6 &lt;/span&gt;Toolbars&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Bindings&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;12.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;12.4.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;12.4.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;12.4.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;12.4.5 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as domain-specific widgets&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;12.4.6 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a range control&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;12.4.7 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a color well&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;12.4.8 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a checkbox and radio button widgets&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;12.4.9 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a file upload control&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-input-element-as-a-button&gt;&lt;span class=secno&gt;12.4.10 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a button&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-marquee-element-0&gt;&lt;span class=secno&gt;12.4.11 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-meter-element-0&gt;&lt;span class=secno&gt;12.4.12 &lt;/span&gt;The &lt;code&gt;meter&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-progress-element-0&gt;&lt;span class=secno&gt;12.4.13 &lt;/span&gt;The &lt;code&gt;progress&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-select-element-0&gt;&lt;span class=secno&gt;12.4.14 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-textarea-element-0&gt;&lt;span class=secno&gt;12.4.15 &lt;/span&gt;The &lt;code&gt;textarea&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-keygen-element-0&gt;&lt;span class=secno&gt;12.4.16 &lt;/span&gt;The &lt;code&gt;keygen&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-time-element-0&gt;&lt;span class=secno&gt;12.4.17 &lt;/span&gt;The &lt;code&gt;time&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#frames-and-framesets&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;Frames and framesets&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#interactive-media&gt;&lt;span class=secno&gt;12.6 &lt;/span&gt;Interactive media&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;13.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;13.4.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;13.4.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;13.4.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;13.4.5 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as domain-specific widgets&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;13.4.6 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a range control&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;13.4.7 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a color well&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;13.4.8 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a checkbox and radio button widgets&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;13.4.9 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a file upload control&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-input-element-as-a-button&gt;&lt;span class=secno&gt;13.4.10 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a button&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-marquee-element-0&gt;&lt;span class=secno&gt;13.4.11 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-meter-element-0&gt;&lt;span class=secno&gt;13.4.12 &lt;/span&gt;The &lt;code&gt;meter&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-progress-element-0&gt;&lt;span class=secno&gt;13.4.13 &lt;/span&gt;The &lt;code&gt;progress&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-select-element-0&gt;&lt;span class=secno&gt;13.4.14 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-textarea-element-0&gt;&lt;span class=secno&gt;13.4.15 &lt;/span&gt;The &lt;code&gt;textarea&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-keygen-element-0&gt;&lt;span class=secno&gt;13.4.16 &lt;/span&gt;The &lt;code&gt;keygen&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-time-element-0&gt;&lt;span class=secno&gt;13.4.17 &lt;/span&gt;The &lt;code&gt;time&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#frames-and-framesets&gt;&lt;span class=secno&gt;13.5 &lt;/span&gt;Frames and framesets&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#interactive-media&gt;&lt;span class=secno&gt;13.6 &lt;/span&gt;Interactive media&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#links,-forms,-and-navigation&gt;&lt;span class=secno&gt;12.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-title-attribute-0&gt;&lt;span class=secno&gt;12.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;title&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#editing-hosts&gt;&lt;span class=secno&gt;12.6.3 &lt;/span&gt;Editing hosts&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;12.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#print-media&gt;&lt;span class=secno&gt;12.7 &lt;/span&gt;Print media&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#obsolete&gt;&lt;span class=secno&gt;13 &lt;/span&gt;Obsolete features&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#links,-forms,-and-navigation&gt;&lt;span class=secno&gt;13.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-title-attribute-0&gt;&lt;span class=secno&gt;13.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;title&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#editing-hosts&gt;&lt;span class=secno&gt;13.6.3 &lt;/span&gt;Editing hosts&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;13.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#print-media&gt;&lt;span class=secno&gt;13.7 &lt;/span&gt;Print media&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#obsolete&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Obsolete features&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#obsolete-but-conforming-features&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Obsolete but conforming features&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#obsolete-but-conforming-features&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Obsolete but conforming features&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;13.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#non-conforming-features&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Non-conforming features&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#requirements-for-implementations&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Requirements for implementations&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;14.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#non-conforming-features&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;Non-conforming features&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#requirements-for-implementations&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Requirements for implementations&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-applet-element&gt;&lt;span class=secno&gt;13.3.1 &lt;/span&gt;The &lt;code&gt;applet&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-marquee-element&gt;&lt;span class=secno&gt;13.3.2 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#frames&gt;&lt;span class=secno&gt;13.3.3 &lt;/span&gt;Frames&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;13.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
- &lt;li&gt;&lt;a href=#iana&gt;&lt;span class=secno&gt;14 &lt;/span&gt;IANA considerations&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-applet-element&gt;&lt;span class=secno&gt;14.3.1 &lt;/span&gt;The &lt;code&gt;applet&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-marquee-element&gt;&lt;span class=secno&gt;14.3.2 &lt;/span&gt;The &lt;code&gt;marquee&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#frames&gt;&lt;span class=secno&gt;14.3.3 &lt;/span&gt;Frames&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;14.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a href=#iana&gt;&lt;span class=secno&gt;15 &lt;/span&gt;IANA considerations&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#text/html&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/html-sandboxed&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#application/xhtml+xml&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/cache-manifest&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/ping&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#text/vtt&gt;&lt;span class=secno&gt;14.6 &lt;/span&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#application/microdata+json&gt;&lt;span class=secno&gt;14.7 &lt;/span&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#ping-from&gt;&lt;span class=secno&gt;14.8 &lt;/span&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#ping-to&gt;&lt;span class=secno&gt;14.9 &lt;/span&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/html&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/html-sandboxed&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#application/xhtml+xml&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/cache-manifest&gt;&lt;span class=secno&gt;15.4 &lt;/span&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/ping&gt;&lt;span class=secno&gt;15.5 &lt;/span&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#text/vtt&gt;&lt;span class=secno&gt;15.6 &lt;/span&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#application/microdata+json&gt;&lt;span class=secno&gt;15.7 &lt;/span&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#ping-from&gt;&lt;span class=secno&gt;15.8 &lt;/span&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#ping-to&gt;&lt;span class=secno&gt;15.9 &lt;/span&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a class=no-num href=#index&gt;Index&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a class=no-num href=#elements-1&gt;Elements&lt;/a&gt;&lt;/li&gt;
@@ -1327,7 +1333,7 @@
   beyond HTML5 (and that are therefore not included in the W3C version
   of HTML5) currently consist of:&lt;/p&gt;
 
-  &lt;ul class=brief&gt;&lt;li&gt;The &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element.&lt;/li&gt; &lt;!--DEVICE--&gt;
+  &lt;ul class=brief&gt;&lt;li&gt;The &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; API and related video-conferencing features.&lt;/li&gt; &lt;!--DEVICE--&gt;
    &lt;li&gt;The &lt;code title=attr-hyperlink-ping&gt;&lt;a href=#ping&gt;ping&lt;/a&gt;&lt;/code&gt; attribute and related &lt;a href=#hyperlink-auditing&gt;hyperlink auditing&lt;/a&gt; features.&lt;/li&gt; &lt;!--PING--&gt;
    &lt;li&gt;The &lt;a href=#webvtt&gt;WebVTT&lt;/a&gt; format and some &lt;a href=#text-track&gt;text track&lt;/a&gt; API features.&lt;/li&gt; &lt;!--TT--&gt; &lt;!--TTVTT--&gt;
    &lt;li&gt;Rules for &lt;a href=#atom&gt;converting HTML to Atom&lt;/a&gt;.&lt;/li&gt; &lt;!--MD--&gt;
@@ -24791,7 +24797,7 @@
  zero or more &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
  &lt;a href=#transparent&gt;transparent&lt;/a&gt;, but with no &lt;a href=#media-element&gt;media element&lt;/a&gt; descendants.&lt;/dd&gt;
-   &lt;dd&gt;If the element does not have a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute: one or more &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; elements, then
+   &lt;dd&gt;If the element does not have a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute: zero or more &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-END w3c-html--&gt;&lt;!--TT--&gt;
  zero or more &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
@@ -27318,8 +27324,8 @@
     &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
     named &lt;code title=event-media-playing&gt;&lt;a href=#event-media-playing&gt;playing&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;User agents are not required to autoplay, and it
-    is suggested that user agents honor user preferences on the
+    &lt;p class=note&gt;User agents do not need to support autoplay,
+    and it is suggested that user agents honor user preferences on the
     matter. Authors are urged to use the &lt;code title=attr-media-autoplay&gt;&lt;a href=#attr-media-autoplay&gt;autoplay&lt;/a&gt;&lt;/code&gt; attribute rather than
     using script to force the video to play, so as to allow the user
     to override the behavior if so desired.&lt;/p&gt;
@@ -50714,236 +50720,8 @@
   &lt;/ol&gt;&lt;/div&gt;
 
 
-&lt;!--DEVICE--&gt;
-&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
 
-  &lt;h4 id=devices&gt;&lt;span class=secno&gt;4.11.6 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;device&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
-
-  &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#phrasing-content&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#interactive-content&gt;Interactive content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;a href=#phrasing-content&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;Empty.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-device-type&gt;&lt;a href=#attr-device-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=idl&gt;interface &lt;dfn id=htmldeviceelement&gt;HTMLDeviceElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
-           attribute DOMString &lt;span title=dom-device-type&gt;type&lt;/span&gt;;
-  readonly attribute any &lt;span title=dom-device-data&gt;data&lt;/span&gt;;
-};&lt;/pre&gt;
-  &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element represents a device selector, to
-  allow the user to give the page access to a device, for example a
-  video camera.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=attr-device-type title=attr-device-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
-  attribute allows the author to specify which kind of device the page
-  would like access to. The attribute is an &lt;a href=#enumerated-attribute&gt;enumerated
-  attribute&lt;/a&gt; with the keywords given in the first column of the
-  following table, and their corresponding states given in the cell in
-  second column of the same row.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;RS232 and USB are only included below to give an idea
-  of where we could go with this. &lt;strong&gt;Should we instead just make
-  this only useful for audiovisual streams?&lt;/strong&gt; Unless there are
-  compelling reasons, we probably should not be this generic. So far,
-  the reasons for RS232 aren't that compelling. For USB, slightly more
-  so.&lt;/p&gt;
-
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Keyword
-     &lt;th&gt;State
-     &lt;th&gt;Device description
-     &lt;th&gt;Examples
-   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-media title=attr-device-type-keyword-media&gt;&lt;code&gt;media&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-media&gt;Media&lt;/span&gt;
-     &lt;td&gt;Stream of audio and/or video data.
-     &lt;td&gt;A webcam.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-fs title=attr-device-type-keyword-fs&gt;&lt;code&gt;fs&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-fs&gt;File system&lt;/span&gt;
-     &lt;td&gt;File system.
-     &lt;td&gt;A USB-connected media player.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-rs232 title=attr-device-type-keyword-rs232&gt;&lt;code&gt;rs232&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-rs232&gt;RS232&lt;/span&gt;
-     &lt;td&gt;RS232 device.
-     &lt;td&gt;A serial port.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=attr-device-type-keyword-usb title=attr-device-type-keyword-usb&gt;&lt;code&gt;usb&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=attr-device-type-usb&gt;USB&lt;/span&gt;
-     &lt;td&gt;USB device.
-     &lt;td&gt;A scanner, a music player, a disk jockey, a fish tank.
-  &lt;/table&gt;&lt;p class=XXX&gt;processing model: 'change' event fires once user
-  selects a new device; .data is set to new Stream, LocalFS, USB, or
-  RS232 object as appropriate.&lt;/p&gt;
-
-  &lt;div class=example&gt;
-
-   &lt;pre&gt;&lt;p&gt;To start chatting, select a video camera: &lt;device type=media onchange=&quot;update(this.data)&quot;&gt;&lt;/p&gt;
-&lt;video autoplay&gt;&lt;/video&gt;
-&lt;script&gt;
- function update(stream) {
-   document.getElementsByTagName('video')[0].src = stream.url;
- }
-&lt;/script&gt;&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=XXX&gt;The &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element is intended to be a
-  void element, but the parser spec hasn't yet been updated. This
-  section of the spec is very much awaiting implementation
-  experience.&lt;/p&gt;
-
-
-  &lt;h5 id=stream-api&gt;&lt;span class=secno&gt;4.11.6.1 &lt;/span&gt;Stream API&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface is used to represent
-  streams.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;interface &lt;dfn id=stream&gt;Stream&lt;/dfn&gt; {
-  readonly attribute DOMString &lt;a href=#dom-stream-url title=dom-stream-url&gt;url&lt;/a&gt;;
-  &lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt; &lt;a href=#dom-stream-record title=dom-stream-record&gt;record&lt;/a&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-stream-url title=dom-stream-url&gt;&lt;code&gt;url&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return a &lt;span title=fileURN&gt;File URN&lt;/span&gt; representing the
-  stream. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the stream must be in a format
-  supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and
-  &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;This will be pinned down to a specific codec.&lt;/p&gt;
-
-  &lt;p&gt;When the &lt;dfn id=dom-stream-record title=dom-stream-record&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must return a new
-  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object associated with the stream.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;interface &lt;dfn id=streamrecorder&gt;StreamRecorder&lt;/dfn&gt; {
-  &lt;span&gt;File&lt;/span&gt; &lt;a href=#dom-streamrecorder-stop title=dom-StreamRecorder-stop&gt;stop&lt;/a&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-streamrecorder-stop title=dom-StreamRecorder-stop&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method
-  must return a new &lt;code&gt;File&lt;/code&gt; object representing the data
-  that was streamed between the creation of the
-  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object and the invocation of the &lt;code title=dom-StreamRecorder-stop&gt;&lt;a href=#dom-streamrecorder-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the file must be in a format
-  supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and
-  &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;This again will be pinned down to a specific codec.&lt;/p&gt;
-
-
-  &lt;h5 id=peer-to-peer-connections&gt;&lt;span class=secno&gt;4.11.6.2 &lt;/span&gt;Peer-to-peer connections&lt;/h5&gt;
-
-  &lt;p class=XXX&gt;This section will be moved to a more appropriate
-  location in due course; it is here currently to keep it near the
-  &lt;code&gt;&lt;a href=#devices&gt;device&lt;/a&gt;&lt;/code&gt; element to allow reviewers to look at it.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;[Constructor(in DOMString serverConfiguration)]
-interface &lt;dfn id=connectionpeer&gt;ConnectionPeer&lt;/dfn&gt; {
-  void sendText(in DOMString text, in optional boolean unimportant); // if second arg is true, then use unreliable low-latency transport (UDP-like), otherwise guarantee delivery (TCP-like)
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; ontext; // receiving
-
-  void sendBitmap(in HTMLImageElement image);
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onbitmap; // receiving
-
-  void sendFile(in File file);
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onfile; // receiving
-
-  void addStream(in Stream stream);
-  void removeStream(in Stream stream);
-  readonly attribute Stream[] localStreams;
-  readonly attribute Stream[] remoteStreams;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onstream; // receiving
-
-  void &lt;span title=dom-ConnectionPeer-getLocalConfiguration&gt;getLocalConfiguration&lt;/span&gt;(in &lt;a href=#connectionpeerconfigurationcallback&gt;ConnectionPeerConfigurationCallback&lt;/a&gt; callback); // maybe this should be in the constructor, or be an event
-  void &lt;span title=dom-ConnectionPeer-addRemoteConfiguration&gt;addRemoteConfiguration&lt;/span&gt;(in DOMString configuration, in optional DOMString remoteOrigin); // remote origin is assumed to be same-origin if not specified. If specified, has to match remote origin (checked in handshake). Should support leading &quot;*.&quot; to mean &quot;any subdomain of&quot;.
-  void close(); // disconnects and stops listening
-
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onconnect;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; onerror;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; ondisconnect;
-};
-&lt;a href=#connectionpeer&gt;ConnectionPeer&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn id=connectionpeerconfigurationcallback&gt;ConnectionPeerConfigurationCallback&lt;/dfn&gt; {
-  void &lt;span title=dom-ConnectionPeerConfigurationCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#connectionpeer&gt;ConnectionPeer&lt;/a&gt; server, in DOMString configuration);
-};&lt;/pre&gt;
-
-  &lt;p class=XXX&gt;...&lt;/p&gt;
-
-  &lt;div class=XXX&gt;
-
-   &lt;p&gt;This relies on some currently hypothetical other standard to
-   define:&lt;/p&gt;
-
-   &lt;ul&gt;&lt;li&gt;The format of server configuration strings.
-    &lt;li&gt;The format of client configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to third-party servers mentioned in the server configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to each other.
-   &lt;/ul&gt;&lt;/div&gt;
-
-  &lt;div class=example&gt;
-
-   &lt;p&gt;When two peers decide they are going to set up a connection to
-   each other, they both go through these steps. The serverConfig
-   comes from a third-party server they can use to get things like
-   their public IP address or to set up NAT traversal. They also have
-   to send their respective configuration to each other using the same
-   out-of-band mechanism they used to establish that they were going
-   to communicate in the first place.&lt;/p&gt;
-
-   &lt;pre&gt;var serverConfig = ...; // configuration string obtained from server
-// contains details such as the IP address of a server that can speak some
-// protocol to help the client determine its public IP address, route packets
-// if necessary, etc.
-
-var local = new ConnectionPeer(serverConfig);
-local.getLocalConfiguration(function (configuration) {
-  if (configuration != '') {
-    ...; // send configuration to other peer using out-of-band mechanism
-  } else {
-    // we've exhausted our options; wait for connection
-  }
-});
-
-function ... (configuration) {
-  // called whenever we get configuration information out-of-band
-  local.addRemoteConfiguration(configuration);
-}
-
-local.onconnect = function (event) {
-  // we are connected!
-  local.sendText('Hello');
-  local.addStream(...); // send video
-  local.onstream = function (event) {
-    // receive video
-    // (videoElement is some &lt;video&gt; element)
-    if (local.remoteStreams.length &gt; 0)
-      videoElement.src = local.remoteStreams[0].url;
-  };
-};&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=warning&gt;To prevent network sniffing from allowing a
-  fourth party to establish a connection to a peer using the
-  information sent out-of-band to the other peer and thus spoofing the
-  client, the configuration information should always be transmitted
-  using an encrypted connection.&lt;/p&gt;
-
-
-&lt;/div&gt;
-&lt;!--DEVICE--&gt;
-
-
-
-
   &lt;h3 id=links&gt;&lt;span class=secno&gt;4.12 &lt;/span&gt;Links&lt;/h3&gt;
 
   &lt;h4 id=introduction-2&gt;&lt;span class=secno&gt;4.12.1 &lt;/span&gt;Introduction&lt;/h4&gt;
@@ -66740,7 +66518,6 @@
 
 
 
-
   &lt;h2 id=editing&gt;&lt;span class=secno&gt;8 &lt;/span&gt;&lt;dfn&gt;User interaction&lt;/dfn&gt;&lt;/h2&gt;
 
 
@@ -71207,13 +70984,1446 @@
 v2 (well, really v0):
  &quot;forecolor&quot;, &quot;hilitecolor&quot;, &quot;fontname&quot;, &quot;fontsize&quot;, &quot;justifyleft&quot;,
  &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
---&gt;&lt;h2 id=comms&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Communication&lt;/h2&gt;
+--&gt;&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
+  &lt;h2 id=video-conferencing-and-peer-to-peer-communication&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Video conferencing and peer-to-peer communication&lt;/h2&gt;
+
+  &lt;h3 id=introduction-8&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;There are a number of facets to video-conferencing in HTML:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;Getting a multimedia stream (video, audio, or both) from local
+   devices (video cameras, microphones, Web cams) or from prerecorded
+   files provided by the user.&lt;/li&gt;
+
+   &lt;li&gt;Recording such streams locally.&lt;/li&gt;
+
+   &lt;li&gt;Connecting to remote peers using NAT-traversal technologies
+   such as ICE, STUN, and TURN.&lt;/li&gt;
+
+   &lt;li&gt;Sending the locally-produced streams to remote peers and
+   receiving streams from remote peers.&lt;/li&gt;
+
+   &lt;li&gt;Displaying such streams (both the locally-produced ones and the
+   remotely-obtained ones) locally using the &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; or
+   &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; elements.&lt;/li&gt;
+
+   &lt;li&gt;Sending arbitrary data to remote peers.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;This section defines the APIs used for these features.&lt;/p&gt;
+
+
+  &lt;h4 id=obtaining-local-multimedia-content&gt;&lt;span class=secno&gt;9.1.1 &lt;/span&gt;Obtaining local multimedia content&lt;/h4&gt;
+
+  &lt;pre class=idl&gt;[Supplemental, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermedia&gt;NavigatorUserMedia&lt;/dfn&gt; {
+  void &lt;a href=#dom-navigator-getusermedia title=dom-navigator-getUserMedia&gt;getUserMedia&lt;/a&gt;(in DOMString options, in &lt;a href=#navigatorusermediasuccesscallback&gt;NavigatorUserMediaSuccessCallback&lt;/a&gt; successCallback, in optional &lt;a href=#navigatorusermediaerrorcallback&gt;NavigatorUserMediaErrorCallback&lt;/a&gt; errorCallback);
+};
+&lt;a href=#navigator&gt;Navigator&lt;/a&gt; implements &lt;a href=#navigatorusermedia&gt;NavigatorUserMedia&lt;/a&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermediasuccesscallback&gt;NavigatorUserMediaSuccessCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-NavigatorUserMediaSuccessCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt; stream);
+};
+
+[NoInterfaceObject]&lt;!-- this is based on PositionError in geolocation --&gt;
+interface &lt;dfn id=navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/dfn&gt; {
+  const unsigned short &lt;a href=#dom-navigatorusermediaerror-permission_denied title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;PERMISSION_DENIED&lt;/a&gt; = 1;&lt;!--
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-UNAVAILABLE&quot;&gt;UNAVAILABLE&lt;/span&gt; = 2;
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-TIMEOUT&quot;&gt;TIMEOUT&lt;/span&gt; = 3;--&gt;
+  readonly attribute unsigned short &lt;a href=#dom-navigatorusermediaerror-code title=dom-NavigatorUserMediaError-code&gt;code&lt;/a&gt;;&lt;!--
+  readonly attribute DOMString &lt;span title=&quot;dom-NavigatorUserMediaError-message&quot;&gt;message&lt;/span&gt;;--&gt;
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=navigatorusermediaerrorcallback&gt;NavigatorUserMediaErrorCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-NavigatorUserMediaSuccessCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt; error);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-navigator&gt;&lt;a href=#dom-navigator&gt;navigator&lt;/a&gt;&lt;/code&gt; . &lt;code title=dom-navigator-getUserMedia&gt;&lt;a href=#dom-navigator-getusermedia&gt;getUserMedia&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;options&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; ] )&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Prompts the user for permission to use their Web cam or other
+    video or audio input.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; argument is a string of
+    comma-separated values from the following list:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include audio data.&lt;/dd&gt;
+
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;video&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include video data.&lt;/dd&gt;
+
+
+    &lt;/dl&gt;&lt;p&gt;If the user accepts, the &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is
+    invoked, with a suitable &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object as
+    its argument.&lt;/p&gt;
+
+    &lt;p&gt;If the user declines, the &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; (if
+    any) is invoked.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;error&lt;/var&gt; . &lt;code title=dom-NavigatorUserMediaError-code&gt;&lt;a href=#dom-navigatorusermediaerror-code&gt;code&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the current error's error code. At this time, this will
+    always be 1, for which the constant &lt;code title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;a href=#dom-navigatorusermediaerror-permission_denied&gt;PERMISSION_DENIED&lt;/a&gt;&lt;/code&gt;
+    is defined.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-navigator-getusermedia title=dom-navigator-getUserMedia&gt;&lt;code&gt;getUserMedia()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; be the method's first
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; be the callback
+   indicated by the method's second argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; be the callback
+   indicated by the method's third argument, if any, or null
+   otherwise.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is null, abort these
+   steps.&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here, or for /options/ below, without changing the
+   algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#split-a-string-on-spaces title=&quot;split a string on spaces&quot;&gt;Split &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; on spaces&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;video&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/li&gt;
+
+   &lt;!-- any error handling for /options/ should be done here (that's
+   why the method doesn't return until the next step: so we can add
+   exception throwing here) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, e.g. based on a previously-established user
+   preference, for security reasons, or due to platform limitations,
+   jump to the step labeled &lt;i&gt;failure&lt;/i&gt; below.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Prompt the user in a user-agent-specific manner for permission
+    to provide the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt;
+    with a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object representing a media
+    stream.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; is true, then the provided media
+    should include an audio component. If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt;
+    is false, then the provided media must not include an audio
+    component.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is true, then the provided media
+    should include a video component. If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is
+    false, then the provided media must not include a video
+    component.&lt;/p&gt;
+
+    &lt;p&gt;User agents are encouraged to default to using the user's
+    primary or system default camera and/or microphone (as
+    appropriate) to generate the media stream. User agents may allow
+    users to use any media source, including pre-recorded media
+    files.&lt;/p&gt;
+
+    &lt;p&gt;If the user grants permission to use local recording devices,
+    user agents are encouraged to include a prominent indicator that
+    the devices are &quot;hot&quot; (i.e. an &quot;on-air&quot; or &quot;recording&quot;
+    indicator).&lt;/p&gt;
+
+    &lt;p&gt;If the user denies permission, jump to the step labeled
+    &lt;i&gt;failure&lt;/i&gt; below. If the user never responds, this algorithm
+    stalls on this step.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object for which the user granted
+   permission.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; as
+   its argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Failure&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; is
+   null, abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; be a new
+   &lt;code&gt;&lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-NavigatorUserMediaError-code&gt;&lt;a href=#dom-navigatorusermediaerror-code&gt;code&lt;/a&gt;&lt;/code&gt; attribute has
+   the numeric value 1 (&lt;code title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;a href=#dom-navigatorusermediaerror-permission_denied&gt;PERMISSION_DENIED&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; as its
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for these &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; is the &lt;a href=#user-interaction-task-source&gt;user interaction task
+  source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-navigatorusermediaerror-code title=dom-NavigatorUserMediaError-code&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#navigatorusermediaerror&gt;NavigatorUserMediaError&lt;/a&gt;&lt;/code&gt; object must return the code
+  for the error, which must be &lt;!--one of--&gt; the following:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-navigatorusermediaerror-permission_denied title=dom-NavigatorUserMediaError-PERMISSION_DENIED&gt;&lt;code&gt;PERMISSION_DENIED&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The user denied the page permission to use the user's media devices.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;A voice chat feature in a game could attempt to get access to
+   the user's microphone by calling the API as follows:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ navigator.getUserMedia('audio', gotAudio);
+ function gotAudio(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;A video-conferencing system would ask for both audio and video:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ function beginCall() {
+   navigator.getUserMedia('audio,video', gotStream);
+ }
+ function gotStream(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4 id=stream-api&gt;&lt;span class=secno&gt;9.1.2 &lt;/span&gt;Stream API&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface is used to represent streams,
+  typically (but not necessarily) of audio and/or video content, e.g.
+  from a local camera or a remote site.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface is used when the user
+  agent is generating the stream's data (e.g. from a camera or
+  streaming it from a local video file). It allows authors to pause
+  the generation of the content, e.g. to allow the user to temporarily
+  disable a local camera during a video-conference chat.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is being generated
+  from a local file (as opposed to a live audio/video source), the
+  user agent should stream the data from the file in real time, not
+  all at once. This reduces the ease with which pages can distinguish
+  live video from pre-recorded video, which can help protect the
+  user's privacy.&lt;/p&gt;
+
+  &lt;!-- v2: support reading the bits from the stream directly, for use
+  with streaming over WebSocket? Or do we rely on FileReader for that? --&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=stream&gt;Stream&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;a href=#dom-stream-label title=dom-stream-label&gt;label&lt;/a&gt;;
+  &lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt; &lt;a href=#dom-stream-record title=dom-stream-record&gt;record&lt;/a&gt;();
+&lt;!--
+  const unsigned short &lt;span title=&quot;dom-stream-LOADING&quot;&gt;LOADING&lt;/span&gt; = 0; --&gt;
+  const unsigned short &lt;a href=#dom-stream-live title=dom-stream-LIVE&gt;LIVE&lt;/a&gt; = 1;
+  const unsigned short &lt;a href=#dom-stream-ended title=dom-stream-ENDED&gt;ENDED&lt;/a&gt; = 2;
+  readonly attribute unsigned short &lt;a href=#dom-stream-readystate title=dom-stream-readyState&gt;readyState&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onreadystatechange title=handler-stream-onreadystatechange&gt;onreadystatechange&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onended title=handler-stream-onended&gt;onended&lt;/a&gt;;
+};
+&lt;a href=#stream&gt;Stream&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
+
+interface &lt;dfn id=generatedstream&gt;GeneratedStream&lt;/dfn&gt; {
+  void &lt;a href=#dom-stream-stop title=dom-stream-stop&gt;stop&lt;/a&gt;();
+
+  // temporarily pausing the stream
+  const unsigned short &lt;a href=#dom-stream-paused title=dom-stream-PAUSED&gt;PAUSED&lt;/a&gt; = 3;
+  void &lt;a href=#dom-stream-pause title=dom-stream-pause&gt;pause&lt;/a&gt;();
+  void &lt;a href=#dom-stream-resume title=dom-stream-resume&gt;resume&lt;/a&gt;();
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onpause title=handler-stream-onpause&gt;onpause&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onplay title=handler-stream-onplay&gt;onplay&lt;/a&gt;;
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a label that is unique to this stream, so that streams
+    can be recognised after they are sent through the
+    &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; API.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-record&gt;&lt;a href=#dom-stream-record&gt;record&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Begins recording the stream. The returned
+    &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object provides access to the recorded
+    data.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Permanently stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-paused&gt;&lt;a href=#dom-stream-paused&gt;paused&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-stream-readystate title=dom-stream-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the state of the stream. It must return the
+  value to which the user agent last set it (as defined below). It can
+  have the following values:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-stream-live title=dom-stream-LIVE&gt;&lt;code&gt;LIVE&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is active (the user agent is making a best-effort
+   attempt to receive or generate data in real time).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-stream-ended title=dom-stream-ENDED&gt;&lt;code&gt;ENDED&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream has finished (the user agent is no longer receiving
+   or generating data, and will never receive or generate more data
+   for this stream).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-stream-paused title=dom-stream-PAUSED&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is not generating data at this time, but could still
+   be resumed. Only &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects can be in
+   this state.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object is created, its &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute must be
+  set to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object ends for any reason other than
+  the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method being invoke
+  (e.g. because the user rescinds the permission for the page to use
+  the local camera, or because the data comes from a finite file and
+  the file's end has been reached and the user has not requested that
+  it be looped, or because the stream comes from a remote peer and the
+  remote peer has permanently stopped sending data), the user agent
+  must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute has the
+   value &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2) already, then
+   abort these steps. (The &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;
+   method was probably called just before the stream stopped for other
+   reasons, e.g. the user clicked an in-page stop button and then the
+   user-agent-provided stop button.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;If the end of the stream was reached due to a user request, the
+  &lt;a href=#task-source&gt;task source&lt;/a&gt; for this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is the &lt;a href=#user-interaction-task-source&gt;user interaction task
+  source&lt;/a&gt;. Otherwise the &lt;a href=#task-source&gt;task source&lt;/a&gt; for this &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is the &lt;a href=#networking-task-source&gt;networking task
+  source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is created, the user
+  agent must generate a globally unique identifier string, and must
+  initialize the object's &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;
+  attribute to that string. Such strings must only use characters in
+  the ranges U+0021, U+0023 to U+0027, U+002A to U+002B, U+002D to
+  U+002E, U+0030 to U+0039, U+0041 to U+005A, U+005E to U+007E, and
+  must be 36 characters long.&lt;/p&gt; &lt;!-- UUIDs have 36 characters
+  including hyphens; the ranges above comes from RFC4574 (the a=label:
+  thing in SDP) --&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; is created to represent a stream
+  obtained from a remote peer, the &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute is initialized from
+  information provided by the remote source.&lt;/p&gt; &lt;!-- described below
+  --&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-stream-label title=dom-stream-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was initialized when the
+  object was created.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When the &lt;dfn id=dom-stream-record title=dom-stream-record&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must return a new
+  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object associated with the stream.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-stop title=dom-stream-stop&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method is invoked,
+  the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is in the
+   &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2) state, then abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Permanently stop the generation of data for the stream. If
+   the data is being generated from a live source (e.g. a microphone
+   or camera), and no other stream is being generated from a live
+   source, then the user agent should remove any active &quot;on-air&quot;
+   indicator. If the data is being generated from a prerecorded source
+   (e.g. a video file), any remaining content in the file is
+   ignored.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-ENDED&gt;&lt;a href=#dom-stream-ended&gt;ENDED&lt;/a&gt;&lt;/code&gt; (2).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-pause title=dom-stream-pause&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
+   the &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1) state, then abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
+   being generated from a live source (e.g. a microphone or camera),
+   then data collected for this stream while the stream is paused must
+   be discarded. If the data is being generated from a prerecorded
+   source (e.g. a video file), the user agent should follow user
+   preferences for handling a pause (either skipping over data in real
+   time or resuming from the same point when the stream is later
+   resumed).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-pause&gt;pause&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-resume title=dom-stream-resume&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
+   the &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3) state, then
+   abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-readystatechange&gt;&lt;a href=#event-readystatechange&gt;readystatechange&lt;/a&gt;&lt;/code&gt; at the
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-play&gt;play&lt;/code&gt; at the object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause()&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume()&lt;/a&gt;&lt;/code&gt; methods is the &lt;a href=#dom-manipulation-task-source&gt;DOM
+  manipulation task source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
+  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onreadystatechange title=handler-stream-onreadystatechange&gt;&lt;code&gt;onreadystatechange&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-readystatechange&gt;readystatechange&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onended title=handler-stream-onended&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-ended&gt;ended&lt;/code&gt;
+  &lt;/table&gt;&lt;p&gt;The following are the additional &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and
+  their corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event
+  handler event types&lt;/a&gt;) that must be supported, as IDL
+  attributes, by all objects implementing the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onpause title=handler-stream-onpause&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-pause&gt;pause&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onplay title=handler-stream-onplay&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-play&gt;play&lt;/code&gt;
+  &lt;/table&gt;&lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This sample code exposes a button. When clicked, the button is
+   disabled and the user is prompted to offer a stream. The user can
+   cause the button to be re-enabled by providing a stream (e.g.
+   giving the page access to the local camera) and then disabling the
+   stream (e.g. revoking that access).&lt;/p&gt;
+
+   &lt;pre&gt;
+&lt;input type=&quot;button&quot; value=&quot;Start&quot; onclick=&quot;start()&quot; id=&quot;startBtn&quot;&gt;
+&lt;script&gt;
+ var startBtn = document.getElementById('startBtn');
+ function start() {
+   navigator.getUserMedia('audio,video', gotStream);
+   startBtn.disabled = true;
+ }
+ function gotStream(stream) {
+   stream.onended = function () {
+     startBtn.disabled = false;
+   }
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=streamrecorder&gt;StreamRecorder&lt;/dfn&gt; {
+  &lt;span&gt;Blob&lt;/span&gt; &lt;a href=#dom-streamrecorder-getrecordeddata title=dom-StreamRecorder-getRecordedData&gt;getRecordedData&lt;/a&gt;(in &lt;a href=#blobcallback&gt;BlobCallback&lt;/a&gt; callback);
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=blobcallback&gt;BlobCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-BlobCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;Blob&lt;/span&gt; blob);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; . &lt;code title=dom-StreamRecorder-getRecordedData&gt;&lt;a href=#dom-streamrecorder-getrecordeddata&gt;getRecordedData&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;callback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;Blob&lt;/code&gt; of the recorded data, and invokes
+    the provided callback with that &lt;code&gt;Blob&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-streamrecorder-getrecordeddata title=dom-StreamRecorder-getRecordedData&gt;&lt;code&gt;getRecordedData()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be the callback
+   indicated by the method's first argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; is null, abort these
+   steps.&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here without changing the algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the data that was streamed
+   by the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object from which the
+   &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; was created since the creation of the
+   &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Generate a file that containing &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; in
+   a format supported by the user agent for use in &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt;
+   and &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; be a &lt;code&gt;Blob&lt;/code&gt; object
+   representing the contents of the file generated in the previous
+   step. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; as its
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The &lt;code title=dom-StreamRecorder-getRecordedData&gt;&lt;a href=#dom-streamrecorder-getrecordeddata&gt;getRecordedData()&lt;/a&gt;&lt;/code&gt;
+  method can be called multiple times on one
+  &lt;code&gt;&lt;a href=#streamrecorder&gt;StreamRecorder&lt;/a&gt;&lt;/code&gt; object; each time, it will create a new
+  file as if this was the first time the method was being called. In
+  particular, the method does not stop or reset the recording when the
+  method is called.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This example allows people to record a short audio message and
+   upload it to the server. This example even shows rudimentary error
+   handling.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;input type=&quot;button&quot; value=&quot;&#9899;&quot; onclick=&quot;msgRecord()&quot; id=&quot;recBtn&quot;&gt;
+&lt;input type=&quot;button&quot; value=&quot;&#9724;&quot; onclick=&quot;msgStop()&quot; id=&quot;stopBtn&quot; disabled&gt;
+&lt;p id=&quot;status&quot;&gt;To start recording, press the &#9899; button.&lt;/p&gt;
+&lt;script&gt;
+ var recBtn = document.getElementById('recBtn');
+ var stopBtn = document.getElementById('stopBtn');
+ function report(s) {
+   document.getElementById('status').textContent = s;
+ }
+ function msgRecord() {
+   report('Attempting to access microphone...');
+   navigator.getUserMedia('audio', gotStream, noStream);
+   recBtn.disabled = true;
+ }
+ var msgStream;
+ function gotStream(stream) {
+   report('Recording... To stop, press to &#9724; button.');
+   msgStream = stream;
+   stopBtn.disabled = false;
+   stream.onended = function () {
+     msgStop();     
+   }
+ }
+ function msgStop() {
+   report('Creating file...');
+   stopBtn.disabled = true;
+   stream.onended = null;
+   stream.stop();
+   stream.getRecordedData(msgSave);
+ }
+ function msgSave(blob) {
+   report('Uploading file...');
+   var x = new XMLHttpRequest();
+   x.open('POST', 'uploadMessage');
+   x.send(blob);
+   x.onload = function () {
+     report('Done! To record a new message, press the &#9899; button.');
+     recBtn.disabled = false;
+   };
+   x.onerror = function () {
+     report('Failed to upload message. To try recording a message again, press the &#9899; button.');
+     recBtn.disabled = false;
+   };
+ }
+ funciton noStream() {
+   report('Could not obtain access to your microphone. To try again, press the &#9899; button.');
+   recBtn.disabled = false;
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=idl&gt;[Supplemental]
+interface &lt;dfn id=dom-url title=dom-URL&gt;URL&lt;/dfn&gt; {
+  static DOMString &lt;a href=#dom-url-createobjecturl title=dom-URL-createObjectURL&gt;createObjectURL&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+};&lt;/pre&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-URL&gt;&lt;a href=#dom-url&gt;URL&lt;/a&gt;&lt;/code&gt; . &lt;code title=dom-URL-createObjectURL&gt;&lt;a href=#dom-url-createobjecturl&gt;createObjectURL&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Mints a &lt;a href=#blob-url&gt;Blob URL&lt;/a&gt; to refer to the given &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-url-createobjecturl title=dom-URL-createObjectURL&gt;&lt;code&gt;createObjectURL()&lt;/code&gt;&lt;/dfn&gt;
+  method is called with a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; argument, the user agent
+  must return a unique &lt;a href=#blob-url&gt;Blob URL&lt;/a&gt; for the given
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsFILEAPI&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;For audio and video streams, the data exposed on that stream must
+  be in a format supported by the user agent for use in
+  &lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
+
+  &lt;p class=bookkeeping&gt;A &lt;dfn id=blob-url&gt;Blob URL&lt;/dfn&gt; is the same as what the
+  File API specification calls a &lt;span&gt;Blob URI&lt;/span&gt;, except that
+  anything in the definition of that feature that refers to
+  &lt;code&gt;File&lt;/code&gt; and &lt;code&gt;Blob&lt;/code&gt; objects is hereby extended
+  to also apply to &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; and
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;This example allows people to take photos of themselves from the
+   local video camera.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;style scoped&gt;
+  video { transform: scaleX(-1); }
+  p { text-align: center; }
+ &lt;/style&gt;
+ &lt;h1&gt;Snapshot Kiosk&lt;/h1&gt;
+ &lt;section id=&quot;splash&quot;&gt;
+  &lt;p id=&quot;errorMessage&quot;&gt;Loading...&lt;/p&gt;
+ &lt;/section&gt;
+ &lt;section id=&quot;app&quot; hidden&gt;
+  &lt;p&gt;&lt;video id=&quot;monitor&quot;&gt;&lt;/video&gt; &lt;canvas id=&quot;photo&quot;&gt;&lt;/canvas&gt;
+  &lt;p&gt;&lt;input type=button value=&quot;&amp;#x1F4F7;&quot; onclick=&quot;snapshot()&quot;&gt;
+ &lt;/section&gt;
+ &lt;script&gt;
+  navigator.getUserMedia('video', gotStream, noStream);
+  var video = document.getElementById('monitor');
+  var canvas = document.getElementById('photo');
+  function gotStream(stream) {
+    video.src = URL.getObjectURL(stream);
+    video.onerror = function () {
+      stream.stop();
+      noStream();
+    }
+    video.onloadedmetadata = function () {
+      canvas.width = video.videoWidth;
+      canvas.height = video.videoHeight;
+      document.getElementById('splash').hidden = true;
+      document.getElementById('app').hidden = false;
+    }
+  }
+  function noStream() {
+    document.getElementById('errorMessage').textContent = 'No camera available.';
+  }
+  function snapshot() {
+    canvas.getContext('2d').drawImage(video, 0, 0);
+  }
+ &lt;/script&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4 id=peer-to-peer-connections&gt;&lt;span class=secno&gt;9.1.3 &lt;/span&gt;Peer-to-peer connections&lt;/h4&gt;
+
+  &lt;pre class=idl&gt;[&lt;a href=#dom-peerconnection title=dom-PeerConnection&gt;Constructor&lt;/a&gt;(in DOMString configuration, in &lt;a href=#signalingcallback&gt;SignalingCallback&lt;/a&gt; signalingCallback)]
+interface &lt;dfn id=peerconnection&gt;PeerConnection&lt;/dfn&gt; {
+  void &lt;a href=#dom-peerconnection-signalingmessage title=dom-PeerConnection-signalingMessage&gt;signalingMessage&lt;/a&gt;(in DOMString message);
+
+  // &lt;span class=XXX&gt;readyState, etc&lt;/span&gt;
+
+  void &lt;a href=#dom-peerconnection-send title=dom-PeerConnection-send&gt;send&lt;/a&gt;(in DOMString text);
+  void &lt;a href=#dom-peerconnection-addstream title=dom-PeerConnection-addStream&gt;addStream&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+  void &lt;a href=#dom-peerconnection-removestream title=dom-PeerConnection-removeStream&gt;removeStream&lt;/a&gt;(in &lt;a href=#stream&gt;Stream&lt;/a&gt; stream);
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt;[] &lt;a href=#dom-peerconnection-localstreams title=dom-PeerConnection-localStreams&gt;localStreams&lt;/a&gt;;
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt;[] &lt;a href=#dom-peerconnection-remotestreams title=dom-PeerConnection-remoteStreams&gt;remoteStreams&lt;/a&gt;;
+
+  // &lt;span class=XXX&gt;connection quality information&lt;/span&gt;
+
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-ontext title=handler-PeerConnection-ontext&gt;ontext&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-onaddstream title=handler-PeerConnection-onaddstream&gt;onaddstream&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-peerconnection-onremovestream title=handler-PeerConnection-onremovestream&gt;onremovestream&lt;/a&gt;;
+};
+&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt; implements &lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn id=signalingcallback&gt;SignalingCallback&lt;/dfn&gt; {
+  void &lt;span title=dom-SignalingCallback-handleEvent&gt;handleEvent&lt;/span&gt;(in &lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt; source, in DOMString message);
+};&lt;/pre&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; allows two users to communicate
+  directly, browser-to-browser. Communications are coordinated via a
+  signaling channel provided by script in the page via the server,
+  e.g. using &lt;code&gt;XMLHttpRequest&lt;/code&gt;.&lt;/p&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; = new &lt;code title=dom-PeerConnection&gt;&lt;a href=#dom-peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt; string gives the address
+    of a STUN or TURN server to use to establish the connection. &lt;a href=#refsSTUN&gt;[STUN]&lt;/a&gt; &lt;a href=#refsTURN&gt;[TURN]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;The allowed formats for this string are:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; 203.0.113.2:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific IP address and port for the server.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; relay.example.net:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific host and port for the server; the user agent will look up the IP address in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; example.net&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific domain for the server; the user agent will look up the IP address and port in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p&gt;The &quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt;&lt;/code&gt;&quot; is one of:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server that is to be contacted using a TLS session.
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server that is to be contacted using a TLS session.
+
+    &lt;/dl&gt;&lt;p&gt;The &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; argument is a method
+    that will be invoked when the user agent needs to send a message
+    to the other host over the signaling channel. When the callback
+    is invoked, convey its argument (a string) to the other peer using
+    whatever method is being used by the Web application to relay
+    signaling messages. (Messages returned from the other peer are
+    provided back to the user agent using the &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage()&lt;/a&gt;&lt;/code&gt;
+    method.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;When a message is relayed from the remote peer over the
+    signaling channel is received by the Web application, pass it to
+    the user agent by calling the &lt;code title=dom-PeerConnection-signalingMessage&gt;&lt;a href=#dom-peerconnection-signalingmessage&gt;signalingMessage()&lt;/a&gt;&lt;/code&gt;
+    method.&lt;/p&gt;
+
+    &lt;p&gt;The order of messages is important. Passing messages to the
+    user agent in a different order than they were generated by the
+    remote peer's user agent can prevent a successful connection from
+    being established or degrade the connection's quality if one is
+    established.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-send&gt;&lt;a href=#dom-peerconnection-send&gt;send&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;text&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to send the given text to the remote peer. This uses
+    UDP, which is inherently unreliable; there is no guarantee that
+    every message will be received.&lt;/p&gt;
+
+    &lt;p&gt;When a message sent in this manner from the other peer is
+    received, a &lt;code title=event-PeerConnection-text&gt;text&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-addStream&gt;&lt;a href=#dom-peerconnection-addstream&gt;addStream&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to starting sending the given stream to the remote
+    peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer starts sending a stream in this manner, an
+    &lt;code title=event-PeerConnection-addstream&gt;addstream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-removeStream&gt;&lt;a href=#dom-peerconnection-removestream&gt;removeStream&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Steps sending the given stream to the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer stops sending a stream in this manner, a
+    &lt;code title=event-PeerConnection-removestream&gt;removestream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently attempting to transmit to the remote peer (those that
+    were added with &lt;code title=dom-PeerConnection-addStream&gt;&lt;a href=#dom-peerconnection-addstream&gt;addStream()&lt;/a&gt;&lt;/code&gt;).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently receiving from the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;This array is updated when &lt;code title=event-PeerConnection-addstream&gt;addstream&lt;/code&gt; and &lt;code title=event-PeerConnection-removestream&gt;removestream&lt;/code&gt;
+    events are fired.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object has an associated
+  &lt;dfn id=peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/dfn&gt;, a
+  &lt;dfn id=peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/dfn&gt;, a
+  &lt;dfn id=peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/dfn&gt; and an
+  &lt;dfn id=ice-started-flag&gt;ICE started flag&lt;/dfn&gt;. These are initialized when the object
+  is created.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;dfn id=dom-peerconnection title=dom-PeerConnection&gt;&lt;code&gt;PeerConnection()&lt;/code&gt;&lt;/dfn&gt;
+  constructor is invoked, the user agent must run the following steps.
+  This algorithm has a &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; (which is
+  triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; algorithm). Steps
+  in the &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; are marked with
+  &#8987;.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; be the constructor's
+   first argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; be the
+   constructor's second argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be a newly created
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an ICE Agent and let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; be that ICE
+   Agent. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; contains a U+000A LINE
+   FEED (LF) character or a U+000D CARRIAGE RETURN (CR) character (or
+   both), remove all characters from &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt;
+   after the first such character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#split-a-string-on-spaces title=&quot;split a string on spaces&quot;&gt;Split &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; on spaces&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; has two or more
+    components, and the first component is a
+    &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for one of the following
+    strings:&lt;/p&gt;
+
+    &lt;ul class=brief&gt;&lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;
+    &lt;/ul&gt;&lt;p&gt;...then run the following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; be STUN if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;,
+     and TURN otherwise (the first component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is &quot;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;).&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; be true if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;,
+     and false otherwise.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;host&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; up to
+     the character before the first U+003A COLON character (:), if
+     any, or the entire string otherwise.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;port&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; from
+     the character after the first U+003A COLON character (:) up to
+     the end, if any, or the empty string otherwise.&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Configure the &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+      Agent&lt;/a&gt;'s STUN or TURN server as follows:&lt;/p&gt;
+
+      &lt;ul&gt;&lt;li&gt;If &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is STUN, the server is a
+       STUN server. Otherwise, &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is TURN
+       and the server is a TURN server.&lt;/li&gt;
+
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; is true, the server is to be
+       contacted using TLS-over-TCP, otherwise, it is to be contacted
+       using UDP.&lt;/li&gt;
+
+       &lt;li&gt;The IP address, host name, or domain name of the server is
+       &lt;var title=&quot;&quot;&gt;host&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;The port to use is &lt;var title=&quot;&quot;&gt;port&lt;/var&gt;. If this is the
+       empty string, then only a domain name is configured (and the
+       ICE Agent will use DNS SRV requests to determine the IP address
+       and port).&lt;/li&gt;
+
+       &lt;li&gt;The long-term username for the the STUN or TURN server is
+       the &lt;a href=#ascii-serialization-of-an-origin title=&quot;ASCII serialization of an origin&quot;&gt;ASCII
+       serialization&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s
+       &lt;a href=#origin&gt;origin&lt;/a&gt;; the long-term password is the empty
+       string.&lt;/li&gt;
+
+      &lt;/ul&gt;&lt;p&gt;If the given IP address, host name, domain name, or port are
+      invalid, then the user agent must act as if no STUN or TURN
+      server is configured.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/a&gt; be
+   &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+   flag&lt;/a&gt; to false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; be a
+   new &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; array. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; array. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;, but continue these
+   steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#await-a-stable-state&gt;Await a stable state&lt;/a&gt;. The &lt;a href=#synchronous-section&gt;synchronous
+   section&lt;/a&gt; consists of the remaining steps of this
+   algorithm. (Steps in &lt;a href=#synchronous-section title=&quot;synchronous section&quot;&gt;synchronous
+   sections&lt;/a&gt; are marked with &#8987;.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&#8987; If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is still false, start the
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; and send the
+   initial offer. The initial offer must include a media description
+   for the &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media
+   stream&lt;/a&gt; and for all the streams in &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&#8987; Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; be true.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; is
+  required to send SDP offers or answers, the user agent must follow
+  these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the SDP offer or answer to be
+   sent. &lt;a href=#refsSDPOFFERANSWER&gt;[SDPOFFERANSWER]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the concatenation of the
+   string &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot;, a U+000A LINE FEED (LF)
+   character, and &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt;, in that order.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to invoke that
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt;'s
+   &lt;a href=#peerconnection-signaling-callback&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/a&gt; with
+   &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; as its argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;All SDP media descriptions for streams represented by
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; objects must include a label attribute (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the value of the
+  &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;a href=#peerconnection-ice-agent title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/a&gt; must not
+  generate any candidates for media streams whose media descriptions
+  do not have a label attribute (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;). &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt; &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When a user agent starts receiving media for a component an a
+  candidate provided for that component by a
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt;, the user agent
+  must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; whose ICE Agent is expecting this
+   media.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is already a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object for the
+   media stream to which this component belongs, then associate the
+   component with that media stream and abort these steps. (Some media
+   streams have multiple components; this API does not expose the
+   role of these individual components in ICE.)&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object to represent the media
+   stream. Set its &lt;code title=attr-stream-label&gt;label&lt;/code&gt;
+   attribute to the value of the SDP Label attribute for that
+   component's media stream.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to add the newly created
+   &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object to the end of &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   array, then &lt;a href=#fire-a-stream-event&gt;fire a stream event&lt;/a&gt; named &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt; with the newly
+   created &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object at the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When a &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; finds
+  that a stream from the remote peer has been removed (its port has
+  been set to zero in a media description sent on the signaling
+  channel), the user agent must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; whose &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   ICE Agent&lt;/a&gt; has determined that a stream is being removed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt;
+   object that represents the media stream being removed, if any. If
+   there isn't one, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to remove &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; from &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code title=dom-PeerConnection-remoteStreams&gt;&lt;a href=#dom-peerconnection-remotestreams&gt;remoteStreams&lt;/a&gt;&lt;/code&gt;
+   array, then &lt;a href=#fire-a-stream-event&gt;fire a stream event&lt;/a&gt; named &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt; with &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; at the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;
+   object.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-signalingmessage title=dom-PeerConnection-signalingMessage&gt;&lt;code title=&quot;&quot;&gt;signalingMessage()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the first four characters of &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; are
+    not &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot; followed by a U+000A LINE FEED
+    (LF) character, then abort these steps. (This indicates an error
+    in the signaling channel implementation. User agents may report
+    such errors to their developer consoles to aid debugging.)&lt;/p&gt;
+
+    &lt;p class=note&gt;Future extensions to the
+    &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; interface might use other prefix
+    values to implement additional features.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the string consisting of all
+   but the first four characters of &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+    flag&lt;/a&gt; is still false, start the
+    &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; and pass it
+    &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; as the initial offer from the other peer;
+    the ICE Agent will then (asynchronously) construct the initial
+    answer and transmit it as described above. The initial answer must
+    include a media description for the
+    &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; and
+    for all the streams in &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+    flag&lt;/a&gt; is true, then pass &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; to the
+    &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; as a subsequent
+    offer or answer, to be interpreted as appropriate given the
+    current state of the ICE Agent. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;a href=#ice-started-flag&gt;ICE started
+   flag&lt;/a&gt; be true.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-send title=dom-PeerConnection-send&gt;&lt;code title=&quot;&quot;&gt;send()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's first
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;
+   encoded as UTF-8. &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is longer than 65470 bytes,
+   throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these
+   steps.&lt;/li&gt;
+   &lt;!-- 65470 = 65535 (64K, max IP size) - 40 (IP header) - 8 (UDP header) - 16 (nonce) - 1 (payload type byte) --&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/a&gt; is
+   not an &lt;a href=#active-data-udp-media-stream&gt;active data UDP media stream&lt;/a&gt;, abort these
+   steps. No message is sent.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#transmit-a-data-packet-to-a-peer&gt;Transmit a data packet to a peer&lt;/a&gt; using the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   data UDP media stream&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as the
+   message.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-addstream title=dom-PeerConnection-addStream&gt;&lt;code title=&quot;&quot;&gt;addStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is already in the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt; object,
+   then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; to the end of the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is false, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; add a media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt; &lt;!-- section 9.1.1.3 --&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the &lt;dfn id=dom-peerconnection-removestream title=dom-PeerConnection-removeStream&gt;&lt;code title=&quot;&quot;&gt;removeStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is not in the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt; object,
+   then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; from the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-PeerConnection-localStreams&gt;&lt;a href=#dom-peerconnection-localstreams&gt;localStreams&lt;/a&gt;&lt;/code&gt;
+   object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#ice-started-flag&gt;ICE
+   started flag&lt;/a&gt; is false, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s
+   &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; remove the media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/li&gt; &lt;!-- section 9.1.1.2 --&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-peerconnection-localstreams title=dom-PeerConnection-localStreams&gt;&lt;code&gt;localStreams&lt;/code&gt;&lt;/dfn&gt;
+  and &lt;dfn id=dom-peerconnection-remotestreams title=dom-PeerConnection-remoteStreams&gt;&lt;code&gt;remoteStreams&lt;/code&gt;&lt;/dfn&gt;
+  attributes must return the read-only &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; arrays that
+  the attributes were respectively set to when the
+  &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;'s constructor ran.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
+  corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/a&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt;
+  interface:&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-ontext title=handler-PeerConnection-ontext&gt;&lt;code&gt;ontext&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-text&gt;text&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-onaddstream title=handler-PeerConnection-onaddstream&gt;&lt;code&gt;onaddstream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-peerconnection-onremovestream title=handler-PeerConnection-onremovestream&gt;&lt;code&gt;onremovestream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt;
+  &lt;/table&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; listed in this section is the
+  &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;When two peers decide they are going to set up a connection to
+   each other, they both go through these steps. The STUN/TURN server
+   configuration describes a server they can use to get things like
+   their public IP address or to set up NAT traversal. They also have
+   to send data for the signaling channel to each other using the same
+   out-of-band mechanism they used to establish that they were going
+   to communicate in the first place.&lt;/p&gt;
+
+   &lt;pre&gt;// the first argument describes the STUN/TURN server configuration
+var local = new PeerConnection('TURNS example.net', sendSignalingChannel);
+local.signalingChannel(...); // if we have a message from the other side, pass it along here
+
+// (aLocalStream is some GeneratedStream object)
+local.addStream(aLocalStream); // start sending video
+
+function sendSignalingChannel(message) {
+  ... // send message to the other side via the signaling channel
+}
+
+function receiveSignalingChannel (message) {
+  // call this whenever we get a message on the signaling channel
+  local.signalingChannel(message);
+}
+
+local.onaddstream = function (event) {
+  // (videoElement is some &lt;video&gt; element)
+  videoElement.src = URL.getObjectURL(event.stream);
+};&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;p class=warning&gt;To prevent network sniffing from allowing a
+  fourth party to establish a connection to a peer using the
+  information sent out-of-band to the other peer and thus spoofing the
+  client, the configuration information should always be transmitted
+  using an encrypted connection.&lt;/p&gt;
+
+
+
+  &lt;h4 id=the-data-stream&gt;&lt;span class=secno&gt;9.1.4 &lt;/span&gt;The data stream&lt;/h4&gt;
+
+  &lt;p&gt;All &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; connections include a &lt;dfn id=data-udp-media-stream&gt;data
+  UDP media stream&lt;/dfn&gt;, which is used to send data packets
+  peer-to-peer, for instance game control packets. This data channel
+  is unreliable (packets are not guaranteed to be delivered, and are
+  not guaranteed to be delivered in the right order).&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;a href=#data-udp-media-stream title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/a&gt; must include a label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the string &quot;&lt;code title=&quot;&quot;&gt;data&lt;/code&gt;&quot;. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt; &lt;a href=#refsSDPLABEL&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;a href=#data-udp-media-stream title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/a&gt; must also include a key field
+  (&quot;&lt;code title=&quot;&quot;&gt;k=&lt;/code&gt;&quot;), with the value being a base64-encoded
+  representation of 16 cryptographically random bytes determined on a
+  per-ICE-Agent basis. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;a href=#peerconnection-ice-agent title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/a&gt; must attempt to
+  establish a connection for their &lt;a href=#peerconnection-data-udp-media-stream&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+  data UDP media stream&lt;/a&gt; during the initial offer/answer
+  exchange, and must maintain that UDP media stream for the ICE
+  Agents' whole lifetime.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; is an &lt;dfn id=active-data-udp-media-stream&gt;active data UDP
+  media stream&lt;/dfn&gt; if the &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+  Agent&lt;/a&gt; has selected a destination for it. A &lt;a href=#data-udp-media-stream&gt;data UDP
+  media stream&lt;/a&gt; can change active status many times during the
+  lifetime of its &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object (e.g. any time
+  the network topology changes and the ICE Agent performs an ICE
+  Restart). &lt;a href=#refsICE&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Bytes transmitted on a &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; are
+  masked so as to prevent cross-protocol attacks (&lt;a href=#data-udp-media-stream&gt;data UDP media
+  stream&lt;/a&gt; always appear to contain random noise to other
+  protocols). For the purposes of masking, the &lt;dfn id=data-udp-media-stream-salt&gt;data UDP media
+  stream salt&lt;/dfn&gt; is defined to be the following 16 bytes, described
+  here as hexadecimal numbers: DB 68 B5 FD 17 0E 15 77 56 AF 7A 3A 1A
+  57 75 02&lt;/p&gt; &lt;!-- obtained thusly: head -c 16 /dev/urandom |
+  hexdump -C --&gt;
+
+  &lt;p&gt;When the user agent is to &lt;dfn id=transmit-a-data-packet-to-a-peer&gt;transmit a data packet to a
+  peer&lt;/dfn&gt; using a &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; and with a
+  byte string payload &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must
+  run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be 16 cryptographically random
+   bytes.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;a href=#data-udp-media-stream&gt;data UDP media stream&lt;/a&gt; in its
+   media description, as defined above.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;a href=#data-udp-media-stream-salt&gt;data UDP media stream salt&lt;/a&gt; bytes. &lt;a href=#refsHMAC&gt;[HMAC]&lt;/a&gt; &lt;a href=#refsSHA1&gt;[SHA1]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a 0x01 byte followed by
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;masked message&lt;/var&gt; be the result of
+   encrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a href=#refsAES128CTR&gt;[AES128CTR]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Send the concatenation of &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;masked message&lt;/var&gt; in a UDP packet to the destination
+   that the relevant &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+   Agent&lt;/a&gt; has selected a destination for the &lt;a href=#data-udp-media-stream&gt;data UDP
+   media stream&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;A &lt;dfn id=remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/dfn&gt; is the first UDP media
+  stream whose sender is the remote peer, whose label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) has the value &quot;&lt;code title=&quot;&quot;&gt;data&lt;/code&gt;&quot;, and for which a
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; has selected a
+  destination, if that media stream has an encryption key advertised
+  in its media description, and if that encryption key is 16 bytes
+  long. A &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; is associated with
+  the &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object for which the
+  &lt;a href=#peerconnection-ice-agent&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/a&gt; in question is
+  operating.&lt;/p&gt;
+
+  &lt;p&gt;When a packet from a &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; is
+  received, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the UDP packet's data.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is shorter than 17 bytes, then
+   abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be the first 16 bytes of the
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP media stream&lt;/a&gt; in
+   the media description for this media stream. &lt;a href=#refsSDP&gt;[SDP]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;a href=#data-udp-media-stream-salt&gt;data UDP media stream salt&lt;/a&gt; bytes. &lt;a href=#refsHMAC&gt;[HMAC]&lt;/a&gt; &lt;a href=#refsSHA1&gt;[SHA1]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; be the result of
+   decrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a href=#refsAES128CTR&gt;[AES128CTR]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the first byte of &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; is
+   not 0x01, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;raw message&lt;/var&gt; be the string consisting
+   of all but the first character of &lt;var title=&quot;&quot;&gt;unmasked
+   message&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;raw
+   message&lt;/var&gt; &lt;a href=#decoded-as-utf-8,-with-error-handling&gt;decoded as UTF-8, with error
+   handling&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an event that uses the &lt;code&gt;&lt;a href=#messageevent&gt;MessageEvent&lt;/a&gt;&lt;/code&gt;
+   interface, with the name &lt;code title=event-text&gt;text&lt;/code&gt;,
+   which does not bubble, is not cancelable, has no default action,
+   and has a &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute
+   whose value is &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, and &lt;a href=#queue-a-task&gt;queue a
+   task&lt;/a&gt; to dispatch the event at the
+   &lt;code&gt;&lt;a href=#peerconnection&gt;PeerConnection&lt;/a&gt;&lt;/code&gt; object that the &lt;a href=#remote-data-udp-media-stream&gt;remote data UDP
+   media stream&lt;/a&gt; is associated with.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h4 id=event-definitions-0&gt;&lt;span class=secno&gt;9.1.5 &lt;/span&gt;Event definitions&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code title=event-stream-addstream&gt;addstream&lt;/code&gt; and
+  &lt;code title=event-stream-removestream&gt;removestream&lt;/code&gt; events
+  use the &lt;code&gt;&lt;a href=#streamevent&gt;StreamEvent&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;pre class=idl&gt;interface &lt;dfn id=streamevent&gt;StreamEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
+  readonly attribute &lt;a href=#stream&gt;Stream&lt;/a&gt; &lt;a href=#dom-streamevent-stream title=dom-StreamEvent-stream&gt;stream&lt;/a&gt;;
+  void &lt;span title=dom-CloseEvent-initCloseEvent&gt;initCloseEvent&lt;/span&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in &lt;a href=#stream&gt;Stream&lt;/a&gt; streamArg);
+};&lt;/pre&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-streamevent-initstreamevent title=dom-StreamEvent-initStreamEvent&gt;&lt;code&gt;initStreamEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-streamevent-stream title=dom-StreamEvent-stream&gt;&lt;code&gt;stream&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object associated with
+  the event.&lt;/p&gt;
+
+  &lt;p&gt;&lt;dfn id=fire-a-stream-event title=&quot;fire a stream event&quot;&gt;Firing a stream event named &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;&lt;/dfn&gt; with a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; means that an event with the name &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, which does not bubble (except where otherwise
+  stated) and is not cancelable (except where otherwise stated), and
+  which uses the &lt;code&gt;&lt;a href=#streamevent&gt;StreamEvent&lt;/a&gt;&lt;/code&gt; interface with the &lt;code title=dom-StreamEvent-stream&gt;&lt;a href=#dom-streamevent-stream&gt;stream&lt;/a&gt;&lt;/code&gt; attribute set to &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;, must be dispatched at the given target.&lt;/p&gt;
+
+
+  &lt;h4 id=event-summary&gt;&lt;span class=secno&gt;9.1.6 &lt;/span&gt;Event Summary&lt;/h4&gt;
+
+  &lt;p class=XXX&gt;...will add event summary for streams here...&lt;/p&gt;
+
+&lt;/div&gt;
+
+
+  &lt;h2 id=comms&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Communication&lt;/h2&gt;
+
   &lt;div data-component=&quot;Web Messaging (editor: Ian Hickson)&quot;&gt;
 
 
 
-  &lt;h3 id=event-definitions-0&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
+  &lt;h3 id=event-definitions-1&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
 
   &lt;p&gt;Messages in &lt;span&gt;server-sent events&lt;/span&gt;, &lt;span&gt;Web
   sockets&lt;/span&gt;, &lt;a href=#web-messaging&gt;cross-document messaging&lt;/a&gt;, and
@@ -71332,7 +72542,7 @@
 
   
 
-  &lt;h3 id=web-messaging&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;&lt;dfn id=crossDocumentMessages&gt;Cross-document messaging&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=web-messaging&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;&lt;dfn id=crossDocumentMessages&gt;Cross-document messaging&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;Web browsers, for security and privacy reasons, prevent documents
   in different domains from affecting each other; that is, cross-site
@@ -71353,7 +72563,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-8&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71394,11 +72604,11 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=security-postmsg&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;Security&lt;/h4&gt;
+  &lt;h4 id=security-postmsg&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;Security&lt;/h4&gt;
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=authors&gt;&lt;span class=secno&gt;9.2.2.1 &lt;/span&gt;Authors&lt;/h5&gt;
+  &lt;h5 id=authors&gt;&lt;span class=secno&gt;10.2.2.1 &lt;/span&gt;Authors&lt;/h5&gt;
 
   &lt;/div&gt;
 
@@ -71426,7 +72636,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=user-agents&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;User agents&lt;/h5&gt;
+  &lt;h5 id=user-agents&gt;&lt;span class=secno&gt;10.2.2.2 &lt;/span&gt;User agents&lt;/h5&gt;
 
   &lt;p&gt;The integrity of this API is based on the inability for scripts
   of one &lt;a href=#origin&gt;origin&lt;/a&gt; to post arbitrary events (using &lt;code title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to objects in other
@@ -71442,7 +72652,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=posting-messages&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Posting messages&lt;/h4&gt;
+  &lt;h4 id=posting-messages&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Posting messages&lt;/h4&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-postMessage&gt;&lt;a href=#dom-window-postmessage&gt;postMessage&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;targetOrigin&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;ports&lt;/var&gt; ])&lt;/dt&gt;
 
@@ -71584,9 +72794,9 @@
 
 
 
-  &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;9.3 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -71623,7 +72833,7 @@
 }&lt;/pre&gt;
 
 
-  &lt;h4 id=message-channels&gt;&lt;span class=secno&gt;9.3.2 &lt;/span&gt;Message channels&lt;/h4&gt;
+  &lt;h4 id=message-channels&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;Message channels&lt;/h4&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-messagechannel title=dom-MessageChannel&gt;Constructor&lt;/a&gt;]
 interface &lt;dfn id=messagechannel&gt;MessageChannel&lt;/dfn&gt; {
@@ -71692,7 +72902,7 @@
 
 
 
-  &lt;h4 id=message-ports&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Message ports&lt;/h4&gt;
+  &lt;h4 id=message-ports&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Message ports&lt;/h4&gt;
 
   &lt;p&gt;Each channel has two message ports. Data sent through one port is
   received by the other port, and vice versa.&lt;/p&gt;
@@ -71979,7 +73189,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=ports-and-garbage-collection&gt;&lt;span class=secno&gt;9.3.3.1 &lt;/span&gt;Ports and garbage collection&lt;/h5&gt;
+  &lt;h5 id=ports-and-garbage-collection&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Ports and garbage collection&lt;/h5&gt;
 
   &lt;div class=impl&gt;
 
@@ -72030,7 +73240,7 @@
 
 
 
-  &lt;h2 id=syntax&gt;&lt;span class=secno&gt;10 &lt;/span&gt;&lt;dfn&gt;The HTML syntax&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=syntax&gt;&lt;span class=secno&gt;11 &lt;/span&gt;&lt;dfn&gt;The HTML syntax&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p class=note&gt;This section only describes the rules for resources
   labeled with an &lt;a href=#html-mime-type&gt;HTML MIME type&lt;/a&gt;. Rules for XML resources
@@ -72038,7 +73248,7 @@
   syntax&lt;/a&gt;&quot;.&lt;/p&gt;
 
 
-  &lt;h3 id=writing&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Writing HTML documents&lt;/h3&gt;
+  &lt;h3 id=writing&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Writing HTML documents&lt;/h3&gt;
 
   &lt;div class=impl&gt;
 
@@ -72100,7 +73310,7 @@
   as &quot;case-insensitive&quot;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-doctype&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;The DOCTYPE&lt;/h4&gt;
+  &lt;h4 id=the-doctype&gt;&lt;span class=secno&gt;11.1.1 &lt;/span&gt;The DOCTYPE&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn id=syntax-doctype title=syntax-doctype&gt;DOCTYPE&lt;/dfn&gt; is a &lt;!-- mostly
   useless but nonetheless --&gt; required preamble.&lt;/p&gt;
@@ -72184,7 +73394,7 @@
 
 
 
-  &lt;h4 id=elements-0&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Elements&lt;/h4&gt;
+  &lt;h4 id=elements-0&gt;&lt;span class=secno&gt;11.1.2 &lt;/span&gt;Elements&lt;/h4&gt;
 
   &lt;p&gt;There are five different kinds of &lt;dfn id=syntax-elements title=syntax-elements&gt;elements&lt;/dfn&gt;: &lt;a href=#void-elements&gt;void elements&lt;/a&gt;,
   &lt;a href=#raw-text-elements&gt;raw text elements&lt;/a&gt;, &lt;a href=#rcdata-elements&gt;RCDATA elements&lt;/a&gt;,
@@ -72306,7 +73516,7 @@
   tag name; tag names are case-insensitive.&lt;/p&gt;
 
 
-  &lt;h5 id=start-tags&gt;&lt;span class=secno&gt;10.1.2.1 &lt;/span&gt;Start tags&lt;/h5&gt;
+  &lt;h5 id=start-tags&gt;&lt;span class=secno&gt;11.1.2.1 &lt;/span&gt;Start tags&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-start-tag title=syntax-start-tag&gt;Start tags&lt;/dfn&gt; must have the
   following format:&lt;/p&gt;
@@ -72341,7 +73551,7 @@
    &lt;li&gt;Finally, start tags must be closed by a U+003E GREATER-THAN
    SIGN character (&gt;).&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=end-tags&gt;&lt;span class=secno&gt;10.1.2.2 &lt;/span&gt;End tags&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=end-tags&gt;&lt;span class=secno&gt;11.1.2.2 &lt;/span&gt;End tags&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-end-tag title=syntax-end-tag&gt;End tags&lt;/dfn&gt; must have the
   following format:&lt;/p&gt;
@@ -72361,7 +73571,7 @@
    &lt;li&gt;Finally, end tags must be closed by a U+003E GREATER-THAN SIGN
    character (&gt;).&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=attributes-0&gt;&lt;span class=secno&gt;10.1.2.3 &lt;/span&gt;Attributes&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=attributes-0&gt;&lt;span class=secno&gt;11.1.2.3 &lt;/span&gt;Attributes&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-attributes title=syntax-attributes&gt;Attributes&lt;/dfn&gt; for an element
   are expressed inside the element's start tag.&lt;/p&gt;
@@ -72555,7 +73765,7 @@
   HTML syntax&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=optional-tags&gt;&lt;span class=secno&gt;10.1.2.4 &lt;/span&gt;Optional tags&lt;/h5&gt;
+  &lt;h5 id=optional-tags&gt;&lt;span class=secno&gt;11.1.2.4 &lt;/span&gt;Optional tags&lt;/h5&gt;
 
   &lt;p&gt;Certain tags can be &lt;dfn id=syntax-tag-omission title=syntax-tag-omission&gt;omitted&lt;/dfn&gt;.&lt;/p&gt;
 
@@ -72732,7 +73942,7 @@
   tag&lt;/a&gt; must never be omitted if it has any attributes.&lt;/p&gt;
 
 
-  &lt;h5 id=element-restrictions&gt;&lt;span class=secno&gt;10.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/h5&gt;
+  &lt;h5 id=element-restrictions&gt;&lt;span class=secno&gt;11.1.2.5 &lt;/span&gt;Restrictions on content models&lt;/h5&gt;
 
   &lt;p&gt;For historical reasons, certain elements have extra restrictions
   beyond even the restrictions given by their content model.&lt;/p&gt;
@@ -72761,7 +73971,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;10.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/h5&gt;
+  &lt;h5 id=cdata-rcdata-restrictions&gt;&lt;span class=secno&gt;11.1.2.6 &lt;/span&gt;Restrictions on the contents of raw text and RCDATA elements&lt;/h5&gt;
 
   &lt;p&gt;The text in &lt;a href=#raw-text-elements title=&quot;raw text elements&quot;&gt;raw text&lt;/a&gt; and
   &lt;a href=#rcdata-elements&gt;RCDATA elements&lt;/a&gt; must not contain any occurrences of the
@@ -72773,7 +73983,7 @@
   U+002F SOLIDUS (/).&lt;/p&gt;
 
 
-  &lt;h4 id=text-1&gt;&lt;span class=secno&gt;10.1.3 &lt;/span&gt;Text&lt;/h4&gt;
+  &lt;h4 id=text-1&gt;&lt;span class=secno&gt;11.1.3 &lt;/span&gt;Text&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-text title=syntax-text&gt;Text&lt;/dfn&gt; is allowed inside elements,
   attribute values, and comments. Text must consist of Unicode
@@ -72784,7 +73994,7 @@
   the text is to be put, as described in the other sections.&lt;/p&gt;
 
 
-  &lt;h5 id=newlines&gt;&lt;span class=secno&gt;10.1.3.1 &lt;/span&gt;Newlines&lt;/h5&gt;
+  &lt;h5 id=newlines&gt;&lt;span class=secno&gt;11.1.3.1 &lt;/span&gt;Newlines&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-newlines title=syntax-newlines&gt;Newlines&lt;/dfn&gt; in HTML may be
   represented either as U+000D CARRIAGE RETURN (CR) characters, U+000A
@@ -72797,7 +74007,7 @@
   represents a &lt;a href=#syntax-newlines title=syntax-newlines&gt;newline&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=character-references&gt;&lt;span class=secno&gt;10.1.4 &lt;/span&gt;Character references&lt;/h4&gt;
+  &lt;h4 id=character-references&gt;&lt;span class=secno&gt;11.1.4 &lt;/span&gt;Character references&lt;/h4&gt;
 
   &lt;p&gt;In certain cases described in other sections, &lt;a href=#syntax-text title=syntax-text&gt;text&lt;/a&gt; may be mixed with &lt;dfn id=syntax-charref title=syntax-charref&gt;character references&lt;/dfn&gt;. These can be used
   to escape characters that couldn't otherwise legally be included in
@@ -72855,7 +74065,7 @@
   the &lt;a href=#named-character-references&gt;named character references&lt;/a&gt; section.&lt;/p&gt;
 
 
-  &lt;h4 id=cdata-sections&gt;&lt;span class=secno&gt;10.1.5 &lt;/span&gt;CDATA sections&lt;/h4&gt;
+  &lt;h4 id=cdata-sections&gt;&lt;span class=secno&gt;11.1.5 &lt;/span&gt;CDATA sections&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-cdata title=syntax-cdata&gt;CDATA sections&lt;/dfn&gt; must consist of
   the following components, in this order:&lt;/p&gt;
@@ -72886,7 +74096,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=comments&gt;&lt;span class=secno&gt;10.1.6 &lt;/span&gt;Comments&lt;/h4&gt;
+  &lt;h4 id=comments&gt;&lt;span class=secno&gt;11.1.6 &lt;/span&gt;Comments&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=syntax-comments title=syntax-comments&gt;Comments&lt;/dfn&gt; must start with the
   four character sequence U+003C LESS-THAN SIGN, U+0021 EXCLAMATION
@@ -72904,7 +74114,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=parsing&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
+  &lt;h3 id=parsing&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;Parsing HTML documents&lt;/h3&gt;
 
   &lt;p&gt;&lt;i&gt;This section only applies to user agents, data mining tools,
   and conformance checkers.&lt;/i&gt;&lt;/p&gt;
@@ -72973,7 +74183,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=overview-of-the-parsing-model&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Overview of the parsing model&lt;/h4&gt;
+  &lt;h4 id=overview-of-the-parsing-model&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;Overview of the parsing model&lt;/h4&gt;
 
   &lt;p&gt;The input to the HTML parsing process consists of a stream of
   Unicode characters, which is passed through a
@@ -73023,7 +74233,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-stream&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The &lt;dfn&gt;input stream&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=the-input-stream&gt;&lt;span class=secno&gt;11.2.2 &lt;/span&gt;The &lt;dfn&gt;input stream&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The stream of Unicode characters that comprises the input to the
   tokenization stage will be initially seen by the user agent as a
@@ -73037,7 +74247,7 @@
   specification. This section does not apply to XML documents. &lt;a href=#refsXML&gt;[XML]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=determining-the-character-encoding&gt;&lt;span class=secno&gt;10.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/h5&gt;
+  &lt;h5 id=determining-the-character-encoding&gt;&lt;span class=secno&gt;11.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/h5&gt;
 
   &lt;p&gt;In some cases, it might be impractical to unambiguously determine
   the encoding before parsing the document. Because of this, this
@@ -73591,7 +74801,7 @@
   desire to be maximally compatible with legacy content. &lt;a href=#refsHTTP&gt;[HTTP]&lt;/a&gt; &lt;a href=#refsRFC2046&gt;[RFC2046]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=character-encodings-0&gt;&lt;span class=secno&gt;10.2.2.2 &lt;/span&gt;Character encodings&lt;/h5&gt;
+  &lt;h5 id=character-encodings-0&gt;&lt;span class=secno&gt;11.2.2.2 &lt;/span&gt;Character encodings&lt;/h5&gt;
 
   &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
   encodings, but may support more. &lt;a href=#refsRFC3629&gt;[RFC3629]&lt;/a&gt; &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;&lt;/p&gt;
@@ -73681,7 +74891,7 @@
 
 
 
-  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;10.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
+  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;11.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
 
   &lt;p&gt;Given an encoding, the bytes in the input stream must be
   converted to Unicode characters for the tokenizer, as described by
@@ -73760,7 +74970,7 @@
   the stream, but rather the lack of any further characters.&lt;/p&gt;
 
 
-  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;10.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
+  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;11.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
 
   &lt;p&gt;When the parser requires the user agent to &lt;dfn id=change-the-encoding&gt;change the
   encoding&lt;/dfn&gt;, it must run the following steps. This might happen
@@ -73817,9 +75027,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=parse-state&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;Parse state&lt;/h4&gt;
+  &lt;h4 id=parse-state&gt;&lt;span class=secno&gt;11.2.3 &lt;/span&gt;Parse state&lt;/h4&gt;
 
-  &lt;h5 id=the-insertion-mode&gt;&lt;span class=secno&gt;10.2.3.1 &lt;/span&gt;The insertion mode&lt;/h5&gt;
+  &lt;h5 id=the-insertion-mode&gt;&lt;span class=secno&gt;11.2.3.1 &lt;/span&gt;The insertion mode&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=insertion-mode&gt;insertion mode&lt;/dfn&gt; is a state variable that controls
   the primary operation of the tree construction stage.&lt;/p&gt;
@@ -73952,7 +75162,7 @@
 
    &lt;li&gt;Return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=the-stack-of-open-elements&gt;&lt;span class=secno&gt;10.2.3.2 &lt;/span&gt;The stack of open elements&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=the-stack-of-open-elements&gt;&lt;span class=secno&gt;11.2.3.2 &lt;/span&gt;The stack of open elements&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=stack-of-open-elements&gt;stack of open elements&lt;/dfn&gt; is empty. The
   stack grows downwards; the topmost node on the stack is the first
@@ -74115,7 +75325,7 @@
   the stack is manipulated in a random-access fashion.&lt;/p&gt;
 
 
-  &lt;h5 id=the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;10.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/h5&gt;
+  &lt;h5 id=the-list-of-active-formatting-elements&gt;&lt;span class=secno&gt;11.2.3.3 &lt;/span&gt;The list of active formatting elements&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=list-of-active-formatting-elements&gt;list of active formatting elements&lt;/dfn&gt; is
   empty. It is used to handle mis-nested &lt;a href=#formatting title=formatting&gt;formatting element tags&lt;/a&gt;.&lt;/p&gt;
@@ -74233,7 +75443,7 @@
 
    &lt;li&gt;Go to step 1.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=the-element-pointers&gt;&lt;span class=secno&gt;10.2.3.4 &lt;/span&gt;The element pointers&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=the-element-pointers&gt;&lt;span class=secno&gt;11.2.3.4 &lt;/span&gt;The element pointers&lt;/h5&gt;
 
   &lt;p&gt;Initially, the &lt;dfn id=head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
   pointer&lt;/dfn&gt; and the &lt;dfn id=form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
@@ -74250,7 +75460,7 @@
   markup, for historical reasons.&lt;/p&gt;
 
 
-  &lt;h5 id=other-parsing-state-flags&gt;&lt;span class=secno&gt;10.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/h5&gt;
+  &lt;h5 id=other-parsing-state-flags&gt;&lt;span class=secno&gt;11.2.3.5 &lt;/span&gt;Other parsing state flags&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=scripting-flag&gt;scripting flag&lt;/dfn&gt; is set to &quot;enabled&quot; if &lt;a href=#concept-n-script title=concept-n-script&gt;scripting was enabled&lt;/a&gt; for the
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; with which the parser is associated when the
@@ -74269,7 +75479,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=tokenization&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;&lt;dfn&gt;Tokenization&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=tokenization&gt;&lt;span class=secno&gt;11.2.4 &lt;/span&gt;&lt;dfn&gt;Tokenization&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;Implementations must act as if they used the following state
   machine to tokenize HTML. The state machine must start in the
@@ -74340,7 +75550,7 @@
   error, by unicode, then EOF, ending with &quot;anything else&quot; --&gt;
 
 
-  &lt;h5 id=data-state&gt;&lt;span class=secno&gt;10.2.4.1 &lt;/span&gt;&lt;dfn&gt;Data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=data-state&gt;&lt;span class=secno&gt;11.2.4.1 &lt;/span&gt;&lt;dfn&gt;Data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74362,7 +75572,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;10.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-data-state&gt;&lt;span class=secno&gt;11.2.4.2 &lt;/span&gt;&lt;dfn&gt;Character reference in data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
@@ -74375,7 +75585,7 @@
   &lt;p&gt;Finally, switch to the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;10.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=rcdata-state&gt;&lt;span class=secno&gt;11.2.4.3 &lt;/span&gt;&lt;dfn&gt;RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74397,7 +75607,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;10.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-rcdata-state&gt;&lt;span class=secno&gt;11.2.4.4 &lt;/span&gt;&lt;dfn&gt;Character reference in RCDATA state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;, with no
   &lt;a href=#additional-allowed-character&gt;additional allowed character&lt;/a&gt;.&lt;/p&gt;
@@ -74410,7 +75620,7 @@
   &lt;p&gt;Finally, switch to the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;10.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=rawtext-state&gt;&lt;span class=secno&gt;11.2.4.5 &lt;/span&gt;&lt;dfn&gt;RAWTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74428,7 +75638,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-state&gt;&lt;span class=secno&gt;10.2.4.6 &lt;/span&gt;&lt;dfn&gt;Script data state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-state&gt;&lt;span class=secno&gt;11.2.4.6 &lt;/span&gt;&lt;dfn&gt;Script data state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74446,7 +75656,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=plaintext-state&gt;&lt;span class=secno&gt;10.2.4.7 &lt;/span&gt;&lt;dfn&gt;PLAINTEXT state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=plaintext-state&gt;&lt;span class=secno&gt;11.2.4.7 &lt;/span&gt;&lt;dfn&gt;PLAINTEXT state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74461,7 +75671,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=tag-open-state&gt;&lt;span class=secno&gt;10.2.4.8 &lt;/span&gt;&lt;dfn&gt;Tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=tag-open-state&gt;&lt;span class=secno&gt;11.2.4.8 &lt;/span&gt;&lt;dfn&gt;Tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74493,7 +75703,7 @@
    character token and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#data-state&gt;data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.9 &lt;/span&gt;&lt;dfn&gt;End tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74523,7 +75733,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch to the &lt;a href=#bogus-comment-state&gt;bogus
    comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=tag-name-state&gt;&lt;span class=secno&gt;10.2.4.10 &lt;/span&gt;&lt;dfn&gt;Tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=tag-name-state&gt;&lt;span class=secno&gt;11.2.4.10 &lt;/span&gt;&lt;dfn&gt;Tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74558,7 +75768,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    tag token's tag name.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.11 &lt;/span&gt;&lt;dfn&gt;RCDATA less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.11 &lt;/span&gt;&lt;dfn&gt;RCDATA less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT less-than sign state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74572,7 +75782,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.12 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag open state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74599,7 +75809,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rcdata-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.13 &lt;/span&gt;&lt;dfn&gt;RCDATA end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RAWTEXT (and Script data) end tag name state, except s/RAWTEXT/RCDATA/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74644,7 +75854,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#rcdata-state&gt;RCDATA state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.14 &lt;/span&gt;&lt;dfn&gt;RAWTEXT less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA less-than sign state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74658,7 +75868,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.15 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag open state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74685,7 +75895,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=rawtext-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.16 &lt;/span&gt;&lt;dfn&gt;RAWTEXT end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and Script data) end tag name state, except s/RCDATA/RAWTEXT/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74730,7 +75940,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#rawtext-state&gt;RAWTEXT state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.17 &lt;/span&gt;&lt;dfn&gt;Script data less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74748,7 +75958,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.18 &lt;/span&gt;&lt;dfn&gt;Script data end tag open state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag open state, except s/RCDATA/Script data/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74775,7 +75985,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.19 &lt;/span&gt;&lt;dfn&gt;Script data end tag name state&lt;/dfn&gt;&lt;/h5&gt;
   &lt;!-- identical to the RCDATA (and RAWTEXT) end tag name state, except s/RCDATA/Script data/g --&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
@@ -74820,7 +76030,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;10.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-state&gt;&lt;span class=secno&gt;11.2.4.20 &lt;/span&gt;&lt;dfn&gt;Script data escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74832,7 +76042,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;10.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escape-start-dash-state&gt;&lt;span class=secno&gt;11.2.4.21 &lt;/span&gt;&lt;dfn&gt;Script data escape start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74844,7 +76054,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-state&gt;script data state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;10.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-state&gt;&lt;span class=secno&gt;11.2.4.22 &lt;/span&gt;&lt;dfn&gt;Script data escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74868,7 +76078,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-state&gt;&lt;span class=secno&gt;10.2.4.23 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-state&gt;&lt;span class=secno&gt;11.2.4.23 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74893,7 +76103,7 @@
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;10.2.4.24 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-dash-dash-state&gt;&lt;span class=secno&gt;11.2.4.24 &lt;/span&gt;&lt;dfn&gt;Script data escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74921,7 +76131,7 @@
    &lt;dd&gt;Switch to the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;. Emit the
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.25 &lt;/span&gt;&lt;dfn&gt;Script data escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.25 &lt;/span&gt;&lt;dfn&gt;Script data escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74949,7 +76159,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data
    escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;10.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-open-state&gt;&lt;span class=secno&gt;11.2.4.26 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -74975,7 +76185,7 @@
    character token, and reconsume the &lt;a href=#current-input-character&gt;current input
    character&lt;/a&gt; in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;10.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-escaped-end-tag-name-state&gt;&lt;span class=secno&gt;11.2.4.27 &lt;/span&gt;&lt;dfn&gt;Script data escaped end tag name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75019,7 +76229,7 @@
    the buffer), and reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;
    in the &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;10.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-start-state&gt;&lt;span class=secno&gt;11.2.4.28 &lt;/span&gt;&lt;dfn&gt;Script data double escape start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75050,7 +76260,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-escaped-state&gt;script data escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;10.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-state&gt;&lt;span class=secno&gt;11.2.4.29 &lt;/span&gt;&lt;dfn&gt;Script data double escaped state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75075,7 +76285,7 @@
    &lt;dd&gt;Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a character
    token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;10.2.4.30 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-state&gt;&lt;span class=secno&gt;11.2.4.30 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75102,7 +76312,7 @@
    state&lt;/a&gt;. Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a
    character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;10.2.4.31 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-dash-dash-state&gt;&lt;span class=secno&gt;11.2.4.31 &lt;/span&gt;&lt;dfn&gt;Script data double escaped dash dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75132,7 +76342,7 @@
    state&lt;/a&gt;. Emit the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; as a
    character token.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;10.2.4.32 &lt;/span&gt;&lt;dfn&gt;Script data double escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escaped-less-than-sign-state&gt;&lt;span class=secno&gt;11.2.4.32 &lt;/span&gt;&lt;dfn&gt;Script data double escaped less-than sign state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75145,7 +76355,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;10.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=script-data-double-escape-end-state&gt;&lt;span class=secno&gt;11.2.4.33 &lt;/span&gt;&lt;dfn&gt;Script data double escape end state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75176,7 +76386,7 @@
    &lt;dd&gt;Reconsume the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; in the
    &lt;a href=#script-data-double-escaped-state&gt;script data double escaped state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.34 &lt;/span&gt;&lt;dfn&gt;Before attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75224,7 +76434,7 @@
    its value to the empty string. Switch to the &lt;a href=#attribute-name-state&gt;attribute name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.35 &lt;/span&gt;&lt;dfn&gt;Attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.35 &lt;/span&gt;&lt;dfn&gt;Attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75277,7 +76487,7 @@
   associated with it (if any).&lt;/p&gt;
 
 
-  &lt;h5 id=after-attribute-name-state&gt;&lt;span class=secno&gt;10.2.4.36 &lt;/span&gt;&lt;dfn&gt;After attribute name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=after-attribute-name-state&gt;&lt;span class=secno&gt;11.2.4.36 &lt;/span&gt;&lt;dfn&gt;After attribute name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75327,7 +76537,7 @@
    its value to the empty string. Switch to the &lt;a href=#attribute-name-state&gt;attribute name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-attribute-value-state&gt;&lt;span class=secno&gt;10.2.4.37 &lt;/span&gt;&lt;dfn&gt;Before attribute value state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-attribute-value-state&gt;&lt;span class=secno&gt;11.2.4.37 &lt;/span&gt;&lt;dfn&gt;Before attribute value state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75372,7 +76582,7 @@
    attribute's value. Switch to the &lt;a href=#attribute-value-(unquoted)-state&gt;attribute value (unquoted)
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.38 &lt;/span&gt;&lt;dfn&gt;Attribute value (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.38 &lt;/span&gt;&lt;dfn&gt;Attribute value (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75397,7 +76607,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.39 &lt;/span&gt;&lt;dfn&gt;Attribute value (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.39 &lt;/span&gt;&lt;dfn&gt;Attribute value (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75422,7 +76632,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;10.2.4.40 &lt;/span&gt;&lt;dfn&gt;Attribute value (unquoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=attribute-value-(unquoted)-state&gt;&lt;span class=secno&gt;11.2.4.40 &lt;/span&gt;&lt;dfn&gt;Attribute value (unquoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75462,7 +76672,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    attribute's value.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;10.2.4.41 &lt;/span&gt;&lt;dfn&gt;Character reference in attribute value state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=character-reference-in-attribute-value-state&gt;&lt;span class=secno&gt;11.2.4.41 &lt;/span&gt;&lt;dfn&gt;Character reference in attribute value state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Attempt to &lt;a href=#consume-a-character-reference&gt;consume a character reference&lt;/a&gt;.&lt;/p&gt;
 
@@ -75476,7 +76686,7 @@
   into this state.&lt;/p&gt;
 
 
-  &lt;h5 id=after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;10.2.4.42 &lt;/span&gt;&lt;dfn&gt;After attribute value (quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=after-attribute-value-(quoted)-state&gt;&lt;span class=secno&gt;11.2.4.42 &lt;/span&gt;&lt;dfn&gt;After attribute value (quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75502,7 +76712,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
    the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;10.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=self-closing-start-tag-state&gt;&lt;span class=secno&gt;11.2.4.43 &lt;/span&gt;&lt;dfn&gt;Self-closing start tag state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75519,7 +76729,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in
    the &lt;a href=#before-attribute-name-state&gt;before attribute name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;10.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=bogus-comment-state&gt;&lt;span class=secno&gt;11.2.4.44 &lt;/span&gt;&lt;dfn&gt;Bogus comment state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume every character up to and including the first U+003E
   GREATER-THAN SIGN character (&gt;) or the end of the file (EOF),
@@ -75538,7 +76748,7 @@
   character.&lt;/p&gt;
 
 
-  &lt;h5 id=markup-declaration-open-state&gt;&lt;span class=secno&gt;10.2.4.45 &lt;/span&gt;&lt;dfn&gt;Markup declaration open state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=markup-declaration-open-state&gt;&lt;span class=secno&gt;11.2.4.45 &lt;/span&gt;&lt;dfn&gt;Markup declaration open state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;If the next two characters are both U+002D HYPHEN-MINUS
   characters (-), consume those two characters, create a comment token
@@ -75562,7 +76772,7 @@
   comment.&lt;/p&gt;
 
 
-  &lt;h5 id=comment-start-state&gt;&lt;span class=secno&gt;10.2.4.46 &lt;/span&gt;&lt;dfn&gt;Comment start state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=comment-start-state&gt;&lt;span class=secno&gt;11.2.4.46 &lt;/span&gt;&lt;dfn&gt;Comment start state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75587,7 +76797,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
    token's data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-start-dash-state&gt;&lt;span class=secno&gt;10.2.4.47 &lt;/span&gt;&lt;dfn&gt;Comment start dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-start-dash-state&gt;&lt;span class=secno&gt;11.2.4.47 &lt;/span&gt;&lt;dfn&gt;Comment start dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75614,7 +76824,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment token's
    data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-state&gt;&lt;span class=secno&gt;10.2.4.48 &lt;/span&gt;&lt;dfn id=comment&gt;Comment state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-state&gt;&lt;span class=secno&gt;11.2.4.48 &lt;/span&gt;&lt;dfn id=comment&gt;Comment state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75634,7 +76844,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment
    token's data.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-dash-state&gt;&lt;span class=secno&gt;10.2.4.49 &lt;/span&gt;&lt;dfn&gt;Comment end dash state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-dash-state&gt;&lt;span class=secno&gt;11.2.4.49 &lt;/span&gt;&lt;dfn&gt;Comment end dash state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75657,7 +76867,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the comment token's
    data. Switch to the &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-state&gt;&lt;span class=secno&gt;10.2.4.50 &lt;/span&gt;&lt;dfn&gt;Comment end state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-state&gt;&lt;span class=secno&gt;11.2.4.50 &lt;/span&gt;&lt;dfn&gt;Comment end state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75693,7 +76903,7 @@
    comment token's data. Switch to the &lt;a href=#comment-state&gt;comment
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=comment-end-bang-state&gt;&lt;span class=secno&gt;10.2.4.51 &lt;/span&gt;&lt;dfn&gt;Comment end bang state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=comment-end-bang-state&gt;&lt;span class=secno&gt;11.2.4.51 &lt;/span&gt;&lt;dfn&gt;Comment end bang state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75723,7 +76933,7 @@
    character&lt;/a&gt; to the comment token's data. Switch to the
    &lt;a href=#comment-state&gt;comment state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-state&gt;&lt;span class=secno&gt;10.2.4.52 &lt;/span&gt;&lt;dfn&gt;DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-state&gt;&lt;span class=secno&gt;11.2.4.52 &lt;/span&gt;&lt;dfn&gt;DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75743,7 +76953,7 @@
    &lt;dd&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Reconsume the character in the
    &lt;a href=#before-doctype-name-state&gt;before DOCTYPE name state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.53 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75780,7 +76990,7 @@
    &lt;a href=#current-input-character&gt;current input character&lt;/a&gt;. Switch to the &lt;a href=#doctype-name-state&gt;DOCTYPE name
    state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.54 &lt;/span&gt;&lt;dfn&gt;DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.54 &lt;/span&gt;&lt;dfn&gt;DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75813,7 +77023,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's name.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-name-state&gt;&lt;span class=secno&gt;10.2.4.55 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-name-state&gt;&lt;span class=secno&gt;11.2.4.55 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE name state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75853,7 +77063,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;10.2.4.56 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public keyword state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-public-keyword-state&gt;&lt;span class=secno&gt;11.2.4.56 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public keyword state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75890,7 +77100,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;10.2.4.57 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-public-identifier-state&gt;&lt;span class=secno&gt;11.2.4.57 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75926,7 +77136,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.58 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.58 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75951,7 +77161,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's public identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.59 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-public-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.59 &lt;/span&gt;&lt;dfn&gt;DOCTYPE public identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -75976,7 +77186,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's public identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;10.2.4.60 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-public-identifier-state&gt;&lt;span class=secno&gt;11.2.4.60 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE public identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76012,7 +77222,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;10.2.4.61 &lt;/span&gt;&lt;dfn&gt;Between DOCTYPE public and system identifiers state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=between-doctype-public-and-system-identifiers-state&gt;&lt;span class=secno&gt;11.2.4.61 &lt;/span&gt;&lt;dfn&gt;Between DOCTYPE public and system identifiers state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76047,7 +77257,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;10.2.4.62 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system keyword state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-system-keyword-state&gt;&lt;span class=secno&gt;11.2.4.62 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system keyword state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76084,7 +77294,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;10.2.4.63 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=before-doctype-system-identifier-state&gt;&lt;span class=secno&gt;11.2.4.63 &lt;/span&gt;&lt;dfn&gt;Before DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76120,7 +77330,7 @@
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;. Switch to the &lt;a href=#bogus-doctype-state&gt;bogus
    DOCTYPE state&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.64 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(double-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.64 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (double-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76146,7 +77356,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's system identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;10.2.4.65 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=doctype-system-identifier-(single-quoted)-state&gt;&lt;span class=secno&gt;11.2.4.65 &lt;/span&gt;&lt;dfn&gt;DOCTYPE system identifier (single-quoted) state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76172,7 +77382,7 @@
    &lt;dd&gt;Append the &lt;a href=#current-input-character&gt;current input character&lt;/a&gt; to the current
    DOCTYPE token's system identifier.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;10.2.4.66 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=after-doctype-system-identifier-state&gt;&lt;span class=secno&gt;11.2.4.66 &lt;/span&gt;&lt;dfn&gt;After DOCTYPE system identifier state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76197,7 +77407,7 @@
    state&lt;/a&gt;. (This does &lt;em&gt;not&lt;/em&gt; set the DOCTYPE token's
    &lt;i&gt;force-quirks flag&lt;/i&gt; to &lt;i&gt;on&lt;/i&gt;.)&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=bogus-doctype-state&gt;&lt;span class=secno&gt;10.2.4.67 &lt;/span&gt;&lt;dfn&gt;Bogus DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=bogus-doctype-state&gt;&lt;span class=secno&gt;11.2.4.67 &lt;/span&gt;&lt;dfn&gt;Bogus DOCTYPE state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume the &lt;a href=#next-input-character&gt;next input character&lt;/a&gt;:&lt;/p&gt;
 
@@ -76212,7 +77422,7 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;Ignore the character.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;10.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=cdata-section-state&gt;&lt;span class=secno&gt;11.2.4.68 &lt;/span&gt;&lt;dfn&gt;CDATA section state&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;Consume every character up to the next occurrence of the three
   character sequence U+005D RIGHT SQUARE BRACKET U+005D RIGHT SQUARE
@@ -76231,7 +77441,7 @@
 
 
 
-  &lt;h5 id=tokenizing-character-references&gt;&lt;span class=secno&gt;10.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/h5&gt;
+  &lt;h5 id=tokenizing-character-references&gt;&lt;span class=secno&gt;11.2.4.69 &lt;/span&gt;Tokenizing character references&lt;/h5&gt;
 
   &lt;p&gt;This section defines how to &lt;dfn id=consume-a-character-reference&gt;consume a character
   reference&lt;/dfn&gt;. This definition is used when parsing character
@@ -76442,7 +77652,7 @@
   thing to do is to close some formatting elements from the middle of
   the stack when you hit a limit, or something. --&gt;
 
-  &lt;h4 id=tree-construction&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;&lt;dfn&gt;Tree construction&lt;/dfn&gt;&lt;/h4&gt;
+  &lt;h4 id=tree-construction&gt;&lt;span class=secno&gt;11.2.5 &lt;/span&gt;&lt;dfn&gt;Tree construction&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The input to the tree construction stage is a sequence of tokens
   from the &lt;a href=#tokenization&gt;tokenization&lt;/a&gt; stage. The tree construction
@@ -76549,7 +77759,7 @@
   constraints.&lt;/p&gt;
 
 
-  &lt;h5 id=creating-and-inserting-elements&gt;&lt;span class=secno&gt;10.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/h5&gt;
+  &lt;h5 id=creating-and-inserting-elements&gt;&lt;span class=secno&gt;11.2.5.1 &lt;/span&gt;Creating and inserting elements&lt;/h5&gt;
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=create-an-element-for-the-token title=&quot;create an
   element for the token&quot;&gt;create an element for a token&lt;/dfn&gt; in a
@@ -76729,7 +77939,7 @@
 
    &lt;li&gt;&lt;p&gt;Then, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;10.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;11.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/h5&gt;
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=generate-implied-end-tags&gt;generate implied end
   tags&lt;/dfn&gt;, then, while the &lt;a href=#current-node&gt;current node&lt;/a&gt; is a
@@ -76745,7 +77955,7 @@
   above steps as if that element was not in the above list.&lt;/p&gt;
 
 
-  &lt;h5 id=foster-parenting&gt;&lt;span class=secno&gt;10.2.5.3 &lt;/span&gt;Foster parenting&lt;/h5&gt;
+  &lt;h5 id=foster-parenting&gt;&lt;span class=secno&gt;11.2.5.3 &lt;/span&gt;Foster parenting&lt;/h5&gt;
 
   &lt;p&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
 
@@ -76783,10 +77993,10 @@
 
 
 
-  &lt;h5 id=parsing-main-inhtml&gt;&lt;span class=secno&gt;10.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/h5&gt;
+  &lt;h5 id=parsing-main-inhtml&gt;&lt;span class=secno&gt;11.2.5.4 &lt;/span&gt;The rules for parsing tokens in HTML content&lt;/h5&gt;
 
 
-  &lt;h6 id=the-initial-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.1 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=the-initial-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.1 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion mode: initial&quot;&gt;initial&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -76979,7 +78189,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-before-html-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.2 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-before-html-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.2 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -77062,7 +78272,7 @@
   as described in the next section.&lt;/p&gt;
 
 
-  &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.3 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -77127,7 +78337,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inhead&gt;&lt;span class=secno&gt;10.2.5.4.4 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inhead&gt;&lt;span class=secno&gt;11.2.5.4.4 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -77293,7 +78503,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;10.2.5.4.5 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;11.2.5.4.5 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -77353,7 +78563,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-head-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.6 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-head-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.6 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -77443,7 +78653,7 @@
     token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inbody&gt;&lt;span class=secno&gt;10.2.5.4.7 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inbody&gt;&lt;span class=secno&gt;11.2.5.4.7 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -78705,7 +79915,7 @@
 
     &lt;/ol&gt;&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incdata&gt;&lt;span class=secno&gt;10.2.5.4.8 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: text&quot;&gt;text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incdata&gt;&lt;span class=secno&gt;11.2.5.4.8 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: text&quot;&gt;text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: text&quot;&gt;text&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -78857,7 +80067,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;10.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intable&gt;&lt;span class=secno&gt;11.2.5.4.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79060,7 +80270,7 @@
 
 
 
-  &lt;h6 id=parsing-main-intabletext&gt;&lt;span class=secno&gt;10.2.5.4.10 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intabletext&gt;&lt;span class=secno&gt;11.2.5.4.10 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intabletext title=&quot;insertion mode: in table text&quot;&gt;in table text&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79101,7 +80311,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incaption&gt;&lt;span class=secno&gt;10.2.5.4.11 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incaption&gt;&lt;span class=secno&gt;11.2.5.4.11 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79158,7 +80368,7 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;10.2.5.4.12 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;11.2.5.4.12 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79244,7 +80454,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;10.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-intbody&gt;&lt;span class=secno&gt;11.2.5.4.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79332,7 +80542,7 @@
   case&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-intr&gt;&lt;span class=secno&gt;10.2.5.4.14 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intr&gt;&lt;span class=secno&gt;11.2.5.4.14 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79422,7 +80632,7 @@
   case&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-intd&gt;&lt;span class=secno&gt;10.2.5.4.15 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-intd&gt;&lt;span class=secno&gt;11.2.5.4.15 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79515,7 +80725,7 @@
   cell&lt;/a&gt; algorithm is invoked.&lt;/p&gt;
 
 
-  &lt;h6 id=parsing-main-inselect&gt;&lt;span class=secno&gt;10.2.5.4.16 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;h6 id=parsing-main-inselect&gt;&lt;span class=secno&gt;11.2.5.4.16 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79665,7 +80875,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;10.2.5.4.17 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;11.2.5.4.17 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79696,7 +80906,7 @@
     mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;10.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;11.2.5.4.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79753,7 +80963,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;10.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;11.2.5.4.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79845,7 +81055,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;10.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;11.2.5.4.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79898,7 +81108,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79931,7 +81141,7 @@
     reprocess the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;10.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;11.2.5.4.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for the &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -79968,7 +81178,7 @@
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;10.2.5.5 &lt;/span&gt;The rules for parsing tokens &lt;dfn title=&quot;insertion mode: in foreign content&quot;&gt;in foreign content&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;/dl&gt;&lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;11.2.5.5 &lt;/span&gt;The rules for parsing tokens &lt;dfn title=&quot;insertion mode: in foreign content&quot;&gt;in foreign content&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;When the user agent is to apply the rules for parsing tokens in foreign content, the user agent must handle the token as follows:&lt;/p&gt;
 
@@ -80190,7 +81400,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-end&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;The end&lt;/h4&gt;
+  &lt;h4 id=the-end&gt;&lt;span class=secno&gt;11.2.6 &lt;/span&gt;The end&lt;/h4&gt;
 
   &lt;p&gt;Once the user agent &lt;dfn id=stop-parsing title=&quot;stop parsing&quot;&gt;stops parsing&lt;/dfn&gt;
   the document, the user agent must run the following steps:&lt;/p&gt;
@@ -80316,7 +81526,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;10.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/h4&gt;
+  &lt;h4 id=coercing-an-html-dom-into-an-infoset&gt;&lt;span class=secno&gt;11.2.7 &lt;/span&gt;Coercing an HTML DOM into an infoset&lt;/h4&gt;
 
   &lt;p&gt;When an application uses an &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; in
   conjunction with an XML pipeline, it is possible that the
@@ -80405,7 +81615,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;10.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/h4&gt;
+  &lt;h4 id=an-introduction-to-error-handling-and-strange-cases-in-the-parser&gt;&lt;span class=secno&gt;11.2.8 &lt;/span&gt;An introduction to error handling and strange cases in the parser&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80413,7 +81623,7 @@
   the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; handles these cases.&lt;/p&gt;
 
 
-  &lt;h5 id=misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;10.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/h5&gt;
+  &lt;h5 id=misnested-tags:-b-i-/b-/i&gt;&lt;span class=secno&gt;11.2.8.1 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80447,7 +81657,7 @@
   received, and the &quot;5&quot; text node is inserted, the DOM looks as
   follows:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;4&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;5&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;10.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-i-element&gt;i&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;4&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;5&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=misnested-tags:-b-p-/b-/p&gt;&lt;span class=secno&gt;11.2.8.2 &lt;/span&gt;Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80496,7 +81706,7 @@
   elements&lt;/a&gt;, so that when the &quot;3&quot; is parsed, it is appended to
   the &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=unexpected-markup-in-tables&gt;&lt;span class=secno&gt;10.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;1&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;2&lt;/span&gt;&lt;/ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;3&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=unexpected-markup-in-tables&gt;&lt;span class=secno&gt;11.2.8.3 &lt;/span&gt;Unexpected markup in tables&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80595,7 +81805,7 @@
   result in yet another &lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt; element being created, this
   time after the table:&lt;/p&gt;
 
-  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;bbb&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;aaa&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;ccc&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;10.2.8.4 &lt;/span&gt;Scripts that modify the page as it is bein
 g parsed&lt;/h5&gt;
+  &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;bbb&lt;/span&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;aaa&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-b-element&gt;b&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;ccc&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h5 id=scripts-that-modify-the-page-as-it-is-being-parsed&gt;&lt;span class=secno&gt;11.2.8.4 &lt;/span&gt;Scripts that modify the page as it is bein
 g parsed&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80652,7 +81862,7 @@
   &lt;ul class=domTree&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-head-element-0&gt;head&lt;/a&gt;&lt;/code&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t1&gt;&lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;&lt;ul&gt;&lt;li class=t3&gt;&lt;code&gt;#text&lt;/code&gt;: &lt;span title=&quot;&quot;&gt;alert(document.URL);&lt;/span&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;This second alert will say &quot;<A HREF="http://example.com/inner">http://example.com/inner</A>&quot;.&lt;/p&gt;
 
 
-  &lt;h5 id=the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;10.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/h5&gt;
+  &lt;h5 id=the-execution-of-scripts-that-are-moving-across-multiple-documents&gt;&lt;span class=secno&gt;11.2.8.5 &lt;/span&gt;The execution of scripts that are moving across multiple documents&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80668,7 +81878,7 @@
 
 
 
-  &lt;h5 id=unclosed-formatting-elements&gt;&lt;span class=secno&gt;10.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/h5&gt;
+  &lt;h5 id=unclosed-formatting-elements&gt;&lt;span class=secno&gt;11.2.8.6 &lt;/span&gt;Unclosed formatting elements&lt;/h5&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -80700,7 +81910,7 @@
 
 
 
-  &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;10.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
+  &lt;h3 id=serializing-html-fragments&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Serializing HTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-serialization-algorithm&gt;HTML fragment serialization
   algorithm&lt;/dfn&gt;. The algorithm takes as input a DOM
@@ -80964,7 +82174,7 @@
    &lt;li&gt;&lt;p&gt;If the algorithm was &lt;em&gt;not&lt;/em&gt; invoked in the
    &lt;i&gt;attribute mode&lt;/i&gt;, replace any occurrences of the &quot;&lt;code title=&quot;&quot;&gt;&lt;&lt;/code&gt;&quot; character by the string &quot;&lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;&quot;, and any occurrences of the &quot;&lt;code title=&quot;&quot;&gt;&gt;&lt;/code&gt;&quot; character by the string &quot;&lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;&quot;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h3 id=parsing-html-fragments&gt;&lt;span class=secno&gt;10.4 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
+  &lt;/ol&gt;&lt;h3 id=parsing-html-fragments&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment-parsing-algorithm&gt;HTML fragment parsing
   algorithm&lt;/dfn&gt;. The algorithm optionally takes as input an
@@ -81138,7 +82348,7 @@
 
 
 
-  &lt;h3 id=named-character-references&gt;&lt;span class=secno&gt;10.5 &lt;/span&gt;&lt;dfn&gt;Named character references&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=named-character-references&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;&lt;dfn&gt;Named character references&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This table lists the character reference names that are supported
   by HTML, and the code points to which they refer. It is referenced
@@ -81159,7 +82369,7 @@
 
 
 
-  &lt;h2 id=the-xhtml-syntax&gt;&lt;span class=secno&gt;11 &lt;/span&gt;&lt;dfn id=xhtml&gt;The XHTML syntax&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=the-xhtml-syntax&gt;&lt;span class=secno&gt;12 &lt;/span&gt;&lt;dfn id=xhtml&gt;The XHTML syntax&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p class=note&gt;This section only describes the rules for XML
   resources. Rules for &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt; resources are discussed
@@ -81168,7 +82378,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=writing-xhtml-documents&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Writing XHTML documents&lt;/h3&gt;
+  &lt;h3 id=writing-xhtml-documents&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Writing XHTML documents&lt;/h3&gt;
 
   &lt;/div&gt;
 
@@ -81193,7 +82403,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=parsing-xhtml-documents&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;Parsing XHTML documents&lt;/h3&gt;
+  &lt;h3 id=parsing-xhtml-documents&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;Parsing XHTML documents&lt;/h3&gt;
 
   &lt;p&gt;This section describes the relationship between XML and the DOM,
   with a particular emphasis on how this interacts with HTML.&lt;/p&gt;
@@ -81308,7 +82518,7 @@
 
 
 
-  &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;11.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
+  &lt;h3 id=serializing-xhtml-fragments&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Serializing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-serialization-algorithm&gt;XML fragment serialization algorithm&lt;/dfn&gt; for a
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt; node either returns a
@@ -81405,7 +82615,7 @@
 
 
 
-  &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
+  &lt;h3 id=parsing-xhtml-fragments&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Parsing XHTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=xml-fragment-parsing-algorithm&gt;XML fragment parsing algorithm&lt;/dfn&gt; either returns
   a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; or raises a &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt;
@@ -81480,7 +82690,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h2 id=rendering&gt;&lt;span class=secno&gt;12 &lt;/span&gt;Rendering&lt;/h2&gt;
+  &lt;h2 id=rendering&gt;&lt;span class=secno&gt;13 &lt;/span&gt;Rendering&lt;/h2&gt;
 
   &lt;p&gt;&lt;i&gt;User agents are not required to present HTML documents in any
   particular way. However, this section provides a set of suggestions
@@ -81496,7 +82706,7 @@
   &quot;must&quot;.&lt;/i&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=introduction-10&gt;&lt;span class=secno&gt;12.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-11&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;In general, user agents are expected to support CSS, and many of
   the suggestions in this section are expressed in CSS terms. User
@@ -81532,9 +82742,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;12.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/h3&gt;
+  &lt;h3 id=the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/h3&gt;
 
-  &lt;h4 id=introduction-11&gt;&lt;span class=secno&gt;12.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-12&gt;&lt;span class=secno&gt;13.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;The CSS rules given in these subsections are, except where
   otherwise specified, expected to be used as part of the user-agent
@@ -81586,7 +82796,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=display-types&gt;&lt;span class=secno&gt;12.2.2 &lt;/span&gt;Display types&lt;/h4&gt;
+  &lt;h4 id=display-types&gt;&lt;span class=secno&gt;13.2.2 &lt;/span&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -81664,7 +82874,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=margins-and-padding&gt;&lt;span class=secno&gt;12.2.3 &lt;/span&gt;Margins and padding&lt;/h4&gt;
+  &lt;h4 id=margins-and-padding&gt;&lt;span class=secno&gt;13.2.3 &lt;/span&gt;Margins and padding&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -81845,7 +83055,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=alignment&gt;&lt;span class=secno&gt;12.2.4 &lt;/span&gt;Alignment&lt;/h4&gt;
+  &lt;h4 id=alignment&gt;&lt;span class=secno&gt;13.2.4 &lt;/span&gt;Alignment&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -81966,7 +83176,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=fonts-and-colors&gt;&lt;span class=secno&gt;12.2.5 &lt;/span&gt;Fonts and colors&lt;/h4&gt;
+  &lt;h4 id=fonts-and-colors&gt;&lt;span class=secno&gt;13.2.5 &lt;/span&gt;Fonts and colors&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -82209,7 +83419,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=punctuation-and-decorations&gt;&lt;span class=secno&gt;12.2.6 &lt;/span&gt;Punctuation and decorations&lt;/h4&gt;
+  &lt;h4 id=punctuation-and-decorations&gt;&lt;span class=secno&gt;13.2.6 &lt;/span&gt;Punctuation and decorations&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -82385,7 +83595,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;12.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/h4&gt;
+  &lt;h4 id=resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;13.2.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/h4&gt;
 
   &lt;p&gt;The following rules are also expected to be in play, resetting
   certain properties to block inheritance by default.&lt;/p&gt;
@@ -82422,7 +83632,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-hr-element-0&gt;&lt;span class=secno&gt;12.2.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-hr-element-0&gt;&lt;span class=secno&gt;13.2.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -82475,7 +83685,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-fieldset-element-0&gt;&lt;span class=secno&gt;12.2.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-fieldset-element-0&gt;&lt;span class=secno&gt;13.2.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -82527,9 +83737,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=replaced-elements&gt;&lt;span class=secno&gt;12.3 &lt;/span&gt;Replaced elements&lt;/h3&gt;
+  &lt;h3 id=replaced-elements&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Replaced elements&lt;/h3&gt;
 
-  &lt;h4 id=embedded-content-2&gt;&lt;span class=secno&gt;12.3.1 &lt;/span&gt;Embedded content&lt;/h4&gt;
+  &lt;h4 id=embedded-content-2&gt;&lt;span class=secno&gt;13.3.1 &lt;/span&gt;Embedded content&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, and
   &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements are expected to be treated as replaced
@@ -82606,13 +83816,13 @@
 &lt;!--&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;--&gt;
   &lt;div class=impl&gt;
 
-  &lt;h4 id=timed-text-tracks-0&gt;&lt;span class=secno&gt;12.3.2 &lt;/span&gt;Timed text tracks&lt;/h4&gt;
+  &lt;h4 id=timed-text-tracks-0&gt;&lt;span class=secno&gt;13.3.2 &lt;/span&gt;Timed text tracks&lt;/h4&gt;
 
   &lt;p class=note&gt;This section is intended to be moved to its own CSS
   module once an editor is found to run with it.&lt;/p&gt;
 
 
-  &lt;h5 id=webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;12.3.2.1 &lt;/span&gt;&lt;dfn&gt;WebVTT cue text rendering rules&lt;/dfn&gt;&lt;/h5&gt;
+  &lt;h5 id=webvtt-cue-text-rendering-rules&gt;&lt;span class=secno&gt;13.3.2.1 &lt;/span&gt;&lt;dfn&gt;WebVTT cue text rendering rules&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=rules-for-updating-the-display-of-webvtt-text-tracks&gt;rules for updating the display of WebVTT text
   tracks&lt;/dfn&gt; render the &lt;a href=#text-track title=&quot;text track&quot;&gt;text
@@ -83157,7 +84367,7 @@
 
    &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;12.3.2.2 &lt;/span&gt;Applying CSS properties to &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=applying-css-properties-to-webvtt-node-objects&gt;&lt;span class=secno&gt;13.3.2.2 &lt;/span&gt;Applying CSS properties to &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;&lt;/h5&gt;
 
   &lt;p&gt;When following the &lt;a href=#rules-for-updating-the-display-of-webvtt-text-tracks&gt;rules for updating the display of WebVTT
   text tracks&lt;/a&gt;, user agents must set properties of &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt; as defined in
@@ -83216,7 +84426,7 @@
   values.&lt;/p&gt;
 
 
-  &lt;h5 id=css-extensions&gt;&lt;span class=secno&gt;12.3.2.3 &lt;/span&gt;CSS extensions&lt;/h5&gt;
+  &lt;h5 id=css-extensions&gt;&lt;span class=secno&gt;13.3.2.3 &lt;/span&gt;CSS extensions&lt;/h5&gt;
 
   &lt;p&gt;When a user agent is rendering one or more &lt;a href=#text-track-cue title=&quot;text
   track cue&quot;&gt;text track cues&lt;/a&gt; according to the &lt;a href=#webvtt-cue-text-rendering-rules&gt;WebVTT cue
@@ -83248,7 +84458,7 @@
   ':past' and ':future' pseudo-classes.&lt;/p&gt;
 
 
-  &lt;h6 id=&quot;the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;12.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/h6&gt;
+  &lt;h6 id=&quot;the-'::cue'-pseudo-element&quot;&gt;&lt;span class=secno&gt;13.3.2.3.1 &lt;/span&gt;The '::cue' pseudo-element&lt;/h6&gt;
 
   &lt;p&gt;The '&lt;dfn id=pseudo-cue title=pseudo-cue&gt;::cue&lt;/dfn&gt;' pseudo-element (with no
   argument) matches any &lt;a href=#list-of-webvtt-node-objects&gt;List of WebVTT Node Objects&lt;/a&gt;
@@ -83380,7 +84590,7 @@
   the &lt;a href=#webvtt-cue-background-box&gt;WebVTT cue background box&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h6 id=&quot;the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;12.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/h6&gt;
+  &lt;h6 id=&quot;the-':past'-and-':future'-pseudo-classes&quot;&gt;&lt;span class=secno&gt;13.3.2.3.2 &lt;/span&gt;The ':past' and ':future' pseudo-classes&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn id=past-pseudo-class title=past-pseudo-class&gt;':past'&lt;/dfn&gt; and &lt;dfn id=future-pseudo-class title=future-pseudo-class&gt;':future'&lt;/dfn&gt; pseudo-classes only
   match &lt;a href=#webvtt-node-object title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/a&gt;.&lt;/p&gt;
@@ -83419,7 +84629,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=images-0&gt;&lt;span class=secno&gt;12.3.3 &lt;/span&gt;Images&lt;/h4&gt;
+  &lt;h4 id=images-0&gt;&lt;span class=secno&gt;13.3.3 &lt;/span&gt;Images&lt;/h4&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
   when its &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
@@ -83479,7 +84689,7 @@
   up if the user interacted with the actual image.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;All animated images with the same &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; and
-  the same image data are expected to be rendered synchronised to the
+  the same image data are expected to be rendered synchronized to the
   same timeline as a group, with the timeline starting at the time of
   the most recent addition to the group.&lt;/p&gt;
 
@@ -83501,7 +84711,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;12.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/h4&gt;
+  &lt;h4 id=attributes-for-embedded-content-and-images&gt;&lt;span class=secno&gt;13.3.4 &lt;/span&gt;Attributes for embedded content and images&lt;/h4&gt;
 
   &lt;p&gt;The following CSS rules are expected to apply as
   &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;:&lt;/p&gt;
@@ -83597,7 +84807,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=image-maps-0&gt;&lt;span class=secno&gt;12.3.5 &lt;/span&gt;Image maps&lt;/h4&gt;
+  &lt;h4 id=image-maps-0&gt;&lt;span class=secno&gt;13.3.5 &lt;/span&gt;Image maps&lt;/h4&gt;
 
   &lt;p&gt;Shapes on an &lt;a href=#image-map&gt;image map&lt;/a&gt; are expected to act, for the
   purpose of the CSS cascade, as elements independent of the original
@@ -83625,7 +84835,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=toolbars-0&gt;&lt;span class=secno&gt;12.3.6 &lt;/span&gt;Toolbars&lt;/h4&gt;
+  &lt;h4 id=toolbars-0&gt;&lt;span class=secno&gt;13.3.6 &lt;/span&gt;Toolbars&lt;/h4&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-menu-type&gt;&lt;a href=#attr-menu-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#toolbar-state title=&quot;toolbar state&quot;&gt;toolbar&lt;/a&gt; state, the element is
   expected to be treated as a replaced element with a height about two
@@ -83641,9 +84851,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=bindings&gt;&lt;span class=secno&gt;12.4 &lt;/span&gt;Bindings&lt;/h3&gt;
+  &lt;h3 id=bindings&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Bindings&lt;/h3&gt;
 
-  &lt;h4 id=introduction-12&gt;&lt;span class=secno&gt;12.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-13&gt;&lt;span class=secno&gt;13.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;A number of elements have their rendering defined in terms of the
   'binding' property. &lt;a href=#refsBECSS&gt;[BECSS]&lt;/a&gt;&lt;/p&gt;
@@ -83666,7 +84876,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-button-element-0&gt;&lt;span class=secno&gt;12.4.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-button-element-0&gt;&lt;span class=secno&gt;13.4.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83682,7 +84892,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;12.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;13.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83717,7 +84927,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;12.4.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a text entry widget&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;13.4.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a text entry widget&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83764,7 +84974,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;12.4.5 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as domain-specific widgets&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-domain-specific-widgets&gt;&lt;span class=secno&gt;13.4.5 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as domain-specific widgets&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83819,7 +85029,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;12.4.6 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a range control&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-range-control&gt;&lt;span class=secno&gt;13.4.6 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a range control&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83845,7 +85055,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;12.4.7 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a color well&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-color-well&gt;&lt;span class=secno&gt;13.4.7 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a color well&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83867,7 +85077,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;12.4.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a checkbox and radio button widgets&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-checkbox-and-radio-button-widgets&gt;&lt;span class=secno&gt;13.4.8 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a checkbox and radio button widgets&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83889,7 +85099,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;12.4.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a file upload control&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-file-upload-control&gt;&lt;span class=secno&gt;13.4.9 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a file upload control&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83907,7 +85117,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-input-element-as-a-button&gt;&lt;span class=secno&gt;12.4.10 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a button&lt;/h4&gt;
+  &lt;h4 id=the-input-element-as-a-button&gt;&lt;span class=secno&gt;13.4.10 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element as a button&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -83928,7 +85138,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-marquee-element-0&gt;&lt;span class=secno&gt;12.4.11 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-marquee-element-0&gt;&lt;span class=secno&gt;13.4.11 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84092,7 +85302,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-meter-element-0&gt;&lt;span class=secno&gt;12.4.12 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-meter-element&gt;meter&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-meter-element-0&gt;&lt;span class=secno&gt;13.4.12 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-meter-element&gt;meter&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84123,7 +85333,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-progress-element-0&gt;&lt;span class=secno&gt;12.4.13 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-progress-element-0&gt;&lt;span class=secno&gt;13.4.13 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84160,7 +85370,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-select-element-0&gt;&lt;span class=secno&gt;12.4.14 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-select-element-0&gt;&lt;span class=secno&gt;13.4.14 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84228,7 +85438,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-textarea-element-0&gt;&lt;span class=secno&gt;12.4.15 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-textarea-element-0&gt;&lt;span class=secno&gt;13.4.15 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84283,7 +85493,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-keygen-element-0&gt;&lt;span class=secno&gt;12.4.16 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-keygen-element&gt;keygen&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-keygen-element-0&gt;&lt;span class=secno&gt;13.4.16 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-keygen-element&gt;keygen&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84299,7 +85509,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=the-time-element-0&gt;&lt;span class=secno&gt;12.4.17 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-time-element-0&gt;&lt;span class=secno&gt;13.4.17 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
@@ -84319,7 +85529,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=frames-and-framesets&gt;&lt;span class=secno&gt;12.5 &lt;/span&gt;Frames and framesets&lt;/h3&gt;
+  &lt;h3 id=frames-and-framesets&gt;&lt;span class=secno&gt;13.5 &lt;/span&gt;Frames and framesets&lt;/h3&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-html-element-0&gt;html&lt;/a&gt;&lt;/code&gt; element's second child element is a
   &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt; element, the user agent is expected to render
@@ -84604,9 +85814,9 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h3 id=interactive-media&gt;&lt;span class=secno&gt;12.6 &lt;/span&gt;Interactive media&lt;/h3&gt;
+  &lt;h3 id=interactive-media&gt;&lt;span class=secno&gt;13.6 &lt;/span&gt;Interactive media&lt;/h3&gt;
 
-  &lt;h4 id=links,-forms,-and-navigation&gt;&lt;span class=secno&gt;12.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/h4&gt;
+  &lt;h4 id=links,-forms,-and-navigation&gt;&lt;span class=secno&gt;13.6.1 &lt;/span&gt;Links, forms, and navigation&lt;/h4&gt;
 
   &lt;p&gt;User agents are expected to allow the user to control aspects of
   &lt;a href=#hyperlink&gt;hyperlink&lt;/a&gt; activation and &lt;a href=#form-submission&gt;form submission&lt;/a&gt;,
@@ -84642,7 +85852,7 @@
 
 
 
-  &lt;h4 id=the-title-attribute-0&gt;&lt;span class=secno&gt;12.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=the-title-attribute-0&gt;&lt;span class=secno&gt;13.6.2 &lt;/span&gt;The &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;Given an element (e.g. the element designated by the mouse
   cursor), if the element, or one of its ancestors, has a &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt; attribute, and the nearest such
@@ -84676,7 +85886,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;12.6.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
+  &lt;h4 id=editing-hosts&gt;&lt;span class=secno&gt;13.6.3 &lt;/span&gt;Editing hosts&lt;/h4&gt;
 
   &lt;p&gt;The current text editing caret (the one at the &lt;a href=#caret-position&gt;caret
   position&lt;/a&gt; in a focused &lt;a href=#editing-host&gt;editing host&lt;/a&gt;) is expected
@@ -84690,7 +85900,7 @@
 
 
 
-  &lt;h4 id=text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;12.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/h4&gt;
+  &lt;h4 id=text-rendered-in-native-user-interfaces&gt;&lt;span class=secno&gt;13.6.4 &lt;/span&gt;Text rendered in native user interfaces&lt;/h4&gt;
 
   &lt;p&gt;User agents are expected to honor the Unicode semantics of text
   that is exposed in user interfaces, for example supporting the
@@ -84786,7 +85996,7 @@
 
 
 
-  &lt;h3 id=print-media&gt;&lt;span class=secno&gt;12.7 &lt;/span&gt;Print media&lt;/h3&gt;
+  &lt;h3 id=print-media&gt;&lt;span class=secno&gt;13.7 &lt;/span&gt;Print media&lt;/h3&gt;
 
   &lt;p&gt;User agents are expected to allow the user to request the
   opportunity to &lt;dfn id=obtain-a-physical-form&gt;obtain a physical form&lt;/dfn&gt; (or a
@@ -84806,9 +86016,9 @@
 
 
 
-  &lt;h2 id=obsolete&gt;&lt;span class=secno&gt;13 &lt;/span&gt;Obsolete features&lt;/h2&gt;
+  &lt;h2 id=obsolete&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Obsolete features&lt;/h2&gt;
 
-  &lt;h3 id=obsolete-but-conforming-features&gt;&lt;span class=secno&gt;13.1 &lt;/span&gt;Obsolete but conforming features&lt;/h3&gt;
+  &lt;h3 id=obsolete-but-conforming-features&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Obsolete but conforming features&lt;/h3&gt;
 
   &lt;p&gt;Features listed in this section will trigger warnings in
   conformance checkers.&lt;/p&gt;
@@ -84855,7 +86065,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;13.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/h4&gt;
+  &lt;h4 id=warnings-for-obsolete-but-conforming-features&gt;&lt;span class=secno&gt;14.1.1 &lt;/span&gt;Warnings for obsolete but conforming features&lt;/h4&gt;
 
   &lt;p&gt;To ease the transition from HTML4 Transitional documents to the
   language defined in &lt;em&gt;this&lt;/em&gt; specification, and to discourage
@@ -84904,7 +86114,7 @@
   &lt;/div&gt;
 
 
-  &lt;h3 id=non-conforming-features&gt;&lt;span class=secno&gt;13.2 &lt;/span&gt;Non-conforming features&lt;/h3&gt;
+  &lt;h3 id=non-conforming-features&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;Non-conforming features&lt;/h3&gt;
 
   &lt;p&gt;Elements in the following list are entirely obsolete, and must
   not be used by authors:&lt;/p&gt;
@@ -85174,9 +86384,9 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;h3 id=requirements-for-implementations&gt;&lt;span class=secno&gt;13.3 &lt;/span&gt;Requirements for implementations&lt;/h3&gt;
+  &lt;h3 id=requirements-for-implementations&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Requirements for implementations&lt;/h3&gt;
 
-  &lt;h4 id=the-applet-element&gt;&lt;span class=secno&gt;13.3.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;applet&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-applet-element&gt;&lt;span class=secno&gt;14.3.1 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;applet&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt; element is a Java-specific variant of the
   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt; element. The &lt;code&gt;&lt;a href=#the-applet-element&gt;applet&lt;/a&gt;&lt;/code&gt; element is now
@@ -85252,7 +86462,7 @@
   &lt;a href=#url&gt;URL&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=the-marquee-element&gt;&lt;span class=secno&gt;13.3.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;marquee&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
+  &lt;h4 id=the-marquee-element&gt;&lt;span class=secno&gt;14.3.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;marquee&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-marquee-element&gt;marquee&lt;/a&gt;&lt;/code&gt; element is a presentational element that
   animates content. CSS transitions and animations are a more
@@ -85429,7 +86639,7 @@
   attribute.&lt;/p&gt;
 
 
-  &lt;h4 id=frames&gt;&lt;span class=secno&gt;13.3.3 &lt;/span&gt;Frames&lt;/h4&gt;
+  &lt;h4 id=frames&gt;&lt;span class=secno&gt;14.3.3 &lt;/span&gt;Frames&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=frameset&gt;&lt;code&gt;frameset&lt;/code&gt;&lt;/dfn&gt; element acts as &lt;a href=#the-body-element&gt;the
   body element&lt;/a&gt; in documents that use frames.&lt;/p&gt;
@@ -85608,7 +86818,7 @@
 
 
 
-  &lt;h4 id=other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;13.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/h4&gt; &lt;!-- alphabetical by name and attribute --&gt;
+  &lt;h4 id=other-elements,-attributes-and-apis&gt;&lt;span class=secno&gt;14.3.4 &lt;/span&gt;Other elements, attributes and APIs&lt;/h4&gt; &lt;!-- alphabetical by name and attribute --&gt;
 
   &lt;p&gt;User agents must treat &lt;code&gt;&lt;a href=#acronym&gt;acronym&lt;/a&gt;&lt;/code&gt; elements in a manner
   equivalent to &lt;code&gt;&lt;a href=#the-abbr-element&gt;abbr&lt;/a&gt;&lt;/code&gt; elements in terms of semantics and
@@ -86324,13 +87534,13 @@
 
 
 
-  &lt;h2 id=iana&gt;&lt;span class=secno&gt;14 &lt;/span&gt;IANA considerations&lt;/h2&gt;
+  &lt;h2 id=iana&gt;&lt;span class=secno&gt;15 &lt;/span&gt;IANA considerations&lt;/h2&gt;
 
   &lt;!-- <A HREF="http://www.w3.org/2002/06/registering-mediatype.html">http://www.w3.org/2002/06/registering-mediatype.html</A> --&gt;
 
 
 
-  &lt;h3 id=text/html&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/html&gt;&lt;span class=secno&gt;15.1 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86457,7 +87667,7 @@
   refer to &lt;a href=#the-indicated-part-of-the-document&gt;the indicated part of the document&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h3 id=text/html-sandboxed&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/html-sandboxed&gt;&lt;span class=secno&gt;15.2 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/html-sandboxed&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86539,7 +87749,7 @@
   document&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h3 id=application/xhtml+xml&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=application/xhtml+xml&gt;&lt;span class=secno&gt;15.3 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/xhtml+xml&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86604,7 +87814,7 @@
   type&lt;/a&gt;. &lt;a href=#refsRFC3023&gt;[RFC3023]&lt;/a&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=text/cache-manifest&gt;&lt;span class=secno&gt;14.4 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/cache-manifest&gt;&lt;span class=secno&gt;15.4 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/cache-manifest&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86675,7 +87885,7 @@
 
 
 &lt;!--PING--&gt;
-  &lt;h3 id=text/ping&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/ping&gt;&lt;span class=secno&gt;15.5 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/ping&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86740,7 +87950,7 @@
 
 &lt;!--TT--&gt;
 &lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
-  &lt;h3 id=text/vtt&gt;&lt;span class=secno&gt;14.6 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=text/vtt&gt;&lt;span class=secno&gt;15.6 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This registration is for community review and will be submitted
   to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
@@ -86821,7 +88031,7 @@
 
 &lt;!--MD--&gt;
 
-  &lt;h3 id=application/microdata+json&gt;&lt;span class=secno&gt;14.7 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=application/microdata+json&gt;&lt;span class=secno&gt;15.7 &lt;/span&gt;&lt;dfn&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
 
   &lt;p&gt;This registration is for community review and will be submitted
@@ -86890,7 +88100,7 @@
 &lt;!--MD--&gt;
 
 &lt;!--PING--&gt;
-  &lt;h3 id=ping-from&gt;&lt;span class=secno&gt;14.8 &lt;/span&gt;&lt;dfn title=http-ping-from&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=ping-from&gt;&lt;span class=secno&gt;15.8 &lt;/span&gt;&lt;dfn title=http-ping-from&gt;&lt;code&gt;Ping-From&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This section describes a header field for registration in the
   Permanent Message Header Field Registry.  &lt;a href=#refsRFC3864&gt;[RFC3864]&lt;/a&gt;&lt;/p&gt;
@@ -86909,7 +88119,7 @@
    &lt;/dd&gt;
    &lt;dt&gt;Related information&lt;/dt&gt;
    &lt;dd&gt;None.&lt;/dd&gt;
-  &lt;/dl&gt;&lt;h3 id=ping-to&gt;&lt;span class=secno&gt;14.9 &lt;/span&gt;&lt;dfn title=http-ping-to&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;/dl&gt;&lt;h3 id=ping-to&gt;&lt;span class=secno&gt;15.9 &lt;/span&gt;&lt;dfn title=http-ping-to&gt;&lt;code&gt;Ping-To&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p&gt;This section describes a header field for registration in the
   Permanent Message Header Field Registry.  &lt;a href=#refsRFC3864&gt;[RFC3864]&lt;/a&gt;&lt;/p&gt;
@@ -89971,6 +91181,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/draft-holsten-about-uri-scheme">http://tools.ietf.org/html/draft-holsten-about-uri-scheme</A>&gt;The
    'about' URI scheme&lt;/a&gt;&lt;/cite&gt;, J. Holsten, L. Hunt. IETF.&lt;/dd&gt;
 
+   &lt;dt id=refsAES128CTR&gt;[AES128CTR]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</A>&gt;Advanced Encryption Standard (AES)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsARIA&gt;[ARIA]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/WAI/PF/aria/">http://www.w3.org/WAI/PF/aria/</A>&gt;Accessible Rich
    Internet Applications (WAI-ARIA)&lt;/a&gt;&lt;/cite&gt;, J. Craig, M. Cooper, L. Pappas,
@@ -90178,6 +91391,9 @@
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://microformats.org/wiki/hatom">http://microformats.org/wiki/hatom</A>&gt;hAtom&lt;/a&gt;&lt;/cite&gt;, D
    Janes. Microformats.&lt;/dd&gt;
 
+   &lt;dt id=refsHMAC&gt;[HMAC]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf">http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf</A>&gt;The Keyed-Hash Message Authentication Code (HMAC)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsHTMLDIFF&gt;[HTMLDIFF]&lt;/dt&gt;
    &lt;!--
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
@@ -90200,6 +91416,9 @@
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.iana.org/assignments/message-headers/perm-headers.html">http://www.iana.org/assignments/message-headers/perm-headers.html</A>&gt;Permanent
    Message Header Field Names&lt;/a&gt;&lt;/cite&gt;. IANA.&lt;/dd&gt;
 
+   &lt;dt id=refsICE&gt;[ICE]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5245">http://tools.ietf.org/html/rfc5245</A>&gt;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsISO8601&gt;[ISO8601]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://isotc.iso.org/livelink/livelink/4021199/ISO_8601_2004_E.zip?func=doc.Fetch&amp;amp;nodeid=4021199">http://isotc.iso.org/livelink/livelink/4021199/ISO_8601_2004_E.zip?func=doc.Fetch&amp;nodeid=4021199</A>&quot;&gt;ISO8601: Data elements and interchange formats &mdash; Information interchange &mdash; Representation of dates and times&lt;/a&gt;&lt;/cite&gt;. ISO.&lt;/dd&gt;
 
@@ -90449,11 +91668,23 @@
    Compression Scheme For Unicode&lt;/a&gt;&lt;/cite&gt;, M. Wolf, K. Whistler,
    C. Wicksteed, M. Davis, A. Freytag, M. Scherer. Unicode Consortium.&lt;/dd&gt;
 
+   &lt;dt id=refsSDP&gt;[SDP]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc4566">http://tools.ietf.org/html/rfc4566</A>&gt;SDP: Session Description Protocol&lt;/a&gt;&lt;/cite&gt;, M. Handley, V. Jacobson, C. Perkins. IETF.&lt;/dd&gt;
+
+   &lt;dt id=refsSDPLABEL&gt;[SDPLABEL]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc4574">http://tools.ietf.org/html/rfc4574</A>&gt;The Session Description Protocol (SDP) Label Attribute&lt;/a&gt;&lt;/cite&gt;, O. Levin, G. Camarillo. IETF.&lt;/dd&gt;
+
+   &lt;dt id=refsSDPOFFERANSWER&gt;[SDPOFFERANSWER]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc3264">http://tools.ietf.org/html/rfc3264</A>&gt;An Offer/Answer Model with the Session Description Protocol (SDP)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, H. Schulzrinne. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsSELECTORS&gt;[SELECTORS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/css3-selectors">http://www.w3.org/TR/css3-selectors</A>&gt;Selectors&lt;/a&gt;&lt;/cite&gt;,
    T. &Ccedil;elik, E. Etemad, D.  Glazman, I. Hickson, P. Linss,
    J. Williams. W3C.&lt;/dd&gt;
 
+   &lt;dt id=refsSHA1&gt;[SHA1]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf">http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf</A>&gt;Secure Hash Standard&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=refsSHIFTJIS&gt;[SHIFTJIS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;JIS X0208: 7-bit and 8-bit double byte coded KANJI sets
    for information interchange&lt;/cite&gt;. Japanese Industrial Standards Committee.&lt;/dd&gt;
@@ -90464,6 +91695,9 @@
    and management &mdash; Part 2-1: Colour management &mdash; Default RGB colour
    space &mdash; sRGB&lt;/a&gt;&lt;/cite&gt;. IEC.&lt;/dd&gt;
 
+   &lt;dt id=refsSTUN&gt;[STUN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5389">http://tools.ietf.org/html/rfc5389</A>&gt;Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, R. Mahy, P. Matthews, D. Wing. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsSVG&gt;[SVG]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/SVGTiny12/">http://www.w3.org/TR/SVGTiny12/</A>&gt;Scalable Vector
    Graphics (SVG) Tiny 1.2 Specification&lt;/a&gt;&lt;/cite&gt;, O. Andersson,
@@ -90478,6 +91712,9 @@
    Ministry of Industry, Royal Thai Government. ISBN
    974-606-153-4.&lt;/dd&gt;
 
+   &lt;dt id=refsTURN&gt;[TURN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://tools.ietf.org/html/rfc5766">http://tools.ietf.org/html/rfc5766</A>&gt;Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, R. Mahy, P. Matthews, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=refsUAAG&gt;[UAAG]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="http://www.w3.org/TR/UAAG20/">http://www.w3.org/TR/UAAG20/</A>&gt;Web Content Accessibility
    Guidelines (UAAG) 2.0&lt;/a&gt;&lt;/cite&gt;, J. Allan, K. Ford, J. Richards,

Modified: source
===================================================================
--- source	2011-03-05 00:12:36 UTC (rev 5944)
+++ source	2011-03-14 10:19:45 UTC (rev 5945)
@@ -74,7 +74,7 @@
   of HTML5) currently consist of:&lt;/p&gt;
 
   &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;The &lt;code&gt;device&lt;/code&gt; element.&lt;/li&gt; &lt;!--DEVICE--&gt;
+   &lt;li&gt;The &lt;code&gt;PeerConnection&lt;/code&gt; API and related video-conferencing features.&lt;/li&gt; &lt;!--DEVICE--&gt;
    &lt;li&gt;The &lt;code title=&quot;attr-hyperlink-ping&quot;&gt;ping&lt;/code&gt; attribute and related &lt;span&gt;hyperlink auditing&lt;/span&gt; features.&lt;/li&gt; &lt;!--PING--&gt;
    &lt;li&gt;The &lt;span&gt;WebVTT&lt;/span&gt; format and some &lt;span&gt;text track&lt;/span&gt; API features.&lt;/li&gt; &lt;!--TT--&gt; &lt;!--TTVTT--&gt;
    &lt;li&gt;Rules for &lt;a href=&quot;#atom&quot;&gt;converting HTML to Atom&lt;/a&gt;.&lt;/li&gt; &lt;!--MD--&gt;
@@ -26631,7 +26631,7 @@
  zero or more &lt;code&gt;track&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
  &lt;span&gt;transparent&lt;/span&gt;, but with no &lt;span&gt;media element&lt;/span&gt; descendants.&lt;/dd&gt;
-   &lt;dd&gt;If the element does not have a &lt;code title=&quot;attr-media-src&quot;&gt;src&lt;/code&gt; attribute: one or more &lt;code&gt;source&lt;/code&gt; elements, then
+   &lt;dd&gt;If the element does not have a &lt;code title=&quot;attr-media-src&quot;&gt;src&lt;/code&gt; attribute: zero or more &lt;code&gt;source&lt;/code&gt; elements, then
 &lt;!--KEEP-END w3c-html--&gt;&lt;!--TT--&gt;
  zero or more &lt;code&gt;track&lt;/code&gt; elements, then
 &lt;!--KEEP-START w3c-html--&gt;&lt;!--TT--&gt;
@@ -29593,8 +29593,8 @@
     &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
     named &lt;code title=&quot;event-media-playing&quot;&gt;playing&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;User agents are not required to autoplay, and it
-    is suggested that user agents honor user preferences on the
+    &lt;p class=&quot;note&quot;&gt;User agents do not need to support autoplay,
+    and it is suggested that user agents honor user preferences on the
     matter. Authors are urged to use the &lt;code
     title=&quot;attr-media-autoplay&quot;&gt;autoplay&lt;/code&gt; attribute rather than
     using script to force the video to play, so as to allow the user
@@ -57097,256 +57097,8 @@
   &lt;/div&gt;
 
 
-&lt;!--END w3c-html--&gt;&lt;!--DEVICE--&gt;
-&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
-&lt;!--START html-device--&gt;
 
-  &lt;h4 id=&quot;devices&quot;&gt;The &lt;dfn&gt;&lt;code&gt;device&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
-  &lt;dl class=&quot;element&quot;&gt;
-   &lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Phrasing content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Interactive content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;Empty.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-device-type&quot;&gt;type&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDeviceElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-           attribute DOMString &lt;span title=&quot;dom-device-type&quot;&gt;type&lt;/span&gt;;
-  readonly attribute any &lt;span title=&quot;dom-device-data&quot;&gt;data&lt;/span&gt;;
-};&lt;/pre&gt;
-  &lt;/dl&gt;
-
-  &lt;p&gt;The &lt;code&gt;device&lt;/code&gt; element represents a device selector, to
-  allow the user to give the page access to a device, for example a
-  video camera.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;attr-device-type&quot;&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
-  attribute allows the author to specify which kind of device the page
-  would like access to. The attribute is an &lt;span&gt;enumerated
-  attribute&lt;/span&gt; with the keywords given in the first column of the
-  following table, and their corresponding states given in the cell in
-  second column of the same row.&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;RS232 and USB are only included below to give an idea
-  of where we could go with this. &lt;strong&gt;Should we instead just make
-  this only useful for audiovisual streams?&lt;/strong&gt; Unless there are
-  compelling reasons, we probably should not be this generic. So far,
-  the reasons for RS232 aren't that compelling. For USB, slightly more
-  so.&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;th&gt;Keyword
-     &lt;th&gt;State
-     &lt;th&gt;Device description
-     &lt;th&gt;Examples
-   &lt;tbody&gt;
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;attr-device-type-keyword-media&quot;&gt;&lt;code&gt;media&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=&quot;attr-device-type-media&quot;&gt;Media&lt;/span&gt;
-     &lt;td&gt;Stream of audio and/or video data.
-     &lt;td&gt;A webcam.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;attr-device-type-keyword-fs&quot;&gt;&lt;code&gt;fs&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=&quot;attr-device-type-fs&quot;&gt;File system&lt;/span&gt;
-     &lt;td&gt;File system.
-     &lt;td&gt;A USB-connected media player.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;attr-device-type-keyword-rs232&quot;&gt;&lt;code&gt;rs232&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=&quot;attr-device-type-rs232&quot;&gt;RS232&lt;/span&gt;
-     &lt;td&gt;RS232 device.
-     &lt;td&gt;A serial port.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;attr-device-type-keyword-usb&quot;&gt;&lt;code&gt;usb&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;span title=&quot;attr-device-type-usb&quot;&gt;USB&lt;/span&gt;
-     &lt;td&gt;USB device.
-     &lt;td&gt;A scanner, a music player, a disk jockey, a fish tank.
-  &lt;/table&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;processing model: 'change' event fires once user
-  selects a new device; .data is set to new Stream, LocalFS, USB, or
-  RS232 object as appropriate.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;pre&gt;&lt;p&gt;To start chatting, select a video camera: &lt;device type=media onchange=&quot;update(this.data)&quot;&gt;&lt;/p&gt;
-&lt;video autoplay&gt;&lt;/video&gt;
-&lt;script&gt;
- function update(stream) {
-   document.getElementsByTagName('video')[0].src = stream.url;
- }
-&lt;/script&gt;&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;The &lt;code&gt;device&lt;/code&gt; element is intended to be a
-  void element, but the parser spec hasn't yet been updated. This
-  section of the spec is very much awaiting implementation
-  experience.&lt;/p&gt;
-
-
-  &lt;h5&gt;Stream API&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;code&gt;Stream&lt;/code&gt; interface is used to represent
-  streams.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;Stream&lt;/dfn&gt; {
-  readonly attribute DOMString &lt;span title=&quot;dom-stream-url&quot;&gt;url&lt;/span&gt;;
-  &lt;span&gt;StreamRecorder&lt;/span&gt; &lt;span title=&quot;dom-stream-record&quot;&gt;record&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-stream-url&quot;&gt;&lt;code&gt;url&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return a &lt;span title=&quot;fileURN&quot;&gt;File URN&lt;/span&gt; representing the
-  stream. &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the stream must be in a format
-  supported by the user agent for use in &lt;code&gt;audio&lt;/code&gt; and
-  &lt;code&gt;video&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;This will be pinned down to a specific codec.&lt;/p&gt;
-
-  &lt;p&gt;When the &lt;dfn
-  title=&quot;dom-stream-record&quot;&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must return a new
-  &lt;code&gt;StreamRecorder&lt;/code&gt; object associated with the stream.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;StreamRecorder&lt;/dfn&gt; {
-  &lt;span&gt;File&lt;/span&gt; &lt;span title=&quot;dom-StreamRecorder-stop&quot;&gt;stop&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-StreamRecorder-stop&quot;&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method
-  must return a new &lt;code&gt;File&lt;/code&gt; object representing the data
-  that was streamed between the creation of the
-  &lt;code&gt;StreamRecorder&lt;/code&gt; object and the invocation of the &lt;code
-  title=&quot;dom-StreamRecorder-stop&quot;&gt;stop()&lt;/code&gt; method. &lt;a
-  href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;For audio and video streams, the file must be in a format
-  supported by the user agent for use in &lt;code&gt;audio&lt;/code&gt; and
-  &lt;code&gt;video&lt;/code&gt; elements.&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;This again will be pinned down to a specific codec.&lt;/p&gt;
-
-
-  &lt;h5&gt;Peer-to-peer connections&lt;/h5&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;This section will be moved to a more appropriate
-  location in due course; it is here currently to keep it near the
-  &lt;code&gt;device&lt;/code&gt; element to allow reviewers to look at it.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;[Constructor(in DOMString serverConfiguration)]
-interface &lt;dfn&gt;ConnectionPeer&lt;/dfn&gt; {
-  void sendText(in DOMString text, in optional boolean unimportant); // if second arg is true, then use unreliable low-latency transport (UDP-like), otherwise guarantee delivery (TCP-like)
-           attribute &lt;span&gt;Function&lt;/span&gt; ontext; // receiving
-
-  void sendBitmap(in HTMLImageElement image);
-           attribute &lt;span&gt;Function&lt;/span&gt; onbitmap; // receiving
-
-  void sendFile(in File file);
-           attribute &lt;span&gt;Function&lt;/span&gt; onfile; // receiving
-
-  void addStream(in Stream stream);
-  void removeStream(in Stream stream);
-  readonly attribute Stream[] localStreams;
-  readonly attribute Stream[] remoteStreams;
-           attribute &lt;span&gt;Function&lt;/span&gt; onstream; // receiving
-
-  void &lt;span title=&quot;dom-ConnectionPeer-getLocalConfiguration&quot;&gt;getLocalConfiguration&lt;/span&gt;(in &lt;span&gt;ConnectionPeerConfigurationCallback&lt;/span&gt; callback); // maybe this should be in the constructor, or be an event
-  void &lt;span title=&quot;dom-ConnectionPeer-addRemoteConfiguration&quot;&gt;addRemoteConfiguration&lt;/span&gt;(in DOMString configuration, in optional DOMString remoteOrigin); // remote origin is assumed to be same-origin if not specified. If specified, has to match remote origin (checked in handshake). Should support leading &quot;*.&quot; to mean &quot;any subdomain of&quot;.
-  void close(); // disconnects and stops listening
-
-           attribute &lt;span&gt;Function&lt;/span&gt; onconnect;
-           attribute &lt;span&gt;Function&lt;/span&gt; onerror;
-           attribute &lt;span&gt;Function&lt;/span&gt; ondisconnect;
-};
-&lt;span&gt;ConnectionPeer&lt;/span&gt; implements &lt;span&gt;EventTarget&lt;/span&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn&gt;ConnectionPeerConfigurationCallback&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-ConnectionPeerConfigurationCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;ConnectionPeer&lt;/span&gt; server, in DOMString configuration);
-};&lt;/pre&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;...&lt;/p&gt;
-
-  &lt;div class=&quot;XXX&quot;&gt;
-
-   &lt;p&gt;This relies on some currently hypothetical other standard to
-   define:&lt;/p&gt;
-
-   &lt;ul&gt;
-    &lt;li&gt;The format of server configuration strings.
-    &lt;li&gt;The format of client configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to third-party servers mentioned in the server configuration strings.
-    &lt;li&gt;The protocols that clients use to talk to each other.
-   &lt;/ul&gt;
-
-  &lt;/div&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;When two peers decide they are going to set up a connection to
-   each other, they both go through these steps. The serverConfig
-   comes from a third-party server they can use to get things like
-   their public IP address or to set up NAT traversal. They also have
-   to send their respective configuration to each other using the same
-   out-of-band mechanism they used to establish that they were going
-   to communicate in the first place.&lt;/p&gt;
-
-   &lt;pre&gt;var serverConfig = ...; // configuration string obtained from server
-// contains details such as the IP address of a server that can speak some
-// protocol to help the client determine its public IP address, route packets
-// if necessary, etc.
-
-var local = new ConnectionPeer(serverConfig);
-local.getLocalConfiguration(function (configuration) {
-  if (configuration != '') {
-    ...; // send configuration to other peer using out-of-band mechanism
-  } else {
-    // we've exhausted our options; wait for connection
-  }
-});
-
-function ... (configuration) {
-  // called whenever we get configuration information out-of-band
-  local.addRemoteConfiguration(configuration);
-}
-
-local.onconnect = function (event) {
-  // we are connected!
-  local.sendText('Hello');
-  local.addStream(...); // send video
-  local.onstream = function (event) {
-    // receive video
-    // (videoElement is some &lt;video&gt; element)
-    if (local.remoteStreams.length &gt; 0)
-      videoElement.src = local.remoteStreams[0].url;
-  };
-};&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;p class=&quot;warning&quot;&gt;To prevent network sniffing from allowing a
-  fourth party to establish a connection to a peer using the
-  information sent out-of-band to the other peer and thus spoofing the
-  client, the configuration information should always be transmitted
-  using an encrypted connection.&lt;/p&gt;
-
-&lt;!--END html-device--&gt;
-&lt;/div&gt;
-&lt;!--START w3c-html--&gt;&lt;!--DEVICE--&gt;
-
-
-
-
   &lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;
 
   &lt;h4&gt;Introduction&lt;/h4&gt;
@@ -75962,7 +75714,6 @@
 
 
 
-
   &lt;h2 id=&quot;editing&quot;&gt;&lt;dfn&gt;User interaction&lt;/dfn&gt;&lt;/h2&gt;
 
 
@@ -81193,9 +80944,1711 @@
  &quot;justifycenter&quot;, &quot;justifyright&quot;, &quot;justifyfull&quot;, &quot;indent&quot;, &quot;outdent&quot;
 --&gt;
 
+&lt;!--END w3c-html--&gt;
+&lt;div data-component=&quot;other Hixie drafts (editor: Ian Hickson)&quot;&gt;
 
-&lt;!--END html--&gt;&lt;!--END dev-html--&gt;&lt;!--END w3c-html--&gt;
+  &lt;h2&gt;Video conferencing and peer-to-peer communication&lt;/h2&gt;
 
+  &lt;h3&gt;Introduction&lt;/h3&gt;
+
+  &lt;!--END dev-html--&gt;&lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;&lt;!--START dev-html--&gt;
+
+  &lt;p&gt;There are a number of facets to video-conferencing in HTML:&lt;/p&gt;
+
+  &lt;ul&gt;
+
+   &lt;li&gt;Getting a multimedia stream (video, audio, or both) from local
+   devices (video cameras, microphones, Web cams) or from prerecorded
+   files provided by the user.&lt;/li&gt;
+
+   &lt;li&gt;Recording such streams locally.&lt;/li&gt;
+
+   &lt;li&gt;Connecting to remote peers using NAT-traversal technologies
+   such as ICE, STUN, and TURN.&lt;/li&gt;
+
+   &lt;li&gt;Sending the locally-produced streams to remote peers and
+   receiving streams from remote peers.&lt;/li&gt;
+
+   &lt;li&gt;Displaying such streams (both the locally-produced ones and the
+   remotely-obtained ones) locally using the &lt;code&gt;video&lt;/code&gt; or
+   &lt;code&gt;audio&lt;/code&gt; elements.&lt;/li&gt;
+
+   &lt;li&gt;Sending arbitrary data to remote peers.&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;This section defines the APIs used for these features.&lt;/p&gt;
+
+
+  &lt;h4&gt;Obtaining local multimedia content&lt;/h4&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[Supplemental, NoInterfaceObject]
+interface &lt;dfn&gt;NavigatorUserMedia&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-navigator-getUserMedia&quot;&gt;getUserMedia&lt;/span&gt;(in DOMString options, in &lt;span&gt;NavigatorUserMediaSuccessCallback&lt;/span&gt; successCallback, in optional &lt;span&gt;NavigatorUserMediaErrorCallback&lt;/span&gt; errorCallback);
+};
+&lt;span&gt;Navigator&lt;/span&gt; implements &lt;span&gt;NavigatorUserMedia&lt;/span&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn&gt;NavigatorUserMediaSuccessCallback&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-NavigatorUserMediaSuccessCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;GeneratedStream&lt;/span&gt; stream);
+};
+
+[NoInterfaceObject]&lt;!-- this is based on PositionError in geolocation --&gt;
+interface &lt;dfn&gt;NavigatorUserMediaError&lt;/dfn&gt; {
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-PERMISSION_DENIED&quot;&gt;PERMISSION_DENIED&lt;/span&gt; = 1;&lt;!--
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-UNAVAILABLE&quot;&gt;UNAVAILABLE&lt;/span&gt; = 2;
+  const unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-TIMEOUT&quot;&gt;TIMEOUT&lt;/span&gt; = 3;--&gt;
+  readonly attribute unsigned short &lt;span title=&quot;dom-NavigatorUserMediaError-code&quot;&gt;code&lt;/span&gt;;&lt;!--
+  readonly attribute DOMString &lt;span title=&quot;dom-NavigatorUserMediaError-message&quot;&gt;message&lt;/span&gt;;--&gt;
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn&gt;NavigatorUserMediaErrorCallback&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-NavigatorUserMediaSuccessCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;NavigatorUserMediaError&lt;/span&gt; error);
+};&lt;/pre&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=&quot;dom-navigator&quot;&gt;navigator&lt;/code&gt; . &lt;code title=&quot;dom-navigator-getUserMedia&quot;&gt;getUserMedia&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;options&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; ] )&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Prompts the user for permission to use their Web cam or other
+    video or audio input.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; argument is a string of
+    comma-separated values from the following list:&lt;/p&gt;
+
+    &lt;dl&gt;
+
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include audio data.&lt;/dd&gt;
+
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;video&lt;/code&gt;&quot;&lt;/dt&gt;
+
+     &lt;dd&gt;The provided media needs to include video data.&lt;/dd&gt;
+
+
+    &lt;/dl&gt;
+
+    &lt;p&gt;If the user accepts, the &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is
+    invoked, with a suitable &lt;code&gt;GeneratedStream&lt;/code&gt; object as
+    its argument.&lt;/p&gt;
+
+    &lt;p&gt;If the user declines, the &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; (if
+    any) is invoked.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;error&lt;/var&gt; . &lt;code title=&quot;dom-NavigatorUserMediaError-code&quot;&gt;code&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the current error's error code. At this time, this will
+    always be 1, for which the constant &lt;code
+    title=&quot;dom-NavigatorUserMediaError-PERMISSION_DENIED&quot;&gt;PERMISSION_DENIED&lt;/code&gt;
+    is defined.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;When the &lt;dfn
+  title=&quot;dom-navigator-getUserMedia&quot;&gt;&lt;code&gt;getUserMedia()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;options&lt;/var&gt; be the method's first
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; be the callback
+   indicated by the method's second argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; be the callback
+   indicated by the method's third argument, if any, or null
+   otherwise.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;successCallback&lt;/var&gt; is null, abort these
+   steps.&lt;/p&gt;&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here, or for /options/ below, without changing the
+   algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;split a string on spaces&quot;&gt;Split &lt;var
+   title=&quot;&quot;&gt;options&lt;/var&gt; on spaces&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;list of options&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
+   title=&quot;&quot;&gt;audio&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If one of the tokens in &lt;var title=&quot;&quot;&gt;list of options&lt;/var&gt;
+   is a &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
+   title=&quot;&quot;&gt;video&lt;/code&gt;&quot;, let &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; be true.
+   Otherwise, let it be false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;!-- any error handling for /options/ should be done here (that's
+   why the method doesn't return until the next step: so we can add
+   exception throwing here) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, e.g. based on a previously-established user
+   preference, for security reasons, or due to platform limitations,
+   jump to the step labeled &lt;i&gt;failure&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Prompt the user in a user-agent-specific manner for permission
+    to provide the &lt;span&gt;entry script&lt;/span&gt;'s &lt;span&gt;origin&lt;/span&gt;
+    with a &lt;code&gt;GeneratedStream&lt;/code&gt; object representing a media
+    stream.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt; is true, then the provided media
+    should include an audio component. If &lt;var title=&quot;&quot;&gt;audio&lt;/var&gt;
+    is false, then the provided media must not include an audio
+    component.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is true, then the provided media
+    should include a video component. If &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; is
+    false, then the provided media must not include a video
+    component.&lt;/p&gt;
+
+    &lt;p&gt;User agents are encouraged to default to using the user's
+    primary or system default camera and/or microphone (as
+    appropriate) to generate the media stream. User agents may allow
+    users to use any media source, including pre-recorded media
+    files.&lt;/p&gt;
+
+    &lt;p&gt;If the user grants permission to use local recording devices,
+    user agents are encouraged to include a prominent indicator that
+    the devices are &quot;hot&quot; (i.e. an &quot;on-air&quot; or &quot;recording&quot;
+    indicator).&lt;/p&gt;
+
+    &lt;p&gt;If the user denies permission, jump to the step labeled
+    &lt;i&gt;failure&lt;/i&gt; below. If the user never responds, this algorithm
+    stalls on this step.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the
+   &lt;code&gt;GeneratedStream&lt;/code&gt; object for which the user granted
+   permission.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to invoke &lt;var
+   title=&quot;&quot;&gt;successCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; as
+   its argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Failure&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;errorCallback&lt;/var&gt; is
+   null, abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; be a new
+   &lt;code&gt;NavigatorUserMediaError&lt;/code&gt; object whose &lt;code
+   title=&quot;dom-NavigatorUserMediaError-code&quot;&gt;code&lt;/code&gt; attribute has
+   the numeric value 1 (&lt;code
+   title=&quot;dom-NavigatorUserMediaError-PERMISSION_DENIED&quot;&gt;PERMISSION_DENIED&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to invoke &lt;var
+   title=&quot;&quot;&gt;errorCallback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;error&lt;/var&gt; as its
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for these &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; is the &lt;span&gt;user interaction task
+  source&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-NavigatorUserMediaError-code&quot;&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;NavigatorUserMediaError&lt;/code&gt; object must return the code
+  for the error, which must be &lt;!--one of--&gt; the following:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-NavigatorUserMediaError-PERMISSION_DENIED&quot;&gt;&lt;code&gt;PERMISSION_DENIED&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The user denied the page permission to use the user's media devices.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;A voice chat feature in a game could attempt to get access to
+   the user's microphone by calling the API as follows:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ navigator.getUserMedia('audio', gotAudio);
+ function gotAudio(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;A video-conferencing system would ask for both audio and video:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;script&gt;
+ function beginCall() {
+   navigator.getUserMedia('audio,video', gotStream);
+ }
+ function gotStream(stream) {
+   // ... use 'stream' ...
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4&gt;Stream API&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code&gt;Stream&lt;/code&gt; interface is used to represent streams,
+  typically (but not necessarily) of audio and/or video content, e.g.
+  from a local camera or a remote site.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;GeneratedStream&lt;/code&gt; interface is used when the user
+  agent is generating the stream's data (e.g. from a camera or
+  streaming it from a local video file). It allows authors to pause
+  the generation of the content, e.g. to allow the user to temporarily
+  disable a local camera during a video-conference chat.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object is being generated
+  from a local file (as opposed to a live audio/video source), the
+  user agent should stream the data from the file in real time, not
+  all at once. This reduces the ease with which pages can distinguish
+  live video from pre-recorded video, which can help protect the
+  user's privacy.&lt;/p&gt;
+
+  &lt;!-- v2: support reading the bits from the stream directly, for use
+  with streaming over WebSocket? Or do we rely on FileReader for that? --&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;Stream&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-stream-label&quot;&gt;label&lt;/span&gt;;
+  &lt;span&gt;StreamRecorder&lt;/span&gt; &lt;span title=&quot;dom-stream-record&quot;&gt;record&lt;/span&gt;();
+&lt;!--
+  const unsigned short &lt;span title=&quot;dom-stream-LOADING&quot;&gt;LOADING&lt;/span&gt; = 0; --&gt;
+  const unsigned short &lt;span title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-stream-ENDED&quot;&gt;ENDED&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onreadystatechange&quot;&gt;onreadystatechange&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onended&quot;&gt;onended&lt;/span&gt;;
+};
+&lt;span&gt;Stream&lt;/span&gt; implements &lt;span&gt;EventTarget&lt;/span&gt;;
+
+interface &lt;dfn&gt;GeneratedStream&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-stream-stop&quot;&gt;stop&lt;/span&gt;();
+
+  // temporarily pausing the stream
+  const unsigned short &lt;span title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/span&gt; = 3;
+  void &lt;span title=&quot;dom-stream-pause&quot;&gt;pause&lt;/span&gt;();
+  void &lt;span title=&quot;dom-stream-resume&quot;&gt;resume&lt;/span&gt;();
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onpause&quot;&gt;onpause&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onplay&quot;&gt;onplay&lt;/span&gt;;
+};&lt;/pre&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-label&quot;&gt;label&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a label that is unique to this stream, so that streams
+    can be recognised after they are sent through the
+    &lt;code&gt;PeerConnection&lt;/code&gt; API.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-record&quot;&gt;record&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Begins recording the stream. The returned
+    &lt;code&gt;StreamRecorder&lt;/code&gt; object provides access to the recorded
+    data.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-stop&quot;&gt;stop&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Permanently stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-paused&quot;&gt;paused&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-pause&quot;&gt;pause&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-resume&quot;&gt;resume&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-stream-readyState&quot;&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the state of the stream. It must return the
+  value to which the user agent last set it (as defined below). It can
+  have the following values:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-stream-LIVE&quot;&gt;&lt;code&gt;LIVE&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is active (the user agent is making a best-effort
+   attempt to receive or generate data in real time).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-stream-ENDED&quot;&gt;&lt;code&gt;ENDED&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream has finished (the user agent is no longer receiving
+   or generating data, and will never receive or generate more data
+   for this stream).&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-stream-PAUSED&quot;&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+
+   &lt;dd&gt;The stream is not generating data at this time, but could still
+   be resumed. Only &lt;code&gt;GeneratedStream&lt;/code&gt; objects can be in
+   this state.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;p&gt;When a &lt;code&gt;Stream&lt;/code&gt; object is created, its &lt;code
+  title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute must be
+  set to &lt;code title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/code&gt; (1).&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;Stream&lt;/code&gt; object ends for any reason other than
+  the &lt;code title=&quot;dom-stream-stop&quot;&gt;stop()&lt;/code&gt; method being invoke
+  (e.g. because the user rescinds the permission for the page to use
+  the local camera, or because the data comes from a finite file and
+  the file's end has been reached and the user has not requested that
+  it be looped, or because the stream comes from a remote peer and the
+  remote peer has permanently stopped sending data), the user agent
+  must &lt;span&gt;queue a task&lt;/span&gt; that runs the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute has the
+   value &lt;code title=&quot;dom-stream-ENDED&quot;&gt;ENDED&lt;/code&gt; (2) already, then
+   abort these steps. (The &lt;code title=&quot;dom-stream-stop&quot;&gt;stop()&lt;/code&gt;
+   method was probably called just before the stream stopped for other
+   reasons, e.g. the user clicked an in-page stop button and then the
+   user-agent-provided stop button.)&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
+   title=&quot;dom-stream-ENDED&quot;&gt;ENDED&lt;/code&gt; (2).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-readystatechange&quot;&gt;readystatechange&lt;/code&gt; at the
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-ended&quot;&gt;ended&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;If the end of the stream was reached due to a user request, the
+  &lt;span&gt;task source&lt;/span&gt; for this &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is the &lt;span&gt;user interaction task
+  source&lt;/span&gt;. Otherwise the &lt;span&gt;task source&lt;/span&gt; for this &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is the &lt;span&gt;networking task
+  source&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object is created, the user
+  agent must generate a globally unique identifier string, and must
+  initialize the object's &lt;code title=&quot;dom-stream-label&quot;&gt;label&lt;/code&gt;
+  attribute to that string. Such strings must only use characters in
+  the ranges U+0021, U+0023 to U+0027, U+002A to U+002B, U+002D to
+  U+002E, U+0030 to U+0039, U+0041 to U+005A, U+005E to U+007E, and
+  must be 36 characters long.&lt;/p&gt; &lt;!-- UUIDs have 36 characters
+  including hyphens; the ranges above comes from RFC4574 (the a=label:
+  thing in SDP) --&gt;
+
+  &lt;p&gt;When a &lt;code&gt;Stream&lt;/code&gt; is created to represent a stream
+  obtained from a remote peer, the &lt;code
+  title=&quot;dom-stream-label&quot;&gt;label&lt;/code&gt; attribute is initialized from
+  information provided by the remote source.&lt;/p&gt; &lt;!-- described below
+  --&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-stream-label&quot;&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was initialized when the
+  object was created.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When the &lt;dfn
+  title=&quot;dom-stream-record&quot;&gt;&lt;code&gt;record()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must return a new
+  &lt;code&gt;StreamRecorder&lt;/code&gt; object associated with the stream.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object's &lt;dfn
+  title=&quot;dom-stream-stop&quot;&gt;&lt;code&gt;stop()&lt;/code&gt;&lt;/dfn&gt; method is invoked,
+  the user agent must &lt;span&gt;queue a task&lt;/span&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute is in the
+   &lt;code title=&quot;dom-stream-ENDED&quot;&gt;ENDED&lt;/code&gt; (2) state, then abort
+   these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Permanently stop the generation of data for the stream. If
+   the data is being generated from a live source (e.g. a microphone
+   or camera), and no other stream is being generated from a live
+   source, then the user agent should remove any active &quot;on-air&quot;
+   indicator. If the data is being generated from a prerecorded source
+   (e.g. a video file), any remaining content in the file is
+   ignored.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
+   title=&quot;dom-stream-ENDED&quot;&gt;ENDED&lt;/code&gt; (2).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-readystatechange&quot;&gt;readystatechange&lt;/code&gt; at the
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-ended&quot;&gt;ended&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object's &lt;dfn
+  title=&quot;dom-stream-pause&quot;&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute is not in
+   the &lt;code title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/code&gt; (1) state, then abort
+   these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
+   being generated from a live source (e.g. a microphone or camera),
+   then data collected for this stream while the stream is paused must
+   be discarded. If the data is being generated from a prerecorded
+   source (e.g. a video file), the user agent should follow user
+   preferences for handling a pause (either skipping over data in real
+   time or resuming from the same point when the stream is later
+   resumed).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
+   title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/code&gt; (3).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-readystatechange&quot;&gt;readystatechange&lt;/code&gt; at the
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-pause&quot;&gt;pause&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object's &lt;dfn
+  title=&quot;dom-stream-resume&quot;&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
+  invoked, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that runs the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute is not in
+   the &lt;code title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/code&gt; (3) state, then
+   abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
+   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
+   title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/code&gt; (1).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-readystatechange&quot;&gt;readystatechange&lt;/code&gt; at the
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-play&quot;&gt;play&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued for the &lt;code
+  title=&quot;dom-stream-stop&quot;&gt;stop()&lt;/code&gt;, &lt;code
+  title=&quot;dom-stream-pause&quot;&gt;pause()&lt;/code&gt;, and &lt;code
+  title=&quot;dom-stream-resume&quot;&gt;resume()&lt;/code&gt; methods is the &lt;span&gt;DOM
+  manipulation task source&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
+  corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/span&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;Stream&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;
+   &lt;thead&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;span title=&quot;event handlers&quot;&gt;Event handler&lt;/span&gt; &lt;th&gt;&lt;span&gt;Event handler event type&lt;/span&gt;
+   &lt;tbody&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onreadystatechange&quot;&gt;&lt;code&gt;onreadystatechange&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-readystatechange&quot;&gt;readystatechange&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onended&quot;&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-ended&quot;&gt;ended&lt;/code&gt;
+  &lt;/table&gt;
+
+  &lt;p&gt;The following are the additional &lt;span&gt;event handlers&lt;/span&gt; (and
+  their corresponding &lt;span title=&quot;event handler event type&quot;&gt;event
+  handler event types&lt;/span&gt;) that must be supported, as IDL
+  attributes, by all objects implementing the
+  &lt;code&gt;GeneratedStream&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;table&gt;
+   &lt;thead&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;span title=&quot;event handlers&quot;&gt;Event handler&lt;/span&gt; &lt;th&gt;&lt;span&gt;Event handler event type&lt;/span&gt;
+   &lt;tbody&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onpause&quot;&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-pause&quot;&gt;pause&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onplay&quot;&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-play&quot;&gt;play&lt;/code&gt;
+  &lt;/table&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;This sample code exposes a button. When clicked, the button is
+   disabled and the user is prompted to offer a stream. The user can
+   cause the button to be re-enabled by providing a stream (e.g.
+   giving the page access to the local camera) and then disabling the
+   stream (e.g. revoking that access).&lt;/p&gt;
+
+   &lt;pre&gt;
+&lt;input type=&quot;button&quot; value=&quot;Start&quot; onclick=&quot;start()&quot; id=&quot;startBtn&quot;&gt;
+&lt;script&gt;
+ var startBtn = document.getElementById('startBtn');
+ function start() {
+   navigator.getUserMedia('audio,video', gotStream);
+   startBtn.disabled = true;
+ }
+ function gotStream(stream) {
+   stream.onended = function () {
+     startBtn.disabled = false;
+   }
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;StreamRecorder&lt;/dfn&gt; {
+  &lt;span&gt;Blob&lt;/span&gt; &lt;span title=&quot;dom-StreamRecorder-getRecordedData&quot;&gt;getRecordedData&lt;/span&gt;(in &lt;span&gt;BlobCallback&lt;/span&gt; callback);
+};
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn&gt;BlobCallback&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-BlobCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;Blob&lt;/span&gt; blob);
+};&lt;/pre&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;recorder&lt;/var&gt; . &lt;code title=&quot;dom-StreamRecorder-getRecordedData&quot;&gt;getRecordedData&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;callback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;Blob&lt;/code&gt; of the recorded data, and invokes
+    the provided callback with that &lt;code&gt;Blob&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;When the &lt;dfn
+  title=&quot;dom-StreamRecorder-getRecordedData&quot;&gt;&lt;code&gt;getRecordedData()&lt;/code&gt;&lt;/dfn&gt;
+  method is called, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be the callback
+   indicated by the method's first argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; is null, abort these
+   steps.&lt;/p&gt;&lt;/li&gt; &lt;!-- we could throw an exception instead (that's
+   why the method doesn't return until later: so that we can add an
+   exception here without changing the algorithm) --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the data that was streamed
+   by the &lt;code&gt;Stream&lt;/code&gt; object from which the
+   &lt;code&gt;StreamRecorder&lt;/code&gt; was created since the creation of the
+   &lt;code&gt;StreamRecorder&lt;/code&gt; object.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, and run the remaining steps asynchronously.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Generate a file that containing &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; in
+   a format supported by the user agent for use in &lt;code&gt;audio&lt;/code&gt;
+   and &lt;code&gt;video&lt;/code&gt; elements.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; be a &lt;code&gt;Blob&lt;/code&gt; object
+   representing the contents of the file generated in the previous
+   step. &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to invoke &lt;var
+   title=&quot;&quot;&gt;callback&lt;/var&gt; with &lt;var title=&quot;&quot;&gt;blob&lt;/var&gt; as its
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p class=&quot;note&quot;&gt;The &lt;code
+  title=&quot;dom-StreamRecorder-getRecordedData&quot;&gt;getRecordedData()&lt;/code&gt;
+  method can be called multiple times on one
+  &lt;code&gt;StreamRecorder&lt;/code&gt; object; each time, it will create a new
+  file as if this was the first time the method was being called. In
+  particular, the method does not stop or reset the recording when the
+  method is called.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;This example allows people to record a short audio message and
+   upload it to the server. This example even shows rudimentary error
+   handling.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;input type=&quot;button&quot; value=&quot;&amp;#x26AB;&quot; onclick=&quot;msgRecord()&quot; id=&quot;recBtn&quot;&gt;
+&lt;input type=&quot;button&quot; value=&quot;&amp;#x25FC;&quot; onclick=&quot;msgStop()&quot; id=&quot;stopBtn&quot; disabled&gt;
+&lt;p id=&quot;status&quot;&gt;To start recording, press the &amp;#x26AB; button.&lt;/p&gt;
+&lt;script&gt;
+ var recBtn = document.getElementById('recBtn');
+ var stopBtn = document.getElementById('stopBtn');
+ function report(s) {
+   document.getElementById('status').textContent = s;
+ }
+ function msgRecord() {
+   report('Attempting to access microphone...');
+   navigator.getUserMedia('audio', gotStream, noStream);
+   recBtn.disabled = true;
+ }
+ var msgStream;
+ function gotStream(stream) {
+   report('Recording... To stop, press to &amp;#x25FC; button.');
+   msgStream = stream;
+   stopBtn.disabled = false;
+   stream.onended = function () {
+     msgStop();     
+   }
+ }
+ function msgStop() {
+   report('Creating file...');
+   stopBtn.disabled = true;
+   stream.onended = null;
+   stream.stop();
+   stream.getRecordedData(msgSave);
+ }
+ function msgSave(blob) {
+   report('Uploading file...');
+   var x = new XMLHttpRequest();
+   x.open('POST', 'uploadMessage');
+   x.send(blob);
+   x.onload = function () {
+     report('Done! To record a new message, press the &amp;#x26AB; button.');
+     recBtn.disabled = false;
+   };
+   x.onerror = function () {
+     report('Failed to upload message. To try recording a message again, press the &amp;#x26AB; button.');
+     recBtn.disabled = false;
+   };
+ }
+ funciton noStream() {
+   report('Could not obtain access to your microphone. To try again, press the &amp;#x26AB; button.');
+   recBtn.disabled = false;
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[Supplemental]
+interface &lt;dfn title=&quot;dom-URL&quot;&gt;URL&lt;/dfn&gt; {
+  static DOMString &lt;span title=&quot;dom-URL-createObjectURL&quot;&gt;createObjectURL&lt;/span&gt;(in &lt;span&gt;Stream&lt;/span&gt; stream);
+};&lt;/pre&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=&quot;dom-URL&quot;&gt;URL&lt;/code&gt; . &lt;code title=&quot;dom-URL-createObjectURL&quot;&gt;createObjectURL&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Mints a &lt;span&gt;Blob URL&lt;/span&gt; to refer to the given &lt;code&gt;Stream&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;When the &lt;dfn
+  title=&quot;dom-URL-createObjectURL&quot;&gt;&lt;code&gt;createObjectURL()&lt;/code&gt;&lt;/dfn&gt;
+  method is called with a &lt;code&gt;Stream&lt;/code&gt; argument, the user agent
+  must return a unique &lt;span&gt;Blob URL&lt;/span&gt; for the given
+  &lt;code&gt;Stream&lt;/code&gt;. &lt;a href=&quot;#refsFILEAPI&quot;&gt;[FILEAPI]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;For audio and video streams, the data exposed on that stream must
+  be in a format supported by the user agent for use in
+  &lt;code&gt;audio&lt;/code&gt; and &lt;code&gt;video&lt;/code&gt; elements.&lt;/p&gt;
+
+  &lt;p class=&quot;bookkeeping&quot;&gt;A &lt;dfn&gt;Blob URL&lt;/dfn&gt; is the same as what the
+  File API specification calls a &lt;span&gt;Blob URI&lt;/span&gt;, except that
+  anything in the definition of that feature that refers to
+  &lt;code&gt;File&lt;/code&gt; and &lt;code&gt;Blob&lt;/code&gt; objects is hereby extended
+  to also apply to &lt;code&gt;Stream&lt;/code&gt; and
+  &lt;code&gt;GeneratedStream&lt;/code&gt; objects.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;This example allows people to take photos of themselves from the
+   local video camera.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;style scoped&gt;
+  video { transform: scaleX(-1); }
+  p { text-align: center; }
+ &lt;/style&gt;
+ &lt;h1&gt;Snapshot Kiosk&lt;/h1&gt;
+ &lt;section id=&quot;splash&quot;&gt;
+  &lt;p id=&quot;errorMessage&quot;&gt;Loading...&lt;/p&gt;
+ &lt;/section&gt;
+ &lt;section id=&quot;app&quot; hidden&gt;
+  &lt;p&gt;&lt;video id=&quot;monitor&quot;&gt;&lt;/video&gt; &lt;canvas id=&quot;photo&quot;&gt;&lt;/canvas&gt;
+  &lt;p&gt;&lt;input type=button value=&quot;&amp;#x1F4F7;&quot; onclick=&quot;snapshot()&quot;&gt;
+ &lt;/section&gt;
+ &lt;script&gt;
+  navigator.getUserMedia('video', gotStream, noStream);
+  var video = document.getElementById('monitor');
+  var canvas = document.getElementById('photo');
+  function gotStream(stream) {
+    video.src = URL.getObjectURL(stream);
+    video.onerror = function () {
+      stream.stop();
+      noStream();
+    }
+    video.onloadedmetadata = function () {
+      canvas.width = video.videoWidth;
+      canvas.height = video.videoHeight;
+      document.getElementById('splash').hidden = true;
+      document.getElementById('app').hidden = false;
+    }
+  }
+  function noStream() {
+    document.getElementById('errorMessage').textContent = 'No camera available.';
+  }
+  function snapshot() {
+    canvas.getContext('2d').drawImage(video, 0, 0);
+  }
+ &lt;/script&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
+  &lt;h4&gt;Peer-to-peer connections&lt;/h4&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-PeerConnection&quot;&gt;Constructor&lt;/span&gt;(in DOMString configuration, in &lt;span&gt;SignalingCallback&lt;/span&gt; signalingCallback)]
+interface &lt;dfn&gt;PeerConnection&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-PeerConnection-signalingMessage&quot;&gt;signalingMessage&lt;/span&gt;(in DOMString message);
+
+  // &lt;span class=&quot;XXX&quot;&gt;readyState, etc&lt;/span&gt;
+
+  void &lt;span title=&quot;dom-PeerConnection-send&quot;&gt;send&lt;/span&gt;(in DOMString text);
+  void &lt;span title=&quot;dom-PeerConnection-addStream&quot;&gt;addStream&lt;/span&gt;(in &lt;span&gt;Stream&lt;/span&gt; stream);
+  void &lt;span title=&quot;dom-PeerConnection-removeStream&quot;&gt;removeStream&lt;/span&gt;(in &lt;span&gt;Stream&lt;/span&gt; stream);
+  readonly attribute &lt;span&gt;Stream&lt;/span&gt;[] &lt;span title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Stream&lt;/span&gt;[] &lt;span title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;remoteStreams&lt;/span&gt;;
+
+  // &lt;span class=&quot;XXX&quot;&gt;connection quality information&lt;/span&gt;
+
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-PeerConnection-ontext&quot;&gt;ontext&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-PeerConnection-onaddstream&quot;&gt;onaddstream&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-PeerConnection-onremovestream&quot;&gt;onremovestream&lt;/span&gt;;
+};
+&lt;span&gt;PeerConnection&lt;/span&gt; implements &lt;span&gt;EventTarget&lt;/span&gt;;
+
+[Callback=FunctionOnly, NoInterfaceObject]
+interface &lt;dfn&gt;SignalingCallback&lt;/dfn&gt; {
+  void &lt;span title=&quot;dom-SignalingCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;PeerConnection&lt;/span&gt; source, in DOMString message);
+};&lt;/pre&gt;
+
+  &lt;p&gt;A &lt;code&gt;PeerConnection&lt;/code&gt; allows two users to communicate
+  directly, browser-to-browser. Communications are coordinated via a
+  signaling channel provided by script in the page via the server,
+  e.g. using &lt;code&gt;XMLHttpRequest&lt;/code&gt;.&lt;/p&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; = new &lt;code title=&quot;dom-PeerConnection&quot;&gt;PeerConnection&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Creates a &lt;code&gt;PeerConnection&lt;/code&gt; object.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;configuration&lt;/var&gt; string gives the address
+    of a STUN or TURN server to use to establish the connection. &lt;a
+    href=&quot;#refsSTUN&quot;&gt;[STUN]&lt;/a&gt; &lt;a href=&quot;#refsTURN&quot;&gt;[TURN]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;The allowed formats for this string are:&lt;/p&gt;
+
+    &lt;dl&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; 203.0.113.2:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific IP address and port for the server.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; relay.example.net:3478&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific host and port for the server; the user agent will look up the IP address in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+     &lt;dt&gt;&quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt; example.net&lt;/code&gt;&quot;
+     &lt;dd&gt;
+      &lt;p&gt;Indicates a specific domain for the server; the user agent will look up the IP address and port in DNS.&lt;/p&gt;
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;
+
+    &lt;p&gt;The &quot;&lt;code title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;TYPE&lt;/var&gt;&lt;/code&gt;&quot; is one of:&lt;/p&gt;
+
+    &lt;dl&gt;
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a STUN server that is to be contacted using a TLS session.
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server
+
+     &lt;dt&gt;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;Indicates a TURN server that is to be contacted using a TLS session.
+
+    &lt;/dl&gt;
+
+    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; argument is a method
+    that will be invoked when the user agent needs to send a message
+    to the other host over the signaling channel. When the callback
+    is invoked, convey its argument (a string) to the other peer using
+    whatever method is being used by the Web application to relay
+    signaling messages. (Messages returned from the other peer are
+    provided back to the user agent using the &lt;code
+    title=&quot;dom-PeerConnection-signalingMessage&quot;&gt;signalingMessage()&lt;/code&gt;
+    method.)&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-signalingMessage&quot;&gt;signalingMessage&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;message&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;When a message is relayed from the remote peer over the
+    signaling channel is received by the Web application, pass it to
+    the user agent by calling the &lt;code
+    title=&quot;dom-PeerConnection-signalingMessage&quot;&gt;signalingMessage()&lt;/code&gt;
+    method.&lt;/p&gt;
+
+    &lt;p&gt;The order of messages is important. Passing messages to the
+    user agent in a different order than they were generated by the
+    remote peer's user agent can prevent a successful connection from
+    being established or degrade the connection's quality if one is
+    established.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-send&quot;&gt;send&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;text&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to send the given text to the remote peer. This uses
+    UDP, which is inherently unreliable; there is no guarantee that
+    every message will be received.&lt;/p&gt;
+
+    &lt;p&gt;When a message sent in this manner from the other peer is
+    received, a &lt;code title=&quot;event-PeerConnection-text&quot;&gt;text&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;PeerConnection&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-addStream&quot;&gt;addStream&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Attempts to starting sending the given stream to the remote
+    peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer starts sending a stream in this manner, an
+    &lt;code title=&quot;event-PeerConnection-addstream&quot;&gt;addstream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;PeerConnection&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-removeStream&quot;&gt;removeStream&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Steps sending the given stream to the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;When the other peer stops sending a stream in this manner, a
+    &lt;code
+    title=&quot;event-PeerConnection-removestream&quot;&gt;removestream&lt;/code&gt;
+    event is dispatched at the &lt;code&gt;PeerConnection&lt;/code&gt; object.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently attempting to transmit to the remote peer (those that
+    were added with &lt;code
+    title=&quot;dom-PeerConnection-addStream&quot;&gt;addStream()&lt;/code&gt;).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; . &lt;code title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;remoteStreams&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns a live array containing the streams that the user agent
+    is currently receiving from the remote peer.&lt;/p&gt;
+
+    &lt;p&gt;This array is updated when &lt;code
+    title=&quot;event-PeerConnection-addstream&quot;&gt;addstream&lt;/code&gt; and &lt;code
+    title=&quot;event-PeerConnection-removestream&quot;&gt;removestream&lt;/code&gt;
+    events are fired.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;p&gt;A &lt;code&gt;PeerConnection&lt;/code&gt; object has an associated
+  &lt;dfn&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/dfn&gt;, a
+  &lt;dfn&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/dfn&gt;, a
+  &lt;dfn&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/dfn&gt; and an
+  &lt;dfn&gt;ICE started flag&lt;/dfn&gt;. These are initialized when the object
+  is created.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;dfn
+  title=&quot;dom-PeerConnection&quot;&gt;&lt;code&gt;PeerConnection()&lt;/code&gt;&lt;/dfn&gt;
+  constructor is invoked, the user agent must run the following steps.
+  This algorithm has a &lt;span&gt;synchronous section&lt;/span&gt; (which is
+  triggered as part of the &lt;span&gt;event loop&lt;/span&gt; algorithm). Steps
+  in the &lt;span&gt;synchronous section&lt;/span&gt; are marked with
+  &amp;#x231B;.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; be the constructor's
+   first argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; be the
+   constructor's second argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be a newly created
+   &lt;code&gt;PeerConnection&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an ICE Agent and let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; be that ICE
+   Agent. &lt;a href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; contains a U+000A LINE
+   FEED (LF) character or a U+000D CARRIAGE RETURN (CR) character (or
+   both), remove all characters from &lt;var title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt;
+   after the first such character.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;split a string on spaces&quot;&gt;Split &lt;var
+   title=&quot;&quot;&gt;serverConfiguration&lt;/var&gt; on spaces&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;configuration components&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; has two or more
+    components, and the first component is a
+    &lt;span&gt;case-sensitive&lt;/span&gt; match for one of the following
+    strings:&lt;/p&gt;
+
+    &lt;ul class=&quot;brief&quot;&gt;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot;
+     &lt;li&gt;&quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;
+    &lt;/ul&gt;
+
+    &lt;p&gt;...then run the following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; be STUN if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot;,
+     and TURN otherwise (the first component of &lt;var
+     title=&quot;&quot;&gt;configuration components&lt;/var&gt; is &quot;&lt;code
+     title=&quot;&quot;&gt;TURN&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;).&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; be true if the first
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; is
+     &quot;&lt;code title=&quot;&quot;&gt;STUNS&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;TURNS&lt;/code&gt;&quot;,
+     and false otherwise.&lt;/p&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;host&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; up to
+     the character before the first U+003A COLON character (:), if
+     any, or the entire string otherwise.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;port&lt;/var&gt; be the contents of the second
+     component of &lt;var title=&quot;&quot;&gt;configuration components&lt;/var&gt; from
+     the character after the first U+003A COLON character (:) up to
+     the end, if any, or the empty string otherwise.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Configure the &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+      Agent&lt;/span&gt;'s STUN or TURN server as follows:&lt;/p&gt;
+
+      &lt;ul&gt;
+
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is STUN, the server is a
+       STUN server. Otherwise, &lt;var title=&quot;&quot;&gt;server type&lt;/var&gt; is TURN
+       and the server is a TURN server.&lt;/li&gt;
+
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;secure&lt;/var&gt; is true, the server is to be
+       contacted using TLS-over-TCP, otherwise, it is to be contacted
+       using UDP.&lt;/li&gt;
+
+       &lt;li&gt;The IP address, host name, or domain name of the server is
+       &lt;var title=&quot;&quot;&gt;host&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;The port to use is &lt;var title=&quot;&quot;&gt;port&lt;/var&gt;. If this is the
+       empty string, then only a domain name is configured (and the
+       ICE Agent will use DNS SRV requests to determine the IP address
+       and port).&lt;/li&gt;
+
+       &lt;li&gt;The long-term username for the the STUN or TURN server is
+       the &lt;span title=&quot;ASCII serialization of an origin&quot;&gt;ASCII
+       serialization&lt;/span&gt; of the &lt;span&gt;entry script&lt;/span&gt;'s
+       &lt;span&gt;origin&lt;/span&gt;; the long-term password is the empty
+       string.&lt;/li&gt;
+
+      &lt;/ul&gt;
+
+      &lt;p&gt;If the given IP address, host name, domain name, or port are
+      invalid, then the user agent must act as if no STUN or TURN
+      server is configured.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/span&gt; be
+   &lt;var title=&quot;&quot;&gt;signalingCallback&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE started
+   flag&lt;/span&gt; to false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/span&gt; be a
+   new &lt;span&gt;data UDP media stream&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;Stream&lt;/code&gt; array. &lt;a
+   href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code
+   title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;remoteStreams&lt;/code&gt;
+   attribute be an empty read-only &lt;code&gt;Stream&lt;/code&gt; array. &lt;a
+   href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;, but continue these
+   steps asynchronously.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Await a stable state&lt;/span&gt;. The &lt;span&gt;synchronous
+   section&lt;/span&gt; consists of the remaining steps of this
+   algorithm. (Steps in &lt;span title=&quot;synchronous section&quot;&gt;synchronous
+   sections&lt;/span&gt; are marked with &amp;#x231B;.)&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&amp;#x231B; If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE
+   started flag&lt;/span&gt; is still false, start the
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; and send the
+   initial offer. The initial offer must include a media description
+   for the &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media
+   stream&lt;/span&gt; and for all the streams in &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;. &lt;a
+   href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&amp;#x231B; Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE
+   started flag&lt;/span&gt; be true.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When a &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; is
+  required to send SDP offers or answers, the user agent must follow
+  these steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the SDP offer or answer to be
+   sent. &lt;a href=&quot;#refsSDPOFFERANSWER&quot;&gt;[SDPOFFERANSWER]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the concatenation of the
+   string &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot;, a U+000A LINE FEED (LF)
+   character, and &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt;, in that order.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to invoke that
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; signaling callback&lt;/span&gt; with
+   &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; as its argument.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;All SDP media descriptions for streams represented by
+  &lt;code&gt;Stream&lt;/code&gt; objects must include a label attribute (&quot;&lt;code
+  title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the value of the
+  &lt;code&gt;Stream&lt;/code&gt; object's &lt;code
+  title=&quot;dom-stream-label&quot;&gt;label&lt;/code&gt; attribute. &lt;a
+  href=&quot;#refsSDP&quot;&gt;[SDP]&lt;/a&gt; &lt;a href=&quot;#refsSDPLABEL&quot;&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;span title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/span&gt; must not
+  generate any candidates for media streams whose media descriptions
+  do not have a label attribute (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;). &lt;a
+  href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt; &lt;a href=&quot;#refsSDP&quot;&gt;[SDP]&lt;/a&gt; &lt;a
+  href=&quot;#refsSDPLABEL&quot;&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When a user agent starts receiving media for a component an a
+  candidate provided for that component by a
+  &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt;, the user agent
+  must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;PeerConnection&lt;/code&gt; whose ICE Agent is expecting this
+   media.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is already a &lt;code&gt;Stream&lt;/code&gt; object for the
+   media stream to which this component belongs, then associate the
+   component with that media stream and abort these steps. (Some media
+   streams have multiple components; this API does not expose the
+   role of these individual components in ICE.)&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a &lt;code&gt;Stream&lt;/code&gt; object to represent the media
+   stream. Set its &lt;code title=&quot;attr-stream-label&quot;&gt;label&lt;/code&gt;
+   attribute to the value of the SDP Label attribute for that
+   component's media stream.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to add the newly created
+   &lt;code&gt;Stream&lt;/code&gt; object to the end of &lt;var
+   title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code
+   title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;remoteStreams&lt;/code&gt;
+   array, then &lt;span&gt;fire a stream event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-addstream&quot;&gt;addstream&lt;/code&gt; with the newly
+   created &lt;code&gt;Stream&lt;/code&gt; object at the &lt;var
+   title=&quot;&quot;&gt;connection&lt;/var&gt; object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When a &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; finds
+  that a stream from the remote peer has been removed (its port has
+  been set to zero in a media description sent on the signaling
+  channel), the user agent must follow these steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt; be the
+   &lt;code&gt;PeerConnection&lt;/code&gt; whose &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   ICE Agent&lt;/span&gt; has determined that a stream is being removed.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the &lt;code&gt;Stream&lt;/code&gt;
+   object that represents the media stream being removed, if any. If
+   there isn't one, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to remove &lt;var
+   title=&quot;&quot;&gt;stream&lt;/var&gt; from &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;code
+   title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;remoteStreams&lt;/code&gt;
+   array, then &lt;span&gt;fire a stream event&lt;/span&gt; named &lt;code
+   title=&quot;event-stream-removestream&quot;&gt;removestream&lt;/code&gt; with &lt;var
+   title=&quot;&quot;&gt;stream&lt;/var&gt; at the &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;
+   object.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the &lt;dfn title=&quot;dom-PeerConnection-signalingMessage&quot;&gt;&lt;code
+  title=&quot;&quot;&gt;signalingMessage()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the first four characters of &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; are
+    not &quot;&lt;code title=&quot;&quot;&gt;SDP&lt;/code&gt;&quot; followed by a U+000A LINE FEED
+    (LF) character, then abort these steps. (This indicates an error
+    in the signaling channel implementation. User agents may report
+    such errors to their developer consoles to aid debugging.)&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;Future extensions to the
+    &lt;code&gt;PeerConnection&lt;/code&gt; interface might use other prefix
+    values to implement additional features.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; be the string consisting of all
+   but the first four characters of &lt;var
+   title=&quot;&quot;&gt;message&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE started
+    flag&lt;/span&gt; is still false, start the
+    &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; and pass it
+    &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; as the initial offer from the other peer;
+    the ICE Agent will then (asynchronously) construct the initial
+    answer and transmit it as described above. The initial answer must
+    include a media description for the
+    &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/span&gt; and
+    for all the streams in &lt;code
+    title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;. &lt;a
+    href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE started
+    flag&lt;/span&gt; is true, then pass &lt;var title=&quot;&quot;&gt;sdp&lt;/var&gt; to the
+    &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; as a subsequent
+    offer or answer, to be interpreted as appropriate given the
+    current state of the ICE Agent. &lt;a href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;connection&lt;/var&gt;'s &lt;span&gt;ICE started
+   flag&lt;/span&gt; be true.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the &lt;dfn title=&quot;dom-PeerConnection-send&quot;&gt;&lt;code
+  title=&quot;&quot;&gt;send()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be the method's first
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;
+   encoded as UTF-8. &lt;a href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is longer than 65470 bytes,
+   throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;!-- 65470 = 65535 (64K, max IP size) - 40 (IP header) - 8 (UDP header) - 16 (nonce) - 1 (payload type byte) --&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;PeerConnection&lt;/code&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; data UDP media stream&lt;/span&gt; is
+   not an &lt;span&gt;active data UDP media stream&lt;/span&gt;, abort these
+   steps. No message is sent.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Transmit a data packet to a peer&lt;/span&gt; using the
+   &lt;code&gt;PeerConnection&lt;/code&gt;'s &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+   data UDP media stream&lt;/span&gt; with &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as the
+   message.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the &lt;dfn title=&quot;dom-PeerConnection-addStream&quot;&gt;&lt;code
+  title=&quot;&quot;&gt;addStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is already in the
+   &lt;code&gt;PeerConnection&lt;/code&gt; object's &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt; object,
+   then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; to the end of the
+   &lt;code&gt;PeerConnection&lt;/code&gt; object's &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;PeerConnection&lt;/code&gt;'s &lt;span&gt;ICE
+   started flag&lt;/span&gt; is false, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;PeerConnection&lt;/code&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; add a media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a
+   href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt; &lt;!-- section 9.1.1.3 --&gt;
+
+  &lt;/ol&gt;
+  
+  &lt;p&gt;When the &lt;dfn title=&quot;dom-PeerConnection-removeStream&quot;&gt;&lt;code
+  title=&quot;&quot;&gt;removeStream()&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; be the method's
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is null, throw a
+   &lt;code&gt;TypeError&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; is not in the
+   &lt;code&gt;PeerConnection&lt;/code&gt; object's &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt; object,
+   then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; from the
+   &lt;code&gt;PeerConnection&lt;/code&gt; object's &lt;code
+   title=&quot;dom-PeerConnection-localStreams&quot;&gt;localStreams&lt;/code&gt;
+   object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;PeerConnection&lt;/code&gt;'s &lt;span&gt;ICE
+   started flag&lt;/span&gt; is false, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Have the &lt;code&gt;PeerConnection&lt;/code&gt;'s
+   &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; remove the media
+   stream for &lt;var title=&quot;&quot;&gt;stream&lt;/var&gt;. &lt;a
+   href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt; &lt;!-- section 9.1.1.2 --&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-PeerConnection-localStreams&quot;&gt;&lt;code&gt;localStreams&lt;/code&gt;&lt;/dfn&gt;
+  and &lt;dfn
+  title=&quot;dom-PeerConnection-remoteStreams&quot;&gt;&lt;code&gt;remoteStreams&lt;/code&gt;&lt;/dfn&gt;
+  attributes must return the read-only &lt;code&gt;Stream&lt;/code&gt; arrays that
+  the attributes were respectively set to when the
+  &lt;code&gt;PeerConnection&lt;/code&gt;'s constructor ran.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
+  corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
+  event types&lt;/span&gt;) that must be supported, as IDL attributes, by
+  all objects implementing the &lt;code&gt;PeerConnection&lt;/code&gt;
+  interface:&lt;/p&gt;
+
+  &lt;table&gt;
+   &lt;thead&gt;
+    &lt;tr&gt;&lt;th&gt;&lt;span title=&quot;event handlers&quot;&gt;Event handler&lt;/span&gt; &lt;th&gt;&lt;span&gt;Event handler event type&lt;/span&gt;
+   &lt;tbody&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-PeerConnection-ontext&quot;&gt;&lt;code&gt;ontext&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-text&quot;&gt;text&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-PeerConnection-onaddstream&quot;&gt;&lt;code&gt;onaddstream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-addstream&quot;&gt;addstream&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-PeerConnection-onremovestream&quot;&gt;&lt;code&gt;onremovestream&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-removestream&quot;&gt;removestream&lt;/code&gt;
+  &lt;/table&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; listed in this section is the
+  &lt;span&gt;networking task source&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;When two peers decide they are going to set up a connection to
+   each other, they both go through these steps. The STUN/TURN server
+   configuration describes a server they can use to get things like
+   their public IP address or to set up NAT traversal. They also have
+   to send data for the signaling channel to each other using the same
+   out-of-band mechanism they used to establish that they were going
+   to communicate in the first place.&lt;/p&gt;
+
+   &lt;pre&gt;// the first argument describes the STUN/TURN server configuration
+var local = new PeerConnection('TURNS example.net', sendSignalingChannel);
+local.signalingChannel(...); // if we have a message from the other side, pass it along here
+
+// (aLocalStream is some GeneratedStream object)
+local.addStream(aLocalStream); // start sending video
+
+function sendSignalingChannel(message) {
+  ... // send message to the other side via the signaling channel
+}
+
+function receiveSignalingChannel (message) {
+  // call this whenever we get a message on the signaling channel
+  local.signalingChannel(message);
+}
+
+local.onaddstream = function (event) {
+  // (videoElement is some &lt;video&gt; element)
+  videoElement.src = URL.getObjectURL(event.stream);
+};&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+  &lt;p class=&quot;warning&quot;&gt;To prevent network sniffing from allowing a
+  fourth party to establish a connection to a peer using the
+  information sent out-of-band to the other peer and thus spoofing the
+  client, the configuration information should always be transmitted
+  using an encrypted connection.&lt;/p&gt;
+
+
+
+  &lt;h4&gt;The data stream&lt;/h4&gt;
+
+  &lt;p&gt;All &lt;code&gt;PeerConnection&lt;/code&gt; connections include a &lt;dfn&gt;data
+  UDP media stream&lt;/dfn&gt;, which is used to send data packets
+  peer-to-peer, for instance game control packets. This data channel
+  is unreliable (packets are not guaranteed to be delivered, and are
+  not guaranteed to be delivered in the right order).&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;span title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/span&gt; must include a label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) whose value is the string &quot;&lt;code
+  title=&quot;&quot;&gt;data&lt;/code&gt;&quot;. &lt;a href=&quot;#refsSDP&quot;&gt;[SDP]&lt;/a&gt; &lt;a
+  href=&quot;#refsSDPLABEL&quot;&gt;[SDPLABEL]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;All SDP media descriptions for &lt;span title=&quot;data UDP media
+  stream&quot;&gt;data UDP media streams&lt;/span&gt; must also include a key field
+  (&quot;&lt;code title=&quot;&quot;&gt;k=&lt;/code&gt;&quot;), with the value being a base64-encoded
+  representation of 16 cryptographically random bytes determined on a
+  per-ICE-Agent basis. &lt;a href=&quot;#refsSDP&quot;&gt;[SDP]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;&lt;span title=&quot;PeerConnection ICE
+  Agent&quot;&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agents&lt;/span&gt; must attempt to
+  establish a connection for their &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt;
+  data UDP media stream&lt;/span&gt; during the initial offer/answer
+  exchange, and must maintain that UDP media stream for the ICE
+  Agents' whole lifetime.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;span&gt;data UDP media stream&lt;/span&gt; is an &lt;dfn&gt;active data UDP
+  media stream&lt;/dfn&gt; if the &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+  Agent&lt;/span&gt; has selected a destination for it. A &lt;span&gt;data UDP
+  media stream&lt;/span&gt; can change active status many times during the
+  lifetime of its &lt;code&gt;PeerConnection&lt;/code&gt; object (e.g. any time
+  the network topology changes and the ICE Agent performs an ICE
+  Restart). &lt;a href=&quot;#refsICE&quot;&gt;[ICE]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Bytes transmitted on a &lt;span&gt;data UDP media stream&lt;/span&gt; are
+  masked so as to prevent cross-protocol attacks (&lt;span&gt;data UDP media
+  stream&lt;/span&gt; always appear to contain random noise to other
+  protocols). For the purposes of masking, the &lt;dfn&gt;data UDP media
+  stream salt&lt;/dfn&gt; is defined to be the following 16 bytes, described
+  here as hexadecimal numbers: DB 68 B5 FD 17 0E 15 77 56 AF 7A 3A 1A
+  57 75 02&lt;/p&gt; &lt;!-- obtained thusly: head -c 16 /dev/urandom |
+  hexdump -C --&gt;
+
+  &lt;p&gt;When the user agent is to &lt;dfn&gt;transmit a data packet to a
+  peer&lt;/dfn&gt; using a &lt;span&gt;data UDP media stream&lt;/span&gt; and with a
+  byte string payload &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;, the user agent must
+  run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be 16 cryptographically random
+   bytes.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;span&gt;data UDP media stream&lt;/span&gt; in its
+   media description, as defined above.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;span&gt;data UDP media stream salt&lt;/span&gt; bytes. &lt;a
+   href=&quot;#refsHMAC&quot;&gt;[HMAC]&lt;/a&gt; &lt;a href=&quot;#refsSHA1&quot;&gt;[SHA1]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a 0x01 byte followed by
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;masked message&lt;/var&gt; be the result of
+   encrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a
+   href=&quot;#refsAES128CTR&quot;&gt;[AES128CTR]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Send the concatenation of &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;masked message&lt;/var&gt; in a UDP packet to the destination
+   that the relevant &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE
+   Agent&lt;/span&gt; has selected a destination for the &lt;span&gt;data UDP
+   media stream&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;A &lt;dfn&gt;remote data UDP media stream&lt;/dfn&gt; is the first UDP media
+  stream whose sender is the remote peer, whose label attribute
+  (&quot;&lt;code title=&quot;&quot;&gt;a=label:&lt;/code&gt;&quot;) has the value &quot;&lt;code
+  title=&quot;&quot;&gt;data&lt;/code&gt;&quot;, and for which a
+  &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; has selected a
+  destination, if that media stream has an encryption key advertised
+  in its media description, and if that encryption key is 16 bytes
+  long. A &lt;span&gt;remote data UDP media stream&lt;/span&gt; is associated with
+  the &lt;code&gt;PeerConnection&lt;/code&gt; object for which the
+  &lt;span&gt;&lt;code&gt;PeerConnection&lt;/code&gt; ICE Agent&lt;/span&gt; in question is
+  operating.&lt;/p&gt;
+
+  &lt;p&gt;When a packet from a &lt;span&gt;remote data UDP media stream&lt;/span&gt; is
+  received, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; be the UDP packet's data.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; is shorter than 17 bytes, then
+   abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; be the first 16 bytes of the
+   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; be the 16 bytes given as the
+   encryption key for the &lt;span&gt;remote data UDP media stream&lt;/span&gt; in
+   the media description for this media stream. &lt;a
+   href=&quot;#refsSDP&quot;&gt;[SDP]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key&lt;/var&gt; be the first 16 bytes of the
+   HMAC-SHA1 of the 16 &lt;var title=&quot;&quot;&gt;nonce&lt;/var&gt; bytes concatenated
+   with the 16 &lt;var title=&quot;&quot;&gt;ice-key&lt;/var&gt; bytes concatenated with the
+   16 &lt;span&gt;data UDP media stream salt&lt;/span&gt; bytes. &lt;a
+   href=&quot;#refsHMAC&quot;&gt;[HMAC]&lt;/a&gt; &lt;a href=&quot;#refsSHA1&quot;&gt;[SHA1]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; be the result of
+   decrypting &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; using AES-128-CTR keyed with
+   &lt;var title=&quot;&quot;&gt;key&lt;/var&gt;. &lt;a
+   href=&quot;#refsAES128CTR&quot;&gt;[AES128CTR]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the first byte of &lt;var title=&quot;&quot;&gt;unmasked data&lt;/var&gt; is
+   not 0x01, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;raw message&lt;/var&gt; be the string consisting
+   of all but the first character of &lt;var title=&quot;&quot;&gt;unmasked
+   message&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;raw
+   message&lt;/var&gt; &lt;span&gt;decoded as UTF-8, with error
+   handling&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create an event that uses the &lt;code&gt;MessageEvent&lt;/code&gt;
+   interface, with the name &lt;code title=&quot;event-text&quot;&gt;text&lt;/code&gt;,
+   which does not bubble, is not cancelable, has no default action,
+   and has a &lt;code title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute
+   whose value is &lt;var title=&quot;&quot;&gt;message&lt;/var&gt;, and &lt;span&gt;queue a
+   task&lt;/span&gt; to dispatch the event at the
+   &lt;code&gt;PeerConnection&lt;/code&gt; object that the &lt;span&gt;remote data UDP
+   media stream&lt;/span&gt; is associated with.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+  &lt;h4&gt;Event definitions&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;event-stream-addstream&quot;&gt;addstream&lt;/code&gt; and
+  &lt;code title=&quot;event-stream-removestream&quot;&gt;removestream&lt;/code&gt; events
+  use the &lt;code&gt;StreamEvent&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;StreamEvent&lt;/dfn&gt; : &lt;span&gt;Event&lt;/span&gt; {
+  readonly attribute &lt;span&gt;Stream&lt;/span&gt; &lt;span title=&quot;dom-StreamEvent-stream&quot;&gt;stream&lt;/span&gt;;
+  void &lt;span title=&quot;dom-CloseEvent-initCloseEvent&quot;&gt;initCloseEvent&lt;/span&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in &lt;span&gt;Stream&lt;/span&gt; streamArg);
+};&lt;/pre&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-StreamEvent-initStreamEvent&quot;&gt;&lt;code&gt;initStreamEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces. &lt;a
+  href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-StreamEvent-stream&quot;&gt;&lt;code&gt;stream&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the &lt;code&gt;Stream&lt;/code&gt; object associated with
+  the event.&lt;/p&gt;
+
+  &lt;p&gt;&lt;dfn title=&quot;fire a stream event&quot;&gt;Firing a stream event named &lt;var
+  title=&quot;&quot;&gt;e&lt;/var&gt;&lt;/dfn&gt; with a &lt;code&gt;Stream&lt;/code&gt; &lt;var
+  title=&quot;&quot;&gt;stream&lt;/var&gt; means that an event with the name &lt;var
+  title=&quot;&quot;&gt;e&lt;/var&gt;, which does not bubble (except where otherwise
+  stated) and is not cancelable (except where otherwise stated), and
+  which uses the &lt;code&gt;StreamEvent&lt;/code&gt; interface with the &lt;code
+  title=&quot;dom-StreamEvent-stream&quot;&gt;stream&lt;/code&gt; attribute set to &lt;var
+  title=&quot;&quot;&gt;stream&lt;/var&gt;, must be dispatched at the given target.&lt;/p&gt;
+
+
+  &lt;h4&gt;Event Summary&lt;/h4&gt;
+
+  &lt;p class=&quot;XXX&quot;&gt;...will add event summary for streams here...&lt;/p&gt;
+
+&lt;/div&gt;
+
+&lt;!--END html--&gt;&lt;!--END dev-html--&gt;
+
+
+
+
+
+
   &lt;div data-component=&quot;Web Workers (editor: Ian Hickson)&quot;&gt;
 
   &lt;h2 id=&quot;workers&quot;&gt;Web workers&lt;/h2&gt;
@@ -81261,7 +82714,7 @@
 
   &lt;p&gt;The bulk of this code is simply an unoptimized search for a prime
   number. To send a message back to the page, the &lt;code
-  title=&quot;dom-DedicatedWorkerGlobalScope-postMessage&quot;&gt;postMessage()&lt;/code&gt;
+  title=&quot;dom-DedicatedWorkerGlobalScope-send&quot;&gt;send()&lt;/code&gt;
   method is used to post a message when a prime is found.&lt;/p&gt;
 
   &lt;p&gt;&lt;a href=&quot;<A HREF="http://www.whatwg.org/demos/workers/primes/page.html">http://www.whatwg.org/demos/workers/primes/page.html</A>&quot;&gt;View this example online&lt;/a&gt;.&lt;/p&gt;
@@ -99096,7 +100549,7 @@
   &lt;hr&gt;
 
   &lt;p&gt;All animated images with the same &lt;span&gt;absolute URL&lt;/span&gt; and
-  the same image data are expected to be rendered synchronised to the
+  the same image data are expected to be rendered synchronized to the
   same timeline as a group, with the timeline starting at the time of
   the most recent addition to the group.&lt;/p&gt;
 
@@ -106877,6 +108330,9 @@
    href=&quot;<A HREF="http://tools.ietf.org/html/draft-holsten-about-uri-scheme">http://tools.ietf.org/html/draft-holsten-about-uri-scheme</A>&quot;&gt;The
    'about' URI scheme&lt;/a&gt;&lt;/cite&gt;, J. Holsten, L. Hunt. IETF.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsAES128CTR&quot;&gt;[AES128CTR]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</A>&quot;&gt;Advanced Encryption Standard (AES)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsARIA&quot;&gt;[ARIA]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/WAI/PF/aria/">http://www.w3.org/WAI/PF/aria/</A>&quot;&gt;Accessible Rich
    Internet Applications (WAI-ARIA)&lt;/a&gt;&lt;/cite&gt;, J. Craig, M. Cooper, L. Pappas,
@@ -107110,6 +108566,9 @@
    href=&quot;<A HREF="http://microformats.org/wiki/hatom">http://microformats.org/wiki/hatom</A>&quot;&gt;hAtom&lt;/a&gt;&lt;/cite&gt;, D
    Janes. Microformats.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsHMAC&quot;&gt;[HMAC]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf">http://csrc.nist.gov/publications/fips/fips198/fips-198a.pdf</A>&quot;&gt;The Keyed-Hash Message Authentication Code (HMAC)&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsHTML4&quot;&gt;[HTML4]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://www.w3.org/TR/html4/">http://www.w3.org/TR/html4/</A>&quot;&gt;HTML 4.01
@@ -107158,6 +108617,9 @@
    href=&quot;<A HREF="http://www.iana.org/assignments/message-headers/perm-headers.html">http://www.iana.org/assignments/message-headers/perm-headers.html</A>&quot;&gt;Permanent
    Message Header Field Names&lt;/a&gt;&lt;/cite&gt;. IANA.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsICE&quot;&gt;[ICE]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc5245">http://tools.ietf.org/html/rfc5245</A>&quot;&gt;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsIEEE754&quot;&gt;[IEEE754]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://ieeexplore.ieee.org/servlet/opac?punumber=4610933">http://ieeexplore.ieee.org/servlet/opac?punumber=4610933</A>&quot;&gt;IEEE
@@ -107463,12 +108925,24 @@
    Compression Scheme For Unicode&lt;/a&gt;&lt;/cite&gt;, M. Wolf, K. Whistler,
    C. Wicksteed, M. Davis, A. Freytag, M. Scherer. Unicode Consortium.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsSDP&quot;&gt;[SDP]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc4566">http://tools.ietf.org/html/rfc4566</A>&quot;&gt;SDP: Session Description Protocol&lt;/a&gt;&lt;/cite&gt;, M. Handley, V. Jacobson, C. Perkins. IETF.&lt;/dd&gt;
+
+   &lt;dt id=&quot;refsSDPLABEL&quot;&gt;[SDPLABEL]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc4574">http://tools.ietf.org/html/rfc4574</A>&quot;&gt;The Session Description Protocol (SDP) Label Attribute&lt;/a&gt;&lt;/cite&gt;, O. Levin, G. Camarillo. IETF.&lt;/dd&gt;
+
+   &lt;dt id=&quot;refsSDPOFFERANSWER&quot;&gt;[SDPOFFERANSWER]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc3264">http://tools.ietf.org/html/rfc3264</A>&quot;&gt;An Offer/Answer Model with the Session Description Protocol (SDP)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, H. Schulzrinne. IETF.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsSELECTORS&quot;&gt;[SELECTORS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://www.w3.org/TR/css3-selectors">http://www.w3.org/TR/css3-selectors</A>&quot;&gt;Selectors&lt;/a&gt;&lt;/cite&gt;,
    T. &Ccedil;elik, E. Etemad, D.  Glazman, I. Hickson, P. Linss,
    J. Williams. W3C.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsSHA1&quot;&gt;[SHA1]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf">http://csrc.nist.gov/publications/fips/fips180-2/fips180-2withchangenotice.pdf</A>&quot;&gt;Secure Hash Standard&lt;/a&gt;&lt;/cite&gt;. NIST.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsSHIFTJIS&quot;&gt;[SHIFTJIS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;JIS X0208: 7-bit and 8-bit double byte coded KANJI sets
    for information interchange&lt;/cite&gt;. Japanese Industrial Standards Committee.&lt;/dd&gt;
@@ -107480,6 +108954,9 @@
    and management &mdash; Part 2-1: Colour management &mdash; Default RGB colour
    space &mdash; sRGB&lt;/a&gt;&lt;/cite&gt;. IEC.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsSTUN&quot;&gt;[STUN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc5389">http://tools.ietf.org/html/rfc5389</A>&quot;&gt;Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, J. Rosenberg, R. Mahy, P. Matthews, D. Wing. IETF.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsSVG&quot;&gt;[SVG]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/TR/SVGTiny12/">http://www.w3.org/TR/SVGTiny12/</A>&quot;&gt;Scalable Vector
    Graphics (SVG) Tiny 1.2 Specification&lt;/a&gt;&lt;/cite&gt;, O. Andersson,
@@ -107495,6 +108972,9 @@
    Ministry of Industry, Royal Thai Government. ISBN
    974-606-153-4.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsTURN&quot;&gt;[TURN]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://tools.ietf.org/html/rfc5766">http://tools.ietf.org/html/rfc5766</A>&quot;&gt;Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)&lt;/a&gt;&lt;/cite&gt;, R. Mahy, P. Matthews, J. Rosenberg. IETF.&lt;/dd&gt;
+
    &lt;dt id=&quot;refsUAAG&quot;&gt;[UAAG]&lt;/dt&gt;
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a
    href=&quot;<A HREF="http://www.w3.org/TR/UAAG20/">http://www.w3.org/TR/UAAG20/</A>&quot;&gt;Web Content Accessibility


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012811.html">[html5] r5944 - [e] (0) alphabetic ordering seems the order of the	day here Fixing http://www.w3 [...]
</A></li>
	<LI>Next message: <A HREF="012813.html">[html5] r5946 - [giow] (0) Fix some minor mistakes and change the	way the data UDP media stream [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12812">[ date ]</a>
              <a href="thread.html#12812">[ thread ]</a>
              <a href="subject.html#12812">[ subject ]</a>
              <a href="author.html#12812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
