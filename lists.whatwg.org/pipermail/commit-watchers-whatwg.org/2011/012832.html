<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5965 - [agiow] (0) Change how pausing media is exposed in	GeneratedStream, and expose m [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5965%20-%20%5Bagiow%5D%20%280%29%20Change%20how%20pausing%20media%20is%20exposed%20in%0A%09GeneratedStream%2C%20and%20expose%20m%20%5B...%5D&In-Reply-To=%3C20110325221454.41D0980581E8%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012831.html">
   <LINK REL="Next"  HREF="012833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5965 - [agiow] (0) Change how pausing media is exposed in	GeneratedStream, and expose m [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5965%20-%20%5Bagiow%5D%20%280%29%20Change%20how%20pausing%20media%20is%20exposed%20in%0A%09GeneratedStream%2C%20and%20expose%20m%20%5B...%5D&In-Reply-To=%3C20110325221454.41D0980581E8%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5965 - [agiow] (0) Change how pausing media is exposed in	GeneratedStream, and expose m [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Mar 25 15:14:54 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012831.html">[html5] r5964 - [agiow] (1) Revamp pushState() to work like Firefox	4, since that actually makes [...]
</A></li>
        <LI>Next message: <A HREF="012833.html">[html5] r5966 - [e] (0) forgot to fix this when changing the api	recently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12832">[ date ]</a>
              <a href="thread.html#12832">[ thread ]</a>
              <a href="subject.html#12832">[ subject ]</a>
              <a href="author.html#12832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2011-03-25 15:14:53 -0700 (Fri, 25 Mar 2011)
New Revision: 5965

Modified:
   complete.html
   index
   source
Log:
[agiow] (0) Change how pausing media is exposed in GeneratedStream, and expose multiple tracks.

Modified: complete.html
===================================================================
--- complete.html	2011-03-25 00:55:06 UTC (rev 5964)
+++ complete.html	2011-03-25 22:14:53 UTC (rev 5965)
@@ -28163,11 +28163,20 @@
   element&lt;/a&gt;'s &lt;a href=#media-resource&gt;media resource&lt;/a&gt;. The same object must
   be returned each time.&lt;/p&gt;
 
+  &lt;p class=note&gt;There are only ever two &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt;
+  objects (one &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object and one
+  &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object) per &lt;a href=#media-element&gt;media
+  element&lt;/a&gt;, even if another &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
+  loaded into the element: the objects are reused.&lt;/p&gt;
+
   &lt;/div&gt;
 
 
   &lt;h6 id=tracklist-objects&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;&lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt; objects&lt;/h6&gt;
 
+  &lt;!-- should probably move this section out since it is also used by
+  the video conferencing stuff --&gt;
+
   &lt;p&gt;The &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; and
   &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; interfaces, used by the attributes
   defined in the previous section, are substantially similar. Their
@@ -28257,12 +28266,6 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p class=note&gt;There are only ever two &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt;
-  objects (one &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object and one
-  &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object) per &lt;a href=#media-element&gt;media
-  element&lt;/a&gt;, even if another &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
-  loaded into the element: the objects are reused.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-tracklist-length title=dom-TrackList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the number of tracks represented by the
   &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt; object at the time of getting.&lt;/p&gt;
@@ -72069,9 +72072,10 @@
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface is used when the user
   agent is generating the stream's data (e.g. from a camera or
-  streaming it from a local video file). It allows authors to pause
-  the generation of the content, e.g. to allow the user to temporarily
-  disable a local camera during a video-conference chat.&lt;/p&gt;
+  streaming it from a local video file). It allows authors to control
+  individual tracks during the generation of the content, e.g. to
+  allow the user to temporarily disable a local camera during a
+  video-conference chat.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is being generated
   from a local file (as opposed to a live audio/video source), the
@@ -72098,12 +72102,9 @@
 interface &lt;dfn id=generatedstream&gt;GeneratedStream&lt;/dfn&gt; : &lt;a href=#stream&gt;Stream&lt;/a&gt; {
   void &lt;a href=#dom-stream-stop title=dom-stream-stop&gt;stop&lt;/a&gt;();
 
-  // temporarily pausing the stream
-  const unsigned short &lt;a href=#dom-stream-paused title=dom-stream-PAUSED&gt;PAUSED&lt;/a&gt; = 3;
-  void &lt;a href=#dom-stream-pause title=dom-stream-pause&gt;pause&lt;/a&gt;();
-  void &lt;a href=#dom-stream-resume title=dom-stream-resume&gt;resume&lt;/a&gt;();
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onpause title=handler-stream-onpause&gt;onpause&lt;/a&gt;;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onplay title=handler-stream-onplay&gt;onplay&lt;/a&gt;;
+  // track control
+  readonly attribute &lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt; &lt;a href=#dom-stream-audiotracks title=dom-stream-audioTracks&gt;audioTracks&lt;/a&gt;;
+  readonly attribute &lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt; &lt;a href=#dom-stream-videotracks title=dom-stream-videoTracks&gt;videoTracks&lt;/a&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -72137,32 +72138,26 @@
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-paused&gt;&lt;a href=#dom-stream-paused&gt;paused&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-audioTracks&gt;&lt;a href=#dom-stream-audiotracks&gt;audioTracks&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+    &lt;p&gt;Returns a &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object representing
+    the audio tracks available for mixing into the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-videoTracks&gt;&lt;a href=#dom-stream-videotracks&gt;videoTracks&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
-
    &lt;dd&gt;
 
-    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+    &lt;p&gt;Returns an &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object representing
+    the video tracks available for the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s
+    stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-stream-readystate title=dom-stream-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
@@ -72181,12 +72176,6 @@
    or generating data, and will never receive or generate more data
    for this stream).&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-stream-paused title=dom-stream-PAUSED&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
-
-   &lt;dd&gt;The stream is not generating data at this time, but could still
-   be resumed. Only &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects can be in
-   this state.&lt;/dd&gt;
-
   &lt;/dl&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object is created, its &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute must be
   set to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/p&gt;
 
@@ -72258,44 +72247,47 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-pause title=dom-stream-pause&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
-  following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method is the &lt;a href=#dom-manipulation-task-source&gt;DOM
+  manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
-   the &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1) state, then abort
-   these steps.&lt;/li&gt;
+  &lt;hr&gt;&lt;p&gt;A &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; can have multiple audio and video
+  sources (e.g. because the user has multiple microphones, or because
+  the real source of the stream is a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; with
+  many media tracks). The stream represented by a
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; has either zero or one audio track and
+  either zero or one video track.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
-   being generated from a live source (e.g. a microphone or camera),
-   then data collected for this stream while the stream is paused must
-   be discarded. If the data is being generated from a prerecorded
-   source (e.g. a video file), the user agent should follow user
-   preferences for handling a pause (either skipping over data in real
-   time or resuming from the same point when the stream is later
-   resumed).&lt;/li&gt;
+  &lt;div class=impl&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn id=dom-stream-audiotracks title=dom-stream-audioTracks&gt;&lt;code&gt;audioTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object representing
+  the audio sources available to the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;. The
+  same object must be returned each time. The
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s output audio track must be the result
+  of mixing all the enabled audio sources, if any.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-pause&gt;pause&lt;/code&gt; at the object.&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn id=dom-stream-videotracks title=dom-stream-videoTracks&gt;&lt;code&gt;videoTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object
+  representing the video sources available to the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;. The same object must be returned each
+  time. The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s output video track must be
+  the selected video source, if any.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-resume title=dom-stream-resume&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;User agents may label audio and video sources (e.g. &quot;Internal
+  microphone&quot; or &quot;External USB Webcam&quot;), in which case the &lt;code title=dom-TrackList-getName&gt;&lt;a href=#dom-tracklist-getname&gt;getName()&lt;/a&gt;&lt;/code&gt; methods (on the
+  &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt;
+  objects) must use the labels the user agent has assigned as the
+  track names of the source tracks of the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;
+  object. Otherwise, the &lt;code title=dom-TrackList-getName&gt;&lt;a href=#dom-tracklist-getname&gt;getName()&lt;/a&gt;&lt;/code&gt; methods must use the
+  empty string as the track names of the source tracks of the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object. The &lt;code title=dom-TrackList-getLanguage&gt;&lt;a href=#dom-tracklist-getlanguage&gt;getLanguage()&lt;/a&gt;&lt;/code&gt; methods must
+  use the empty string as the track language for all the source tracks
+  of the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
-   the &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3) state, then
-   abort these steps.&lt;/li&gt;
+  &lt;/div&gt;
 
-   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-play&gt;play&lt;/code&gt; at the object.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause()&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume()&lt;/a&gt;&lt;/code&gt; methods is the &lt;a href=#dom-manipulation-task-source&gt;DOM
-  manipulation task source&lt;/a&gt;.&lt;/p&gt;
-
   &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
   corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
   event types&lt;/a&gt;) that must be supported, as IDL attributes, by
@@ -72303,15 +72295,6 @@
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onended title=handler-stream-onended&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-ended&gt;ended&lt;/code&gt;
-  &lt;/table&gt;&lt;p&gt;The following are the additional &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and
-  their corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event
-  handler event types&lt;/a&gt;) that must be supported, as IDL
-  attributes, by all objects implementing the
-  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
-
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
-   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onpause title=handler-stream-onpause&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-pause&gt;pause&lt;/code&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onplay title=handler-stream-onplay&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-play&gt;play&lt;/code&gt;
   &lt;/table&gt;&lt;/div&gt;
 
   &lt;div class=example&gt;

Modified: index
===================================================================
--- index	2011-03-25 00:55:06 UTC (rev 5964)
+++ index	2011-03-25 22:14:53 UTC (rev 5965)
@@ -28143,11 +28143,20 @@
   element&lt;/a&gt;'s &lt;a href=#media-resource&gt;media resource&lt;/a&gt;. The same object must
   be returned each time.&lt;/p&gt;
 
+  &lt;p class=note&gt;There are only ever two &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt;
+  objects (one &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object and one
+  &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object) per &lt;a href=#media-element&gt;media
+  element&lt;/a&gt;, even if another &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
+  loaded into the element: the objects are reused.&lt;/p&gt;
+
   &lt;/div&gt;
 
 
   &lt;h6 id=tracklist-objects&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;&lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt; objects&lt;/h6&gt;
 
+  &lt;!-- should probably move this section out since it is also used by
+  the video conferencing stuff --&gt;
+
   &lt;p&gt;The &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; and
   &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; interfaces, used by the attributes
   defined in the previous section, are substantially similar. Their
@@ -28237,12 +28246,6 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p class=note&gt;There are only ever two &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt;
-  objects (one &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object and one
-  &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object) per &lt;a href=#media-element&gt;media
-  element&lt;/a&gt;, even if another &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
-  loaded into the element: the objects are reused.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-tracklist-length title=dom-TrackList-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the number of tracks represented by the
   &lt;code&gt;&lt;a href=#tracklist&gt;TrackList&lt;/a&gt;&lt;/code&gt; object at the time of getting.&lt;/p&gt;
@@ -72075,9 +72078,10 @@
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface is used when the user
   agent is generating the stream's data (e.g. from a camera or
-  streaming it from a local video file). It allows authors to pause
-  the generation of the content, e.g. to allow the user to temporarily
-  disable a local camera during a video-conference chat.&lt;/p&gt;
+  streaming it from a local video file). It allows authors to control
+  individual tracks during the generation of the content, e.g. to
+  allow the user to temporarily disable a local camera during a
+  video-conference chat.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object is being generated
   from a local file (as opposed to a live audio/video source), the
@@ -72104,12 +72108,9 @@
 interface &lt;dfn id=generatedstream&gt;GeneratedStream&lt;/dfn&gt; : &lt;a href=#stream&gt;Stream&lt;/a&gt; {
   void &lt;a href=#dom-stream-stop title=dom-stream-stop&gt;stop&lt;/a&gt;();
 
-  // temporarily pausing the stream
-  const unsigned short &lt;a href=#dom-stream-paused title=dom-stream-PAUSED&gt;PAUSED&lt;/a&gt; = 3;
-  void &lt;a href=#dom-stream-pause title=dom-stream-pause&gt;pause&lt;/a&gt;();
-  void &lt;a href=#dom-stream-resume title=dom-stream-resume&gt;resume&lt;/a&gt;();
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onpause title=handler-stream-onpause&gt;onpause&lt;/a&gt;;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-stream-onplay title=handler-stream-onplay&gt;onplay&lt;/a&gt;;
+  // track control
+  readonly attribute &lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt; &lt;a href=#dom-stream-audiotracks title=dom-stream-audioTracks&gt;audioTracks&lt;/a&gt;;
+  readonly attribute &lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt; &lt;a href=#dom-stream-videotracks title=dom-stream-videoTracks&gt;videoTracks&lt;/a&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-label&gt;&lt;a href=#dom-stream-label&gt;label&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -72143,32 +72144,26 @@
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-paused&gt;&lt;a href=#dom-stream-paused&gt;paused&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-audioTracks&gt;&lt;a href=#dom-stream-audiotracks&gt;audioTracks&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+    &lt;p&gt;Returns a &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object representing
+    the audio tracks available for mixing into the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-videoTracks&gt;&lt;a href=#dom-stream-videotracks&gt;videoTracks&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
-
    &lt;dd&gt;
 
-    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+    &lt;p&gt;Returns an &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object representing
+    the video tracks available for the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s
+    stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
   &lt;/dl&gt;&lt;div class=impl&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-stream-readystate title=dom-stream-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
@@ -72187,12 +72182,6 @@
    or generating data, and will never receive or generate more data
    for this stream).&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-stream-paused title=dom-stream-PAUSED&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
-
-   &lt;dd&gt;The stream is not generating data at this time, but could still
-   be resumed. Only &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; objects can be in
-   this state.&lt;/dd&gt;
-
   &lt;/dl&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#stream&gt;Stream&lt;/a&gt;&lt;/code&gt; object is created, its &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute must be
   set to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/p&gt;
 
@@ -72264,44 +72253,47 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-ended&gt;ended&lt;/code&gt; at the object.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-pause title=dom-stream-pause&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
-  following steps:&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt; method is the &lt;a href=#dom-manipulation-task-source&gt;DOM
+  manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
-   the &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1) state, then abort
-   these steps.&lt;/li&gt;
+  &lt;hr&gt;&lt;p&gt;A &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; can have multiple audio and video
+  sources (e.g. because the user has multiple microphones, or because
+  the real source of the stream is a &lt;a href=#media-resource&gt;media resource&lt;/a&gt; with
+  many media tracks). The stream represented by a
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; has either zero or one audio track and
+  either zero or one video track.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
-   being generated from a live source (e.g. a microphone or camera),
-   then data collected for this stream while the stream is paused must
-   be discarded. If the data is being generated from a prerecorded
-   source (e.g. a video file), the user agent should follow user
-   preferences for handling a pause (either skipping over data in real
-   time or resuming from the same point when the stream is later
-   resumed).&lt;/li&gt;
+  &lt;div class=impl&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3).&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn id=dom-stream-audiotracks title=dom-stream-audioTracks&gt;&lt;code&gt;audioTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; object representing
+  the audio sources available to the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;. The
+  same object must be returned each time. The
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s output audio track must be the result
+  of mixing all the enabled audio sources, if any.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-pause&gt;pause&lt;/code&gt; at the object.&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn id=dom-stream-videotracks title=dom-stream-videoTracks&gt;&lt;code&gt;videoTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object must return a
+  &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt; object
+  representing the video sources available to the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;. The same object must be returned each
+  time. The &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;'s output video track must be
+  the selected video source, if any.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object's &lt;dfn id=dom-stream-resume title=dom-stream-resume&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that runs the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;User agents may label audio and video sources (e.g. &quot;Internal
+  microphone&quot; or &quot;External USB Webcam&quot;), in which case the &lt;code title=dom-TrackList-getName&gt;&lt;a href=#dom-tracklist-getname&gt;getName()&lt;/a&gt;&lt;/code&gt; methods (on the
+  &lt;code&gt;&lt;a href=#multipletracklist&gt;MultipleTrackList&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#exclusivetracklist&gt;ExclusiveTrackList&lt;/a&gt;&lt;/code&gt;
+  objects) must use the labels the user agent has assigned as the
+  track names of the source tracks of the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt;
+  object. Otherwise, the &lt;code title=dom-TrackList-getName&gt;&lt;a href=#dom-tracklist-getname&gt;getName()&lt;/a&gt;&lt;/code&gt; methods must use the
+  empty string as the track names of the source tracks of the
+  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object. The &lt;code title=dom-TrackList-getLanguage&gt;&lt;a href=#dom-tracklist-getlanguage&gt;getLanguage()&lt;/a&gt;&lt;/code&gt; methods must
+  use the empty string as the track language for all the source tracks
+  of the &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is not in
-   the &lt;code title=dom-stream-PAUSED&gt;&lt;a href=#dom-stream-paused&gt;PAUSED&lt;/a&gt;&lt;/code&gt; (3) state, then
-   abort these steps.&lt;/li&gt;
+  &lt;/div&gt;
 
-   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code title=dom-stream-readyState&gt;&lt;a href=#dom-stream-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-stream-LIVE&gt;&lt;a href=#dom-stream-live&gt;LIVE&lt;/a&gt;&lt;/code&gt; (1).&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-stream-play&gt;play&lt;/code&gt; at the object.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued for the &lt;code title=dom-stream-stop&gt;&lt;a href=#dom-stream-stop&gt;stop()&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-stream-pause&gt;&lt;a href=#dom-stream-pause&gt;pause()&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-stream-resume&gt;&lt;a href=#dom-stream-resume&gt;resume()&lt;/a&gt;&lt;/code&gt; methods is the &lt;a href=#dom-manipulation-task-source&gt;DOM
-  manipulation task source&lt;/a&gt;.&lt;/p&gt;
-
   &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and their
   corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event handler
   event types&lt;/a&gt;) that must be supported, as IDL attributes, by
@@ -72309,15 +72301,6 @@
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onended title=handler-stream-onended&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-ended&gt;ended&lt;/code&gt;
-  &lt;/table&gt;&lt;p&gt;The following are the additional &lt;a href=#event-handlers&gt;event handlers&lt;/a&gt; (and
-  their corresponding &lt;a href=#event-handler-event-type title=&quot;event handler event type&quot;&gt;event
-  handler event types&lt;/a&gt;) that must be supported, as IDL
-  attributes, by all objects implementing the
-  &lt;code&gt;&lt;a href=#generatedstream&gt;GeneratedStream&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
-
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
-   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onpause title=handler-stream-onpause&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-pause&gt;pause&lt;/code&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-stream-onplay title=handler-stream-onplay&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-stream-play&gt;play&lt;/code&gt;
   &lt;/table&gt;&lt;/div&gt;
 
   &lt;div class=example&gt;

Modified: source
===================================================================
--- source	2011-03-25 00:55:06 UTC (rev 5964)
+++ source	2011-03-25 22:14:53 UTC (rev 5965)
@@ -30542,11 +30542,20 @@
   element&lt;/span&gt;'s &lt;span&gt;media resource&lt;/span&gt;. The same object must
   be returned each time.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;There are only ever two &lt;code&gt;TrackList&lt;/code&gt;
+  objects (one &lt;code&gt;MultipleTrackList&lt;/code&gt; object and one
+  &lt;code&gt;ExclusiveTrackList&lt;/code&gt; object) per &lt;span&gt;media
+  element&lt;/span&gt;, even if another &lt;span&gt;media resource&lt;/span&gt; is
+  loaded into the element: the objects are reused.&lt;/p&gt;
+
   &lt;/div&gt;
 
 
   &lt;h6&gt;&lt;code&gt;TrackList&lt;/code&gt; objects&lt;/h6&gt;
 
+  &lt;!-- should probably move this section out since it is also used by
+  the video conferencing stuff --&gt;
+
   &lt;p&gt;The &lt;code&gt;MultipleTrackList&lt;/code&gt; and
   &lt;code&gt;ExclusiveTrackList&lt;/code&gt; interfaces, used by the attributes
   defined in the previous section, are substantially similar. Their
@@ -30640,12 +30649,6 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p class=&quot;note&quot;&gt;There are only ever two &lt;code&gt;TrackList&lt;/code&gt;
-  objects (one &lt;code&gt;MultipleTrackList&lt;/code&gt; object and one
-  &lt;code&gt;ExclusiveTrackList&lt;/code&gt; object) per &lt;span&gt;media
-  element&lt;/span&gt;, even if another &lt;span&gt;media resource&lt;/span&gt; is
-  loaded into the element: the objects are reused.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-TrackList-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the number of tracks represented by the
   &lt;code&gt;TrackList&lt;/code&gt; object at the time of getting.&lt;/p&gt;
@@ -82154,9 +82157,10 @@
 
   &lt;p&gt;The &lt;code&gt;GeneratedStream&lt;/code&gt; interface is used when the user
   agent is generating the stream's data (e.g. from a camera or
-  streaming it from a local video file). It allows authors to pause
-  the generation of the content, e.g. to allow the user to temporarily
-  disable a local camera during a video-conference chat.&lt;/p&gt;
+  streaming it from a local video file). It allows authors to control
+  individual tracks during the generation of the content, e.g. to
+  allow the user to temporarily disable a local camera during a
+  video-conference chat.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object is being generated
   from a local file (as opposed to a live audio/video source), the
@@ -82183,12 +82187,9 @@
 interface &lt;dfn&gt;GeneratedStream&lt;/dfn&gt; : &lt;span&gt;Stream&lt;/span&gt; {
   void &lt;span title=&quot;dom-stream-stop&quot;&gt;stop&lt;/span&gt;();
 
-  // temporarily pausing the stream
-  const unsigned short &lt;span title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/span&gt; = 3;
-  void &lt;span title=&quot;dom-stream-pause&quot;&gt;pause&lt;/span&gt;();
-  void &lt;span title=&quot;dom-stream-resume&quot;&gt;resume&lt;/span&gt;();
-           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onpause&quot;&gt;onpause&lt;/span&gt;;
-           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-stream-onplay&quot;&gt;onplay&lt;/span&gt;;
+  // track control
+  readonly attribute &lt;span&gt;MultipleTrackList&lt;/span&gt; &lt;span title=&quot;dom-stream-audioTracks&quot;&gt;audioTracks&lt;/span&gt;;
+  readonly attribute &lt;span&gt;ExclusiveTrackList&lt;/span&gt; &lt;span title=&quot;dom-stream-videoTracks&quot;&gt;videoTracks&lt;/span&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=&quot;domintro&quot;&gt;
@@ -82224,32 +82225,26 @@
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-paused&quot;&gt;paused&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-audioTracks&quot;&gt;audioTracks&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns false if the stream is generating data; true if it is pause.&lt;/p&gt;
+    &lt;p&gt;Returns a &lt;code&gt;MultipleTrackList&lt;/code&gt; object representing
+    the audio tracks available for mixing into the &lt;code&gt;GeneratedStream&lt;/code&gt;'s stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-videoTracks&quot;&gt;videoTracks&lt;/code&gt;&lt;/dt&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-pause&quot;&gt;pause&lt;/code&gt;()&lt;/dt&gt;
-
    &lt;dd&gt;
 
-    &lt;p&gt;Temporarily stops the generation of media data for the stream.&lt;/p&gt;
+    &lt;p&gt;Returns an &lt;code&gt;ExclusiveTrackList&lt;/code&gt; object representing
+    the video tracks available for the &lt;code&gt;GeneratedStream&lt;/code&gt;'s
+    stream.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;stream&lt;/var&gt; . &lt;code title=&quot;dom-stream-resume&quot;&gt;resume&lt;/code&gt;()&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Resumes the generation of media data for the stream if it was temporarily stopped.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
   &lt;/dl&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
@@ -82273,12 +82268,6 @@
    or generating data, and will never receive or generate more data
    for this stream).&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-stream-PAUSED&quot;&gt;&lt;code&gt;PAUSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
-
-   &lt;dd&gt;The stream is not generating data at this time, but could still
-   be resumed. Only &lt;code&gt;GeneratedStream&lt;/code&gt; objects can be in
-   this state.&lt;/dd&gt;
-
   &lt;/dl&gt;
 
   &lt;p&gt;When a &lt;code&gt;Stream&lt;/code&gt; object is created, its &lt;code
@@ -82380,72 +82369,58 @@
 
   &lt;/ol&gt;
 
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued for the &lt;code
+  title=&quot;dom-stream-stop&quot;&gt;stop()&lt;/code&gt; method is the &lt;span&gt;DOM
+  manipulation task source&lt;/span&gt;.&lt;/p&gt;
+
   &lt;hr&gt;
 
-  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object's &lt;dfn
-  title=&quot;dom-stream-pause&quot;&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that runs the
-  following steps:&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;GeneratedStream&lt;/code&gt; can have multiple audio and video
+  sources (e.g. because the user has multiple microphones, or because
+  the real source of the stream is a &lt;span&gt;media resource&lt;/span&gt; with
+  many media tracks). The stream represented by a
+  &lt;code&gt;GeneratedStream&lt;/code&gt; has either zero or one audio track and
+  either zero or one video track.&lt;/p&gt;
 
-  &lt;ol&gt;
+  &lt;div class=&quot;impl&quot;&gt;
 
-   &lt;li&gt;&lt;p&gt;If the object's &lt;code
-   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute is not in
-   the &lt;code title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/code&gt; (1) state, then abort
-   these steps.&lt;/p&gt;&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-stream-audioTracks&quot;&gt;&lt;code&gt;audioTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;GeneratedStream&lt;/code&gt; object must return a
+  &lt;span&gt;live&lt;/span&gt; &lt;code&gt;MultipleTrackList&lt;/code&gt; object representing
+  the audio sources available to the &lt;code&gt;GeneratedStream&lt;/code&gt;. The
+  same object must be returned each time. The
+  &lt;code&gt;GeneratedStream&lt;/code&gt;'s output audio track must be the result
+  of mixing all the enabled audio sources, if any.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Pause the generation of data for the stream. If the data is
-   being generated from a live source (e.g. a microphone or camera),
-   then data collected for this stream while the stream is paused must
-   be discarded. If the data is being generated from a prerecorded
-   source (e.g. a video file), the user agent should follow user
-   preferences for handling a pause (either skipping over data in real
-   time or resuming from the same point when the stream is later
-   resumed).&lt;/p&gt;&lt;/li&gt;
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-stream-videoTracks&quot;&gt;&lt;code&gt;videoTracks&lt;/code&gt;&lt;/dfn&gt;
+  attribute of a &lt;code&gt;GeneratedStream&lt;/code&gt; object must return a
+  &lt;span&gt;live&lt;/span&gt; &lt;code&gt;ExclusiveTrackList&lt;/code&gt; object
+  representing the video sources available to the
+  &lt;code&gt;GeneratedStream&lt;/code&gt;. The same object must be returned each
+  time. The &lt;code&gt;GeneratedStream&lt;/code&gt;'s output video track must be
+  the selected video source, if any.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
-   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
-   title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/code&gt; (3).&lt;/p&gt;&lt;/li&gt;
+  &lt;p&gt;User agents may label audio and video sources (e.g. &quot;Internal
+  microphone&quot; or &quot;External USB Webcam&quot;), in which case the &lt;code
+  title=&quot;dom-TrackList-getName&quot;&gt;getName()&lt;/code&gt; methods (on the
+  &lt;code&gt;MultipleTrackList&lt;/code&gt; and &lt;code&gt;ExclusiveTrackList&lt;/code&gt;
+  objects) must use the labels the user agent has assigned as the
+  track names of the source tracks of the &lt;code&gt;GeneratedStream&lt;/code&gt;
+  object. Otherwise, the &lt;code
+  title=&quot;dom-TrackList-getName&quot;&gt;getName()&lt;/code&gt; methods must use the
+  empty string as the track names of the source tracks of the
+  &lt;code&gt;GeneratedStream&lt;/code&gt; object. The &lt;code
+  title=&quot;dom-TrackList-getLanguage&quot;&gt;getLanguage()&lt;/code&gt; methods must
+  use the empty string as the track language for all the source tracks
+  of the &lt;code&gt;GeneratedStream&lt;/code&gt; object.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
-   title=&quot;event-stream-pause&quot;&gt;pause&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
+  &lt;/div&gt;
 
-  &lt;/ol&gt;
-
-  &lt;p&gt;When a &lt;code&gt;GeneratedStream&lt;/code&gt; object's &lt;dfn
-  title=&quot;dom-stream-resume&quot;&gt;&lt;code&gt;resume()&lt;/code&gt;&lt;/dfn&gt; method is
-  invoked, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that runs the
-  following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If the object's &lt;code
-   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute is not in
-   the &lt;code title=&quot;dom-stream-PAUSED&quot;&gt;PAUSED&lt;/code&gt; (3) state, then
-   abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Resume the generation of data for the stream.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Set the object's &lt;code
-   title=&quot;dom-stream-readyState&quot;&gt;readyState&lt;/code&gt; attribute to &lt;code
-   title=&quot;dom-stream-LIVE&quot;&gt;LIVE&lt;/code&gt; (1).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
-   title=&quot;event-stream-play&quot;&gt;play&lt;/code&gt; at the object.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for the &lt;span
-  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued for the &lt;code
-  title=&quot;dom-stream-stop&quot;&gt;stop()&lt;/code&gt;, &lt;code
-  title=&quot;dom-stream-pause&quot;&gt;pause()&lt;/code&gt;, and &lt;code
-  title=&quot;dom-stream-resume&quot;&gt;resume()&lt;/code&gt; methods is the &lt;span&gt;DOM
-  manipulation task source&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
   &lt;p&gt;The following are the &lt;span&gt;event handlers&lt;/span&gt; (and their
   corresponding &lt;span title=&quot;event handler event type&quot;&gt;event handler
   event types&lt;/span&gt;) that must be supported, as IDL attributes, by
@@ -82458,20 +82433,6 @@
     &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onended&quot;&gt;&lt;code&gt;onended&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-ended&quot;&gt;ended&lt;/code&gt;
   &lt;/table&gt;
 
-  &lt;p&gt;The following are the additional &lt;span&gt;event handlers&lt;/span&gt; (and
-  their corresponding &lt;span title=&quot;event handler event type&quot;&gt;event
-  handler event types&lt;/span&gt;) that must be supported, as IDL
-  attributes, by all objects implementing the
-  &lt;code&gt;GeneratedStream&lt;/code&gt; interface:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;&lt;th&gt;&lt;span title=&quot;event handlers&quot;&gt;Event handler&lt;/span&gt; &lt;th&gt;&lt;span&gt;Event handler event type&lt;/span&gt;
-   &lt;tbody&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onpause&quot;&gt;&lt;code&gt;onpause&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-pause&quot;&gt;pause&lt;/code&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-stream-onplay&quot;&gt;&lt;code&gt;onplay&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-stream-play&quot;&gt;play&lt;/code&gt;
-  &lt;/table&gt;
-
   &lt;/div&gt;
 
   &lt;div class=&quot;example&quot;&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012831.html">[html5] r5964 - [agiow] (1) Revamp pushState() to work like Firefox	4, since that actually makes [...]
</A></li>
	<LI>Next message: <A HREF="012833.html">[html5] r5966 - [e] (0) forgot to fix this when changing the api	recently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12832">[ date ]</a>
              <a href="thread.html#12832">[ thread ]</a>
              <a href="subject.html#12832">[ subject ]</a>
              <a href="author.html#12832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
