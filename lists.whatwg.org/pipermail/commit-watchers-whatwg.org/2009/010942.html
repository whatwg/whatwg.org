<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4069 - [] (0) Restructure how microdata vocabularies are	defined; fix microdata to addr [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4069%20-%20%5B%5D%20%280%29%20Restructure%20how%20microdata%20vocabularies%20are%0A%09defined%3B%20fix%20microdata%20to%20addr%20%5B...%5D&In-Reply-To=%3C20091004085011.82B4C38E1C3%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010941.html">
   <LINK REL="Next"  HREF="010943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4069 - [] (0) Restructure how microdata vocabularies are	defined; fix microdata to addr [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4069%20-%20%5B%5D%20%280%29%20Restructure%20how%20microdata%20vocabularies%20are%0A%09defined%3B%20fix%20microdata%20to%20addr%20%5B...%5D&In-Reply-To=%3C20091004085011.82B4C38E1C3%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r4069 - [] (0) Restructure how microdata vocabularies are	defined; fix microdata to addr [...]">whatwg at whatwg.org
       </A><BR>
    <I>Sun Oct  4 01:50:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010941.html">[html5] r4068 - [] (0) Update the RDF conversion to be unambiguous	in all cases.
</A></li>
        <LI>Next message: <A HREF="010943.html">[html5] r4070 - [] (0) Split out the microdata vocabularies into	their own specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10942">[ date ]</a>
              <a href="thread.html#10942">[ thread ]</a>
              <a href="subject.html#10942">[ subject ]</a>
              <a href="author.html#10942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-10-04 01:50:10 -0700 (Sun, 04 Oct 2009)
New Revision: 4069

Modified:
   index
   source
Log:
[] (0) Restructure how microdata vocabularies are defined; fix microdata to address some issues found while doing that; clean up the RDF conversion.

Modified: index
===================================================================
--- index	2009-10-04 03:53:09 UTC (rev 4068)
+++ index	2009-10-04 08:50:10 UTC (rev 4069)
@@ -44475,9 +44475,10 @@
 
    &lt;li&gt;A &lt;a href=#valid-reversed-dns-identifier&gt;valid reversed DNS identifier&lt;/a&gt;, or&lt;/li&gt;
 
-   &lt;li&gt;If the item is a &lt;a href=#typed-item&gt;typed item&lt;/a&gt;: a string allowed in
-   this situation according to the specification that defines the
-   &lt;a href=#relevant-type&gt;relevant type&lt;/a&gt; for the item, or&lt;/li&gt;
+   &lt;li&gt;If the item is a &lt;a href=#typed-item&gt;typed item&lt;/a&gt;: a &lt;dfn id=defined-property-name&gt;defined
+   property name&lt;/dfn&gt; allowed in this situation according to the
+   specification that defines the &lt;a href=#relevant-type&gt;relevant type&lt;/a&gt; for the
+   item, or&lt;/li&gt;
 
    &lt;li&gt;If the item is not a &lt;a href=#typed-item&gt;typed item&lt;/a&gt;: a string that
    contains no U+002E FULL STOP (.) characters and no U+003A COLON (:)
@@ -44811,9 +44812,6 @@
 
   &lt;h3 id=converting-html-to-other-formats&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Converting HTML to other formats&lt;/h3&gt;
 
-  
-
-
   &lt;h4 id=json&gt;&lt;span class=secno&gt;5.4.1 &lt;/span&gt;JSON&lt;/h4&gt;
 
   &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
@@ -44998,25 +44996,6 @@
        &lt;dt&gt;object    &lt;dd&gt; &lt;var title=&quot;&quot;&gt;item&lt;/var&gt;
       &lt;/dl&gt;&lt;/li&gt;
 
-&lt;!--
-     &lt;li&gt;
-
-      &lt;p&gt;If the element is, or is a descendant of, an
-      &lt;code&gt;address&lt;/code&gt; element that has no &lt;code&gt;article&lt;/code&gt;
-      element ancestors, and the &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt; has the type &lt;code
-      title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, generate the following
-      triple:&lt;/p&gt;
-
-      &lt;dl class=&quot;triple&quot;&gt;
-       &lt;dt&gt;subject   &lt;dd&gt; &lt;span&gt;the document's current address&lt;/span&gt;
-       &lt;dt&gt;predicate &lt;dd&gt; &lt;code title=&quot;&quot;&gt;<A HREF="http://purl.org/dc/terms/creator&lt;/code">http://purl.org/dc/terms/creator&lt;/code</A>&gt;
-       &lt;dt&gt;object    &lt;dd&gt; &lt;var title=&quot;&quot;&gt;item&lt;/var&gt;
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
---&gt;
-
     &lt;/ol&gt;&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;When the user agent is to &lt;dfn id=generate-the-triples-for-an-item&gt;generate the triples for an
@@ -45097,10 +45076,14 @@
          &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; have the same value
          as &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;.&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; does not end in a
+         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; does not contain a
          U+0023 NUMBER SIGN character (#), then append a U+0023 NUMBER
          SIGN character (#) to &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt;.&lt;/li&gt;
 
+         &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt;.&lt;/li&gt; &lt;!-- has to be something
+         not in /name/, so either &quot;.&quot; or &quot;:&quot;, so that a different
+         type/name combination couldn't generate the same string --&gt;
+
          &lt;li&gt;&lt;p&gt;Append the value of &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt;, with any characters in &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; that are not valid in the &lt;ifragment&gt;
          production of the IRI syntax being %-escaped.&lt;/li&gt;
 
@@ -45150,29 +45133,9 @@
    &lt;li&gt;&lt;p&gt;Append a &lt;code title=&quot;&quot;&gt;feed&lt;/code&gt; element in the
    &lt;a href=#atom-namespace&gt;Atom namespace&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/li&gt;
 
-&lt;!--
-   &lt;li&gt;
+   &lt;!-- &lt;atom:author&gt; is required either at the feed level (here) or
+   the entry level (below) but we don't provide it --&gt;
 
-    &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; that is, or is a
-    descendant of, an &lt;code&gt;address&lt;/code&gt; element that has no
-    &lt;code&gt;article&lt;/code&gt; element ancestors, and that is an &lt;span
-    title=&quot;concept-item&quot;&gt;item&lt;/span&gt; that has the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, if there is a property &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt; named &lt;code title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt;
-    whose &lt;span title=&quot;concept-item-corresponding&quot;&gt;corresponding
-    item&lt;/span&gt; is &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and the &lt;span
-    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt; is not an &lt;span
-    title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then append an &lt;code
-    title=&quot;&quot;&gt;author&lt;/code&gt; element in the &lt;span&gt;Atom namespace&lt;/span&gt;
-    to the root element of &lt;var title=&quot;&quot;&gt;R&lt;/var&gt; whose contents is a
-    text node with its data set to the &lt;span
-    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
---&gt;
-
    &lt;li&gt;
 
     &lt;p&gt;If there is a &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt; element whose &lt;code title=attr-link-rel&gt;&lt;a href=#attr-link-rel&gt;rel&lt;/a&gt;&lt;/code&gt; attribute's value includes the
@@ -45369,31 +45332,9 @@
 
      &lt;/li&gt;
 
-&lt;!--
-     &lt;li&gt;
+     &lt;!-- &lt;atom:author&gt; is required either at the feed level (above)
+     or the entry level (here) but we don't provide it --&gt;
 
-      &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; that is, or is
-      a descendant of, an &lt;code&gt;address&lt;/code&gt; element whose nearest
-      &lt;code&gt;article&lt;/code&gt; element ancestor is &lt;var
-      title=&quot;&quot;&gt;article&lt;/var&gt;, and that is an &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt; that has the type &lt;code
-      title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, if there is a property &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt; named &lt;code
-      title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; whose &lt;span
-      title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-      &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and the &lt;span
-      title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt; is not an &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then append an &lt;code
-      title=&quot;&quot;&gt;author&lt;/code&gt; element in the &lt;span&gt;Atom
-      namespace&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;E&lt;/var&gt; whose contents is a
-      text node with its data set to the &lt;span
-      title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
---&gt;
-
      &lt;li&gt;
 
       &lt;p&gt;Clone &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; and its descendants into an

Modified: source
===================================================================
--- source	2009-10-04 03:53:09 UTC (rev 4068)
+++ source	2009-10-04 08:50:10 UTC (rev 4069)
@@ -49729,9 +49729,10 @@
 
    &lt;li&gt;A &lt;span&gt;valid reversed DNS identifier&lt;/span&gt;, or&lt;/li&gt;
 
-   &lt;li&gt;If the item is a &lt;span&gt;typed item&lt;/span&gt;: a string allowed in
-   this situation according to the specification that defines the
-   &lt;span&gt;relevant type&lt;/span&gt; for the item, or&lt;/li&gt;
+   &lt;li&gt;If the item is a &lt;span&gt;typed item&lt;/span&gt;: a &lt;dfn&gt;defined
+   property name&lt;/dfn&gt; allowed in this situation according to the
+   specification that defines the &lt;span&gt;relevant type&lt;/span&gt; for the
+   item, or&lt;/li&gt;
 
    &lt;li&gt;If the item is not a &lt;span&gt;typed item&lt;/span&gt;: a string that
    contains no U+002E FULL STOP (.) characters and no U+003A COLON (:)
@@ -50128,29 +50129,21 @@
 
 
 &lt;!--END html5--&gt;
-&lt;!--START vocabs--&gt;
 
+  &lt;h3&gt;Microdata vocabularies&lt;/h3&gt;
 
-  &lt;h3&gt;Predefined vocabularies&lt;/h3&gt;
+&lt;!--START vocabs--&gt;
 
-  &lt;p&gt;A number of &lt;dfn title=&quot;predefined type&quot;&gt;predefined types&lt;/dfn&gt;
-  exist, for describing common structures. Each such type has a set of
-  &lt;dfn title=&quot;predefined property name&quot;&gt;predefined property
-  names&lt;/dfn&gt; that are used to describe data of that type. In
-  addition, there are some &lt;dfn title=&quot;predefined global property
-  name&quot;&gt;predefined global property names&lt;/dfn&gt; that can be used for
-  any item.&lt;/p&gt;
-
-
-
   &lt;h4&gt;vCard&lt;/h4&gt;
 
-  &lt;p&gt;An item with the &lt;span&gt;predefined type&lt;/span&gt; &lt;dfn
-  title=&quot;md-vcard&quot;&gt;&lt;code&gt;vcard&lt;/code&gt;&lt;/dfn&gt; represents a person's or
-  organization's contact information.&lt;/p&gt;
+&lt;!--START vCard--&gt;
 
-  &lt;p&gt;The following are the type's &lt;span title=&quot;predefined property
-  name&quot;&gt;predefined property names&lt;/span&gt;. They are based on the
+  &lt;p&gt;An item with the &lt;span&gt;item type&lt;/span&gt; &lt;dfn
+  title=&quot;md-vcard&quot;&gt;&lt;code&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;&lt;/dfn&gt;
+  represents a person's or organization's contact information.&lt;/p&gt;
+
+  &lt;p&gt;The following are the type's &lt;span title=&quot;defined property
+  name&quot;&gt;defined property names&lt;/span&gt;. They are based on the
   vocabulary defined in the vCard specification and its extensions,
   where more information on how to interpret the values can be
   found. &lt;a href=&quot;#refsRFC2426&quot;&gt;[RFC2426]&lt;/a&gt; &lt;a
@@ -50158,7 +50151,6 @@
 
   &lt;dl&gt;
 
-
    &lt;dt&gt;&lt;dfn title=&quot;md-vcard-fn&quot;&gt;&lt;code&gt;fn&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -50172,7 +50164,7 @@
     &lt;p&gt;Exactly one property with the name &lt;code
     title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; must be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50196,7 +50188,7 @@
     &lt;p&gt;Except when one of the conditions given below applies, exactly
     one property with the name &lt;code title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; must
     be present within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with
-    the type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    the type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
     &lt;p&gt;If one of the following conditions does apply, then the &lt;code
     title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; may be omitted:&lt;/p&gt;
@@ -50280,7 +50272,7 @@
     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the &lt;code
     title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50299,7 +50291,7 @@
     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the &lt;code
     title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50318,7 +50310,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the
     &lt;code title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50337,7 +50329,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the
     &lt;code title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50356,7 +50348,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the
     &lt;code title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50380,7 +50372,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-nickname&quot;&gt;nickname&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50397,7 +50389,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-photo&quot;&gt;photo&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50414,7 +50406,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vcard-bday&quot;&gt;bday&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50445,7 +50437,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, then the &lt;span&gt;address type
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, then the &lt;span&gt;address type
     strings&lt;/span&gt; &lt;code title=&quot;mv-vcard-type-adr-intl&quot;&gt;intl&lt;/code&gt;,
     &lt;code title=&quot;mv-vcard-type-adr-postal&quot;&gt;postal&lt;/code&gt;, &lt;code
     title=&quot;mv-vcard-type-adr-parcel&quot;&gt;parcel&lt;/code&gt;, and &lt;code
@@ -50454,7 +50446,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50469,7 +50461,7 @@
     is equal to one of the &lt;span&gt;address type strings&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the
-    type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, there must be no more
+    type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, there must be no more
     than one &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with a &lt;code
     title=&quot;md-vcard-adr-type&quot;&gt;type&lt;/code&gt; property whose value is
@@ -50481,7 +50473,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, but within each such &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, but within each such &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; there must only be one &lt;code
     title=&quot;md-vcard-adr-type&quot;&gt;type&lt;/code&gt; property per distinct
@@ -50505,7 +50497,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50525,7 +50517,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50545,7 +50537,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50565,7 +50557,7 @@
     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50585,7 +50577,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50605,7 +50597,7 @@
     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50625,7 +50617,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50648,7 +50640,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a
     &lt;code title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or if the &lt;span
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or if the &lt;span
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of such a &lt;code
     title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property is text, then the
     &lt;span&gt;address type strings&lt;/span&gt; &lt;code
@@ -50660,7 +50652,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50675,7 +50667,7 @@
     is equal to one of the &lt;span&gt;address type strings&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the
-    type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, there must be no more
+    type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, there must be no more
     than one &lt;code title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with a &lt;code
     title=&quot;md-vcard-label-type&quot;&gt;type&lt;/code&gt; property whose value is
@@ -50687,7 +50679,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a &lt;code
     title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, but within each such &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, but within each such &lt;code
     title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; there must only be one &lt;code
     title=&quot;md-vcard-label-type&quot;&gt;type&lt;/code&gt; property per distinct
@@ -50711,7 +50703,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a &lt;code
     title=&quot;md-vcard-label&quot;&gt;label&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50735,7 +50727,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a
     &lt;code title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or if the &lt;span
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or if the &lt;span
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of such a &lt;code
     title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property is text, then the &lt;span
     title=&quot;telephone type strings&quot;&gt;telephone type string&lt;/span&gt; &lt;code
@@ -50744,7 +50736,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50759,7 +50751,7 @@
     is equal to one of the &lt;span&gt;telephone type strings&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the
-    type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, there must be no more
+    type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, there must be no more
     than one &lt;code title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with a &lt;code
     title=&quot;md-vcard-tel-type&quot;&gt;type&lt;/code&gt; property whose value is
@@ -50771,7 +50763,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a &lt;code
     title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, but within each such &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, but within each such &lt;code
     title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; there must only be one &lt;code
     title=&quot;md-vcard-tel-type&quot;&gt;type&lt;/code&gt; property per distinct
@@ -50797,7 +50789,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of a &lt;code
     title=&quot;md-vcard-tel&quot;&gt;tel&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50819,7 +50811,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or if the &lt;span
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or if the &lt;span
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of such an &lt;code
     title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property is text, then the
     &lt;span title=&quot;e-mail type strings&quot;&gt;e-mail type string&lt;/span&gt; &lt;code
@@ -50829,7 +50821,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50844,7 +50836,7 @@
     is equal to one of the &lt;span&gt;e-mail type strings&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the
-    type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, there must be no more
+    type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, there must be no more
     than one &lt;code title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with a &lt;code
     title=&quot;md-vcard-email-type&quot;&gt;type&lt;/code&gt; property whose value is
@@ -50856,7 +50848,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, but within each such &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, but within each such &lt;code
     title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; there must only be one &lt;code
     title=&quot;md-vcard-email-type&quot;&gt;type&lt;/code&gt; property per distinct
@@ -50880,7 +50872,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-email&quot;&gt;email&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50898,7 +50890,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-mailer&quot;&gt;mailer&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50932,7 +50924,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-tz&quot;&gt;tz&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50987,7 +50979,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-geo&quot;&gt;geo&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51005,7 +50997,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-title&quot;&gt;title&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51023,7 +51015,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-role&quot;&gt;role&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51040,7 +51032,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-logo&quot;&gt;logo&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51054,13 +51046,13 @@
 
     &lt;p&gt;The &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; must be
     either an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or an &lt;span&gt;absolute
+    &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or an &lt;span&gt;absolute
     URL&lt;/span&gt;, or text.&lt;/p&gt;
 
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-logo&quot;&gt;logo&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51082,7 +51074,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51101,7 +51093,7 @@
     that forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;
     of an &lt;code title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51120,7 +51112,7 @@
     that forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;
     of the &lt;code title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51138,7 +51130,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-categories&quot;&gt;categories&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51156,7 +51148,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-note&quot;&gt;note&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51181,7 +51173,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-rev&quot;&gt;rev&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51199,7 +51191,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-sort-string&quot;&gt;sort-string&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51216,12 +51208,12 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-sound&quot;&gt;sound&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
-   &lt;!-- UID not included - use &quot;about&quot; --&gt;
+   &lt;!-- UID not included - use &quot;itemid&quot; --&gt;
 
 
    &lt;dt&gt;&lt;dfn title=&quot;md-vcard-url&quot;&gt;&lt;code&gt;url&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
@@ -51237,7 +51229,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-url&quot;&gt;url&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51267,7 +51259,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-class&quot;&gt;class&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51295,7 +51287,7 @@
     forms the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an
     &lt;code title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or if the &lt;span
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or if the &lt;span
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of such an &lt;code
     title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property is an &lt;span&gt;absolute
     URL&lt;/span&gt;, then no &lt;span&gt;IMPP type strings&lt;/span&gt; are
@@ -51304,7 +51296,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51319,7 +51311,7 @@
     is equal to one of the &lt;span&gt;IMPP type strings&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the
-    type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, there must be no more
+    type &lt;code title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, there must be no more
     than one &lt;code title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with a &lt;code
     title=&quot;md-vcard-impp-type&quot;&gt;type&lt;/code&gt; property whose value is
@@ -51331,7 +51323,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, but within each such &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, but within each such &lt;code
     title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; there must only be one &lt;code
     title=&quot;md-vcard-impp-type&quot;&gt;type&lt;/code&gt; property per distinct
@@ -51356,7 +51348,7 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of an &lt;code
     title=&quot;md-vcard-impp&quot;&gt;impp&lt;/code&gt; property of an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51538,22 +51530,764 @@
   &lt;/dl&gt;
 
 
+  &lt;h5&gt;Conversion to vCard&lt;/h5&gt;
+
+  &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
+  &lt;code&gt;Document&lt;/code&gt;, a user agent must run the following algorithm
+  to &lt;dfn title=&quot;extracting a vCard&quot;&gt;extract any vCard data
+  represented by those nodes&lt;/dfn&gt; (only the first vCard is
+  returned):&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If none of the nodes in &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; are &lt;span
+   title=&quot;concept-item&quot;&gt;items&lt;/span&gt; with the &lt;span&gt;item type&lt;/span&gt;
+   &lt;code
+   title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, then
+   there is no vCard. Abort the algorithm, returning nothing.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the first node in &lt;var
+   title=&quot;&quot;&gt;nodes&lt;/var&gt; that is an &lt;span
+   title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the &lt;span&gt;item type&lt;/span&gt;
+   &lt;code
+   title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot;
+   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;PROFILE&lt;/code&gt;&quot; and the value &quot;&lt;code
+   title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;VERSION&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;3.0&lt;/code&gt;&quot;
+   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;SOURCE&lt;/code&gt;&quot; and the result of &lt;span&gt;escaping the vCard
+   text string&lt;/span&gt; that is the &lt;span&gt;the document's current
+   address&lt;/span&gt; as the value to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;span&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/span&gt; is not null,
+   &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;NAME&lt;/code&gt;&quot; and with the result of &lt;span&gt;escaping the
+   vCard text string&lt;/span&gt; obtained from the &lt;code&gt;textContent&lt;/code&gt;
+   of &lt;span&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/span&gt; as the value to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has a &lt;span&gt;global
+   identifier&lt;/span&gt;, &lt;span&gt;add a vCard line&lt;/span&gt; with the type
+   &quot;&lt;code title=&quot;&quot;&gt;UID&lt;/code&gt;&quot; and with the result of &lt;span&gt;escaping
+   the vCard text string&lt;/span&gt; of that &lt;span&gt;global identifier&lt;/span&gt;
+   as the value to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;first-n&lt;/var&gt;, &lt;var
+   title=&quot;&quot;&gt;first-org&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;first-fn&lt;/var&gt; be
+   null.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; that is &lt;span
+    title=&quot;the properties of an item&quot;&gt;a property of the item&lt;/span&gt;
+    &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;: for each name &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
+    in &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;'s &lt;span&gt;property names&lt;/span&gt;, run
+    the following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt; be an empty set of
+     name-value pairs.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Run the appropriate set of substeps from the following
+      list. The steps will set a variable &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;,
+      which is used in the next step.&lt;/p&gt;
+
+      &lt;dl&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
+       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+       title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt;&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-n&lt;/var&gt; is null, let &lt;var
+         title=&quot;&quot;&gt;first-n&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n1&lt;/var&gt; be the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
+         property named &lt;code
+         title=&quot;md-vcard-n-family-name&quot;&gt;family-name&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is no
+         such property or the property's value is itself an &lt;span
+         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n2&lt;/var&gt; be the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
+         property named &lt;code
+         title=&quot;md-vcard-n-given-name&quot;&gt;given-name&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is no
+         such property or the property's value is itself an &lt;span
+         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n3&lt;/var&gt; be the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
+         property named &lt;code
+         title=&quot;md-vcard-n-additional-name&quot;&gt;additional-name&lt;/code&gt; in
+         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is
+         no such property or the property's value is itself an &lt;span
+         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n4&lt;/var&gt; be the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
+         property named &lt;code
+         title=&quot;md-vcard-n-honorific-prefix&quot;&gt;honorific-prefix&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there
+         is no such property or the property's value is itself an
+         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n5&lt;/var&gt; be the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
+         property named &lt;code
+         title=&quot;md-vcard-n-honorific-suffix&quot;&gt;honorific-suffix&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there
+         is no such property or the property's value is itself an
+         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;
+
+          &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the concatenation of the
+          following, in this order:&lt;/p&gt;
+
+          &lt;ol class=&quot;brief&quot;&gt;
+           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n1&lt;/var&gt;&lt;/li&gt;
+           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n2&lt;/var&gt;&lt;/li&gt;
+           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n3&lt;/var&gt;&lt;/li&gt;
+           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n4&lt;/var&gt;&lt;/li&gt;
+           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n5&lt;/var&gt;&lt;/li&gt;
+          &lt;/ol&gt;
+
+         &lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
+       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+       title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt;&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty
+         string.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
+         title=&quot;md-vcard-adr-post-office-box&quot;&gt;post-office-box&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
+         title=&quot;md-vcard-adr-extended-address&quot;&gt;extended-address&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
+         title=&quot;md-vcard-adr-street-address&quot;&gt;street-address&lt;/code&gt; in
+         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code title=&quot;md-vcard-adr-locality&quot;&gt;locality&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code title=&quot;md-vcard-adr-region&quot;&gt;region&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code title=&quot;md-vcard-adr-postal-code&quot;&gt;postal-code&lt;/code&gt; in
+         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code title=&quot;md-vcard-adr-country-name&quot;&gt;country-name&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
+         title=&quot;md-vcard-adr-type&quot;&gt;type&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;, and the first such property has a
+         &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not
+         an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and whose value
+         consists only of &lt;span&gt;alphanumeric ASCII characters&lt;/span&gt;,
+         then add a parameter named &quot;&lt;code title=&quot;&quot;&gt;TYPE&lt;/code&gt;&quot; whose
+         value is the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of that property
+         to &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
+       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+       title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt;&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-org&lt;/var&gt; is null, let &lt;var
+         title=&quot;&quot;&gt;first-org&lt;/var&gt; be &lt;var
+         title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty
+         string.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code
+         title=&quot;md-vcard-org-organization-name&quot;&gt;organization-name&lt;/code&gt;
+         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;
+
+          &lt;p&gt;For each property named &lt;code
+          title=&quot;md-vcard-org-organization-unit&quot;&gt;organization-unit&lt;/code&gt;
+          in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, run the following steps:&lt;/p&gt;
+
+          &lt;ol&gt;
+
+           &lt;li&gt;&lt;p&gt;If the &lt;span
+           title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property
+           is an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip
+           this property.&lt;/p&gt;&lt;/li&gt;
+
+           &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+           title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+           &lt;li&gt;&lt;p&gt;Append the result of &lt;span&gt;escaping the vCard text
+           string&lt;/span&gt; given by the &lt;span
+           title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property
+           to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+          &lt;/ol&gt;
+
+         &lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
+       with the &lt;span&gt;item type&lt;/span&gt; &lt;code
+       title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;
+       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+       title=&quot;md-vcard-agent&quot;&gt;agent&lt;/code&gt;&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of
+         &lt;span&gt;escaping the vCard text string&lt;/span&gt; obtained from
+         &lt;span&gt;extracting a vCard&lt;/span&gt; from the element that
+         represents &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Add a parameter named &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot;
+         whose value is &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot; to &lt;var
+         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
+       is none of the above&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
+         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
+         &lt;code title=&quot;&quot;&gt;value&lt;/code&gt; in &lt;var
+         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
+         title=&quot;&quot;&gt;type&lt;/code&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, and the
+         first such property has a &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not an
+         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and whose value
+         consists only of &lt;span&gt;alphanumeric ASCII characters&lt;/span&gt;,
+         then add a parameter named &quot;&lt;code title=&quot;&quot;&gt;TYPE&lt;/code&gt;&quot; whose
+         value is the &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of that property
+         to &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+       &lt;dt&gt;Otherwise (the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is not an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt;)&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;ol&gt;
+
+         &lt;li&gt;
+
+          &lt;p&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+          title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; and &lt;var
+          title=&quot;&quot;&gt;first-fn&lt;/var&gt; is null, let &lt;var
+          title=&quot;&quot;&gt;first-fn&lt;/var&gt; be &lt;var
+          title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/p&gt;
+
+          &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+          title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt; and &lt;var
+          title=&quot;&quot;&gt;first-org&lt;/var&gt; is null, let &lt;var
+          title=&quot;&quot;&gt;first-org&lt;/var&gt; be &lt;var
+          title=&quot;&quot;&gt;element&lt;/var&gt;.&lt;/p&gt;
+
+         &lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the property's &lt;span
+         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is one of the &lt;span&gt;URL
+         property elements&lt;/span&gt;, add a parameter with the name &quot;&lt;code
+         title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the value &quot;&lt;code
+         title=&quot;&quot;&gt;URI&lt;/code&gt;&quot; to &lt;var
+         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a
+         &lt;code&gt;time&lt;/code&gt; element and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
+         a &lt;span&gt;valid date string&lt;/span&gt;, add a parameter with the name
+         &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the value &quot;&lt;code
+         title=&quot;&quot;&gt;DATE&lt;/code&gt;&quot; to &lt;var
+         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a
+         &lt;code&gt;time&lt;/code&gt; element and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
+         a &lt;span&gt;valid global date and time string&lt;/span&gt;, add a
+         parameter with the name &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the
+         value &quot;&lt;code title=&quot;&quot;&gt;DATE-TIME&lt;/code&gt;&quot; to &lt;var
+         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in
+         &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS
+         character (\).&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
+         title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
+         (\).&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Unless &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
+         title=&quot;md-vcard-geo&quot;&gt;geo&lt;/code&gt;, prefix every U+003B SEMICOLON
+         character (;) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C
+         REVERSE SOLIDUS character (\).&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
+         character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE
+         SOLIDUS character (\) followed by a U+006E LATIN SMALL LETTER
+         N.&lt;/p&gt;&lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
+         U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
+         with a U+005C REVERSE SOLIDUS character (\) followed by a U+006E
+         LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
+
+        &lt;/ol&gt;
+
+       &lt;/dd&gt;
+
+      &lt;/dl&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &lt;var
+      title=&quot;&quot;&gt;name&lt;/var&gt;, the parameters &lt;var
+      title=&quot;&quot;&gt;parameters&lt;/var&gt;, and the value &lt;var
+      title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-n&lt;/var&gt; is null, then run the following
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-fn&lt;/var&gt; is also null, then skip
+     the remainder of these substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-fn&lt;/var&gt; has a &lt;span
+     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is an &lt;span
+     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip the remainder of
+     these substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;first-org&lt;/var&gt; is not null, and the
+     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
+     title=&quot;&quot;&gt;first-org&lt;/var&gt; is not an &lt;span
+     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and is equal to &lt;var
+     title=&quot;&quot;&gt;first-fn&lt;/var&gt;, then &lt;span&gt;add a vCard line&lt;/span&gt; with
+     the type &quot;&lt;code title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is four U+003B
+     SEMICOLON characters (&quot;&lt;code title=&quot;&quot;&gt;;;;;&lt;/code&gt;&quot;) to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;. Then, skip the remainder of these
+     substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;space character&quot;&gt;space
+     characters&lt;/span&gt; in &lt;var title=&quot;&quot;&gt;first-fn&lt;/var&gt;, if any, are
+     not all contiguous, then skip the remainder of these
+     substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;split a string on spaces&quot;&gt;Split &lt;var
+     title=&quot;&quot;&gt;first-fn&lt;/var&gt; on spaces&lt;/span&gt;, and let &lt;var
+     title=&quot;&quot;&gt;part one&lt;/var&gt; be the first resulting token, and &lt;var
+     title=&quot;&quot;&gt;part two&lt;/var&gt; be the second, if any, or the empty
+     string if there is no second token. (There cannot be three, given
+     the previous step.)&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If the last character of &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt; is a
+      U+002C COMMA character (,), then remove that character from &lt;var
+      title=&quot;&quot;&gt;part one&lt;/var&gt; and &lt;span&gt;add a vCard line&lt;/span&gt; with
+      the type &quot;&lt;code title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the
+      concatenation of the following strings:&lt;/p&gt;
+
+      &lt;ol class=&quot;brief&quot;&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
+      &lt;/ol&gt;
+
+      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; is two Unicode code-points
+      long and its second character is a U+002E FULL STOP character
+      (.), then &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
+      following strings:&lt;/p&gt;
+
+      &lt;ol class=&quot;brief&quot;&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; consisting of the first character of &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
+      &lt;/ol&gt;
+
+      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; is one Unicode code-point
+      long, then &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
+      following strings:&lt;/p&gt;
+
+      &lt;ol class=&quot;brief&quot;&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
+      &lt;/ol&gt;
+
+      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
+      following strings:&lt;/p&gt;
+
+      &lt;ol class=&quot;brief&quot;&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
+       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
+       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
+      &lt;/ol&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot;
+   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the above algorithm says that the user agent is to &lt;dfn&gt;add
+  a vCard line&lt;/dfn&gt; consisting of a type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;,
+  optionally some parameters, and a value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to
+  a string &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, it must run the following
+  steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be an empty string.
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;span&gt;converted to
+   ASCII uppercase&lt;/span&gt;, to &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If there are any parameters, then for each parameter, in the
+    order that they were added, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the parameter's name to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+003D EQUALS SIGN character (=) to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the parameter's value to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var
+   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var
+   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 75.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If and while &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is longer than &lt;var
+    title=&quot;&quot;&gt;maximum length&lt;/var&gt; Unicode code points long, run the
+    following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
+     Unicode code points of &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Remove the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
+     Unicode code points from &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+0020 SPACE character to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 74.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append (what remains of) &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the steps above require the user agent to obtain the result
+  of &lt;dfn&gt;collecting vCard subproperties&lt;/dfn&gt; named &lt;var
+  title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, the user
+  agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each property named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in the item
+    &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, run the following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;
+     of the property is itself an &lt;span
+     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip this
+     property.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If this is not the first property named &lt;var
+     title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt; (ignoring
+     any that were skipped by the previous step), then append a U+002C
+     COMMA character (,) to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the result of &lt;span&gt;escaping the vCard text
+     string&lt;/span&gt; given by the &lt;span
+     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property to
+     &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the steps above require the user agent to obtain the result
+  of &lt;dfn&gt;collecting the first vCard subproperty&lt;/dfn&gt; named &lt;var
+  title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, the user
+  agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If there are no properties named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt;
+   in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, then abort these substeps,
+   returning the empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of
+   the first property named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var
+   title=&quot;&quot;&gt;subitem&lt;/var&gt; is an &lt;span
+   title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then abort these substeps,
+   returning the empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return the result of &lt;span&gt;escaping the vCard text
+   string&lt;/span&gt; given by the &lt;span
+   title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first property
+   named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var
+   title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the above algorithms say the user agent is to &lt;dfn
+  title=&quot;escaping the vCard text string&quot;&gt;escape the vCard text
+  string&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, the user agent must use the
+  following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS character
+   (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
+   (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+003B SEMICOLON character (;) in &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
+   (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
+   character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C
+   REVERSE SOLIDUS character (\) followed by a U+006E LATIN SMALL
+   LETTER N.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
+   U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a
+   U+005C REVERSE SOLIDUS character (\) followed by a U+006E LATIN
+   SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return the mutated &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This algorithm can generate invalid vCard output, if
+  the input does not conform to the rules described for the &lt;code
+  title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;
+  &lt;span&gt;item type&lt;/span&gt; and &lt;span title=&quot;defined property
+  name&quot;&gt;defined property names&lt;/span&gt;.&lt;/p&gt; &lt;!-- of course since vcard
+  doesn't define error handling, this is somewhat problematic. --&gt;
+
+
+
   &lt;h5&gt;Examples&lt;/h5&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
-   &lt;p&gt;Here is a long example &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt; for a
-   fictional character called &quot;Jack Bauer&quot;:&lt;/p&gt;
+   &lt;p&gt;Here is a long example vCard for a fictional character called
+   &quot;Jack Bauer&quot;:&lt;/p&gt;
 
-   &lt;pre&gt;&lt;section id=&quot;jack&quot; item=&quot;vcard&quot;&gt;
+   &lt;pre&gt;&lt;section id=&quot;jack&quot; itemscope itemtype=&quot;<A HREF="http://microformats.org/profile/hcard">http://microformats.org/profile/hcard</A>&quot;&gt;
  &lt;h1 itemprop=&quot;fn&quot;&gt;Jack Bauer&lt;/h1&gt;
  &lt;img itemprop=&quot;photo&quot; alt=&quot;&quot; src=&quot;jack-bauer.jpg&quot;&gt;
- &lt;p itemprop=&quot;org&quot; item&gt;
+ &lt;p itemprop=&quot;org&quot; itemscope&gt;
   &lt;span itemprop=&quot;organization-name&quot;&gt;Counter-Terrorist Unit&lt;/span&gt;
   (&lt;span itemprop=&quot;organization-unit&quot;&gt;Los Angeles Division&lt;/span&gt;)
  &lt;/p&gt;
  &lt;p&gt;
-  &lt;span itemprop=&quot;adr&quot; item&gt;
+  &lt;span itemprop=&quot;adr&quot; itemscope&gt;
    &lt;span itemprop=&quot;street-address&quot;&gt;10201 W. Pico Blvd.&lt;/span&gt;&lt;br&gt;
    &lt;span itemprop=&quot;locality&quot;&gt;Los Angeles&lt;/span&gt;,
    &lt;span itemprop=&quot;region&quot;&gt;CA&lt;/span&gt;
@@ -51564,9 +52298,9 @@
  &lt;/p&gt;
  &lt;h2&gt;Assorted Contact Methods&lt;/h2&gt;
  &lt;ul&gt;
-  &lt;li itemprop=&quot;tel&quot; item&gt;&lt;span itemprop=&quot;value&quot;&gt;+1 (310) 597
-  3781&lt;/span&gt; &lt;span itemprop=&quot;type&quot;&gt;work&lt;/span&gt;
-  &lt;meta itemprop=&quot;type&quot; content=&quot;pref&quot;&gt;&lt;/li&gt;
+  &lt;li itemprop=&quot;tel&quot; itemscope&gt;&lt;span itemprop=&quot;value&quot;&gt;+1 (310)
+  597 3781&lt;/span&gt; &lt;span itemprop=&quot;type&quot;&gt;work&lt;/span&gt; &lt;meta
+  itemprop=&quot;type&quot; content=&quot;pref&quot;&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a itemprop=&quot;url&quot;
   href=&quot;<A HREF="http://en.wikipedia.org/wiki/Jack_Bauer">http://en.wikipedia.org/wiki/Jack_Bauer</A>&quot;&gt;I'm on
   Wikipedia&lt;/a&gt; so you can leave a message on my user talk
@@ -51575,23 +52309,24 @@
   href=&quot;<A HREF="http://www.jackbauerfacts.com/">http://www.jackbauerfacts.com/</A>&quot;&gt;Jack Bauer Facts&lt;/a&gt;&lt;/li&gt;
   &lt;li itemprop=&quot;email&quot;&gt;&lt;a
   href=&quot;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">j.bauer at la.ctu.gov.invalid</A>&quot;&gt;<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">j.bauer at la.ctu.gov.invalid</A>&lt;/a&gt;&lt;/li&gt;
-  &lt;li itemprop=&quot;tel&quot; item&gt;&lt;span itemprop=&quot;value&quot;&gt;+1 (310) 555
+  &lt;li itemprop=&quot;tel&quot; itemscope&gt;&lt;span itemprop=&quot;value&quot;&gt;+1 (310) 555
   3781&lt;/span&gt; &lt;span&gt;&lt;meta itemprop=&quot;type&quot; content=&quot;cell&quot;&gt;mobile
   phone&lt;/span&gt;&lt;/li&gt;
  &lt;/ul&gt;
- &lt;p itemprop=&quot;note&quot;&gt;If I'm out in the field, you may be better
- off contacting &lt;span itemprop=&quot;agent&quot; item=&quot;vcard&quot;&gt;&lt;a
+ &lt;p itemprop=&quot;note&quot;&gt;If I'm out in the field, you may be better off
+ contacting &lt;span itemprop=&quot;agent&quot; itemscope
+ itemtype=&quot;<A HREF="http://microformats.org/profile/hcard">http://microformats.org/profile/hcard</A>&quot;&gt;&lt;a
  itemprop=&quot;email&quot; href=&quot;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">c.obrian at la.ctu.gov.invalid</A>&quot;&gt;&lt;span
  itemprop=&quot;fn&quot;&gt;Chloe O'Brian&lt;/span&gt;&lt;/a&gt;&lt;/span&gt; if it's about
  work, or ask &lt;span itemprop=&quot;agent&quot;&gt;Tony Almeida&lt;/span&gt; if
- you're interested in the CTU five-a-side football team we're
- trying to get going.&lt;/p&gt;
+ you're interested in the CTU five-a-side football team we're trying
+ to get going.&lt;/p&gt;
  &lt;ins datetime=&quot;2008-07-20T21:00:00+0100&quot;&gt;
-  &lt;span itemprop=&quot;rev&quot; item&gt;
+  &lt;span itemprop=&quot;rev&quot; itemscope&gt;
    &lt;meta itemprop=&quot;type&quot; content=&quot;date-time&quot;&gt;
    &lt;meta itemprop=&quot;value&quot; content=&quot;2008-07-20T21:00:00+0100&quot;&gt;
   &lt;/span&gt;
-  &lt;p itemprop=&quot;tel&quot; item&gt;&lt;strong&gt;Update!&lt;/strong&gt;
+  &lt;p itemprop=&quot;tel&quot; itemscope&gt;&lt;strong&gt;Update!&lt;/strong&gt;
   My new &lt;span itemprop=&quot;type&quot;&gt;home&lt;/span&gt; phone number is
   &lt;span itemprop=&quot;value&quot;&gt;01632 960 123&lt;/span&gt;.
  &lt;/ins&gt;
@@ -51605,9 +52340,9 @@
    &lt;code&gt;address&lt;/code&gt; element) containing an address with two street
    components:&lt;/p&gt;
 
-   &lt;pre&gt;&lt;address item=vcard&gt;
+   &lt;pre&gt;&lt;address itemscope itemtype=&quot;<A HREF="http://microformats.org/profile/hcard">http://microformats.org/profile/hcard</A>&quot;&gt;
  &lt;strong title=&quot;fn&quot;&gt;Alfred Person&lt;/strong&gt; &lt;br&gt;
- &lt;span itemprop=&quot;adr&quot; item&gt;
+ &lt;span itemprop=&quot;adr&quot; itemscope&gt;
   &lt;span itemprop=&quot;street-address&quot;&gt;1600 Amphitheatre Parkway&lt;/span&gt; &lt;br&gt;
   &lt;span itemprop=&quot;street-address&quot;&gt;Building 43, Second Floor&lt;/span&gt; &lt;br&gt;
   &lt;span itemprop=&quot;locality&quot;&gt;Mountain View&lt;/span&gt;,
@@ -51619,10 +52354,11 @@
 
   &lt;div class=&quot;example&quot;&gt;
 
-   &lt;p&gt;The &lt;span title=&quot;md-vcard&quot;&gt;vCard&lt;/span&gt; vocabulary can be used
-   to just mark up people's names:&lt;/p&gt;
+   &lt;p&gt;The vCard vocabulary can be used to just mark up people's
+   names:&lt;/p&gt;
 
-   &lt;pre&gt;&lt;span itemscope itemtype=vcard&gt;&lt;span itemprop=fn&gt;George Washington&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
+   &lt;pre&gt;&lt;span itemscope itemtype=&quot;<A HREF="http://microformats.org/profile/hcard">http://microformats.org/profile/hcard</A>&quot;
+&gt;&lt;span itemprop=fn&gt;George Washington&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
 
    &lt;p&gt;This creates a single item with a single name-value pair, with
    the name &quot;fn&quot; and the value &quot;George Washington&quot;. This is defined to
@@ -51638,15 +52374,18 @@
 
   &lt;/div&gt;
 
+&lt;!--END vCard--&gt;
 
-
   &lt;h4&gt;vEvent&lt;/h4&gt;
 
-  &lt;p&gt;An item with the &lt;span&gt;predefined type&lt;/span&gt; &lt;dfn
-  title=&quot;md-vevent&quot;&gt;&lt;code&gt;vevent&lt;/code&gt;&lt;/dfn&gt; represents an event.&lt;/p&gt;
+&lt;!--START vEvent--&gt;
 
-  &lt;p&gt;The following are the type's &lt;span title=&quot;predefined property
-  name&quot;&gt;predefined property names&lt;/span&gt;. They are based on the
+  &lt;p&gt;An item with the &lt;span&gt;item type&lt;/span&gt; &lt;dfn
+  title=&quot;md-vevent&quot;&gt;&lt;code&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;&lt;/dfn&gt;
+  represents an event.&lt;/p&gt;
+
+  &lt;p&gt;The following are the type's &lt;span title=&quot;defined property
+  name&quot;&gt;defined property names&lt;/span&gt;. They are based on the
   vocabulary defined in the iCalendar specification, where more
   information on how to interpret the values can be found. &lt;a
   href=&quot;#refsRFC2445&quot;&gt;[RFC2445]&lt;/a&gt;&lt;/p&gt;
@@ -51670,7 +52409,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-attach&quot;&gt;attach&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51688,7 +52427,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-categories&quot;&gt;categories&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51715,7 +52454,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-class&quot;&gt;class&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51732,7 +52471,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-comment&quot;&gt;comment&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51749,7 +52488,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-description&quot;&gt;description&lt;/code&gt; may be present
     within each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    &lt;code title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51806,7 +52545,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-geo&quot;&gt;geo&lt;/code&gt; may be present within each &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51823,7 +52562,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-location&quot;&gt;location&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51843,7 +52582,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-resources&quot;&gt;resources&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51866,7 +52605,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-status&quot;&gt;status&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51887,7 +52626,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-summary&quot;&gt;summary&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51901,8 +52640,9 @@
     &lt;p&gt;If the property with the name &lt;code
     title=&quot;md-vevent-dtend&quot;&gt;dtend&lt;/code&gt; is present within an &lt;span
     title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; that has a property with the name
-    &lt;code title=&quot;md-vevent-dtstart&quot;&gt;dtstart&lt;/code&gt; whose value is a
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;
+    that has a property with the name &lt;code
+    title=&quot;md-vevent-dtstart&quot;&gt;dtstart&lt;/code&gt; whose value is a
     &lt;span&gt;valid date string&lt;/span&gt;, then the &lt;span
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property with
     the name &lt;code title=&quot;md-vevent-dtend&quot;&gt;dtend&lt;/code&gt; must be text
@@ -51926,9 +52666,11 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-dtend&quot;&gt;dtend&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;, so long as that &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; does not have a property with the
-    name &lt;code title=&quot;md-vevent-duration&quot;&gt;duration&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;,
+    so long as that &lt;code
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;
+    does not have a property with the name &lt;code
+    title=&quot;md-vevent-duration&quot;&gt;duration&lt;/code&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51946,7 +52688,7 @@
     &lt;p&gt;Exactly one property with the name &lt;code
     title=&quot;md-vevent-dtstart&quot;&gt;dtstart&lt;/code&gt; must be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51966,9 +52708,11 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-duration&quot;&gt;duration&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;, so long as that &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; does not have a property with the
-    name &lt;code title=&quot;md-vevent-dtend&quot;&gt;dtend&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;,
+    so long as that &lt;code
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;
+    does not have a property with the name &lt;code
+    title=&quot;md-vevent-dtend&quot;&gt;dtend&lt;/code&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -51991,7 +52735,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-transp&quot;&gt;transp&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52012,7 +52756,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-contact&quot;&gt;contact&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52041,12 +52785,12 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-url&quot;&gt;url&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
 
-   &lt;!-- UID not included - use &quot;about&quot; --&gt;
+   &lt;!-- UID not included - use &quot;itemid&quot; --&gt;
 
 
    &lt;dt&gt;&lt;dfn title=&quot;md-vevent-exdate&quot;&gt;&lt;code&gt;exdate&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
@@ -52063,7 +52807,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-exdate&quot;&gt;exdate&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52082,7 +52826,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-exrule&quot;&gt;exrule&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52115,7 +52859,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-rdate&quot;&gt;rdate&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52134,7 +52878,7 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-vevent-rrule&quot;&gt;rrule&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52152,7 +52896,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-created&quot;&gt;created&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52173,7 +52917,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-last-modified&quot;&gt;last-modified&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52190,7 +52934,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-vevent-sequence&quot;&gt;sequence&lt;/code&gt; may be present within
     each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52258,16 +53002,263 @@
   &lt;/ol&gt;
 
 
+  &lt;h5&gt;Conversion to iCalendar&lt;/h5&gt;
+
+  &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
+  &lt;code&gt;Document&lt;/code&gt;, a user agent must run the following algorithm
+  to &lt;dfn title=&quot;extracting vEvent data&quot;&gt;extract any vEvent data
+  represented by those nodes&lt;/dfn&gt;:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If none of the nodes in &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; are &lt;span
+   title=&quot;concept-item&quot;&gt;items&lt;/span&gt; with the type &lt;code
+   title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;,
+   then there is no vEvent data. Abort the algorithm, returning
+   nothing.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code
+   title=&quot;&quot;&gt;VCALENDAR&lt;/code&gt;&quot; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;PRODID&lt;/code&gt;&quot; and the value equal to a
+   user-agent-specific string representing the user agent to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;VERSION&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;2.0&lt;/code&gt;&quot;
+   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each node &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in &lt;var
+    title=&quot;&quot;&gt;nodes&lt;/var&gt; that is an &lt;span
+    title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
+    title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;,
+    run the following steps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+     title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code
+     title=&quot;&quot;&gt;VEVENT&lt;/code&gt;&quot; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+     title=&quot;&quot;&gt;DTSTAMP&lt;/code&gt;&quot; and a value consisting of an iCalendar
+     DATE-TIME string representing the current date and time, with the
+     annotation &quot;&lt;code title=&quot;&quot;&gt;VALUE=DATE-TIME&lt;/code&gt;&quot;, to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.  &lt;a
+     href=&quot;#refsRFC2445&quot;&gt;[RFC2445]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; has a
+     &lt;span&gt;global identifier&lt;/span&gt;, &lt;span&gt;add an iCalendar
+     line&lt;/span&gt; with the type &quot;&lt;code title=&quot;&quot;&gt;UID&lt;/code&gt;&quot; and that
+     &lt;span&gt;global identifier&lt;/span&gt; as the value to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; that is &lt;span
+      title=&quot;the properties of an item&quot;&gt;a property of the item&lt;/span&gt;
+      &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;: for each name &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
+      in &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;'s &lt;span&gt;property names&lt;/span&gt;,
+      run the appropriate set of substeps from the following list:&lt;/p&gt;
+
+      &lt;dl&gt;
+
+       &lt;dt&gt;If the property's &lt;span
+       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
+       title=&quot;concept-item&quot;&gt;item&lt;/span&gt;&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;p&gt;Skip the property.&lt;/p&gt;
+
+       &lt;/dd&gt;
+
+
+       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a &lt;code&gt;time&lt;/code&gt;
+       element&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of stripping
+        all U+002D HYPHEN-MINUS (-) and U+003A COLON (:) characters
+        from the property's &lt;span
+        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
+
+        &lt;p&gt;If the property's &lt;span
+        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is a &lt;span&gt;valid
+        date string&lt;/span&gt; then &lt;span&gt;add an iCalendar line&lt;/span&gt;
+        with the type &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; and the value &lt;var
+        title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, with the
+        annotation &quot;&lt;code title=&quot;&quot;&gt;VALUE=DATE&lt;/code&gt;&quot;.&lt;/p&gt;
+
+        &lt;p&gt;Otherwise, if the property's &lt;span
+        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is a &lt;span&gt;valid
+        global date and time string&lt;/span&gt; then &lt;span&gt;add an iCalendar
+        line&lt;/span&gt; with the type &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; and the
+        value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;,
+        with the annotation &quot;&lt;code
+        title=&quot;&quot;&gt;VALUE=DATE-TIME&lt;/code&gt;&quot;.&lt;/p&gt;
+
+        &lt;p&gt;Otherwise skip the property.&lt;/p&gt;
+
+       &lt;/dd&gt;
+
+
+       &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+       &lt;dd&gt;
+
+        &lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &lt;var
+        title=&quot;&quot;&gt;name&lt;/var&gt; and the value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to
+        &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+       &lt;/dd&gt;
+
+      &lt;/dl&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+     title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VEVENT&lt;/code&gt;&quot;
+     to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
+   title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code
+   title=&quot;&quot;&gt;VCALENDAR&lt;/code&gt;&quot; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the above algorithm says that the user agent is to &lt;dfn&gt;add
+  an iCalendar line&lt;/dfn&gt; consisting of a type &lt;var
+  title=&quot;&quot;&gt;type&lt;/var&gt;, a value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and
+  optionally an annotation, to a string &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, it
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;span&gt;converted to
+   ASCII uppercase&lt;/span&gt;, to &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If there is an annotation:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the annotation to &lt;var
+     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var
+   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in
+   &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS
+   character (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
+   (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Prefix every U+003B SEMICOLON character (;) in &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
+   (\).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
+   character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a
+   U+005C REVERSE SOLIDUS character (\) followed by a U+006E
+   LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
+   U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
+   with a U+005C REVERSE SOLIDUS character (\) followed by a
+   U+006E LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var
+   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 75.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If and while &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is longer than &lt;var
+    title=&quot;&quot;&gt;maximum length&lt;/var&gt; Unicode code points long, run the
+    following substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Append the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
+     Unicode code points of &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Remove the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
+     Unicode code points from &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Append a U+0020 SPACE character to &lt;var
+     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 74.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append (what remains of) &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
+   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This algorithm can generate invalid iCalendar
+  output, if the input does not conform to the rules described for the
+  &lt;code
+  title=&quot;md-vevent&quot;&gt;<A HREF="http://microformats.org/profile/hcalendar&lt;/code">http://microformats.org/profile/hcalendar&lt;/code</A>&gt;
+  &lt;span&gt;item type&lt;/span&gt; and &lt;span title=&quot;defined property
+  name&quot;&gt;defined property names&lt;/span&gt;.&lt;/p&gt; &lt;!-- of course since
+  iCalendar doesn't define error handling, this is somewhat
+  problematic. --&gt;
+
+
+
   &lt;h5&gt;Examples&lt;/h5&gt;
 
 &lt;!-- get more from <A HREF="http://www.ietf.org/rfc/rfc2445.txt">http://www.ietf.org/rfc/rfc2445.txt</A> --&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
-   &lt;p&gt;Here is an example of a page that uses the &lt;code
-   title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; vocabulary to mark up an event:&lt;/p&gt;
+   &lt;p&gt;Here is an example of a page that uses the vEvent vocabulary to
+   mark up an event:&lt;/p&gt;
 
-   &lt;pre&gt;&lt;body item=&quot;vevent&quot;&gt;
+   &lt;pre&gt;&lt;body item=&quot;<A HREF="http://microformats.org/profile/hcalendar">http://microformats.org/profile/hcalendar</A>&quot;&gt;
  ...
  &lt;h1 itemprop=&quot;summary&quot;&gt;Bluesday Tuesday: Money Road&lt;/h1&gt;
  ...
@@ -52289,7 +53280,7 @@
    this:&lt;/p&gt;
 
    &lt;pre&gt;function getCalendar(node) {
-  while (node &amp;&amp; !node.item.contains('vevent'))
+  while (node &amp;&amp; (!node.nodeScope || !node.itemType == '<A HREF="http://microformats.org/profile/hcalendar">http://microformats.org/profile/hcalendar</A>'))
     node = node.parentNode;
   if (!node) {
     alert('No event data found.');
@@ -52299,6 +53290,8 @@
   var stampString = '' + stamp.getUTCFullYear() + (stamp.getUTCMonth() + 1) + stamp.getUTCDate() + 'T' +
                          stamp.getUTCHours() + stamp.getUTCMinutes() + stamp.getUTCSeconds() + 'Z';
   var calendar = 'BEGIN:VCALENDAR\r\nPRODID:HTML\r\nVERSION:2.0\r\nBEGIN:VEVENT\r\nDTSTAMP:' + stampString + '\r\n';
+  if (node.itemId)
+    calendar += 'UID:' + node.itemId + '\r\n';
   for (var propIndex = 0; propIndex &lt; node.properties.length; propIndex += 1) {
     var prop = node.properties[propIndex];
     var value = prop.contents;
@@ -52315,8 +53308,8 @@
       value = value.replace(/,/g, \\,');
       value = value.replace(/\n/g, '\\n');
     }
-    for (var nameIndex = 0; nameIndex &lt; prop.itemprop.length; nameIndex += 1) {
-      var name = prop.itemprop[nameIndex];
+    for (var nameIndex = 0; nameIndex &lt; prop.itemProp.length; nameIndex += 1) {
+      var name = prop.itemProp[nameIndex];
       if (!name.match(':') &amp;&amp; !name.match('.'))
         calendar += name.toUpperCase() + parameters + ':' + value + '\r\n';
     }
@@ -52328,7 +53321,7 @@
    &lt;p&gt;The same page could offer some markup, such as the following,
    for copy-and-pasting into blogs:&lt;/p&gt;
 
-   &lt;pre&gt;&lt;div item=&quot;vevent&quot;&gt;
+   &lt;pre&gt;&lt;div itemscope itemtype=&quot;<A HREF="http://microformats.org/profile/hcalendar">http://microformats.org/profile/hcalendar</A>&quot;&gt;
  &lt;p&gt;I'm going to
  &lt;strong itemprop=&quot;summary&quot;&gt;Bluesday Tuesday: Money Road&lt;/strong&gt;,
  &lt;time itemprop=&quot;dtstart&quot; datetime=&quot;2009-05-05T19:00:00Z&quot;&gt;May 5th at 7pm&lt;/time&gt;
@@ -52341,43 +53334,41 @@
 
   &lt;/div&gt;
 
+&lt;!--END vEvent--&gt;
 
-
   &lt;h4&gt;Licensing works&lt;/h4&gt;
-&lt;!--
-       &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;code
-       title=&quot;md-work&quot;&gt;work&lt;/code&gt;, and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is
-       equal to the string &quot;&lt;code title=&quot;md-work-title&quot;&gt;title&lt;/code&gt;&quot;,
-       let &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; be the string &quot;&lt;code
-       title=&quot;&quot;&gt;<A HREF="http://purl.org/dc/elements/1.1/title&lt;/code">http://purl.org/dc/elements/1.1/title&lt;/code</A>&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;code
-       title=&quot;md-work&quot;&gt;work&lt;/code&gt;, and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is
-       equal to the string &quot;&lt;code
-       title=&quot;md-work-author&quot;&gt;author&lt;/code&gt;&quot;, let &lt;var
-       title=&quot;&quot;&gt;name&lt;/var&gt; be the string &quot;&lt;code
-       title=&quot;&quot;&gt;<A HREF="http://creativecommons.org/ns#attributionName&lt;/code">http://creativecommons.org/ns#attributionName&lt;/code</A>&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
+&lt;!--START work--&gt;
 
-       &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is &lt;code
-       title=&quot;md-work&quot;&gt;work&lt;/code&gt;, and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is
-       equal to the string &quot;&lt;code
-       title=&quot;md-work-license&quot;&gt;license&lt;/code&gt;&quot;, let &lt;var
-       title=&quot;&quot;&gt;name&lt;/var&gt; be the string &quot;&lt;code
-       title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/vocab#license&lt;/code">http://www.w3.org/1999/xhtml/vocab#license&lt;/code</A>&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
---&gt;
+  &lt;p&gt;An item with the &lt;span&gt;item type&lt;/span&gt; &lt;dfn
+  title=&quot;md-work&quot;&gt;&lt;code&gt;<A HREF="http://n.whatwg.org/work&lt;/code">http://n.whatwg.org/work&lt;/code</A>&gt;&lt;/dfn&gt;
+  represents a work (e.g. an article, an image, a video, a song,
+  etc). This type is primarily intended to allow authors to include
+  licensing information for works.&lt;/p&gt;
 
-  &lt;p&gt;An item with the &lt;span&gt;predefined type&lt;/span&gt; &lt;dfn
-  title=&quot;md-work&quot;&gt;&lt;code&gt;work&lt;/code&gt;&lt;/dfn&gt; represents a work (e.g. an
-  article, an image, a video, a song, etc). This type is primarily
-  intended to allow authors to include licensing information for
-  works.&lt;/p&gt;
+  &lt;p&gt;The following are the type's &lt;span title=&quot;defined property
+  name&quot;&gt;defined property names&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;The following are the type's &lt;span title=&quot;predefined property
-  name&quot;&gt;predefined property names&lt;/span&gt;.&lt;/p&gt;
-
   &lt;dl&gt;
 
 
+   &lt;dt&gt;&lt;dfn title=&quot;md-work-work&quot;&gt;&lt;code&gt;work&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Identifies the work being described.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; must be
+    an &lt;span&gt;absolute URL&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Exactly one property with the name &lt;code
+    title=&quot;md-work-work&quot;&gt;work&lt;/code&gt; must be present within each &lt;span
+    title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
+    title=&quot;md-work&quot;&gt;<A HREF="http://n.whatwg.org/work&lt;/code">http://n.whatwg.org/work&lt;/code</A>&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
    &lt;dt&gt;&lt;dfn title=&quot;md-work-title&quot;&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -52387,7 +53378,7 @@
     &lt;p&gt;A single property with the name &lt;code
     title=&quot;md-work-title&quot;&gt;title&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-work&quot;&gt;work&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-work&quot;&gt;<A HREF="http://n.whatwg.org/work&lt;/code">http://n.whatwg.org/work&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52401,12 +53392,14 @@
 
     &lt;p&gt;The &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; must be
     either an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type
-    &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, or text.&lt;/p&gt;
+    &lt;code
+    title=&quot;md-vcard&quot;&gt;<A HREF="http://microformats.org/profile/hcard&lt;/code">http://microformats.org/profile/hcard&lt;/code</A>&gt;, or
+    text.&lt;/p&gt;
 
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-work-author&quot;&gt;author&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-work&quot;&gt;work&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-work&quot;&gt;<A HREF="http://n.whatwg.org/work&lt;/code">http://n.whatwg.org/work&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -52424,19 +53417,39 @@
     &lt;p&gt;Any number of properties with the name &lt;code
     title=&quot;md-work-license&quot;&gt;license&lt;/code&gt; may be present within each
     &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-work&quot;&gt;work&lt;/code&gt;.&lt;/p&gt;
+    title=&quot;md-work&quot;&gt;<A HREF="http://n.whatwg.org/work&lt;/code">http://n.whatwg.org/work&lt;/code</A>&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;
 
-  &lt;p&gt;In addition, exactly one property with the name &lt;code
-  title=&quot;md-about&quot;&gt;about&lt;/code&gt; must be present within each &lt;span
-  title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-  title=&quot;md-work&quot;&gt;work&lt;/code&gt;, giving the &lt;span&gt;URL&lt;/span&gt; of the
-  work.&lt;/p&gt;
 
+  &lt;h5&gt;Conversion to RDF&lt;/h5&gt;
 
+  &lt;p&gt;For the purposes of RDF processors, blank nodes that are the
+  subject of a triple with the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Awork&lt;/code">http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Awork&lt;/code</A>&gt;&quot;
+  and the object &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; must be treated as if the node
+  was identified by &lt;var title=&quot;&quot;&gt;s&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;p&gt;For the purposes of RDF processors, the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Atitle&lt;/code">http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Atitle&lt;/code</A>&gt;&quot;
+  must be considered equivalent to the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://purl.org/dc/elements/1.1/title&lt;/code">http://purl.org/dc/elements/1.1/title&lt;/code</A>&gt;&quot;.
+
+  &lt;p&gt;For the purposes of RDF processors, the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Aauthor&lt;/code">http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Aauthor&lt;/code</A>&gt;&quot;
+  must be considered equivalent to the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://creativecommons.org/ns#attributionName&lt;/code">http://creativecommons.org/ns#attributionName&lt;/code</A>&gt;&quot;.
+
+  &lt;p&gt;For the purposes of RDF processors, the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Alicense&lt;/code">http://www.w3.org/1999/xhtml/microdata#http%3A%2F%2Fn.whatwg.org%2Fwork%23%3Alicense&lt;/code</A>&gt;&quot;
+  must be considered equivalent to the predicate &quot;&lt;code
+  title=&quot;&quot;&gt;<A HREF="http://www.w3.org/1999/xhtml/vocab#license&lt;/code">http://www.w3.org/1999/xhtml/vocab#license&lt;/code</A>&gt;&quot;.
+
+
+
+
   &lt;h5&gt;Examples&lt;/h5&gt;
 
   &lt;div class=&quot;example&quot;&gt;
@@ -52460,58 +53473,17 @@
 
   &lt;/div&gt;
 
+  &lt;!--END work--&gt;
 
+  &lt;!--END vocabs--&gt;
+
+
   &lt;!--START html5--&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;h3&gt;Converting HTML to other formats&lt;/h3&gt;
 
-  &lt;!--END html5--&gt;
-
-  &lt;p&gt;A generic API upon which the vocabulary-specific conversions
-  defined below (vCard, iCalendar) can be built will need to provide
-  the following information when given a &lt;code&gt;Document&lt;/code&gt; (or
-  equivalent):&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;span&gt;The document's current address&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;The &lt;code&gt;textContent&lt;/code&gt; of &lt;span&gt;the &lt;code&gt;title&lt;/code&gt;
-   element&lt;/span&gt;, if any.&lt;/li&gt;
-
-   &lt;li&gt;The list of &lt;span&gt;top-level microdata items&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;For each &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, the list of
-   properties that have that &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; as
-   their &lt;span title=&quot;concept-item-corresponding&quot;&gt;corresponding
-   item&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;For each property, its &lt;span title=&quot;property
-   names&quot;&gt;name&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;For each property, its &lt;span
-   title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; (which might be a
-   further &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;).&lt;/li&gt;
-
-   &lt;li&gt;For each property, if its &lt;span
-   title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is not itself an &lt;span
-   title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, whether the element is a
-   &lt;code&gt;time&lt;/code&gt; element, a &lt;span title=&quot;URL property
-   elements&quot;&gt;URL property element&lt;/span&gt;, or another element.&lt;/li&gt;
-
-&lt;!--(RDF only currently)
-   &lt;li&gt;For each property, the &lt;span&gt;language&lt;/span&gt; of the element
-   that adds the property.&lt;/li&gt;
---&gt;
-
-  &lt;/ul&gt;
-
-  &lt;!--START html5--&gt;
-  &lt;!--END vocabs--&gt;
-
-
   &lt;h4&gt;JSON&lt;/h4&gt;
 
   &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
@@ -52752,25 +53724,6 @@
 
      &lt;/li&gt;
 
-&lt;!--
-     &lt;li&gt;
-
-      &lt;p&gt;If the element is, or is a descendant of, an
-      &lt;code&gt;address&lt;/code&gt; element that has no &lt;code&gt;article&lt;/code&gt;
-      element ancestors, and the &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt; has the type &lt;code
-      title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, generate the following
-      triple:&lt;/p&gt;
-
-      &lt;dl class=&quot;triple&quot;&gt;
-       &lt;dt&gt;subject   &lt;dd&gt; &lt;span&gt;the document's current address&lt;/span&gt;
-       &lt;dt&gt;predicate &lt;dd&gt; &lt;code title=&quot;&quot;&gt;<A HREF="http://purl.org/dc/terms/creator&lt;/code">http://purl.org/dc/terms/creator&lt;/code</A>&gt;
-       &lt;dt&gt;object    &lt;dd&gt; &lt;var title=&quot;&quot;&gt;item&lt;/var&gt;
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
---&gt;
-
     &lt;/ol&gt;
 
    &lt;/li&gt;
@@ -52881,10 +53834,15 @@
          &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; have the same value
          as &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; does not end in a
+         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt; does not contain a
          U+0023 NUMBER SIGN character (#), then append a U+0023 NUMBER
          SIGN character (#) to &lt;var title=&quot;&quot;&gt;predicate&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
+         &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var
+         title=&quot;&quot;&gt;predicate&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt; &lt;!-- has to be something
+         not in /name/, so either &quot;.&quot; or &quot;:&quot;, so that a different
+         type/name combination couldn't generate the same string --&gt;
+
          &lt;li&gt;&lt;p&gt;Append the value of &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; to &lt;var
          title=&quot;&quot;&gt;predicate&lt;/var&gt;, with any characters in &lt;var
          title=&quot;&quot;&gt;name&lt;/var&gt; that are not valid in the &lt;ifragment&gt;
@@ -52932,1001 +53890,7 @@
 
   &lt;/ol&gt;
 
-&lt;!--END html5--&gt;
-&lt;!--START vocabs--&gt;
 
-  &lt;h4&gt;vCard&lt;/h4&gt;
-
-  &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
-  &lt;code&gt;Document&lt;/code&gt;, a user agent must run the following algorithm
-  to &lt;dfn title=&quot;extracting a vCard&quot;&gt;extract any &lt;code
-  title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt; data represented by those nodes&lt;/dfn&gt;
-  (only the first vCard is returned):&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If none of the nodes in &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; are &lt;span
-   title=&quot;concept-item&quot;&gt;items&lt;/span&gt; with the type &lt;code
-   title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, then there is no vCard. Abort the
-   algorithm, returning nothing.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the first node in &lt;var
-   title=&quot;&quot;&gt;nodes&lt;/var&gt; that is an &lt;span
-   title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-   title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;PROFILE&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;VERSION&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;3.0&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;SOURCE&lt;/code&gt;&quot; and the result of &lt;span&gt;escaping the vCard
-   text string&lt;/span&gt; that is the &lt;span&gt;the document's current
-   address&lt;/span&gt; as the value to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;span&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/span&gt; is not null,
-   &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;NAME&lt;/code&gt;&quot; and with the result of &lt;span&gt;escaping the
-   vCard text string&lt;/span&gt; obtained from the &lt;code&gt;textContent&lt;/code&gt;
-   of &lt;span&gt;the &lt;code&gt;title&lt;/code&gt; element&lt;/span&gt; as the value to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
-   title=&quot;md-about&quot;&gt;about&lt;/code&gt; whose &lt;span
-   title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-   &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; and the element of the first such property
-   is a &lt;span title=&quot;URL property elements&quot;&gt;URL property
-   element&lt;/span&gt; and has a &lt;span
-   title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not an &lt;span
-   title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, &lt;span&gt;add a vCard line&lt;/span&gt;
-   with the type &quot;&lt;code title=&quot;&quot;&gt;UID&lt;/code&gt;&quot; and with the result of
-   &lt;span&gt;escaping the vCard text string&lt;/span&gt; that is that property's
-   &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; as the value to
-   &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; that has one or
-    more &lt;span&gt;property names&lt;/span&gt; and whose &lt;span
-    title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-    &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;: for each name &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
-    in &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;'s &lt;span&gt;property names&lt;/span&gt;, run
-    the following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is equal to the string &quot;&lt;code
-     title=&quot;md-about&quot;&gt;about&lt;/code&gt;&quot;, skip this name.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt; be an empty set of
-     name-value pairs.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Run the appropriate set of substeps from the following
-      list. The steps will set a variable &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;,
-      which is used in the next step.&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
-       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
-       title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n1&lt;/var&gt; be the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
-         property named &lt;code
-         title=&quot;md-vcard-n-family-name&quot;&gt;family-name&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is no
-         such property or the property's value is itself an &lt;span
-         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n2&lt;/var&gt; be the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
-         property named &lt;code
-         title=&quot;md-vcard-n-given-name&quot;&gt;given-name&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is no
-         such property or the property's value is itself an &lt;span
-         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n3&lt;/var&gt; be the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
-         property named &lt;code
-         title=&quot;md-vcard-n-additional-name&quot;&gt;additional-name&lt;/code&gt; in
-         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there is
-         no such property or the property's value is itself an &lt;span
-         title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n4&lt;/var&gt; be the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
-         property named &lt;code
-         title=&quot;md-vcard-n-honorific-prefix&quot;&gt;honorific-prefix&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there
-         is no such property or the property's value is itself an
-         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n5&lt;/var&gt; be the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first
-         property named &lt;code
-         title=&quot;md-vcard-n-honorific-suffix&quot;&gt;honorific-suffix&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, or the empty string if there
-         is no such property or the property's value is itself an
-         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the concatenation of the
-          following, in this order:&lt;/p&gt;
-
-          &lt;ol class=&quot;brief&quot;&gt;
-           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n1&lt;/var&gt;&lt;/li&gt;
-           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n2&lt;/var&gt;&lt;/li&gt;
-           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n3&lt;/var&gt;&lt;/li&gt;
-           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n4&lt;/var&gt;&lt;/li&gt;
-           &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-           &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;n5&lt;/var&gt;&lt;/li&gt;
-          &lt;/ol&gt;
-
-         &lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
-       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
-       title=&quot;md-vcard-adr&quot;&gt;adr&lt;/code&gt;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty
-         string.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
-         title=&quot;md-vcard-adr-post-office-box&quot;&gt;post-office-box&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
-         title=&quot;md-vcard-adr-extended-address&quot;&gt;extended-address&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting vCard subproperties&lt;/span&gt; named &lt;code
-         title=&quot;md-vcard-adr-street-address&quot;&gt;street-address&lt;/code&gt; in
-         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code title=&quot;md-vcard-adr-locality&quot;&gt;locality&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code title=&quot;md-vcard-adr-region&quot;&gt;region&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code title=&quot;md-vcard-adr-postal-code&quot;&gt;postal-code&lt;/code&gt; in
-         &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code title=&quot;md-vcard-adr-country-name&quot;&gt;country-name&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
-         title=&quot;md-vcard-adr-type&quot;&gt;type&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;, and the first such property has a
-         &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not
-         an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and whose value
-         consists only of &lt;span&gt;alphanumeric ASCII characters&lt;/span&gt;,
-         then add a parameter named &quot;&lt;code title=&quot;&quot;&gt;TYPE&lt;/code&gt;&quot; whose
-         value is the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of that property
-         to &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
-       and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
-       title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty
-         string.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code
-         title=&quot;md-vcard-org-organization-name&quot;&gt;organization-name&lt;/code&gt;
-         in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;For each property named &lt;code
-          title=&quot;md-vcard-org-organization-unit&quot;&gt;organization-unit&lt;/code&gt;
-          in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, run the following steps:&lt;/p&gt;
-
-          &lt;ol&gt;
-
-           &lt;li&gt;&lt;p&gt;If the &lt;span
-           title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property
-           is an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip
-           this property.&lt;/p&gt;&lt;/li&gt;
-
-           &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-           title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-           &lt;li&gt;&lt;p&gt;Append the result of &lt;span&gt;escaping the vCard text
-           string&lt;/span&gt; given by the &lt;span
-           title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property
-           to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-          &lt;/ol&gt;
-
-         &lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;
-       with the type &lt;code title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt; and &lt;var
-       title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
-       title=&quot;md-vcard-agent&quot;&gt;agent&lt;/code&gt;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of
-         &lt;span&gt;escaping the vCard text string&lt;/span&gt; obtained from
-         &lt;span&gt;extracting a vCard&lt;/span&gt; from the element that
-         represents &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Add a parameter named &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot;
-         whose value is &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot; to &lt;var
-         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
-       is none of the above&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; the result of
-         &lt;span&gt;collecting the first vCard subproperty&lt;/span&gt; named
-         &lt;code title=&quot;&quot;&gt;value&lt;/code&gt; in &lt;var
-         title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
-         title=&quot;&quot;&gt;type&lt;/code&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, and the
-         first such property has a &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not an
-         &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt; and whose value
-         consists only of &lt;span&gt;alphanumeric ASCII characters&lt;/span&gt;,
-         then add a parameter named &quot;&lt;code title=&quot;&quot;&gt;TYPE&lt;/code&gt;&quot; whose
-         value is the &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of that property
-         to &lt;var title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Otherwise (the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is not an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt;)&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the property's &lt;span
-         title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is one of the &lt;span&gt;URL
-         property elements&lt;/span&gt;, add a parameter with the name &quot;&lt;code
-         title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the value &quot;&lt;code
-         title=&quot;&quot;&gt;URI&lt;/code&gt;&quot; to &lt;var
-         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a
-         &lt;code&gt;time&lt;/code&gt; element and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         a &lt;span&gt;valid date string&lt;/span&gt;, add a parameter with the name
-         &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the value &quot;&lt;code
-         title=&quot;&quot;&gt;DATE&lt;/code&gt;&quot; to &lt;var
-         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a
-         &lt;code&gt;time&lt;/code&gt; element and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         a &lt;span&gt;valid global date and time string&lt;/span&gt;, add a
-         parameter with the name &quot;&lt;code title=&quot;&quot;&gt;VALUE&lt;/code&gt;&quot; and the
-         value &quot;&lt;code title=&quot;&quot;&gt;DATE-TIME&lt;/code&gt;&quot; to &lt;var
-         title=&quot;&quot;&gt;parameters&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in
-         &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS
-         character (\).&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
-         (\).&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Unless &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is &lt;code
-         title=&quot;md-vcard-geo&quot;&gt;geo&lt;/code&gt;, prefix every U+003B SEMICOLON
-         character (;) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C
-         REVERSE SOLIDUS character (\).&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
-         character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE
-         SOLIDUS character (\) followed by a U+006E LATIN SMALL LETTER
-         N.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
-         U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
-         with a U+005C REVERSE SOLIDUS character (\) followed by a U+006E
-         LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &lt;var
-      title=&quot;&quot;&gt;name&lt;/var&gt;, the parameters &lt;var
-      title=&quot;&quot;&gt;parameters&lt;/var&gt;, and the value &lt;var
-      title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If there is no property named &lt;code title=&quot;md-vcard-n&quot;&gt;n&lt;/code&gt;
-    whose &lt;span title=&quot;concept-item-corresponding&quot;&gt;corresponding
-    item&lt;/span&gt; is &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then run the following
-    substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is no property named &lt;code
-     title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; whose &lt;span
-     title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-     &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then skip the remainder of these
-     substeps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the first property named &lt;code
-     title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; whose &lt;span
-     title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-     &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has a &lt;span
-     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is an &lt;span
-     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip the remainder of
-     these substeps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;fn&lt;/var&gt; be the &lt;span
-     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first property
-     named &lt;code title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; whose &lt;span
-     title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-     &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
-     title=&quot;md-vcard-org&quot;&gt;org&lt;/code&gt; whose &lt;span
-     title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-     &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, and the &lt;span
-     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first such
-     property is equal to &lt;var title=&quot;&quot;&gt;fn&lt;/var&gt; (and is not an &lt;span
-     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;), then &lt;span&gt;add a vCard
-     line&lt;/span&gt; with the type &quot;&lt;code title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value
-     is four U+003B SEMICOLON characters (&quot;&lt;code
-     title=&quot;&quot;&gt;;;;;&lt;/code&gt;&quot;) to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;. Then, skip
-     the remainder of these substeps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;space character&quot;&gt;space
-     characters&lt;/span&gt; in &lt;var title=&quot;&quot;&gt;fn&lt;/var&gt;, if any, are not all
-     contiguous, then skip the remainder of these substeps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;split a string on spaces&quot;&gt;Split &lt;var
-     title=&quot;&quot;&gt;fn&lt;/var&gt; on spaces&lt;/span&gt;, and let &lt;var title=&quot;&quot;&gt;part
-     one&lt;/var&gt; be the first resulting token, and &lt;var title=&quot;&quot;&gt;part
-     two&lt;/var&gt; be the second, if any, or the empty string if there is
-     no second token. (There cannot be three, given the previous
-     step.)&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the last character of &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt; is a
-      U+002C COMMA character (,), then remove that character from &lt;var
-      title=&quot;&quot;&gt;part one&lt;/var&gt; and &lt;span&gt;add a vCard line&lt;/span&gt; with
-      the type &quot;&lt;code title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the
-      concatenation of the following strings:&lt;/p&gt;
-
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
-      &lt;/ol&gt;
-
-      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; is two Unicode code-points
-      long and its second character is a U+002E FULL STOP character
-      (.), then &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
-      following strings:&lt;/p&gt;
-
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; consisting of the first character of &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
-      &lt;/ol&gt;
-
-      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; is one Unicode code-point
-      long, then &lt;span&gt;add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
-      following strings:&lt;/p&gt;
-
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
-      &lt;/ol&gt;
-
-      &lt;p&gt;Then, skip the remainder of these substeps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-      title=&quot;&quot;&gt;N&lt;/code&gt;&quot; whose value is the concatenation of the
-      following strings:&lt;/p&gt;
-
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;A U+003B SEMICOLON character (;)&lt;/li&gt;
-       &lt;li&gt;The result of &lt;span&gt;escaping the vCard text string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;&lt;/li&gt;
-       &lt;li&gt;Three U+003B SEMICOLON characters (;)&lt;/li&gt;
-      &lt;/ol&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add a vCard line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCARD&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the above algorithm says that the user agent is to &lt;dfn&gt;add
-  a vCard line&lt;/dfn&gt; consisting of a type &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;,
-  optionally some parameters, and a value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to
-  a string &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, it must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be an empty string.
-
-   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;span&gt;converted to
-   ASCII uppercase&lt;/span&gt;, to &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If there are any parameters, then for each parameter, in the
-    order that they were added, run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the parameter's name to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+003D EQUALS SIGN character (=) to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the parameter's value to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 75.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If and while &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is longer than &lt;var
-    title=&quot;&quot;&gt;maximum length&lt;/var&gt; Unicode code points long, run the
-    following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
-     Unicode code points of &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Remove the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
-     Unicode code points from &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+0020 SPACE character to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 74.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append (what remains of) &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the steps above require the user agent to obtain the result
-  of &lt;dfn&gt;collecting vCard subproperties&lt;/dfn&gt; named &lt;var
-  title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, the user
-  agent must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each property named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in the item
-    &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, run the following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;
-     of the property is itself an &lt;span
-     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then skip this
-     property.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If this is not the first property named &lt;var
-     title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt; (ignoring
-     any that were skipped by the previous step), then append a U+002C
-     COMMA character (,) to &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the result of &lt;span&gt;escaping the vCard text
-     string&lt;/span&gt; given by the &lt;span
-     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the property to
-     &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the steps above require the user agent to obtain the result
-  of &lt;dfn&gt;collecting the first vCard subproperty&lt;/dfn&gt; named &lt;var
-  title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, the user
-  agent must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If there are no properties named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt;
-   in &lt;var title=&quot;&quot;&gt;subitem&lt;/var&gt;, then abort these substeps,
-   returning the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of
-   the first property named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var
-   title=&quot;&quot;&gt;subitem&lt;/var&gt; is an &lt;span
-   title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then abort these substeps,
-   returning the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return the result of &lt;span&gt;escaping the vCard text
-   string&lt;/span&gt; given by the &lt;span
-   title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of the first property
-   named &lt;var title=&quot;&quot;&gt;subname&lt;/var&gt; in &lt;var
-   title=&quot;&quot;&gt;subitem&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the above algorithms say the user agent is to &lt;dfn
-  title=&quot;escaping the vCard text string&quot;&gt;escape the vCard text
-  string&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, the user agent must use the
-  following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS character
-   (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
-   (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+003B SEMICOLON character (;) in &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
-   (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
-   character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C
-   REVERSE SOLIDUS character (\) followed by a U+006E LATIN SMALL
-   LETTER N.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
-   U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a
-   U+005C REVERSE SOLIDUS character (\) followed by a U+006E LATIN
-   SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return the mutated &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This algorithm can generate invalid vCard output, if
-  the input does not conform to the rules described for the &lt;code
-  title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt; &lt;span&gt;predefined type&lt;/span&gt; and &lt;span
-  title=&quot;predefined property name&quot;&gt;predefined property
-  names&lt;/span&gt;.&lt;/p&gt; &lt;!-- of course since vcard doesn't define error
-  handling, this is somewhat problematic. --&gt;
-
-
-  &lt;h4&gt;iCalendar&lt;/h4&gt;
-
-  &lt;p&gt;Given a list of nodes &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; in a
-  &lt;code&gt;Document&lt;/code&gt;, a user agent must run the following algorithm
-  to &lt;dfn title=&quot;extracting vEvent data&quot;&gt;extract any &lt;code
-  title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; data represented by those
-  nodes&lt;/dfn&gt;:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If none of the nodes in &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; are &lt;span
-   title=&quot;concept-item&quot;&gt;items&lt;/span&gt; with the type &lt;code
-   title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;, then there is no vEvent
-   data. Abort the algorithm, returning nothing.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VCALENDAR&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;PRODID&lt;/code&gt;&quot; and the value equal to a
-   user-agent-specific string representing the user agent to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;VERSION&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;2.0&lt;/code&gt;&quot;
-   to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each node &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in &lt;var
-    title=&quot;&quot;&gt;nodes&lt;/var&gt; that is an &lt;span
-    title=&quot;concept-item&quot;&gt;item&lt;/span&gt; with the type &lt;code
-    title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt;, run the following steps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-     title=&quot;&quot;&gt;BEGIN&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VEVENT&lt;/code&gt;&quot;
-     to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-     title=&quot;&quot;&gt;DTSTAMP&lt;/code&gt;&quot; and a value consisting of an iCalendar
-     DATE-TIME string representing the current date and time, with the
-     annotation &quot;&lt;code title=&quot;&quot;&gt;VALUE=DATE-TIME&lt;/code&gt;&quot;, to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.  &lt;a
-     href=&quot;#refsRFC2445&quot;&gt;[RFC2445]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is a property named &lt;code
-     title=&quot;md-about&quot;&gt;about&lt;/code&gt; whose &lt;span
-     title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-     &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; and the element of the first such property
-     is a &lt;span title=&quot;URL property elements&quot;&gt;URL property
-     element&lt;/span&gt; and has a &lt;span
-     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; that is not an &lt;span
-     title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, &lt;span&gt;add an iCalendar line&lt;/span&gt;
-     with the type &quot;&lt;code title=&quot;&quot;&gt;UID&lt;/code&gt;&quot; and that property's
-     &lt;span title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; as the value to
-     &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; that has one or
-      more &lt;span&gt;property names&lt;/span&gt; and whose &lt;span
-      title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-      &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;: for each name &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;
-      in &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;'s &lt;span&gt;property names&lt;/span&gt;, run
-      the appropriate set of substeps from the following list:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is equal to the string &quot;&lt;code
-       title=&quot;md-about&quot;&gt;about&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dt&gt;If the property's &lt;span
-       title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is an &lt;span
-       title=&quot;concept-item&quot;&gt;item&lt;/span&gt;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;p&gt;Skip the property.&lt;/p&gt;
-
-       &lt;/dd&gt;
-
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is a &lt;code&gt;time&lt;/code&gt;
-       element&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of stripping
-        all U+002D HYPHEN-MINUS (-) and U+003A COLON (:) characters
-        from the property's &lt;span
-        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If the property's &lt;span
-        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is a &lt;span&gt;valid
-        date string&lt;/span&gt; then &lt;span&gt;add an iCalendar line&lt;/span&gt;
-        with the type &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; and the value &lt;var
-        title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, with the
-        annotation &quot;&lt;code title=&quot;&quot;&gt;VALUE=DATE&lt;/code&gt;&quot;.&lt;/p&gt;
-
-        &lt;p&gt;Otherwise, if the property's &lt;span
-        title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; is a &lt;span&gt;valid
-        global date and time string&lt;/span&gt; then &lt;span&gt;add an iCalendar
-        line&lt;/span&gt; with the type &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; and the
-        value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;,
-        with the annotation &quot;&lt;code
-        title=&quot;&quot;&gt;VALUE=DATE-TIME&lt;/code&gt;&quot;.&lt;/p&gt;
-
-        &lt;p&gt;Otherwise skip the property.&lt;/p&gt;
-
-       &lt;/dd&gt;
-
-
-       &lt;dt&gt;Otherwise&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &lt;var
-        title=&quot;&quot;&gt;name&lt;/var&gt; and the value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to
-        &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
-
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-     title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code title=&quot;&quot;&gt;VEVENT&lt;/code&gt;&quot;
-     to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Add an iCalendar line&lt;/span&gt; with the type &quot;&lt;code
-   title=&quot;&quot;&gt;END&lt;/code&gt;&quot; and the value &quot;&lt;code
-   title=&quot;&quot;&gt;VCALENDAR&lt;/code&gt;&quot; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the above algorithm says that the user agent is to &lt;dfn&gt;add
-  an iCalendar line&lt;/dfn&gt; consisting of a type &lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt;, a value &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and
-  optionally an annotation, to a string &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, it
-  must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be an empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;span&gt;converted to
-   ASCII uppercase&lt;/span&gt;, to &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If there is an annotation:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+003B SEMICOLON character (;) to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the annotation to &lt;var
-     title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+003A COLON character (:) to &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+005C REVERSE SOLIDUS character (\) in
-   &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with another U+005C REVERSE SOLIDUS
-   character (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+002C COMMA character (,) in &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
-   (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Prefix every U+003B SEMICOLON character (;) in &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; with a U+005C REVERSE SOLIDUS character
-   (\).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Replace every U+000D CARRIAGE RETURN U+000A LINE FEED
-   character pair (CRLF) in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; with a
-   U+005C REVERSE SOLIDUS character (\) followed by a U+006E
-   LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Replace every remaining U+000D CARRIAGE RETURN (CR) or
-   U+000A LINE FEED (LF) character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
-   with a U+005C REVERSE SOLIDUS character (\) followed by a
-   U+006E LATIN SMALL LETTER N.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; to &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 75.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If and while &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is longer than &lt;var
-    title=&quot;&quot;&gt;maximum length&lt;/var&gt; Unicode code points long, run the
-    following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Append the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
-     Unicode code points of &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Remove the first &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt;
-     Unicode code points from &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Append a U+0020 SPACE character to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum length&lt;/var&gt; be 74.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append (what remains of) &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+000D CARRIAGE RETURN character (CR) to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a U+000A LINE FEED character (LF) to &lt;var
-   title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This algorithm can generate invalid iCalendar
-  output, if the input does not conform to the rules described for the
-  &lt;code title=&quot;md-vevent&quot;&gt;vevent&lt;/code&gt; &lt;span&gt;predefined type&lt;/span&gt;
-  and &lt;span title=&quot;predefined property name&quot;&gt;predefined property
-  names&lt;/span&gt;.&lt;/p&gt; &lt;!-- of course since icalendar doesn't define
-  error handling, this is somewhat problematic. --&gt;
-
-&lt;!--END vocabs--&gt;
-&lt;!--START html5--&gt;
-
   &lt;h4&gt;Atom&lt;/h4&gt;
 
   &lt;p&gt;Given a &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;, a user
@@ -53948,29 +53912,9 @@
    &lt;li&gt;&lt;p&gt;Append a &lt;code title=&quot;&quot;&gt;feed&lt;/code&gt; element in the
    &lt;span&gt;Atom namespace&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-&lt;!--
-   &lt;li&gt;
+   &lt;!-- &lt;atom:author&gt; is required either at the feed level (here) or
+   the entry level (below) but we don't provide it --&gt;
 
-    &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; that is, or is a
-    descendant of, an &lt;code&gt;address&lt;/code&gt; element that has no
-    &lt;code&gt;article&lt;/code&gt; element ancestors, and that is an &lt;span
-    title=&quot;concept-item&quot;&gt;item&lt;/span&gt; that has the type &lt;code
-    title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, if there is a property &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt; named &lt;code title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt;
-    whose &lt;span title=&quot;concept-item-corresponding&quot;&gt;corresponding
-    item&lt;/span&gt; is &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and the &lt;span
-    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt; is not an &lt;span
-    title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then append an &lt;code
-    title=&quot;&quot;&gt;author&lt;/code&gt; element in the &lt;span&gt;Atom namespace&lt;/span&gt;
-    to the root element of &lt;var title=&quot;&quot;&gt;R&lt;/var&gt; whose contents is a
-    text node with its data set to the &lt;span
-    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-    title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
---&gt;
-
    &lt;li&gt;
 
     &lt;p&gt;If there is a &lt;code&gt;link&lt;/code&gt; element whose &lt;code
@@ -54199,31 +54143,9 @@
 
      &lt;/li&gt;
 
-&lt;!--
-     &lt;li&gt;
+     &lt;!-- &lt;atom:author&gt; is required either at the feed level (above)
+     or the entry level (here) but we don't provide it --&gt;
 
-      &lt;p&gt;For each element &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; that is, or is
-      a descendant of, an &lt;code&gt;address&lt;/code&gt; element whose nearest
-      &lt;code&gt;article&lt;/code&gt; element ancestor is &lt;var
-      title=&quot;&quot;&gt;article&lt;/var&gt;, and that is an &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt; that has the type &lt;code
-      title=&quot;md-vcard&quot;&gt;vcard&lt;/code&gt;, if there is a property &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt; named &lt;code
-      title=&quot;md-vcard-fn&quot;&gt;fn&lt;/code&gt; whose &lt;span
-      title=&quot;concept-item-corresponding&quot;&gt;corresponding item&lt;/span&gt; is
-      &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and the &lt;span
-      title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt; is not an &lt;span
-      title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, then append an &lt;code
-      title=&quot;&quot;&gt;author&lt;/code&gt; element in the &lt;span&gt;Atom
-      namespace&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;E&lt;/var&gt; whose contents is a
-      text node with its data set to the &lt;span
-      title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; of &lt;var
-      title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
---&gt;
-
      &lt;li&gt;
 
       &lt;p&gt;Clone &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; and its descendants into an


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010941.html">[html5] r4068 - [] (0) Update the RDF conversion to be unambiguous	in all cases.
</A></li>
	<LI>Next message: <A HREF="010943.html">[html5] r4070 - [] (0) Split out the microdata vocabularies into	their own specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10942">[ date ]</a>
              <a href="thread.html#10942">[ thread ]</a>
              <a href="subject.html#10942">[ subject ]</a>
              <a href="author.html#10942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
