<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2725 - [ac] (0) Make the legacy DOCTYPE string be	compatible with more tools. Clarify s [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2725%20-%20%5Bac%5D%20%280%29%20Make%20the%20legacy%20DOCTYPE%20string%20be%0A%09compatible%20with%20more%20tools.%20Clarify%20s%20%5B...%5D&In-Reply-To=%3C20090130083333.2E77A138A05%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009608.html">
   <LINK REL="Next"  HREF="009610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2725 - [ac] (0) Make the legacy DOCTYPE string be	compatible with more tools. Clarify s [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2725%20-%20%5Bac%5D%20%280%29%20Make%20the%20legacy%20DOCTYPE%20string%20be%0A%09compatible%20with%20more%20tools.%20Clarify%20s%20%5B...%5D&In-Reply-To=%3C20090130083333.2E77A138A05%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2725 - [ac] (0) Make the legacy DOCTYPE string be	compatible with more tools. Clarify s [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Jan 30 00:33:33 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009608.html">[html5] r2724 - [e] (0) There is such a thing as being too subtle	and cutting hairs too finely. [...]
</A></li>
        <LI>Next message: <A HREF="009610.html">[html5] r2726 - [e] (0) oops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9609">[ date ]</a>
              <a href="thread.html#9609">[ thread ]</a>
              <a href="subject.html#9609">[ subject ]</a>
              <a href="author.html#9609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-01-30 00:33:32 -0800 (Fri, 30 Jan 2009)
New Revision: 2725

Modified:
   header-whatwg
   index
   source
Log:
[ac] (0) Make the legacy DOCTYPE string be compatible with more tools. Clarify some XML DOCTYPE comments.

Modified: header-whatwg
===================================================================
--- header-whatwg	2009-01-30 07:31:38 UTC (rev 2724)
+++ header-whatwg	2009-01-30 08:33:32 UTC (rev 2725)
@@ -13,7 +13,8 @@
    table.matrix, table.matrix td { border: none; text-align: right; }
    table.matrix { margin-left: 2em; }
    .applies th &gt; * { display: block; white-space: nowrap; }
-   #updatesStatus.relevant { position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
+   #updatesStatus { display: none; }
+   #updatesStatus.relevant { display: block; position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
    #configUI { position: absolute; top: 10em; right: 1em; width: 11em; font-size: small; text-align: center; }
    #configUI p { padding: 0.3em; background: #EEEEEE; color: black; border: inset thin; }
    #configUI input[type=button] { display: block; margin: auto; }
@@ -166,7 +167,7 @@
            status.appendChild(document.createTextNode('. '));
            var x = document.createElement('a');
            x.href = '';
-           x.onclick = function () { status.className = ''; return false; };
+           x.onclick = function () { status.textContent = ''; status.className = ''; return false; };
            x.textContent = &quot;Close&quot;;
            status.appendChild(x);
            status.appendChild(document.createTextNode('. '));

Modified: index
===================================================================
--- index	2009-01-30 07:31:38 UTC (rev 2724)
+++ index	2009-01-30 08:33:32 UTC (rev 2725)
@@ -7,7 +7,8 @@
    table.matrix, table.matrix td { border: none; text-align: right; }
    table.matrix { margin-left: 2em; }
    .applies th &gt; * { display: block; white-space: nowrap; }
-   #updatesStatus.relevant { position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
+   #updatesStatus { display: none; }
+   #updatesStatus.relevant { display: block; position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
    #configUI { position: absolute; top: 10em; right: 1em; width: 11em; font-size: small; text-align: center; }
    #configUI p { padding: 0.3em; background: #EEEEEE; color: black; border: inset thin; }
    #configUI input[type=button] { display: block; margin: auto; }
@@ -147,7 +148,7 @@
            status.appendChild(document.createTextNode('. '));
            var x = document.createElement('a');
            x.href = '';
-           x.onclick = function () { status.className = ''; return false; };
+           x.onclick = function () { status.textContent = ''; status.className = ''; return false; };
            x.textContent = &quot;Close&quot;;
            status.appendChild(x);
            status.appendChild(document.createTextNode('. '));
@@ -1853,15 +1854,6 @@
   or &lt;code&gt;application/xhtml+xml&lt;/code&gt; and must not be served as
   &lt;code&gt;text/html&lt;/code&gt;. &lt;a href=#refsRFC3023&gt;[RFC3023]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;Such XML documents may contain a &lt;code&gt;DOCTYPE&lt;/code&gt; if desired,
-  but this is not required to conform to this specification.&lt;/p&gt;
-
-  &lt;p class=note&gt;According to the XML specification, XML processors
-  are not guaranteed to process the external DTD subset referenced in
-  the DOCTYPE. This means, for example, that using entity references
-  for characters in XHTML documents is unsafe (except for &lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;amp;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;quot;&lt;/code&gt; and
-  &lt;code title=&quot;&quot;&gt;&amp;apos;&lt;/code&gt;).&lt;/p&gt;
-
   &lt;p id=authors-using-html&gt;&lt;a href=#html5 title=HTML5&gt;HTML
   documents&lt;/a&gt;, if they are served over the wire (e.g. by HTTP)
   must be labeled with the &lt;code&gt;text/html&lt;/code&gt; MIME type.&lt;/p&gt; &lt;!--
@@ -46279,24 +46271,26 @@
   &lt;/ol&gt;&lt;p class=note&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML&gt;&lt;/code&gt;,
   case-insensitively.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of XSLT generators that cannot output HTML
-  markup without a DOCTYPE, a &lt;dfn id=doctype-legacy-string&gt;DOCTYPE legacy string&lt;/dfn&gt; may be
-  inserted into the DOCTYPE (in the position defined above). This
-  string must consist of:&lt;/p&gt;
+  &lt;p&gt;For the purposes of HTML generators that cannot output HTML
+  markup with the short DOCTYPE &quot;&lt;code title=&quot;&quot;&gt;&lt;!DOCTYPE
+  HTML&gt;&lt;/code&gt;&quot;, a &lt;dfn id=doctype-legacy-string&gt;DOCTYPE legacy string&lt;/dfn&gt; may be inserted
+  into the DOCTYPE (in the position defined above). This string must
+  consist of:&lt;/p&gt;
 
   &lt;ol class=brief&gt;&lt;li&gt;One or more &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;.&lt;/li&gt;
-   &lt;li&gt;A string that is an &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;PUBLIC&lt;/code&gt;&quot;.&lt;/li&gt;
+   &lt;li&gt;A string that is an &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;SYSTEM&lt;/code&gt;&quot;.&lt;/li&gt;
    &lt;li&gt;One or more &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;.&lt;/li&gt;
    &lt;li&gt;A U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (the &lt;i&gt;quote mark&lt;/i&gt;).&lt;/li&gt;
-   &lt;li&gt;The literal string &quot;&lt;code title=&quot;&quot;&gt;XSLT-compat&lt;/code&gt;&quot;.&lt;/li&gt;
+   &lt;li&gt;The literal string &quot;&lt;code title=&quot;&quot;&gt;about:legacy-compat&lt;/code&gt;&quot;.&lt;/li&gt;
    &lt;li&gt;A matching U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (i.e. the same character as in the earlier step marked &lt;i&gt;quote mark&lt;/i&gt;).&lt;/li&gt;
-  &lt;/ol&gt;&lt;p class=note&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
-  &quot;XSLT-compat&quot;&gt;&lt;/code&gt; or &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
-  'XSLT-compat'&gt;&lt;/code&gt;, case-insensitively except for the bit in
-  quotes.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p class=note&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML SYSTEM
+  &quot;about:legacy-compat&quot;&gt;&lt;/code&gt; or &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
+  'about:legacy-compat'&gt;&lt;/code&gt;, case-insensitively except for the bit
+  in quotes.&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#doctype-legacy-string&gt;DOCTYPE legacy string&lt;/a&gt; should not be used unless
-  the document is generated from XSLT.&lt;/p&gt;
+  the document is generated from a system that cannot output the
+  shorter string.&lt;/p&gt;
 
 
 
@@ -49673,10 +49667,10 @@
    &lt;dd&gt;
 
     &lt;p&gt;If the DOCTYPE token's &lt;code title=&quot;&quot;&gt;name&lt;/code&gt; is not a
-    &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;html&lt;/code&gt;&quot;, or if the token's public identifier is
-    neither missing nor a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the
-    string &quot;&lt;code&gt;XSLT-compat&lt;/code&gt;&quot;, or if the token's system
-    identifier is not missing, then there is a &lt;a href=#parse-error&gt;parse
+    &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;html&lt;/code&gt;&quot;, or if the token's public identifier is not
+    missing, or if the token's system identifier is neither missing
+    nor a &lt;a href=#case-sensitive&gt;case-sensitive&lt;/a&gt; match for the string
+    &quot;&lt;code&gt;about:legacy-compat&lt;/code&gt;&quot;, then there is a &lt;a href=#parse-error&gt;parse
     error&lt;/a&gt; (this is the &lt;dfn id=doctype-parse-error&gt;DOCTYPE parse
     error&lt;/dfn&gt;). Conformance checkers may, instead of reporting this
     error, switch to a conformance checking mode for another language
@@ -55532,7 +55526,18 @@
   &lt;p&gt;This specification does not define any syntax-level requirements
   beyond those defined for XML proper.&lt;/p&gt;
 
+  &lt;p&gt;XML documents may contain a &lt;code&gt;DOCTYPE&lt;/code&gt; if desired, but
+  this is not required to conform to this specification. This
+  specification does not define a public or system identifier, nor
+  provide a format DTD.&lt;/p&gt;
 
+  &lt;p class=note&gt;According to the XML specification, XML processors
+  are not guaranteed to process the external DTD subset referenced in
+  the DOCTYPE. This means, for example, that using entity references
+  for characters in XHTML documents is unsafe if they are defined in
+  an external file (except for &lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;amp;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;quot;&lt;/code&gt; and &lt;code title=&quot;&quot;&gt;&amp;apos;&lt;/code&gt;).&lt;/p&gt;
+
+
   &lt;h3 id=parsing-xhtml-documents&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;Parsing XHTML documents&lt;/h3&gt;
 
   &lt;p&gt;This section describes the relationship between XML and the DOM,

Modified: source
===================================================================
--- source	2009-01-30 07:31:38 UTC (rev 2724)
+++ source	2009-01-30 08:33:32 UTC (rev 2725)
@@ -864,17 +864,6 @@
   or &lt;code&gt;application/xhtml+xml&lt;/code&gt; and must not be served as
   &lt;code&gt;text/html&lt;/code&gt;. &lt;a href=&quot;#refsRFC3023&quot;&gt;[RFC3023]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;Such XML documents may contain a &lt;code&gt;DOCTYPE&lt;/code&gt; if desired,
-  but this is not required to conform to this specification.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;According to the XML specification, XML processors
-  are not guaranteed to process the external DTD subset referenced in
-  the DOCTYPE. This means, for example, that using entity references
-  for characters in XHTML documents is unsafe (except for &lt;code
-  title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;&amp;amp;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;quot;&lt;/code&gt; and
-  &lt;code title=&quot;&quot;&gt;&amp;apos;&lt;/code&gt;).&lt;/p&gt;
-
   &lt;p id=&quot;authors-using-html&quot;&gt;&lt;span title=&quot;HTML5&quot;&gt;HTML
   documents&lt;/span&gt;, if they are served over the wire (e.g. by HTTP)
   must be labeled with the &lt;code&gt;text/html&lt;/code&gt; MIME type.&lt;/p&gt; &lt;!--
@@ -52814,27 +52803,29 @@
   &lt;p class=&quot;note&quot;&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML&gt;&lt;/code&gt;,
   case-insensitively.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of XSLT generators that cannot output HTML
-  markup without a DOCTYPE, a &lt;dfn&gt;DOCTYPE legacy string&lt;/dfn&gt; may be
-  inserted into the DOCTYPE (in the position defined above). This
-  string must consist of:&lt;/p&gt;
+  &lt;p&gt;For the purposes of HTML generators that cannot output HTML
+  markup with the short DOCTYPE &quot;&lt;code title=&quot;&quot;&gt;&lt;!DOCTYPE
+  HTML&gt;&lt;/code&gt;&quot;, a &lt;dfn&gt;DOCTYPE legacy string&lt;/dfn&gt; may be inserted
+  into the DOCTYPE (in the position defined above). This string must
+  consist of:&lt;/p&gt;
 
   &lt;ol class=&quot;brief&quot;&gt;
    &lt;li&gt;One or more &lt;span title=&quot;space character&quot;&gt;space characters&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A string that is an &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;PUBLIC&lt;/code&gt;&quot;.&lt;/li&gt;
+   &lt;li&gt;A string that is an &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;SYSTEM&lt;/code&gt;&quot;.&lt;/li&gt;
    &lt;li&gt;One or more &lt;span title=&quot;space character&quot;&gt;space characters&lt;/span&gt;.&lt;/li&gt;
    &lt;li&gt;A U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (the &lt;i&gt;quote mark&lt;/i&gt;).&lt;/li&gt;
-   &lt;li&gt;The literal string &quot;&lt;code title=&quot;&quot;&gt;XSLT-compat&lt;/code&gt;&quot;.&lt;/li&gt;
+   &lt;li&gt;The literal string &quot;&lt;code title=&quot;&quot;&gt;about:legacy-compat&lt;/code&gt;&quot;.&lt;/li&gt;
    &lt;li&gt;A matching U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (i.e. the same character as in the earlier step marked &lt;i&gt;quote mark&lt;/i&gt;).&lt;/li&gt;
   &lt;/ol&gt;
 
-  &lt;p class=&quot;note&quot;&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
-  &quot;XSLT-compat&quot;&gt;&lt;/code&gt; or &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
-  'XSLT-compat'&gt;&lt;/code&gt;, case-insensitively except for the bit in
-  quotes.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;In other words, &lt;code&gt;&lt;!DOCTYPE HTML SYSTEM
+  &quot;about:legacy-compat&quot;&gt;&lt;/code&gt; or &lt;code&gt;&lt;!DOCTYPE HTML PUBLIC
+  'about:legacy-compat'&gt;&lt;/code&gt;, case-insensitively except for the bit
+  in quotes.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span&gt;DOCTYPE legacy string&lt;/span&gt; should not be used unless
-  the document is generated from XSLT.&lt;/p&gt;
+  the document is generated from a system that cannot output the
+  shorter string.&lt;/p&gt;
 
 
 
@@ -56663,10 +56654,10 @@
 
     &lt;p&gt;If the DOCTYPE token's &lt;code title=&quot;&quot;&gt;name&lt;/code&gt; is not a
     &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-    title=&quot;&quot;&gt;html&lt;/code&gt;&quot;, or if the token's public identifier is
-    neither missing nor a &lt;span&gt;case-sensitive&lt;/span&gt; match for the
-    string &quot;&lt;code&gt;XSLT-compat&lt;/code&gt;&quot;, or if the token's system
-    identifier is not missing, then there is a &lt;span&gt;parse
+    title=&quot;&quot;&gt;html&lt;/code&gt;&quot;, or if the token's public identifier is not
+    missing, or if the token's system identifier is neither missing
+    nor a &lt;span&gt;case-sensitive&lt;/span&gt; match for the string
+    &quot;&lt;code&gt;about:legacy-compat&lt;/code&gt;&quot;, then there is a &lt;span&gt;parse
     error&lt;/span&gt; (this is the &lt;dfn&gt;DOCTYPE parse
     error&lt;/dfn&gt;). Conformance checkers may, instead of reporting this
     error, switch to a conformance checking mode for another language
@@ -60744,7 +60735,21 @@
   &lt;p&gt;This specification does not define any syntax-level requirements
   beyond those defined for XML proper.&lt;/p&gt;
 
+  &lt;p&gt;XML documents may contain a &lt;code&gt;DOCTYPE&lt;/code&gt; if desired, but
+  this is not required to conform to this specification. This
+  specification does not define a public or system identifier, nor
+  provide a format DTD.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;According to the XML specification, XML processors
+  are not guaranteed to process the external DTD subset referenced in
+  the DOCTYPE. This means, for example, that using entity references
+  for characters in XHTML documents is unsafe if they are defined in
+  an external file (except for &lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;, &lt;code
+  title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;&amp;amp;&lt;/code&gt;, &lt;code
+  title=&quot;&quot;&gt;&amp;quot;&lt;/code&gt; and &lt;code
+  title=&quot;&quot;&gt;&amp;apos;&lt;/code&gt;).&lt;/p&gt;
+
+
   &lt;h3&gt;Parsing XHTML documents&lt;/h3&gt;
 
   &lt;p&gt;This section describes the relationship between XML and the DOM,


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009608.html">[html5] r2724 - [e] (0) There is such a thing as being too subtle	and cutting hairs too finely. [...]
</A></li>
	<LI>Next message: <A HREF="009610.html">[html5] r2726 - [e] (0) oops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9609">[ date ]</a>
              <a href="thread.html#9609">[ thread ]</a>
              <a href="subject.html#9609">[ subject ]</a>
              <a href="author.html#9609">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
