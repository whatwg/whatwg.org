<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2751 - [] (0) Filling in the rendering section:	color-related presentational hints; fix [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2751%20-%20%5B%5D%20%280%29%20Filling%20in%20the%20rendering%20section%3A%0A%09color-related%20presentational%20hints%3B%20fix%20%5B...%5D&In-Reply-To=%3C20090204104350.C0C72138A05%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009634.html">
   <LINK REL="Next"  HREF="009636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2751 - [] (0) Filling in the rendering section:	color-related presentational hints; fix [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2751%20-%20%5B%5D%20%280%29%20Filling%20in%20the%20rendering%20section%3A%0A%09color-related%20presentational%20hints%3B%20fix%20%5B...%5D&In-Reply-To=%3C20090204104350.C0C72138A05%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2751 - [] (0) Filling in the rendering section:	color-related presentational hints; fix [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Feb  4 02:43:50 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009634.html">[html5] r2750 - [] (0) Filling in the rendering section: more	margin and alignment presentationa [...]
</A></li>
        <LI>Next message: <A HREF="009636.html">[html5] r2752 - [] (0) Filling in the rendering section: &lt;font&gt; and	related changes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9635">[ date ]</a>
              <a href="thread.html#9635">[ thread ]</a>
              <a href="subject.html#9635">[ subject ]</a>
              <a href="author.html#9635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-02-04 02:43:49 -0800 (Wed, 04 Feb 2009)
New Revision: 2751

Modified:
   index
   source
Log:
[] (0) Filling in the rendering section: color-related presentational hints; fixes for previous checkin.

Modified: index
===================================================================
--- index	2009-02-04 10:09:28 UTC (rev 2750)
+++ index	2009-02-04 10:43:49 UTC (rev 2751)
@@ -2602,8 +2602,8 @@
    &lt;li&gt;Return &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;h5 id=percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5 &lt;/span&gt;Percentages and lengths&lt;/h5&gt;
-
-  &lt;p&gt;A string is a &lt;dfn id=valid-dimension-value&gt;valid dimension value&lt;/dfn&gt; if it consists of
+&lt;!--(percentages are not used in html5)
+  &lt;p&gt;A string is a &lt;dfn&gt;valid dimension value&lt;/dfn&gt; if it consists of
   a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
   (9), optionally followed by zero of more characters in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally followed
@@ -2611,15 +2611,15 @@
   the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and
   optionally suffixed by a U+0025 PERCENT SIGN character (%).&lt;/p&gt;
 
-  &lt;p&gt;A &lt;a href=#valid-dimension-value&gt;valid dimension value&lt;/a&gt; represents the number that
+  &lt;p&gt;A &lt;span&gt;valid dimension value&lt;/span&gt; represents the number that
   is represented in base ten by that string of digits, optionally with
   a fractional component. If the U+0025 PERCENT SIGN is present, then
   the dimension is a percentage; otherwise, it is a length.&lt;/p&gt;
 
-  &lt;p class=note&gt;For historical reasons, percentanges and lengths
-  less than 1.0 cannot be represented as &lt;a href=#valid-dimension-value title=&quot;valid dimension
-  value&quot;&gt;valid dimension values&lt;/a&gt;.&lt;/p&gt;
-
+  &lt;p class=&quot;note&quot;&gt;For historical reasons, percentanges and lengths
+  less than 1.0 cannot be represented as &lt;span title=&quot;valid dimension
+  value&quot;&gt;valid dimension values&lt;/span&gt;.&lt;/p&gt;
+--&gt;
   &lt;p&gt;The &lt;dfn id=rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/dfn&gt; are as given in
   the following algorithm. When invoked, the steps must be followed in
   the order given, aborting at the first step that returns a
@@ -2680,9 +2680,6 @@
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
-   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a
    length.&lt;/li&gt;
 
@@ -3736,14 +3733,20 @@
    &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;, which will be a
    &lt;a href=#valid-lowercase-simple-color&gt;valid lowercase simple color&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p class=note&gt;The &lt;a href=#canvas-context-2d title=canvas-context-2d&gt;2D graphics
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some obsolete legacy attributes parse colors in a more
+  complicated manner, using the &lt;dfn id=rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy color
+  value&lt;/dfn&gt;, which are given in the following algorithm. When
+  invoked, the steps must be followed in the order given, aborting at
+  the first step that returns a value. This algorithm will either
+  return a &lt;a href=#simple-color&gt;simple color&lt;/a&gt; or an error.&lt;/p&gt;
+
+  &lt;ol class=XXX&gt;&lt;li&gt;...
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p class=note&gt;The &lt;a href=#canvas-context-2d title=canvas-context-2d&gt;2D graphics
   context&lt;/a&gt; has a separate color syntax that also handles
   opacity.&lt;/p&gt;
 
-  &lt;p class=note&gt;Some obsolete legacy attributes parse colors in a
-  more complicated manner.&lt;/p&gt;
 
-
   &lt;h4 id=space-separated-tokens&gt;&lt;span class=secno&gt;2.4.6 &lt;/span&gt;Space-separated tokens&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn id=set-of-space-separated-tokens&gt;set of space-separated tokens&lt;/dfn&gt; is a set of zero or
@@ -55883,25 +55886,8 @@
   &lt;p class=XXX&gt;Please send feedback if you can accurately describe
   rules required by legacy content.&lt;/p&gt;
 
-  &lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
-  &lt;dfn id=maps-to-the-pixel-length-property&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
-  using the &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing non-negative integers&lt;/a&gt;
-  doesn't generate an error, then the user agent is expected to use
-  the parsed value as a pixel length for a &lt;a href=#presentational-hints title=&quot;presentational
-  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
-  &lt;dfn id=maps-to-the-dimension-property&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
-  using the &lt;a href=#rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/a&gt; doesn't
-  generate an error, then the user agent is expected to use the parsed
-  dimension as the value for a &lt;a href=#presentational-hints title=&quot;presentational
-  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;,
-  with the value given as a pixel length if the dimension was an
-  integer, and with the value given as a percentage if the dimension
-  was a percentage.&lt;/p&gt;
 
-
-
   &lt;h4 id=display-types&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -56007,6 +55993,22 @@
   &lt;code&gt;frame&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; element. Otherwise, there
   is no &lt;a href=#container-frame-element&gt;container frame element&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn id=maps-to-the-pixel-length-property&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing non-negative integers&lt;/a&gt;
+  doesn't generate an error, then the user agent is expected to use
+  the parsed value as a pixel length for a &lt;a href=#presentational-hints title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn id=maps-to-the-dimension-property&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;a href=#rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/a&gt; doesn't
+  generate an error, then the user agent is expected to use the parsed
+  dimension as the value for a &lt;a href=#presentational-hints title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, with the value given as a pixel length if
+  the dimension was an integer, and with the value given as a
+  percentage if the dimension was a percentage.&lt;/p&gt;
+
   &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-cellspacing&gt;cellspacing&lt;/code&gt; attribute
   &lt;a href=#maps-to-the-pixel-length-property&gt;maps to the pixel length property&lt;/a&gt; 'border-spacing' on the
   element.&lt;/p&gt;
@@ -56203,15 +56205,63 @@
 &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; h1 { font-size: 0.83em; }
 &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; h1 { font-size: 0.67em; }&lt;/pre&gt;
 
-  &lt;hr&gt;&lt;p class=XXX&gt;...background...&lt;/p&gt;
-  &lt;!-- body, table, td, th, tbody, tfoot, thead, tr: background (empty string ignored?), bgcolor --&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-background&gt;background&lt;/code&gt; attribute set to a
+  non-empty value, the new value is expected to be &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolved&lt;/a&gt; relative to the element, and
+  if this is successful, the user agent is expected to treat the
+  attribute as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt; setting the element's 'background-image' property to the
+  resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p class=XXX&gt;...body...&lt;/p&gt;
-  &lt;!--link, vlink, alink, text --&gt;
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-bgcolor&gt;bgcolor&lt;/code&gt; attribute set, the new value is
+  expected to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy
+  color value&lt;/a&gt;, and the user agent is expected to treat the
+  attribute as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt; setting the element's 'background-color' property to the
+  resulting color.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p class=XXX&gt;...tables...&lt;/p&gt;
-  &lt;!-- table: bordercolor --&gt;
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-body-text&gt;&lt;a href=#attr-body-text&gt;text&lt;/a&gt;&lt;/code&gt; attribute, its value is expected
+  to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy color
+  value&lt;/a&gt;, and the user agent is expected to treat the attribute
+  as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational hint&lt;/a&gt;
+  setting the element's 'color' property to the resulting color.&lt;/p&gt;
 
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-body-link&gt;&lt;a href=#attr-body-link&gt;link&lt;/a&gt;&lt;/code&gt; attribute, its value is expected
+  to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy color
+  value&lt;/a&gt;, and the user agent is expected to treat the attribute
+  as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational hint&lt;/a&gt;
+  setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':link' pseudo-class to the
+  resulting color.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-body-vlink&gt;&lt;a href=#attr-body-vlink&gt;vlink&lt;/a&gt;&lt;/code&gt; attribute, its value is
+  expected to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy
+  color value&lt;/a&gt;, and the user agent is expected to treat the
+  attribute as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt; setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':visited' pseudo-class to the
+  resulting color.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-body-alink&gt;&lt;a href=#attr-body-alink&gt;alink&lt;/a&gt;&lt;/code&gt; attribute, its value is
+  expected to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a legacy
+  color value&lt;/a&gt;, and the user agent is expected to treat the
+  attribute as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt; setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':active' pseudo-class and either
+  the ':link' pseudo-class or the ':visited' pseudo-class to the
+  resulting color.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element has a &lt;code title=attr-table-bordercolor&gt;bordercolor&lt;/code&gt; attribute, its
+  value is expected to be parsed using the &lt;a href=#rules-for-parsing-a-legacy-color-value&gt;rules for parsing a
+  legacy color value&lt;/a&gt;, and the user agent is expected to treat
+  the attribute as a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt; setting the element's 'border-top-color',
+  'border-right-color', 'border-bottom-color', and
+  'border-right-color' properties to the resulting color.&lt;/p&gt;
+
   &lt;hr&gt;&lt;p class=XXX&gt;...font...&lt;/p&gt;
   &lt;!-- face=&gt;font-family --&gt;
   &lt;!-- pointsize=&gt;font-size as pt if present;

Modified: source
===================================================================
--- source	2009-02-04 10:09:28 UTC (rev 2750)
+++ source	2009-02-04 10:43:49 UTC (rev 2751)
@@ -1708,7 +1708,7 @@
 
 
   &lt;h5 id=&quot;percentages-and-dimensions&quot;&gt;Percentages and lengths&lt;/h5&gt;
-
+&lt;!--(percentages are not used in html5)
   &lt;p&gt;A string is a &lt;dfn&gt;valid dimension value&lt;/dfn&gt; if it consists of
   a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
   (9), optionally followed by zero of more characters in the range
@@ -1725,7 +1725,7 @@
   &lt;p class=&quot;note&quot;&gt;For historical reasons, percentanges and lengths
   less than 1.0 cannot be represented as &lt;span title=&quot;valid dimension
   value&quot;&gt;valid dimension values&lt;/span&gt;.&lt;/p&gt;
-
+--&gt;
   &lt;p&gt;The &lt;dfn&gt;rules for parsing dimension values&lt;/dfn&gt; are as given in
   the following algorithm. When invoked, the steps must be followed in
   the order given, aborting at the first step that returns a
@@ -1800,9 +1800,6 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/p&gt;&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
    title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a
    length.&lt;/p&gt;&lt;/li&gt;
@@ -3174,14 +3171,28 @@
 
   &lt;/ol&gt;
 
+  &lt;hr&gt;
+
+  &lt;p&gt;Some obsolete legacy attributes parse colors in a more
+  complicated manner, using the &lt;dfn&gt;rules for parsing a legacy color
+  value&lt;/dfn&gt;, which are given in the following algorithm. When
+  invoked, the steps must be followed in the order given, aborting at
+  the first step that returns a value. This algorithm will either
+  return a &lt;span&gt;simple color&lt;/span&gt; or an error.&lt;/p&gt;
+
+  &lt;ol class=XXX&gt;
+
+   &lt;li&gt;...
+
+  &lt;/ol&gt;
+
+  &lt;hr&gt;
+
   &lt;p class=&quot;note&quot;&gt;The &lt;span title=&quot;canvas-context-2d&quot;&gt;2D graphics
   context&lt;/span&gt; has a separate color syntax that also handles
   opacity.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Some obsolete legacy attributes parse colors in a
-  more complicated manner.&lt;/p&gt;
 
-
   &lt;h4&gt;Space-separated tokens&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn&gt;set of space-separated tokens&lt;/dfn&gt; is a set of zero or
@@ -61091,34 +61102,8 @@
   &lt;p class=&quot;XXX&quot;&gt;Please send feedback if you can accurately describe
   rules required by legacy content.&lt;/p&gt;
 
-  &lt;p&gt;When the text below says that an attribute &lt;var
-  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
-  &lt;dfn&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var
-  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
-  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
-  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
-  using the &lt;span&gt;rules for parsing non-negative integers&lt;/span&gt;
-  doesn't generate an error, then the user agent is expected to use
-  the parsed value as a pixel length for a &lt;span title=&quot;presentational
-  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var
-  title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the text below says that an attribute &lt;var
-  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
-  &lt;dfn&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var
-  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
-  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
-  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
-  using the &lt;span&gt;rules for parsing dimension values&lt;/span&gt; doesn't
-  generate an error, then the user agent is expected to use the parsed
-  dimension as the value for a &lt;span title=&quot;presentational
-  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;,
-  with the value given as a pixel length if the dimension was an
-  integer, and with the value given as a percentage if the dimension
-  was a percentage.&lt;/p&gt;
 
-
-
   &lt;h4&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -61251,6 +61236,34 @@
 
   &lt;hr&gt;
 
+  &lt;p&gt;When the text below says that an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
+  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;span&gt;rules for parsing non-negative integers&lt;/span&gt;
+  doesn't generate an error, then the user agent is expected to use
+  the parsed value as a pixel length for a &lt;span title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When the text below says that an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
+  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;span&gt;rules for parsing dimension values&lt;/span&gt; doesn't
+  generate an error, then the user agent is expected to use the parsed
+  dimension as the value for a &lt;span title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;, with the value given as a pixel length if
+  the dimension was an integer, and with the value given as a
+  percentage if the dimension was a percentage.&lt;/p&gt;
+
+  &lt;hr&gt;
+
   &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
   title=&quot;attr-table-cellspacing&quot;&gt;cellspacing&lt;/code&gt; attribute
   &lt;span&gt;maps to the pixel length property&lt;/span&gt; 'border-spacing' on the
@@ -61472,19 +61485,71 @@
 
   &lt;hr&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...background...&lt;/p&gt;
-  &lt;!-- body, table, td, th, tbody, tfoot, thead, tr: background (empty string ignored?), bgcolor --&gt;
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt;, &lt;code&gt;table&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+  &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;,
+  &lt;code&gt;td&lt;/code&gt;, or &lt;code&gt;th&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-background&quot;&gt;background&lt;/code&gt; attribute set to a
+  non-empty value, the new value is expected to be &lt;span
+  title=&quot;resolve a url&quot;&gt;resolved&lt;/span&gt; relative to the element, and
+  if this is successful, the user agent is expected to treat the
+  attribute as a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt; setting the element's 'background-image' property to the
+  resulting &lt;span&gt;absolute URL&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt;, &lt;code&gt;table&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+  &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;,
+  &lt;code&gt;td&lt;/code&gt;, or &lt;code&gt;th&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-bgcolor&quot;&gt;bgcolor&lt;/code&gt; attribute set, the new value is
+  expected to be parsed using the &lt;span&gt;rules for parsing a legacy
+  color value&lt;/span&gt;, and the user agent is expected to treat the
+  attribute as a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt; setting the element's 'background-color' property to the
+  resulting color.&lt;/p&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...body...&lt;/p&gt;
-  &lt;!--link, vlink, alink, text --&gt;
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-body-text&quot;&gt;text&lt;/code&gt; attribute, its value is expected
+  to be parsed using the &lt;span&gt;rules for parsing a legacy color
+  value&lt;/span&gt;, and the user agent is expected to treat the attribute
+  as a &lt;span title=&quot;presentational hints&quot;&gt;presentational hint&lt;/span&gt;
+  setting the element's 'color' property to the resulting color.&lt;/p&gt;
 
-  &lt;hr&gt;
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-body-link&quot;&gt;link&lt;/code&gt; attribute, its value is expected
+  to be parsed using the &lt;span&gt;rules for parsing a legacy color
+  value&lt;/span&gt;, and the user agent is expected to treat the attribute
+  as a &lt;span title=&quot;presentational hints&quot;&gt;presentational hint&lt;/span&gt;
+  setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':link' pseudo-class to the
+  resulting color.&lt;/p&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...tables...&lt;/p&gt;
-  &lt;!-- table: bordercolor --&gt;
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-body-vlink&quot;&gt;vlink&lt;/code&gt; attribute, its value is
+  expected to be parsed using the &lt;span&gt;rules for parsing a legacy
+  color value&lt;/span&gt;, and the user agent is expected to treat the
+  attribute as a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt; setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':visited' pseudo-class to the
+  resulting color.&lt;/p&gt;
 
+  &lt;p&gt;When a &lt;code&gt;body&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-body-alink&quot;&gt;alink&lt;/code&gt; attribute, its value is
+  expected to be parsed using the &lt;span&gt;rules for parsing a legacy
+  color value&lt;/span&gt;, and the user agent is expected to treat the
+  attribute as a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt; setting the 'color' property of any element in the
+  &lt;code&gt;Document&lt;/code&gt; matching the ':active' pseudo-class and either
+  the ':link' pseudo-class or the ':visited' pseudo-class to the
+  resulting color.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;code&gt;table&lt;/code&gt; element has a &lt;code
+  title=&quot;attr-table-bordercolor&quot;&gt;bordercolor&lt;/code&gt; attribute, its
+  value is expected to be parsed using the &lt;span&gt;rules for parsing a
+  legacy color value&lt;/span&gt;, and the user agent is expected to treat
+  the attribute as a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt; setting the element's 'border-top-color',
+  'border-right-color', 'border-bottom-color', and
+  'border-right-color' properties to the resulting color.&lt;/p&gt;
+
   &lt;hr&gt;
 
   &lt;p class=&quot;XXX&quot;&gt;...font...&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009634.html">[html5] r2750 - [] (0) Filling in the rendering section: more	margin and alignment presentationa [...]
</A></li>
	<LI>Next message: <A HREF="009636.html">[html5] r2752 - [] (0) Filling in the rendering section: &lt;font&gt; and	related changes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9635">[ date ]</a>
              <a href="thread.html#9635">[ thread ]</a>
              <a href="subject.html#9635">[ subject ]</a>
              <a href="author.html#9635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
