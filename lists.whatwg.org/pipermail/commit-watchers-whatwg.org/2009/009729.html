<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2845 - [gow] (2) Define that &lt;canvas&gt;'s drawImage() can	take a &lt;video&gt;.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2845%20-%20%5Bgow%5D%20%282%29%20Define%20that%20%3Ccanvas%3E%27s%20drawImage%28%29%20can%0A%09take%20a%20%3Cvideo%3E.&In-Reply-To=%3C20090220011020.BF6D1138A05%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009728.html">
   <LINK REL="Next"  HREF="009730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2845 - [gow] (2) Define that &lt;canvas&gt;'s drawImage() can	take a &lt;video&gt;.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2845%20-%20%5Bgow%5D%20%282%29%20Define%20that%20%3Ccanvas%3E%27s%20drawImage%28%29%20can%0A%09take%20a%20%3Cvideo%3E.&In-Reply-To=%3C20090220011020.BF6D1138A05%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2845 - [gow] (2) Define that &lt;canvas&gt;'s drawImage() can	take a &lt;video&gt;.">whatwg at whatwg.org
       </A><BR>
    <I>Thu Feb 19 17:10:20 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009728.html">[html5] r2844 - [] (0) Give up on 205. Define how session history	updates work without breaking [...]
</A></li>
        <LI>Next message: <A HREF="009730.html">[html5] r2846 - [e] (0) note feature requests for audio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9729">[ date ]</a>
              <a href="thread.html#9729">[ thread ]</a>
              <a href="subject.html#9729">[ subject ]</a>
              <a href="author.html#9729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-02-19 17:10:19 -0800 (Thu, 19 Feb 2009)
New Revision: 2845

Modified:
   index
   source
Log:
[gow] (2) Define that &lt;canvas&gt;'s drawImage() can take a &lt;video&gt;.

Modified: index
===================================================================
--- index	2009-02-19 11:30:24 UTC (rev 2844)
+++ index	2009-02-20 01:10:19 UTC (rev 2845)
@@ -34,7 +34,7 @@
   &lt;div class=head&gt;
    &lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG src=/images/logo&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;h1&gt;HTML 5&lt;/h1&gt;
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 19 February 2009&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 20 February 2009&lt;/h2&gt;
    &lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -17782,9 +17782,10 @@
   attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
-  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;), the
-  &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; either the
-  &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;, or nothing.&lt;/p&gt;
+  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; but no video
+  data has yet been obtained at all), the &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; element
+  &lt;a href=#represents&gt;represents&lt;/a&gt; either the &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;, or
+  nothing.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; and the &lt;a href=#current-playback-position title=&quot;current
   playback position&quot;&gt;current playback position&lt;/a&gt; is the first
@@ -20249,11 +20250,13 @@
   void &lt;span title=&quot;dom-context-2d-strokeVerticalText&quot;&gt;strokeVerticalText&lt;/span&gt;(in DOMString text, in float x, in float y, [Optional] in float maxHeight); --&gt;
   &lt;a href=#textmetrics&gt;TextMetrics&lt;/a&gt; &lt;a href=#dom-context-2d-measuretext title=dom-context-2d-measureText&gt;measureText&lt;/a&gt;(in DOMString text);
 
-  // drawing images&lt;!-- XXX add and define HTMLVideoElement variants --&gt;
+  // drawing images
   void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
   void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
   void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
   void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
+  void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
+  void &lt;a href=#dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;drawImage&lt;/a&gt;(in &lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
 
   // pixel manipulation
   &lt;a href=#imagedata&gt;ImageData&lt;/a&gt; &lt;a href=#dom-context-2d-createimagedata title=dom-context-2d-createImageData&gt;createImageData&lt;/a&gt;(in float sw, in float sh);
@@ -21662,24 +21665,27 @@
   &lt;p&gt;To draw images onto the canvas, the &lt;dfn id=dom-context-2d-drawimage title=dom-context-2d-drawImage&gt;&lt;code&gt;drawImage&lt;/code&gt;&lt;/dfn&gt; method
   can be used.&lt;/p&gt;
 
-  &lt;p&gt;This method is overloaded with three variants: &lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;. (Actually it is
-  overloaded with six; each of those three can take either an
-  &lt;code&gt;&lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or an &lt;code&gt;&lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;
-  for the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument.)  If not specified, the
-  &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must
-  default to the values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted such that one CSS pixel in the image
-  is treated as one unit in the canvas coordinate space. If the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;,
-  and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they must default
-  to 0, 0, the image's intrinsic width in image pixels, and the
-  image's intrinsic height in image pixels, respectively.&lt;/p&gt;
+  &lt;p&gt;This method can be invoked with three different sets of argments:&lt;/p&gt;
 
+  &lt;ul class=brief&gt;&lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;
+  &lt;/ul&gt;&lt;p&gt;Each of those three can take either an
+  &lt;code&gt;&lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt;, an &lt;code&gt;&lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;, or
+  an &lt;code&gt;&lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt;&lt;/code&gt; for the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
+  argument.&lt;/p&gt;
+
+  &lt;p&gt;If not specified, the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must default to the values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted such that
+  one CSS pixel in the image is treated as one unit in the canvas
+  coordinate space. If the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they must default to 0, 0,
+  the image's intrinsic width in image pixels, and the image's
+  intrinsic height in image pixels, respectively.&lt;/p&gt;
+
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
-  &lt;code&gt;&lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;. If
-  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the
-  implementation must raise a &lt;code&gt;&lt;a href=#type_mismatch_err&gt;TYPE_MISMATCH_ERR&lt;/a&gt;&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#htmlcanvaselement&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;, or
+  &lt;code&gt;&lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt;&lt;/code&gt;. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is
+  of the wrong type or null, the implementation must raise a
+  &lt;code&gt;&lt;a href=#type_mismatch_err&gt;TYPE_MISMATCH_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
@@ -21688,15 +21694,21 @@
   exception.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
-  &lt;!-- handled by the next paragraph
+  &lt;!-- handled by a later paragraph
   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
   &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizontal
   dimension or a vertical dimension equal to zero, then the
-  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  implementation must raise an &lt;code&gt;INVALID_SIZE_ERR&lt;/code&gt;
   exception.&lt;/p&gt;
   --&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;&lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt;&lt;/code&gt; object whose &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
+  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;, then the
+  implementation must raise an &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt;
+  exception.&lt;/p&gt;
+
   &lt;p&gt;The source rectangle is the rectangle whose corners are the four
   points (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;).&lt;/p&gt;
 
@@ -21725,11 +21737,16 @@
   onto overlapping parts of itself.&lt;/p&gt;
 
   &lt;p&gt;When the &lt;code title=dom-context-2d-drawImage&gt;&lt;a href=#dom-context-2d-drawimage&gt;drawImage()&lt;/a&gt;&lt;/code&gt; method is
-  passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated
-  image, the poster frame of the animation, or the first frame of the
-  animation if there is no poster frame, must be used.&lt;/p&gt;
+  passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an
+  &lt;code&gt;&lt;a href=#htmlimageelement&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; representing an animated image, the
+  poster frame of the animation, or the first frame of the animation
+  if there is no poster frame, must be used.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;When the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;&lt;a href=#htmlvideoelement&gt;HTMLVideoElement&lt;/a&gt;&lt;/code&gt;, then the frame at the &lt;a href=#current-playback-position&gt;current
+  playback position&lt;/a&gt; must be used as the source image.&lt;/p&gt;
+
   &lt;p&gt;Images are painted without affecting the current path, and are
   subject to &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
   operators&lt;/a&gt;.&lt;/p&gt;

Modified: source
===================================================================
--- source	2009-02-19 11:30:24 UTC (rev 2844)
+++ source	2009-02-20 01:10:19 UTC (rev 2845)
@@ -19034,10 +19034,11 @@
 
   &lt;p&gt;When no video data is available (the element's &lt;code
   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
-  &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt; or &lt;code
-  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;), the
-  &lt;code&gt;video&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; either the
-  &lt;span&gt;poster frame&lt;/span&gt;, or nothing.&lt;/p&gt;
+  &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, or &lt;code
+  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; but no video
+  data has yet been obtained at all), the &lt;code&gt;video&lt;/code&gt; element
+  &lt;span&gt;represents&lt;/span&gt; either the &lt;span&gt;poster frame&lt;/span&gt;, or
+  nothing.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element is &lt;span
   title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt; and the &lt;span title=&quot;current
@@ -21956,11 +21957,13 @@
   void &lt;span title=&quot;dom-context-2d-strokeVerticalText&quot;&gt;strokeVerticalText&lt;/span&gt;(in DOMString text, in float x, in float y, [Optional] in float maxHeight); --&gt;
   &lt;span&gt;TextMetrics&lt;/span&gt; &lt;span title=&quot;dom-context-2d-measureText&quot;&gt;measureText&lt;/span&gt;(in DOMString text);
 
-  // drawing images&lt;!-- XXX add and define HTMLVideoElement variants --&gt;
+  // drawing images
   void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLImageElement&lt;/span&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
   void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLImageElement&lt;/span&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
   void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLCanvasElement&lt;/span&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
   void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLCanvasElement&lt;/span&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
+  void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLVideoElement&lt;/span&gt; image, in float dx, in float dy, [Optional] in float dw, in float dh);
+  void &lt;span title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage&lt;/span&gt;(in &lt;span&gt;HTMLVideoElement&lt;/span&gt; image, in float sx, in float sy, in float sw, in float sh, in float dx, in float dy, in float dw, in float dh);
 
   // pixel manipulation
   &lt;span&gt;ImageData&lt;/span&gt; &lt;span title=&quot;dom-context-2d-createImageData&quot;&gt;createImageData&lt;/span&gt;(in float sw, in float sh);
@@ -23696,33 +23699,34 @@
   title=&quot;dom-context-2d-drawImage&quot;&gt;&lt;code&gt;drawImage&lt;/code&gt;&lt;/dfn&gt; method
   can be used.&lt;/p&gt;
 
-  &lt;p&gt;This method is overloaded with three variants: &lt;code
-  title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;drawImage(&lt;var
-  title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;. (Actually it is
-  overloaded with six; each of those three can take either an
-  &lt;code&gt;HTMLImageElement&lt;/code&gt; or an &lt;code&gt;HTMLCanvasElement&lt;/code&gt;
-  for the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument.)  If not specified, the
-  &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must
-  default to the values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted such that one CSS pixel in the image
-  is treated as one unit in the canvas coordinate space. If the &lt;var
-  title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;,
-  and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they must default
-  to 0, 0, the image's intrinsic width in image pixels, and the
-  image's intrinsic height in image pixels, respectively.&lt;/p&gt;
+  &lt;p&gt;This method can be invoked with three different sets of argments:&lt;/p&gt;
 
+  &lt;ul class=&quot;brief&quot;&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;
+   &lt;li&gt;&lt;code title=&quot;&quot;&gt;drawImage(&lt;var title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;)&lt;/code&gt;
+  &lt;/ul&gt;
+
+  &lt;p&gt;Each of those three can take either an
+  &lt;code&gt;HTMLImageElement&lt;/code&gt;, an &lt;code&gt;HTMLCanvasElement&lt;/code&gt;, or
+  an &lt;code&gt;HTMLVideoElement&lt;/code&gt; for the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
+  argument.&lt;/p&gt;
+
+  &lt;p&gt;If not specified, the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var
+  title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must default to the values of &lt;var
+  title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted such that
+  one CSS pixel in the image is treated as one unit in the canvas
+  coordinate space. If the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they must default to 0, 0,
+  the image's intrinsic width in image pixels, and the image's
+  intrinsic height in image pixels, respectively.&lt;/p&gt;
+
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
-  &lt;code&gt;HTMLImageElement&lt;/code&gt; or &lt;code&gt;HTMLCanvasElement&lt;/code&gt;. If
-  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the
-  implementation must raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;code&gt;HTMLImageElement&lt;/code&gt;, &lt;code&gt;HTMLCanvasElement&lt;/code&gt;, or
+  &lt;code&gt;HTMLVideoElement&lt;/code&gt;. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is
+  of the wrong type or null, the implementation must raise a
+  &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
@@ -23732,15 +23736,23 @@
   exception.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
-  &lt;!-- handled by the next paragraph
+  &lt;!-- handled by a later paragraph
   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
   &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizontal
   dimension or a vertical dimension equal to zero, then the
-  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  implementation must raise an &lt;code&gt;INVALID_SIZE_ERR&lt;/code&gt;
   exception.&lt;/p&gt;
   --&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLVideoElement&lt;/code&gt; object whose &lt;code
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
+  &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt; or &lt;code
+  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;, then the
+  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+
   &lt;p&gt;The source rectangle is the rectangle whose corners are the four
   points (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var
   title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var
@@ -23780,11 +23792,16 @@
 
   &lt;p&gt;When the &lt;code
   title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; method is
-  passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated
-  image, the poster frame of the animation, or the first frame of the
-  animation if there is no poster frame, must be used.&lt;/p&gt;
+  passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an
+  &lt;code&gt;HTMLImageElement&lt;/code&gt; representing an animated image, the
+  poster frame of the animation, or the first frame of the animation
+  if there is no poster frame, must be used.&lt;/p&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;When the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLVideoElement&lt;/code&gt;, then the frame at the &lt;span&gt;current
+  playback position&lt;/span&gt; must be used as the source image.&lt;/p&gt;
+
   &lt;p&gt;Images are painted without affecting the current path, and are
   subject to &lt;span title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, &lt;span
   title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, the &lt;span


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009728.html">[html5] r2844 - [] (0) Give up on 205. Define how session history	updates work without breaking [...]
</A></li>
	<LI>Next message: <A HREF="009730.html">[html5] r2846 - [e] (0) note feature requests for audio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9729">[ date ]</a>
              <a href="thread.html#9729">[ thread ]</a>
              <a href="subject.html#9729">[ subject ]</a>
              <a href="author.html#9729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
