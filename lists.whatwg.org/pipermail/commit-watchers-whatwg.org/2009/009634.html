<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2750 - [] (0) Filling in the rendering section: more	margin and alignment presentationa [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2750%20-%20%5B%5D%20%280%29%20Filling%20in%20the%20rendering%20section%3A%20more%0A%09margin%20and%20alignment%20presentationa%20%5B...%5D&In-Reply-To=%3C20090204100929.4922E138A05%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009633.html">
   <LINK REL="Next"  HREF="009635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2750 - [] (0) Filling in the rendering section: more	margin and alignment presentationa [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2750%20-%20%5B%5D%20%280%29%20Filling%20in%20the%20rendering%20section%3A%20more%0A%09margin%20and%20alignment%20presentationa%20%5B...%5D&In-Reply-To=%3C20090204100929.4922E138A05%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2750 - [] (0) Filling in the rendering section: more	margin and alignment presentationa [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Feb  4 02:09:29 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009633.html">[html5] r2749 - [] (0) Filling in the rendering section: &lt;body&gt;	margins; administrivia
</A></li>
        <LI>Next message: <A HREF="009635.html">[html5] r2751 - [] (0) Filling in the rendering section:	color-related presentational hints; fix [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9634">[ date ]</a>
              <a href="thread.html#9634">[ thread ]</a>
              <a href="subject.html#9634">[ subject ]</a>
              <a href="author.html#9634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-02-04 02:09:28 -0800 (Wed, 04 Feb 2009)
New Revision: 2750

Modified:
   index
   source
Log:
[] (0) Filling in the rendering section: more margin and alignment presentational hints; fixing the infrastructure around this stuff.

Modified: index
===================================================================
--- index	2009-02-04 02:56:15 UTC (rev 2749)
+++ index	2009-02-04 10:09:28 UTC (rev 2750)
@@ -241,7 +241,7 @@
        &lt;li&gt;&lt;a href=#signed-integers&gt;&lt;span class=secno&gt;2.4.3.2 &lt;/span&gt;Signed integers&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#real-numbers&gt;&lt;span class=secno&gt;2.4.3.3 &lt;/span&gt;Real numbers&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#ratios&gt;&lt;span class=secno&gt;2.4.3.4 &lt;/span&gt;Ratios&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5 &lt;/span&gt;Percentages and dimensions&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5 &lt;/span&gt;Percentages and lengths&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#lists-of-integers&gt;&lt;span class=secno&gt;2.4.3.6 &lt;/span&gt;Lists of integers&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#dates-and-times&gt;&lt;span class=secno&gt;2.4.4 &lt;/span&gt;Dates and times&lt;/a&gt;
       &lt;ol&gt;
@@ -2601,16 +2601,98 @@
 
    &lt;li&gt;Return &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5 &lt;/span&gt;Percentages and dimensions&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5 &lt;/span&gt;Percentages and lengths&lt;/h5&gt;
 
-  &lt;p class=XXX&gt;&lt;dfn id=rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/dfn&gt; (only
-  used by height/width on img, embed, object &mdash; lengths in css
-  pixels or percentages)&lt;/p&gt;
+  &lt;p&gt;A string is a &lt;dfn id=valid-dimension-value&gt;valid dimension value&lt;/dfn&gt; if it consists of
+  a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
+  (9), optionally followed by zero of more characters in the range
+  U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally followed
+  by a U+002E FULL STOP character (.) and one of more characters in
+  the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and
+  optionally suffixed by a U+0025 PERCENT SIGN character (%).&lt;/p&gt;
 
+  &lt;p&gt;A &lt;a href=#valid-dimension-value&gt;valid dimension value&lt;/a&gt; represents the number that
+  is represented in base ten by that string of digits, optionally with
+  a fractional component. If the U+0025 PERCENT SIGN is present, then
+  the dimension is a percentage; otherwise, it is a length.&lt;/p&gt;
 
+  &lt;p class=note&gt;For historical reasons, percentanges and lengths
+  less than 1.0 cannot be represented as &lt;a href=#valid-dimension-value title=&quot;valid dimension
+  value&quot;&gt;valid dimension values&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;h5 id=lists-of-integers&gt;&lt;span class=secno&gt;2.4.3.6 &lt;/span&gt;Lists of integers&lt;/h5&gt;
+  &lt;p&gt;The &lt;dfn id=rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/dfn&gt; are as given in
+  the following algorithm. When invoked, the steps must be followed in
+  the order given, aborting at the first step that returns a
+  value. This algorithm will either return a number greater than or
+  equal to 1.0, or an error; if a number is returned, then it is
+  further categorised as either a percentage or a length.&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#skip-whitespace&gt;Skip whitespace&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return an error.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is a U+002B PLUS SIGN character (+),
+   advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
+   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return an error.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is not one of U+0031 DIGIT ONE (1)
+   .. U+0039 DIGIT NINE (9), then return an error.&lt;/li&gt;
+
+   &lt;!-- Ok. At this point we know we have a number. It might have
+   trailing garbage which we'll ignore, but it's a number, and we
+   won't return an error. --&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
+   resulting sequence as a base-ten integer. Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be that number.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as an
+   integer.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the next character is a U+002E FULL STOP character (.):&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
+     character.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the next character is not one of U+0030 DIGIT ZERO (0)
+     .. U+0039 DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
+     as an integer.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). Let &lt;var title=&quot;&quot;&gt;length&lt;/var&gt; be the number of characters collected. Let
+     &lt;var title=&quot;&quot;&gt;fraction&lt;/var&gt; be the result of interpreting the
+     collected characters as a base-ten integer, and then dividing
+     that number by &lt;span title=&quot;&quot;&gt;10&lt;sup title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;length&lt;/var&gt;&lt;/sup&gt;&lt;/span&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Increment &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;fraction&lt;/var&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
+   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a
+   length.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is a U+0025 PERCENT SIGN character
+   (%), return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a percentage.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a length.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h5 id=lists-of-integers&gt;&lt;span class=secno&gt;2.4.3.6 &lt;/span&gt;Lists of integers&lt;/h5&gt;
+
   &lt;p&gt;A &lt;dfn id=valid-list-of-integers&gt;valid list of integers&lt;/dfn&gt; is a number of &lt;a href=#valid-integer title=&quot;valid integer&quot;&gt;valid integers&lt;/a&gt; separated by U+002C
   COMMA characters, with no other characters (e.g. no &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt;). In addition, there
   might be restrictions on the number of integers that can be given,
@@ -55784,10 +55866,15 @@
 
   &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;10.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
-  &lt;p&gt;The CSS rules given in these subsections are expected to be used
-  as the defaults for all documents that contain &lt;a href=#html-elements&gt;HTML
-  elements&lt;/a&gt; when presented in visual media.&lt;/p&gt;
+  &lt;p&gt;The CSS rules given in these subsections are, unless otherwise
+  specified, expected to be used as part of the user-agent level style
+  sheet defaults for all documents that contain &lt;a href=#html-elements&gt;HTML
+  elements&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Some rules are intended for the author-level zero-specificity
+  presentational hints part of the CSS cascade; these are explicitly
+  called out as &lt;dfn id=presentational-hints&gt;presentational hints&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;p&gt;Rules regarding left and right margins are given here as
   appropriate for elements whose 'direction' property is 'ltr', and
   are expected to be flipped around on elements whose 'direction'
@@ -55796,7 +55883,25 @@
   &lt;p class=XXX&gt;Please send feedback if you can accurately describe
   rules required by legacy content.&lt;/p&gt;
 
+  &lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn id=maps-to-the-pixel-length-property&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing non-negative integers&lt;/a&gt;
+  doesn't generate an error, then the user agent is expected to use
+  the parsed value as a pixel length for a &lt;a href=#presentational-hints title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
 
+  &lt;p&gt;When the text below says that an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn id=maps-to-the-dimension-property&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;a href=#rules-for-parsing-dimension-values&gt;rules for parsing dimension values&lt;/a&gt; doesn't
+  generate an error, then the user agent is expected to use the parsed
+  dimension as the value for a &lt;a href=#presentational-hints title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;,
+  with the value given as a pixel length if the dimension was an
+  integer, and with the value given as a percentage if the dimension
+  was a percentage.&lt;/p&gt;
+
+
+
   &lt;h4 id=display-types&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -55865,31 +55970,14 @@
 table { border-spacing: 2px; border-collapse: separate; }
 td, th { padding: 1px; }&lt;/pre&gt;
 
-  &lt;p&gt;In &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, the following rules are also
-  expected to apply:&lt;/p&gt;
+  &lt;p&gt;For each property in the table below, given a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;
+  element, the first attribute that exists &lt;a href=#maps-to-the-pixel-length-property&gt;maps to the pixel
+  length property&lt;/a&gt; on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element. If none of
+  the attributes for a property are found, or if the value of the
+  attribute that was found cannot be parsed successfully, then a
+  default value of 8px is expected to be used for that property
+  instead.&lt;/p&gt;
 
-  &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
-form { margin-bottom: 1em; }
-img[align=left] { margin-right: 3px; }
-img[align=right] { margin-left: 3px; }&lt;/pre&gt;
-
-  &lt;p&gt;When a &lt;code&gt;Document&lt;/code&gt; is in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;,
-  margins on &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; that collapse with the top or
-  bottom of the initial containing block are expected to be collapsed
-  to zero.&lt;/p&gt;
-
-  &lt;hr&gt;&lt;p&gt;For a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, the 'margin-top',
-  'margin-right', 'margin-bottom', and 'margin-left' properties are
-  expected to be set by presentational hints from a variety of source,
-  given in the table below in precedence order. If one of the
-  attributes listed is present, then the first such attribute's value
-  is expected to be parsed using the &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing
-  non-negative integers&lt;/a&gt;; if this does not result in an error,
-  then the parsed value is expected to be used as a pixel length for
-  the corresponding property. If no attribute is found, or if the
-  attribute's value cannot be parsed successfully, then a default
-  value of 8px is expected to be used.&lt;/p&gt;
-
   &lt;!-- XXX so, uh, about the cross-site-styling hole below... --&gt;
 
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Property
@@ -55919,14 +56007,68 @@
   &lt;code&gt;frame&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; element. Otherwise, there
   is no &lt;a href=#container-frame-element&gt;container frame element&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p class=XXX&gt;...tables...&lt;/p&gt;
-  &lt;!-- cellspacing, cellpadding, height, width* (int/%; *width=0 =&gt; width:auto); &lt;table hspace/vspace&gt; (int); &lt;table cols&gt;; &lt;table border&gt; (border =&gt; border=1); --&gt;
-  &lt;!-- td/th width height: 0=&gt;auto; %=&gt;%; n=&gt;px --&gt;
-  &lt;!-- col width=int/% span=n --&gt;
-  &lt;!-- tbody/thead/tfoot height=int/% (ignore %?) --&gt;
-  &lt;!-- tr height=int/% --&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-cellspacing&gt;cellspacing&lt;/code&gt; attribute
+  &lt;a href=#maps-to-the-pixel-length-property&gt;maps to the pixel length property&lt;/a&gt; 'border-spacing' on the
+  element.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-cellpadding&gt;cellpadding&lt;/code&gt; attribute &lt;a href=#maps-to-the-pixel-length-property title=&quot;maps to the pixel length property&quot;&gt;maps to the pixel length
+  properties&lt;/a&gt; 'padding-top', 'padding-right', 'padding-bottom',
+  and 'padding-left' of any &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt;
+  elements that have corresponding &lt;a href=#concept-cell title=concept-cell&gt;cells&lt;/a&gt; in the &lt;a href=#concept-table title=concept-table&gt;table&lt;/a&gt; corresponding to the
+  &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-hspace&gt;hspace&lt;/code&gt; attribute &lt;a href=#maps-to-the-pixel-length-property title=&quot;maps
+  to the pixel length property&quot;&gt;maps to the pixel length properties&lt;/a&gt;
+  'margin-left' and 'margin-right' on the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-vspace&gt;vspace&lt;/code&gt; attribute &lt;a href=#maps-to-the-pixel-length-property title=&quot;maps
+  to the pixel length property&quot;&gt;maps to the pixel length properties&lt;/a&gt;
+  'margin-top' and 'margin-bottom' on the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-height&gt;height&lt;/code&gt; attribute &lt;a href=#maps-to-the-dimension-property&gt;maps to the
+  dimension property&lt;/a&gt; 'height' on the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-table-width&gt;width&lt;/code&gt; attribute &lt;a href=#maps-to-the-dimension-property&gt;maps to the
+  dimension property&lt;/a&gt; 'width' on the &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-col-width&gt;width&lt;/code&gt; attribute &lt;a href=#maps-to-the-dimension-property&gt;maps to the
+  dimension property&lt;/a&gt; 'width' on the &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-tr-height&gt;height&lt;/code&gt; attribute &lt;a href=#maps-to-the-dimension-property&gt;maps to the
+  dimension property&lt;/a&gt; 'height' on the &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements' &lt;code title=attr-tdth-height&gt;height&lt;/code&gt; attributes &lt;a href=#maps-to-the-dimension-property title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/a&gt; 'height'
+  on the element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements' &lt;code title=attr-tdth-height&gt;height&lt;/code&gt; attributes &lt;a href=#maps-to-the-dimension-property title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/a&gt; 'height'
+  on the element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements' &lt;code title=attr-tdth-width&gt;width&lt;/code&gt; attributes &lt;a href=#maps-to-the-dimension-property title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/a&gt; 'width'
+  on the element.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;In &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, the following rules are also
+  expected to apply:&lt;/p&gt;
+
+  &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
+form { margin-bottom: 1em; }
+img[align=left] { margin-right: 3px; }
+img[align=right] { margin-left: 3px; }&lt;/pre&gt;
+
+  &lt;p&gt;When a &lt;code&gt;Document&lt;/code&gt; is in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;,
+  margins on &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; that collapse with the top or
+  bottom of the initial containing block are expected to be collapsed
+  to zero.&lt;/p&gt;
+
+
   &lt;h4 id=alignment&gt;&lt;span class=secno&gt;10.3.4 &lt;/span&gt;Alignment&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -55935,28 +56077,92 @@
 tr, td, th { vertical-align: inherit; }
 sub { vertical-align: sub; }
 sup { vertical-align: super; }
+th { text-align: center; }&lt;/pre&gt;
 
+  &lt;hr&gt;&lt;p&gt;The following rules are also expected to apply, as
+  &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;:&lt;/p&gt;
+
+  &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
+
 table[align=left], img[align=left] { float: left; }
 table[align=right], img[align=right] { float: right; }
-th { text-align: center; }&lt;/pre&gt;
+table[align=center], table[align=abscenter],
+table[align=abdmiddle], table[align=middle] {
+  margin-left: auto; margin-right: auto;
+}
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#center&gt;center&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; elements are
-  expected to center text within themselves, as if they had their
-  'text-align' property set to 'center', and to center blocks and
-  tables within them, as their descendants had their horizontal
-  margins set to 'auto'.&lt;/p&gt;
+caption[align=bottom] { caption-side: bottom; }
+p[align=left], h1[align=left], h2[align=left], h3[align=left],
+h4[align=left], h5[align=left], h6[align=left] {
+  text-align: left;
+}
+p[align=right], h1[align=right], h2[align=right], h3[align=right],
+h4[align=right], h5[align=right], h6[align=right] {
+  text-align: right;
+}
+p[align=center], h1[align=center], h2[align=center], h3[align=center],
+h4[align=center], h5[align=center], h6[align=center] {
+  text-align: center;
+}
+p[align=justify], h1[align=justify], h2[align=justify], h3[align=justify],
+h4[align=justify], h5[align=justify], h6[align=justify] {
+  text-align: justify;
+}
+col[valign=top], thead[valign=top], tbody[valign=top],
+tfoot[valign=top], tr[valign=top], td[valign=top], th[valign=top] {
+  vertial-align: top;
+}
+col[valign=middle], thead[valign=middle], tbody[valign=middle],
+tfoot[valign=middle], tr[valign=middle], td[valign=middle], th[valign=middle] {
+  vertial-align: middle;
+}
+col[valign=bottom], thead[valign=bottom], tbody[valign=bottom],
+tfoot[valign=bottom], tr[valign=bottom], td[valign=bottom], th[valign=bottom] {
+  vertial-align: bottom;
+}
+col[valign=baseline], thead[valign=baseline], tbody[valign=baseline],
+tfoot[valign=baseline], tr[valign=baseline], td[valign=baseline], th[valign=baseline] {
+  vertial-align: baseline;
+}&lt;/pre&gt;
 
-  &lt;!-- XXX &lt;div/h1-h6/p align=&quot;left|right|center/middle|justify&quot;&gt; --&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#center&gt;center&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element
+  unless specified otherwise below, and the &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt; element
+  when its &lt;code title=attr-div-align&gt;align&lt;/code&gt; attribute's value
+  is an &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for the string
+  &quot;&lt;code title=&quot;&quot;&gt;center&lt;/code&gt;&quot;, are expected to center text within
+  themselves, as if they had their 'text-align' property set to
+  'center' in a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt;, and to center blocks and tables within them, as if
+  their descendants had their 'margin-left' and 'margin-right'
+  properties set to 'auto' in &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p class=XXX&gt;...tables...&lt;/p&gt;
-  &lt;!-- table                           align=&quot;left|right|center/abscenter/absmiddle/middle|char|justify&quot; --&gt;
-  &lt;!-- caption                         align=&quot;left|right|top|bottom&quot; caption-side --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  align=&quot;left|right|center/absmiddle|char|justify&quot; --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  valign=&quot;top|middle|bottom|baseline&quot; --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  ch=? charoff=n&gt;0 --&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements, when they have an
+  &lt;code title=attr-align&gt;align&lt;/code&gt; attribute whose value is an
+  &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;left&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;justify&lt;/code&gt;&quot;, are
+  expected to left-align text within themselves, as if they had their
+  'text-align' property set to 'left' in a &lt;a href=#presentational-hints title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/a&gt;, and to left-align blocks and
+  tables within them, as if their descendants had their 'margin-right'
+  property set to 'auto' in &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; elements, when they have an
+  &lt;code title=attr-align&gt;align&lt;/code&gt; attribute whose value is an
+  &lt;a href=#ascii-case-insensitive&gt;ASCII case-insensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;right&lt;/code&gt;&quot;, are expected to right-align text within
+  themselves, as if they had their 'text-align' property set to
+  'right' in a &lt;a href=#presentational-hints title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/a&gt;, and to right-align blocks and tables within them, as if
+  their descendants had their 'margin-left' property set to 'auto' in
+  &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;In all these cases, the effect on descendants is expected to only
+  extend to descendants that do not themselves have an applicable
+  &lt;code title=attr-align&gt;align&lt;/code&gt; attribute.&lt;/p&gt;
 
+
   &lt;h4 id=fonts-and-colors&gt;&lt;span class=secno&gt;10.3.5 &lt;/span&gt;Fonts and colors&lt;/h4&gt;
 
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -56080,7 +56286,7 @@
   &lt;!-- XXX &lt;ol&gt;/&lt;ul&gt; type (1|a|A|i|I|disc|circle/round|square), start (n); &lt;li&gt; type (A|a|I|i|1|disc|circle/round|square), value (n) --&gt;
 
   &lt;hr&gt;&lt;p class=XXX&gt;...tables...&lt;/p&gt;
-  &lt;!-- table: rules/layout/frames --&gt;
+  &lt;!-- table: rules/layout/frames; &lt;table border&gt; (border =&gt; border=1);  --&gt;
 
 
   &lt;h4 id=resetting-rules-for-inherited-properties&gt;&lt;span class=secno&gt;10.3.7 &lt;/span&gt;Resetting rules for inherited properties&lt;/h4&gt;

Modified: source
===================================================================
--- source	2009-02-04 02:56:15 UTC (rev 2749)
+++ source	2009-02-04 10:09:28 UTC (rev 2750)
@@ -1707,14 +1707,115 @@
   &lt;/ol&gt;
 
 
-  &lt;h5 id=&quot;percentages-and-dimensions&quot;&gt;Percentages and dimensions&lt;/h5&gt;
+  &lt;h5 id=&quot;percentages-and-dimensions&quot;&gt;Percentages and lengths&lt;/h5&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;&lt;dfn&gt;rules for parsing dimension values&lt;/dfn&gt; (only
-  used by height/width on img, embed, object &mdash; lengths in css
-  pixels or percentages)&lt;/p&gt;
+  &lt;p&gt;A string is a &lt;dfn&gt;valid dimension value&lt;/dfn&gt; if it consists of
+  a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
+  (9), optionally followed by zero of more characters in the range
+  U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally followed
+  by a U+002E FULL STOP character (.) and one of more characters in
+  the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and
+  optionally suffixed by a U+0025 PERCENT SIGN character (%).&lt;/p&gt;
 
+  &lt;p&gt;A &lt;span&gt;valid dimension value&lt;/span&gt; represents the number that
+  is represented in base ten by that string of digits, optionally with
+  a fractional component. If the U+0025 PERCENT SIGN is present, then
+  the dimension is a percentage; otherwise, it is a length.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;For historical reasons, percentanges and lengths
+  less than 1.0 cannot be represented as &lt;span title=&quot;valid dimension
+  value&quot;&gt;valid dimension values&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn&gt;rules for parsing dimension values&lt;/dfn&gt; are as given in
+  the following algorithm. When invoked, the steps must be followed in
+  the order given, aborting at the first step that returns a
+  value. This algorithm will either return a number greater than or
+  equal to 1.0, or an error; if a number is returned, then it is
+  further categorised as either a percentage or a length.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Skip whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, return an error.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is a U+002B PLUS SIGN character (+),
+   advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
+   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, return an error.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is not one of U+0031 DIGIT ONE (1)
+   .. U+0039 DIGIT NINE (9), then return an error.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;!-- Ok. At this point we know we have a number. It might have
+   trailing garbage which we'll ignore, but it's a number, and we
+   won't return an error. --&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
+   resulting sequence as a base-ten integer. Let &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; be that number.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as an
+   integer.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If the next character is a U+002E FULL STOP character (.):&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
+     character.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the next character is not one of U+0030 DIGIT ZERO (0)
+     .. U+0039 DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
+     as an integer.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). Let &lt;var
+     title=&quot;&quot;&gt;length&lt;/var&gt; be the number of characters collected. Let
+     &lt;var title=&quot;&quot;&gt;fraction&lt;/var&gt; be the result of interpreting the
+     collected characters as a base-ten integer, and then dividing
+     that number by &lt;span title=&quot;&quot;&gt;10&lt;sup title=&quot;&quot;&gt;&lt;var
+     title=&quot;&quot;&gt;length&lt;/var&gt;&lt;/sup&gt;&lt;/span&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Increment &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; by &lt;var
+     title=&quot;&quot;&gt;fraction&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
+   U+0030 DIGIT ZERO (0) characters, and discard them.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a
+   length.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the next character is a U+0025 PERCENT SIGN character
+   (%), return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a percentage.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a length.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+
   &lt;h5&gt;Lists of integers&lt;/h5&gt;
 
   &lt;p&gt;A &lt;dfn&gt;valid list of integers&lt;/dfn&gt; is a number of &lt;span
@@ -60973,10 +61074,15 @@
 
   &lt;h4&gt;Introduction&lt;/h4&gt;
 
-  &lt;p&gt;The CSS rules given in these subsections are expected to be used
-  as the defaults for all documents that contain &lt;span&gt;HTML
-  elements&lt;/span&gt; when presented in visual media.&lt;/p&gt;
+  &lt;p&gt;The CSS rules given in these subsections are, unless otherwise
+  specified, expected to be used as part of the user-agent level style
+  sheet defaults for all documents that contain &lt;span&gt;HTML
+  elements&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Some rules are intended for the author-level zero-specificity
+  presentational hints part of the CSS cascade; these are explicitly
+  called out as &lt;dfn&gt;presentational hints&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;p&gt;Rules regarding left and right margins are given here as
   appropriate for elements whose 'direction' property is 'ltr', and
   are expected to be flipped around on elements whose 'direction'
@@ -60985,7 +61091,34 @@
   &lt;p class=&quot;XXX&quot;&gt;Please send feedback if you can accurately describe
   rules required by legacy content.&lt;/p&gt;
 
+  &lt;p&gt;When the text below says that an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn&gt;maps to the pixel length property&lt;/dfn&gt; (or properties) &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
+  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;span&gt;rules for parsing non-negative integers&lt;/span&gt;
+  doesn't generate an error, then the user agent is expected to use
+  the parsed value as a pixel length for a &lt;span title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var
+  title=&quot;&quot;&gt;property&lt;/var&gt;.&lt;/p&gt;
 
+  &lt;p&gt;When the text below says that an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; on an element &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;
+  &lt;dfn&gt;maps to the dimension property&lt;/dfn&gt; (or properties) &lt;var
+  title=&quot;&quot;&gt;properties&lt;/var&gt;, it means that if &lt;var
+  title=&quot;&quot;&gt;element&lt;/var&gt; has an attribute &lt;var
+  title=&quot;&quot;&gt;attribute&lt;/var&gt; set, and parsing that attribute's value
+  using the &lt;span&gt;rules for parsing dimension values&lt;/span&gt; doesn't
+  generate an error, then the user agent is expected to use the parsed
+  dimension as the value for a &lt;span title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/span&gt; for &lt;var title=&quot;&quot;&gt;property&lt;/var&gt;,
+  with the value given as a pixel length if the dimension was an
+  integer, and with the value given as a percentage if the dimension
+  was a percentage.&lt;/p&gt;
+
+
+
   &lt;h4&gt;Display types&lt;/h4&gt;
 
   &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -61058,33 +61191,14 @@
 table { border-spacing: 2px; border-collapse: separate; }
 td, th { padding: 1px; }&lt;/pre&gt;
 
-  &lt;p&gt;In &lt;span&gt;quirks mode&lt;/span&gt;, the following rules are also
-  expected to apply:&lt;/p&gt;
+  &lt;p&gt;For each property in the table below, given a &lt;code&gt;body&lt;/code&gt;
+  element, the first attribute that exists &lt;span&gt;maps to the pixel
+  length property&lt;/span&gt; on the &lt;code&gt;body&lt;/code&gt; element. If none of
+  the attributes for a property are found, or if the value of the
+  attribute that was found cannot be parsed successfully, then a
+  default value of 8px is expected to be used for that property
+  instead.&lt;/p&gt;
 
-  &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
-form { margin-bottom: 1em; }
-img[align=left] { margin-right: 3px; }
-img[align=right] { margin-left: 3px; }&lt;/pre&gt;
-
-  &lt;p&gt;When a &lt;code&gt;Document&lt;/code&gt; is in &lt;span&gt;quirks mode&lt;/span&gt;,
-  margins on &lt;span&gt;HTML elements&lt;/span&gt; that collapse with the top or
-  bottom of the initial containing block are expected to be collapsed
-  to zero.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;For a &lt;code&gt;body&lt;/code&gt; element, the 'margin-top',
-  'margin-right', 'margin-bottom', and 'margin-left' properties are
-  expected to be set by presentational hints from a variety of source,
-  given in the table below in precedence order. If one of the
-  attributes listed is present, then the first such attribute's value
-  is expected to be parsed using the &lt;span&gt;rules for parsing
-  non-negative integers&lt;/span&gt;; if this does not result in an error,
-  then the parsed value is expected to be used as a pixel length for
-  the corresponding property. If no attribute is found, or if the
-  attribute's value cannot be parsed successfully, then a default
-  value of 8px is expected to be used.&lt;/p&gt;
-
   &lt;!-- XXX so, uh, about the cross-site-styling hole below... --&gt;
 
   &lt;table&gt;
@@ -61137,14 +61251,84 @@
 
   &lt;hr&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...tables...&lt;/p&gt;
-  &lt;!-- cellspacing, cellpadding, height, width* (int/%; *width=0 =&gt; width:auto); &lt;table hspace/vspace&gt; (int); &lt;table cols&gt;; &lt;table border&gt; (border =&gt; border=1); --&gt;
-  &lt;!-- td/th width height: 0=&gt;auto; %=&gt;%; n=&gt;px --&gt;
-  &lt;!-- col width=int/% span=n --&gt;
-  &lt;!-- tbody/thead/tfoot height=int/% (ignore %?) --&gt;
-  &lt;!-- tr height=int/% --&gt;
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-cellspacing&quot;&gt;cellspacing&lt;/code&gt; attribute
+  &lt;span&gt;maps to the pixel length property&lt;/span&gt; 'border-spacing' on the
+  element.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-cellpadding&quot;&gt;cellpadding&lt;/code&gt; attribute &lt;span
+  title=&quot;maps to the pixel length property&quot;&gt;maps to the pixel length
+  properties&lt;/span&gt; 'padding-top', 'padding-right', 'padding-bottom',
+  and 'padding-left' of any &lt;code&gt;td&lt;/code&gt; and &lt;code&gt;th&lt;/code&gt;
+  elements that have corresponding &lt;span
+  title=&quot;concept-cell&quot;&gt;cells&lt;/span&gt; in the &lt;span
+  title=&quot;concept-table&quot;&gt;table&lt;/span&gt; corresponding to the
+  &lt;code&gt;table&lt;/code&gt; element.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-hspace&quot;&gt;hspace&lt;/code&gt; attribute &lt;span title=&quot;maps
+  to the pixel length property&quot;&gt;maps to the pixel length properties&lt;/span&gt;
+  'margin-left' and 'margin-right' on the &lt;code&gt;table&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-vspace&quot;&gt;vspace&lt;/code&gt; attribute &lt;span title=&quot;maps
+  to the pixel length property&quot;&gt;maps to the pixel length properties&lt;/span&gt;
+  'margin-top' and 'margin-bottom' on the &lt;code&gt;table&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-height&quot;&gt;height&lt;/code&gt; attribute &lt;span&gt;maps to the
+  dimension property&lt;/span&gt; 'height' on the &lt;code&gt;table&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;table&lt;/code&gt; element's &lt;code
+  title=&quot;attr-table-width&quot;&gt;width&lt;/code&gt; attribute &lt;span&gt;maps to the
+  dimension property&lt;/span&gt; 'width' on the &lt;code&gt;table&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;col&lt;/code&gt; element's &lt;code
+  title=&quot;attr-col-width&quot;&gt;width&lt;/code&gt; attribute &lt;span&gt;maps to the
+  dimension property&lt;/span&gt; 'width' on the &lt;code&gt;col&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;tr&lt;/code&gt; element's &lt;code
+  title=&quot;attr-tr-height&quot;&gt;height&lt;/code&gt; attribute &lt;span&gt;maps to the
+  dimension property&lt;/span&gt; 'height' on the &lt;code&gt;tr&lt;/code&gt;
+  element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;td&lt;/code&gt; and &lt;code&gt;th&lt;/code&gt; elements' &lt;code
+  title=&quot;attr-tdth-height&quot;&gt;height&lt;/code&gt; attributes &lt;span title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/span&gt; 'height'
+  on the element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;td&lt;/code&gt; and &lt;code&gt;th&lt;/code&gt; elements' &lt;code
+  title=&quot;attr-tdth-height&quot;&gt;height&lt;/code&gt; attributes &lt;span title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/span&gt; 'height'
+  on the element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;td&lt;/code&gt; and &lt;code&gt;th&lt;/code&gt; elements' &lt;code
+  title=&quot;attr-tdth-width&quot;&gt;width&lt;/code&gt; attributes &lt;span title=&quot;maps
+  to the dimension property&quot;&gt;map to the dimension property&lt;/span&gt; 'width'
+  on the element.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;In &lt;span&gt;quirks mode&lt;/span&gt;, the following rules are also
+  expected to apply:&lt;/p&gt;
+
+  &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
+form { margin-bottom: 1em; }
+img[align=left] { margin-right: 3px; }
+img[align=right] { margin-left: 3px; }&lt;/pre&gt;
+
+  &lt;p&gt;When a &lt;code&gt;Document&lt;/code&gt; is in &lt;span&gt;quirks mode&lt;/span&gt;,
+  margins on &lt;span&gt;HTML elements&lt;/span&gt; that collapse with the top or
+  bottom of the initial containing block are expected to be collapsed
+  to zero.&lt;/p&gt;
+
+
   &lt;h4&gt;Alignment&lt;/h4&gt;
 
   &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -61153,28 +61337,94 @@
 tr, td, th { vertical-align: inherit; }
 sub { vertical-align: sub; }
 sup { vertical-align: super; }
+th { text-align: center; }&lt;/pre&gt;
 
+  &lt;hr&gt;
+
+  &lt;p&gt;The following rules are also expected to apply, as
+  &lt;span&gt;presentational hints&lt;/span&gt;:&lt;/p&gt;
+
+  &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
+
 table[align=left], img[align=left] { float: left; }
 table[align=right], img[align=right] { float: right; }
-th { text-align: center; }&lt;/pre&gt;
+table[align=center], table[align=abscenter],
+table[align=abdmiddle], table[align=middle] {
+  margin-left: auto; margin-right: auto;
+}
 
-  &lt;p&gt;The &lt;code&gt;center&lt;/code&gt; and &lt;code&gt;caption&lt;/code&gt; elements are
-  expected to center text within themselves, as if they had their
-  'text-align' property set to 'center', and to center blocks and
-  tables within them, as their descendants had their horizontal
-  margins set to 'auto'.&lt;/p&gt;
+caption[align=bottom] { caption-side: bottom; }
+p[align=left], h1[align=left], h2[align=left], h3[align=left],
+h4[align=left], h5[align=left], h6[align=left] {
+  text-align: left;
+}
+p[align=right], h1[align=right], h2[align=right], h3[align=right],
+h4[align=right], h5[align=right], h6[align=right] {
+  text-align: right;
+}
+p[align=center], h1[align=center], h2[align=center], h3[align=center],
+h4[align=center], h5[align=center], h6[align=center] {
+  text-align: center;
+}
+p[align=justify], h1[align=justify], h2[align=justify], h3[align=justify],
+h4[align=justify], h5[align=justify], h6[align=justify] {
+  text-align: justify;
+}
+col[valign=top], thead[valign=top], tbody[valign=top],
+tfoot[valign=top], tr[valign=top], td[valign=top], th[valign=top] {
+  vertial-align: top;
+}
+col[valign=middle], thead[valign=middle], tbody[valign=middle],
+tfoot[valign=middle], tr[valign=middle], td[valign=middle], th[valign=middle] {
+  vertial-align: middle;
+}
+col[valign=bottom], thead[valign=bottom], tbody[valign=bottom],
+tfoot[valign=bottom], tr[valign=bottom], td[valign=bottom], th[valign=bottom] {
+  vertial-align: bottom;
+}
+col[valign=baseline], thead[valign=baseline], tbody[valign=baseline],
+tfoot[valign=baseline], tr[valign=baseline], td[valign=baseline], th[valign=baseline] {
+  vertial-align: baseline;
+}&lt;/pre&gt;
 
-  &lt;!-- XXX &lt;div/h1-h6/p align=&quot;left|right|center/middle|justify&quot;&gt; --&gt;
+  &lt;p&gt;The &lt;code&gt;center&lt;/code&gt; element, the &lt;code&gt;caption&lt;/code&gt; element
+  unless specified otherwise below, and the &lt;code&gt;div&lt;/code&gt; element
+  when its &lt;code title=&quot;attr-div-align&quot;&gt;align&lt;/code&gt; attribute's value
+  is an &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for the string
+  &quot;&lt;code title=&quot;&quot;&gt;center&lt;/code&gt;&quot;, are expected to center text within
+  themselves, as if they had their 'text-align' property set to
+  'center' in a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt;, and to center blocks and tables within them, as if
+  their descendants had their 'margin-left' and 'margin-right'
+  properties set to 'auto' in &lt;span&gt;presentational hints&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;hr&gt;
+  &lt;p&gt;The &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;caption&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+  &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;,
+  &lt;code&gt;td&lt;/code&gt;, and &lt;code&gt;th&lt;/code&gt; elements, when they have an
+  &lt;code title=&quot;attr-align&quot;&gt;align&lt;/code&gt; attribute whose value is an
+  &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for the string &quot;&lt;code
+  title=&quot;&quot;&gt;left&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;justify&lt;/code&gt;&quot;, are
+  expected to left-align text within themselves, as if they had their
+  'text-align' property set to 'left' in a &lt;span title=&quot;presentational
+  hints&quot;&gt;presentational hint&lt;/span&gt;, and to left-align blocks and
+  tables within them, as if their descendants had their 'margin-right'
+  property set to 'auto' in &lt;span&gt;presentational hints&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...tables...&lt;/p&gt;
-  &lt;!-- table                           align=&quot;left|right|center/abscenter/absmiddle/middle|char|justify&quot; --&gt;
-  &lt;!-- caption                         align=&quot;left|right|top|bottom&quot; caption-side --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  align=&quot;left|right|center/absmiddle|char|justify&quot; --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  valign=&quot;top|middle|bottom|baseline&quot; --&gt;
-  &lt;!-- tr/td/th/col/tbody/thead/tfoot  ch=? charoff=n&gt;0 --&gt;
+  &lt;p&gt;The &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;caption&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+  &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;,
+  &lt;code&gt;td&lt;/code&gt;, and &lt;code&gt;th&lt;/code&gt; elements, when they have an
+  &lt;code title=&quot;attr-align&quot;&gt;align&lt;/code&gt; attribute whose value is an
+  &lt;span&gt;ASCII case-insensitive&lt;/span&gt; match for the string &quot;&lt;code
+  title=&quot;&quot;&gt;right&lt;/code&gt;&quot;, are expected to right-align text within
+  themselves, as if they had their 'text-align' property set to
+  'right' in a &lt;span title=&quot;presentational hints&quot;&gt;presentational
+  hint&lt;/span&gt;, and to right-align blocks and tables within them, as if
+  their descendants had their 'margin-left' property set to 'auto' in
+  &lt;span&gt;presentational hints&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;In all these cases, the effect on descendants is expected to only
+  extend to descendants that do not themselves have an applicable
+  &lt;code title=&quot;attr-align&quot;&gt;align&lt;/code&gt; attribute.&lt;/p&gt;
 
 
   &lt;h4&gt;Fonts and colors&lt;/h4&gt;
@@ -61313,7 +61563,7 @@
   &lt;hr&gt;
 
   &lt;p class=&quot;XXX&quot;&gt;...tables...&lt;/p&gt;
-  &lt;!-- table: rules/layout/frames --&gt;
+  &lt;!-- table: rules/layout/frames; &lt;table border&gt; (border =&gt; border=1);  --&gt;
 
 
   &lt;h4&gt;Resetting rules for inherited properties&lt;/h4&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009633.html">[html5] r2749 - [] (0) Filling in the rendering section: &lt;body&gt;	margins; administrivia
</A></li>
	<LI>Next message: <A HREF="009635.html">[html5] r2751 - [] (0) Filling in the rendering section:	color-related presentational hints; fix [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9634">[ date ]</a>
              <a href="thread.html#9634">[ thread ]</a>
              <a href="subject.html#9634">[ subject ]</a>
              <a href="author.html#9634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
