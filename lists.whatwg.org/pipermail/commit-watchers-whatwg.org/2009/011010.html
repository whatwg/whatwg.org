<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4138 - [gow] (2) Drop support for anything but UTF-8 from	Workers.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4138%20-%20%5Bgow%5D%20%282%29%20Drop%20support%20for%20anything%20but%20UTF-8%20from%0A%09Workers.&In-Reply-To=%3C20091014105523.077C638E243%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011009.html">
   <LINK REL="Next"  HREF="011011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4138 - [gow] (2) Drop support for anything but UTF-8 from	Workers.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4138%20-%20%5Bgow%5D%20%282%29%20Drop%20support%20for%20anything%20but%20UTF-8%20from%0A%09Workers.&In-Reply-To=%3C20091014105523.077C638E243%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r4138 - [gow] (2) Drop support for anything but UTF-8 from	Workers.">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct 14 03:55:23 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011009.html">[html5] r4137 - [e] (0) xref errors found by complete.html
</A></li>
        <LI>Next message: <A HREF="011011.html">[html5] r4139 - [agiow] (2) Make the microdata DOM API more	consistent with other APIs. (camelCase)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11010">[ date ]</a>
              <a href="thread.html#11010">[ thread ]</a>
              <a href="subject.html#11010">[ subject ]</a>
              <a href="author.html#11010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-10-14 03:55:22 -0700 (Wed, 14 Oct 2009)
New Revision: 4138

Modified:
   complete.html
   source
Log:
[gow] (2) Drop support for anything but UTF-8 from Workers.

Modified: complete.html
===================================================================
--- complete.html	2009-10-14 10:41:57 UTC (rev 4137)
+++ complete.html	2009-10-14 10:55:22 UTC (rev 4138)
@@ -916,16 +916,15 @@
        &lt;li&gt;&lt;a href=#dedicated-workers-and-the-dedicatedworkerglobalscope-interface&gt;&lt;span class=secno&gt;9.2.1.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworkerglobalscope-inteface&gt;&lt;span class=secno&gt;9.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; inteface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#origins-of-workers&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;Origins of workers&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#decoding-scripts&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Decoding scripts&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-event-loop&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-4&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;9.2.8 &lt;/span&gt;Creating workers&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-event-loop&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-4&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Creating workers&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.8.1 &lt;/span&gt;The &lt;code&gt;AbstractWorker&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.8.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;Worker&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.8.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorker&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.7.1 &lt;/span&gt;The &lt;code&gt;AbstractWorker&lt;/code&gt; abstract interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;Worker&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorker&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#apis-available-to-workers&gt;&lt;span class=secno&gt;9.3 &lt;/span&gt;APIs available to workers&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#importing-scripts-and-libraries&gt;&lt;span class=secno&gt;9.3.1 &lt;/span&gt;Importing scripts and libraries&lt;/a&gt;&lt;/li&gt;
@@ -63744,79 +63743,9 @@
   represents.&lt;/p&gt;
 
 
-  &lt;h4 id=decoding-scripts&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Decoding scripts&lt;/h4&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn id=decode-a-script-resource&gt;decode a script resource&lt;/dfn&gt; to
-  obtain its source in Unicode, it must run the following steps:&lt;/p&gt;
+  &lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;The event loop&lt;/h4&gt;
 
-  &lt;ol&gt;&lt;li&gt;
-
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be &lt;i title=&quot;&quot;&gt;unknown&lt;/i&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each of the rows in the following table, starting with the
-    first one and going down, if the resource has as many or more
-    bytes available than the number of bytes in the first column, and
-    the first bytes of the resource match the bytes given in the first
-    column, then let &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be the
-    encoding given in the cell in the second column of that row:&lt;/p&gt;
-
-    &lt;!-- this table is present in several forms in this file; keep them in sync --&gt;
-    &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Bytes in Hexadecimal
-       &lt;th&gt;Encoding
-     &lt;tbody&gt;&lt;!-- nobody uses this
-      &lt;tr&gt;
-       &lt;td&gt;00 00 FE FF
-       &lt;td&gt;UTF-32BE
-      &lt;tr&gt;
-       &lt;td&gt;FF FE 00 00
-       &lt;td&gt;UTF-32LE
---&gt;&lt;tr&gt;&lt;td&gt;FE FF
-       &lt;td&gt;UTF-16BE
-      &lt;tr&gt;&lt;td&gt;FF FE
-       &lt;td&gt;UTF-16LE
-      &lt;tr&gt;&lt;td&gt;EF BB BF
-       &lt;td&gt;UTF-8
-&lt;!-- nobody uses this
-      &lt;tr&gt;
-       &lt;td&gt;DD 73 66 73
-       &lt;td&gt;UTF-EBCDIC
---&gt;
-    &lt;/table&gt;&lt;p class=note&gt;This step looks for Unicode Byte Order Marks
-    (BOMs).&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; is still &lt;i title=&quot;&quot;&gt;unknown&lt;/i&gt;, apply the &lt;a href=#algorithm-for-extracting-an-encoding-from-a-content-type&gt;algorithm for extracting an
-    encoding from a Content-Type&lt;/a&gt; to the resource's &lt;a href=#content-type title=Content-Type&gt;Content Type metadata&lt;/a&gt;; if this returns
-    an encoding, and the user agent supports that encoding, then let
-    &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be that encoding.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; is still &lt;i title=&quot;&quot;&gt;unknown&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;character
-    encoding&lt;/var&gt; be UTF-8.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Convert the resource to Unicode using the character encoding
-    given by &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt;.&lt;/p&gt;
-
-    &lt;p&gt;Return the text that is so obtained.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;&lt;h4 id=the-event-loop&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The event loop&lt;/h4&gt;
-
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object has an &lt;a href=#event-loop&gt;event
   loop&lt;/a&gt; distinct from those defined for &lt;a href=#unit-of-related-similar-origin-browsing-contexts title=&quot;unit of
   related similar-origin browsing contexts&quot;&gt;units of related
@@ -63841,7 +63770,7 @@
 
 
 
-  &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
+  &lt;h4 id=&quot;the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;The worker's lifetime&lt;/h4&gt;
 
   &lt;p&gt;Workers communicate with other workers and with &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; through &lt;a href=#channel-messaging title=&quot;channel messaging&quot;&gt;message channels&lt;/a&gt; and their
   &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; objects.&lt;/p&gt;
@@ -63913,7 +63842,7 @@
   &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-4&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-4&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with
   &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, a browsing context &lt;var title=&quot;&quot;&gt;owner browsing context&lt;/var&gt;, an origin &lt;var title=&quot;&quot;&gt;owner
@@ -63951,8 +63880,8 @@
     named &lt;code title=event-error&gt;error&lt;/code&gt; at that
     object. Abort these steps.&lt;/p&gt;
 
-    &lt;p&gt;If the attempt succeeds, then &lt;a href=#decode-a-script-resource title=&quot;decode a script
-    resource&quot;&gt;decode the script resource&lt;/a&gt; to obtain its &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;If the attempt succeeds, then convert the script resource to
+    Unicode by assuming it was encoded as UTF-8, to obtain its &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 
@@ -64180,7 +64109,7 @@
   &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
+  &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
 
   &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
   worker's scripts, if the error did not occur while handling a
@@ -64239,9 +64168,9 @@
 
 
 
-  &lt;h4 id=creating-workers&gt;&lt;span class=secno&gt;9.2.8 &lt;/span&gt;Creating workers&lt;/h4&gt;
+  &lt;h4 id=creating-workers&gt;&lt;span class=secno&gt;9.2.7 &lt;/span&gt;Creating workers&lt;/h4&gt;
 
-  &lt;h5 id=the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.8.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
+  &lt;h5 id=the-abstractworker-abstract-interface&gt;&lt;span class=secno&gt;9.2.7.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt;&lt;/code&gt; abstract interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=abstractworker&gt;AbstractWorker&lt;/dfn&gt; {
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-abstractworker-onerror title=handler-AbstractWorker-onerror&gt;onerror&lt;/a&gt;;
@@ -64257,7 +64186,7 @@
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;Event handler&lt;/a&gt; &lt;th&gt;&lt;a href=#event-handler-event-type&gt;Event handler event type&lt;/a&gt;
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=handler-abstractworker-onerror title=handler-AbstractWorker-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=event-error&gt;error&lt;/code&gt;
 &lt;!-- v2-onclose    &lt;tr&gt;&lt;td&gt;&lt;dfn title=&quot;handler-AbstractWorker-onclose&quot;&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt; &lt;td&gt; &lt;code title=&quot;event-close&quot;&gt;close&lt;/code&gt; --&gt;
-  &lt;/table&gt;&lt;h5 id=dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.8.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;/table&gt;&lt;h5 id=dedicated-workers-and-the-worker-interface&gt;&lt;span class=secno&gt;9.2.7.2 &lt;/span&gt;Dedicated workers and the &lt;code&gt;&lt;a href=#worker&gt;Worker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-worker title=dom-Worker&gt;Constructor&lt;/a&gt;(in DOMString scriptURL)]
 interface &lt;dfn id=worker&gt;Worker&lt;/dfn&gt; : &lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt; {
@@ -64398,7 +64327,7 @@
   implementing the &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
 
-  &lt;h5 id=shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.8.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
+  &lt;h5 id=shared-workers-and-the-sharedworker-interface&gt;&lt;span class=secno&gt;9.2.7.3 &lt;/span&gt;Shared workers and the &lt;code&gt;&lt;a href=#sharedworker&gt;SharedWorker&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;pre class=idl&gt;[&lt;a href=#dom-sharedworker title=dom-SharedWorker&gt;Constructor&lt;/a&gt;(in DOMString scriptURL, in optional DOMString name)]
 interface &lt;dfn id=sharedworker&gt;SharedWorker&lt;/dfn&gt; : &lt;a href=#abstractworker&gt;AbstractWorker&lt;/a&gt; {
@@ -64668,8 +64597,8 @@
       &lt;code&gt;&lt;a href=#network_err&gt;NETWORK_ERR&lt;/a&gt;&lt;/code&gt; exception and abort all these
       steps.&lt;/p&gt;
 
-      &lt;p&gt;If the attempt succeeds, then &lt;a href=#decode-a-script-resource title=&quot;decode a script
-      resource&quot;&gt;decode the script resource&lt;/a&gt; to obtain its &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
+      &lt;p&gt;If the attempt succeeds, then convert the script resource to
+      Unicode by assuming it was encoded as UTF-8, to obtain its &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
 
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2009-10-14 10:41:57 UTC (rev 4137)
+++ source	2009-10-14 10:55:22 UTC (rev 4138)
@@ -71548,96 +71548,7 @@
   represents.&lt;/p&gt;
 
 
-  &lt;h4&gt;Decoding scripts&lt;/h4&gt;
 
-  &lt;p&gt;When a user agent is to &lt;dfn&gt;decode a script resource&lt;/dfn&gt; to
-  obtain its source in Unicode, it must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be &lt;i
-    title=&quot;&quot;&gt;unknown&lt;/i&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each of the rows in the following table, starting with the
-    first one and going down, if the resource has as many or more
-    bytes available than the number of bytes in the first column, and
-    the first bytes of the resource match the bytes given in the first
-    column, then let &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be the
-    encoding given in the cell in the second column of that row:&lt;/p&gt;
-
-    &lt;!-- this table is present in several forms in this file; keep them in sync --&gt;
-    &lt;table&gt;
-     &lt;thead&gt;
-      &lt;tr&gt;
-       &lt;th&gt;Bytes in Hexadecimal
-       &lt;th&gt;Encoding
-     &lt;tbody&gt;
-&lt;!-- nobody uses this
-      &lt;tr&gt;
-       &lt;td&gt;00 00 FE FF
-       &lt;td&gt;UTF-32BE
-      &lt;tr&gt;
-       &lt;td&gt;FF FE 00 00
-       &lt;td&gt;UTF-32LE
---&gt;
-      &lt;tr&gt;
-       &lt;td&gt;FE FF
-       &lt;td&gt;UTF-16BE
-      &lt;tr&gt;
-       &lt;td&gt;FF FE
-       &lt;td&gt;UTF-16LE
-      &lt;tr&gt;
-       &lt;td&gt;EF BB BF
-       &lt;td&gt;UTF-8
-&lt;!-- nobody uses this
-      &lt;tr&gt;
-       &lt;td&gt;DD 73 66 73
-       &lt;td&gt;UTF-EBCDIC
---&gt;
-    &lt;/table&gt;
-
-    &lt;p class=&quot;note&quot;&gt;This step looks for Unicode Byte Order Marks
-    (BOMs).&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; is still &lt;i
-    title=&quot;&quot;&gt;unknown&lt;/i&gt;, apply the &lt;span&gt;algorithm for extracting an
-    encoding from a Content-Type&lt;/span&gt; to the resource's &lt;span
-    title=&quot;Content-Type&quot;&gt;Content Type metadata&lt;/span&gt;; if this returns
-    an encoding, and the user agent supports that encoding, then let
-    &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; be that encoding.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt; is still &lt;i
-    title=&quot;&quot;&gt;unknown&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;character
-    encoding&lt;/var&gt; be UTF-8.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Convert the resource to Unicode using the character encoding
-    given by &lt;var title=&quot;&quot;&gt;character encoding&lt;/var&gt;.&lt;/p&gt;
-
-    &lt;p&gt;Return the text that is so obtained.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-
   &lt;h4&gt;The event loop&lt;/h4&gt;
 
   &lt;p&gt;Each &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object has an &lt;span&gt;event
@@ -71795,8 +71706,8 @@
     named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at that
     object. Abort these steps.&lt;/p&gt;
 
-    &lt;p&gt;If the attempt succeeds, then &lt;span title=&quot;decode a script
-    resource&quot;&gt;decode the script resource&lt;/span&gt; to obtain its &lt;var
+    &lt;p&gt;If the attempt succeeds, then convert the script resource to
+    Unicode by assuming it was encoded as UTF-8, to obtain its &lt;var
     title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;
@@ -72636,8 +72547,8 @@
       &lt;code&gt;NETWORK_ERR&lt;/code&gt; exception and abort all these
       steps.&lt;/p&gt;
 
-      &lt;p&gt;If the attempt succeeds, then &lt;span title=&quot;decode a script
-      resource&quot;&gt;decode the script resource&lt;/span&gt; to obtain its &lt;var
+      &lt;p&gt;If the attempt succeeds, then convert the script resource to
+      Unicode by assuming it was encoded as UTF-8, to obtain its &lt;var
       title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;
 
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language&lt;/var&gt; be JavaScript.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011009.html">[html5] r4137 - [e] (0) xref errors found by complete.html
</A></li>
	<LI>Next message: <A HREF="011011.html">[html5] r4139 - [agiow] (2) Make the microdata DOM API more	consistent with other APIs. (camelCase)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11010">[ date ]</a>
              <a href="thread.html#11010">[ thread ]</a>
              <a href="subject.html#11010">[ subject ]</a>
              <a href="author.html#11010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
