<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2691 - [] (0) Remove dynamic entries from the application	cache for now.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2691%20-%20%5B%5D%20%280%29%20Remove%20dynamic%20entries%20from%20the%20application%0A%09cache%20for%20now.&In-Reply-To=%3C20090122012421.EF47338DDDC%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009574.html">
   <LINK REL="Next"  HREF="009576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2691 - [] (0) Remove dynamic entries from the application	cache for now.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2691%20-%20%5B%5D%20%280%29%20Remove%20dynamic%20entries%20from%20the%20application%0A%09cache%20for%20now.&In-Reply-To=%3C20090122012421.EF47338DDDC%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2691 - [] (0) Remove dynamic entries from the application	cache for now.">whatwg at whatwg.org
       </A><BR>
    <I>Wed Jan 21 17:24:21 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009574.html">[html5] r2690 - [] (0) Oops,	missed Window.applicationCache in the IDL.
</A></li>
        <LI>Next message: <A HREF="009576.html">[html5] r2692 - [gw] (2) Big revamp of how Application Caches work.	The core of the algorithm is [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9575">[ date ]</a>
              <a href="thread.html#9575">[ thread ]</a>
              <a href="subject.html#9575">[ subject ]</a>
              <a href="author.html#9575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-01-21 17:24:20 -0800 (Wed, 21 Jan 2009)
New Revision: 2691

Modified:
   index
   source
Log:
[] (0) Remove dynamic entries from the application cache for now.

Modified: index
===================================================================
--- index	2009-01-22 01:02:52 UTC (rev 2690)
+++ index	2009-01-22 01:24:20 UTC (rev 2691)
@@ -36565,7 +36565,7 @@
  
      &lt;dt&gt;&lt;dfn id=concept-appcache-manifest title=concept-appcache-manifest&gt;The manifest&lt;/dfn&gt;
 
-     &lt;dd&gt;The resource corresponding to the URL that was given in an
+     &lt;dd&gt;The resource corresponding to the URL that was given in a
      master entry's &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute. The
      manifest is fetched and processed during the &lt;a href=#application-cache-update-process&gt;application
      cache update process&lt;/a&gt;. All the &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;master entries&lt;/a&gt; have
@@ -36586,14 +36586,11 @@
      entries.
 
  
-     &lt;dt&gt;&lt;dfn id=concept-appcache-dynamic title=concept-appcache-dynamic&gt;Dynamic entries&lt;/dfn&gt;
-
-     &lt;dd&gt;Resources that were added to the cache by the &lt;code title=dom-appcache-add&gt;&lt;a href=#dom-appcache-add&gt;add()&lt;/a&gt;&lt;/code&gt; method.
-
     &lt;/dl&gt;&lt;p class=note&gt;A URL in the list can be flagged with multiple
     different types, and thus an entry can end up being categorized as
-    multiple entries. For example, an entry can be an explicit entry
-    and a dynamic entry at the same time.&lt;/p&gt;
+    multiple entries. For example, an entry can be a manfiest entry
+    and an explicit entry at the same time, if the manifest is listed
+    within the manifest.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -36639,7 +36636,7 @@
 # there can be as many of these anywhere in the file
 # they are all ignored
   # comments can have spaces before them
-  # but most be alone on the line
+  # but must be alone on the line
 
 # blank lines are ignored too
 
@@ -37215,10 +37212,6 @@
    attempt&lt;/a&gt;, then add all the URLs of &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;master entries&lt;/a&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
    with &quot;master entry&quot;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this is an &lt;a href=#concept-appcache-upgrade title=concept-appcache-upgrade&gt;upgrade
-   attempt&lt;/a&gt;, then add all the URLs of &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entries&lt;/a&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
-   with &quot;dynamic entry&quot;.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If any URL is in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; more than
    once, then merge the entries into one entry for that URL, that
    entry having all the flags that the original entries had.&lt;/li&gt;
@@ -37347,11 +37340,6 @@
      entry as a &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;master
      entry&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the URL being processed was flagged as an &quot;dynamic
-     entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
-     entry as a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic
-     entry&lt;/a&gt;.&lt;/li&gt;
-
      &lt;li&gt;&lt;p&gt;As an optimization, if the resource is an HTML or XML file
      whose root element is an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-html-manifest&gt;&lt;a href=#attr-html-manifest&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute whose value
      doesn't match the manifest URL of the application cache being
@@ -37446,18 +37434,6 @@
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;If any &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic
-      entries&lt;/a&gt; in any of the &lt;a href=#application-cache title=&quot;application
-      cache&quot;&gt;application caches&lt;/a&gt; in the &lt;var title=&quot;&quot;&gt;cache
-      group&lt;/var&gt; were added or removed (using the &lt;code title=dom-appcache-add&gt;&lt;a href=#dom-appcache-add&gt;add()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-appcache-remove&gt;&lt;a href=#dom-appcache-remove&gt;remove()&lt;/a&gt;&lt;/code&gt; methods) while the
-      update process was in progress, then replay the sequence of adds
-      and removes on &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, using the resources
-      that were fetched by the &lt;code title=dom-appcache-add&gt;&lt;a href=#dom-appcache-add&gt;add()&lt;/a&gt;&lt;/code&gt; method if applicable.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
       &lt;p&gt;For each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; whose &lt;a href=#active-document&gt;active
       document&lt;/a&gt; is associated with a cache in &lt;var title=&quot;&quot;&gt;cache group&lt;/var&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
       &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-updateready&gt;updateready&lt;/code&gt; at the relevant
@@ -37675,9 +37651,9 @@
    &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource normally and abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;an master entry&lt;/a&gt;, &lt;a href=#concept-appcache-manifest title=concept-appcache-manifest&gt;the manifest&lt;/a&gt;, &lt;a href=#concept-appcache-explicit title=concept-appcache-explicit&gt;an explicit entry&lt;/a&gt;, &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;a fallback entry&lt;/a&gt;, or a
-   &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; in the
-   &lt;a href=#application-cache&gt;application cache&lt;/a&gt;, then get the resource from the
+   &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;a master entry&lt;/a&gt;, &lt;a href=#concept-appcache-manifest title=concept-appcache-manifest&gt;the manifest&lt;/a&gt;, &lt;a href=#concept-appcache-explicit title=concept-appcache-explicit&gt;an explicit entry&lt;/a&gt;, or
+   &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;a fallback entry&lt;/a&gt; in
+   the &lt;a href=#application-cache&gt;application cache&lt;/a&gt;, then get the resource from the
    cache (instead of fetching it), and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;
@@ -37730,12 +37706,6 @@
   void &lt;a href=#dom-appcache-update title=dom-appcache-update&gt;update&lt;/a&gt;();
   void &lt;a href=#dom-appcache-swapcache title=dom-appcache-swapCache&gt;swapCache&lt;/a&gt;();
 
-  // dynamic entries
-  readonly attribute &lt;span&gt;DOMStringList&lt;/span&gt; &lt;a href=#dom-appcache-items title=dom-appcache-items&gt;items&lt;/a&gt;;
-  boolean &lt;a href=#dom-appcache-hasitem title=dom-appcache-hasItem&gt;hasItem&lt;/a&gt;(in DOMString url);
-  void &lt;a href=#dom-appcache-add title=dom-appcache-add&gt;add&lt;/a&gt;(in DOMString url);
-  void &lt;a href=#dom-appcache-remove title=dom-appcache-remove&gt;remove&lt;/a&gt;(in DOMString url);
-
   // events
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-appcache-onchecking title=handler-appcache-onchecking&gt;onchecking&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-appcache-onerror title=handler-appcache-onerror&gt;onerror&lt;/a&gt;;
@@ -37821,87 +37791,7 @@
    &lt;i&gt;obsolete&lt;/i&gt; &lt;a href=#concept-appcache-lifecycle title=concept-appcache-lifecycle&gt;lifecycle
    status&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entries&lt;/a&gt;
-  in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt; are ordered in the same order
-  as they were added to the cache by the &lt;code title=dom-appcache-add&gt;&lt;a href=#dom-appcache-add&gt;add()&lt;/a&gt;&lt;/code&gt; method, with the oldest entry
-  being the zeroth entry.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-appcache-items title=dom-appcache-items&gt;&lt;code&gt;items&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must return a new &lt;code&gt;DOMStringList&lt;/code&gt; object. If
-  the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object has an associated
-  &lt;a href=#application-cache&gt;application cache&lt;/a&gt; with one or more &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entries&lt;/a&gt;, then the
-  &lt;code&gt;DOMStringList&lt;/code&gt; object's items must be the &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/a&gt; of the &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entries&lt;/a&gt; in that
-  &lt;a href=#application-cache&gt;application cache&lt;/a&gt;, in order; otherwise, the object must
-  have no entries.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-appcache-hasitem title=dom-appcache-hasItem&gt;&lt;code&gt;hasItem(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is not
-   associated with any application cache, then raise an
-   &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these
-   steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a URL&quot;&gt;Resolve&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; argument. If this fails, raise a
-   &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already a resource in in the &lt;a href=#application-cache&gt;application
-   cache&lt;/a&gt; with which the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is
-   associated that has the address &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, and that
-   entry is categorized as a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt;, then return
-   true.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Otherwise, return false.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-appcache-add title=dom-appcache-add&gt;&lt;code&gt;add(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is not
-   associated with any application cache, then raise an
-   &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these
-   steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a URL&quot;&gt;Resolve&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; argument. If this fails, raise a
-   &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception and abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already a resource in in the &lt;a href=#application-cache&gt;application
-   cache&lt;/a&gt; with which the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is
-   associated that has the address &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, then
-   ensure that entry is categorized as a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; and return
-   and abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; has a different &lt;a href=#url-scheme title=url-scheme&gt;&lt;scheme&gt;&lt;/a&gt; component than the
-   manifest's URL, then raise a &lt;code&gt;&lt;a href=#security_err&gt;SECURITY_ERR&lt;/a&gt;&lt;/code&gt;
-   exception.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return, but do not abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource referenced by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If this results in a redirect, or a 4xx or 5xx status code
-   &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;,
-   or if there were network errors, or if the user canceled the
-   download, then abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Add the fetched resource to the &lt;a href=#application-cache&gt;application
-   cache&lt;/a&gt; and categorize it as a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-appcache-remove title=dom-appcache-remove&gt;&lt;code&gt;remove(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must &lt;a href=#resolve-a-url title=&quot;resolve a
-  url&quot;&gt;resolve&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; argument and, if
-  that is successful, remove the &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; categorization
-  of any entry whose address is the resulting &lt;a href=#absolute-url&gt;absolute
-  URL&lt;/a&gt; in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt; with which the
-  &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is associated. If this removes
-  the last categorization of an entry in that cache, then the entry
-  must be removed entirely (such that if it is re-added, it will be
-  loaded from the network again). If the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt;
-  object is not associated with any application cache, then the method
-  must raise an &lt;code&gt;&lt;a href=#invalid_state_err&gt;INVALID_STATE_ERR&lt;/a&gt;&lt;/code&gt; exception instead.&lt;/p&gt;
-
-  &lt;p class=warning&gt;Authors should bear in mind that multiple scripts
-  could be simultaneously modifying the same application cache.&lt;/p&gt;
-
-  &lt;hr&gt;&lt;p&gt;If the &lt;dfn id=dom-appcache-update title=dom-appcache-update&gt;&lt;code&gt;update()&lt;/code&gt;&lt;/dfn&gt; method is
+  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;If the &lt;dfn id=dom-appcache-update title=dom-appcache-update&gt;&lt;code&gt;update()&lt;/code&gt;&lt;/dfn&gt; method is
   invoked, the user agent must invoke the &lt;a href=#application-cache-update-process&gt;application cache
   update process&lt;/a&gt;, in the background, for the &lt;a href=#application-cache&gt;application
   cache&lt;/a&gt; with which the &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object is

Modified: source
===================================================================
--- source	2009-01-22 01:02:52 UTC (rev 2690)
+++ source	2009-01-22 01:24:20 UTC (rev 2691)
@@ -41580,7 +41580,7 @@
  
      &lt;dt&gt;&lt;dfn title=&quot;concept-appcache-manifest&quot;&gt;The manifest&lt;/dfn&gt;
 
-     &lt;dd&gt;The resource corresponding to the URL that was given in an
+     &lt;dd&gt;The resource corresponding to the URL that was given in a
      master entry's &lt;code&gt;html&lt;/code&gt; element's &lt;code
      title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute. The
      manifest is fetched and processed during the &lt;span&gt;application
@@ -41607,17 +41607,13 @@
      entries.
 
  
-     &lt;dt&gt;&lt;dfn title=&quot;concept-appcache-dynamic&quot;&gt;Dynamic entries&lt;/dfn&gt;
-
-     &lt;dd&gt;Resources that were added to the cache by the &lt;code
-     title=&quot;dom-appcache-add&quot;&gt;add()&lt;/code&gt; method.
-
     &lt;/dl&gt;
 
     &lt;p class=&quot;note&quot;&gt;A URL in the list can be flagged with multiple
     different types, and thus an entry can end up being categorized as
-    multiple entries. For example, an entry can be an explicit entry
-    and a dynamic entry at the same time.&lt;/p&gt;
+    multiple entries. For example, an entry can be a manfiest entry
+    and an explicit entry at the same time, if the manifest is listed
+    within the manifest.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -41674,7 +41670,7 @@
 # there can be as many of these anywhere in the file
 # they are all ignored
   # comments can have spaces before them
-  # but most be alone on the line
+  # but must be alone on the line
 
 # blank lines are ignored too
 
@@ -42352,12 +42348,6 @@
    title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
    with &quot;master entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If this is an &lt;span title=&quot;concept-appcache-upgrade&quot;&gt;upgrade
-   attempt&lt;/span&gt;, then add all the URLs of &lt;span
-   title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entries&lt;/span&gt; in &lt;var
-   title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
-   with &quot;dynamic entry&quot;.&lt;/p&gt;&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If any URL is in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; more than
    once, then merge the entries into one entry for that URL, that
    entry having all the flags that the original entries had.&lt;/p&gt;&lt;/li&gt;
@@ -42496,11 +42486,6 @@
      entry as a &lt;span title=&quot;concept-appcache-master&quot;&gt;master
      entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the URL being processed was flagged as an &quot;dynamic
-     entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
-     entry as a &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic
-     entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
      &lt;li&gt;&lt;p&gt;As an optimization, if the resource is an HTML or XML file
      whose root element is an &lt;code&gt;html&lt;/code&gt; element with a &lt;code
      title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute whose value
@@ -42609,21 +42594,6 @@
 
      &lt;li&gt;
 
-      &lt;p&gt;If any &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic
-      entries&lt;/span&gt; in any of the &lt;span title=&quot;application
-      cache&quot;&gt;application caches&lt;/span&gt; in the &lt;var title=&quot;&quot;&gt;cache
-      group&lt;/var&gt; were added or removed (using the &lt;code
-      title=&quot;dom-appcache-add&quot;&gt;add()&lt;/code&gt; and &lt;code
-      title=&quot;dom-appcache-remove&quot;&gt;remove()&lt;/code&gt; methods) while the
-      update process was in progress, then replay the sequence of adds
-      and removes on &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, using the resources
-      that were fetched by the &lt;code
-      title=&quot;dom-appcache-add&quot;&gt;add()&lt;/code&gt; method if applicable.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
       &lt;p&gt;For each &lt;span&gt;browsing context&lt;/span&gt; whose &lt;span&gt;active
       document&lt;/span&gt; is associated with a cache in &lt;var
       title=&quot;&quot;&gt;cache group&lt;/var&gt;, &lt;span&gt;queue a task&lt;/span&gt; to
@@ -42888,12 +42858,11 @@
    steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;span
-   title=&quot;concept-appcache-master&quot;&gt;an master entry&lt;/span&gt;, &lt;span
+   title=&quot;concept-appcache-master&quot;&gt;a master entry&lt;/span&gt;, &lt;span
    title=&quot;concept-appcache-manifest&quot;&gt;the manifest&lt;/span&gt;, &lt;span
-   title=&quot;concept-appcache-explicit&quot;&gt;an explicit entry&lt;/span&gt;, &lt;span
-   title=&quot;concept-appcache-fallback&quot;&gt;a fallback entry&lt;/span&gt;, or a
-   &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; in the
-   &lt;span&gt;application cache&lt;/span&gt;, then get the resource from the
+   title=&quot;concept-appcache-explicit&quot;&gt;an explicit entry&lt;/span&gt;, or
+   &lt;span title=&quot;concept-appcache-fallback&quot;&gt;a fallback entry&lt;/span&gt; in
+   the &lt;span&gt;application cache&lt;/span&gt;, then get the resource from the
    cache (instead of fetching it), and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
@@ -42949,12 +42918,6 @@
   void &lt;span title=&quot;dom-appcache-update&quot;&gt;update&lt;/span&gt;();
   void &lt;span title=&quot;dom-appcache-swapCache&quot;&gt;swapCache&lt;/span&gt;();
 
-  // dynamic entries
-  readonly attribute &lt;span&gt;DOMStringList&lt;/span&gt; &lt;span title=&quot;dom-appcache-items&quot;&gt;items&lt;/span&gt;;
-  boolean &lt;span title=&quot;dom-appcache-hasItem&quot;&gt;hasItem&lt;/span&gt;(in DOMString url);
-  void &lt;span title=&quot;dom-appcache-add&quot;&gt;add&lt;/span&gt;(in DOMString url);
-  void &lt;span title=&quot;dom-appcache-remove&quot;&gt;remove&lt;/span&gt;(in DOMString url);
-
   // events
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-appcache-onchecking&quot;&gt;onchecking&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-appcache-onerror&quot;&gt;onerror&lt;/span&gt;;
@@ -43047,111 +43010,6 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;The &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entries&lt;/span&gt;
-  in the &lt;span&gt;application cache&lt;/span&gt; are ordered in the same order
-  as they were added to the cache by the &lt;code
-  title=&quot;dom-appcache-add&quot;&gt;add()&lt;/code&gt; method, with the oldest entry
-  being the zeroth entry.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-items&quot;&gt;&lt;code&gt;items&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must return a new &lt;code&gt;DOMStringList&lt;/code&gt; object. If
-  the &lt;code&gt;ApplicationCache&lt;/code&gt; object has an associated
-  &lt;span&gt;application cache&lt;/span&gt; with one or more &lt;span
-  title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entries&lt;/span&gt;, then the
-  &lt;code&gt;DOMStringList&lt;/code&gt; object's items must be the &lt;span
-  title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/span&gt; of the &lt;span
-  title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entries&lt;/span&gt; in that
-  &lt;span&gt;application cache&lt;/span&gt;, in order; otherwise, the object must
-  have no entries.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-hasItem&quot;&gt;&lt;code&gt;hasItem(&lt;var
-  title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;ApplicationCache&lt;/code&gt; object is not
-   associated with any application cache, then raise an
-   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception and abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a URL&quot;&gt;Resolve&lt;/span&gt; the &lt;var
-   title=&quot;&quot;&gt;url&lt;/var&gt; argument. If this fails, raise a
-   &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already a resource in in the &lt;span&gt;application
-   cache&lt;/span&gt; with which the &lt;code&gt;ApplicationCache&lt;/code&gt; object is
-   associated that has the address &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, and that
-   entry is categorized as a &lt;span
-   title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt;, then return
-   true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Otherwise, return false.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-add&quot;&gt;&lt;code&gt;add(&lt;var
-  title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;ApplicationCache&lt;/code&gt; object is not
-   associated with any application cache, then raise an
-   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception and abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a URL&quot;&gt;Resolve&lt;/span&gt; the &lt;var
-   title=&quot;&quot;&gt;url&lt;/var&gt; argument. If this fails, raise a
-   &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already a resource in in the &lt;span&gt;application
-   cache&lt;/span&gt; with which the &lt;code&gt;ApplicationCache&lt;/code&gt; object is
-   associated that has the address &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, then
-   ensure that entry is categorized as a &lt;span
-   title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; and return
-   and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; has a different &lt;span
-   title=&quot;url-scheme&quot;&gt;&lt;scheme&gt;&lt;/span&gt; component than the
-   manifest's URL, then raise a &lt;code&gt;SECURITY_ERR&lt;/code&gt;
-   exception.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return, but do not abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fetch&lt;/span&gt; the resource referenced by &lt;var
-   title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If this results in a redirect, or a 4xx or 5xx status code
-   &lt;span title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;,
-   or if there were network errors, or if the user canceled the
-   download, then abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Add the fetched resource to the &lt;span&gt;application
-   cache&lt;/span&gt; and categorize it as a &lt;span
-   title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-remove&quot;&gt;&lt;code&gt;remove(&lt;var
-  title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must &lt;span title=&quot;resolve a
-  url&quot;&gt;resolve&lt;/span&gt; the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; argument and, if
-  that is successful, remove the &lt;span
-  title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; categorization
-  of any entry whose address is the resulting &lt;span&gt;absolute
-  URL&lt;/span&gt; in the &lt;span&gt;application cache&lt;/span&gt; with which the
-  &lt;code&gt;ApplicationCache&lt;/code&gt; object is associated. If this removes
-  the last categorization of an entry in that cache, then the entry
-  must be removed entirely (such that if it is re-added, it will be
-  loaded from the network again). If the &lt;code&gt;ApplicationCache&lt;/code&gt;
-  object is not associated with any application cache, then the method
-  must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception instead.&lt;/p&gt;
-
-  &lt;p class=&quot;warning&quot;&gt;Authors should bear in mind that multiple scripts
-  could be simultaneously modifying the same application cache.&lt;/p&gt;
-
-  &lt;hr&gt;
-
   &lt;p&gt;If the &lt;dfn
   title=&quot;dom-appcache-update&quot;&gt;&lt;code&gt;update()&lt;/code&gt;&lt;/dfn&gt; method is
   invoked, the user agent must invoke the &lt;span&gt;application cache


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009574.html">[html5] r2690 - [] (0) Oops,	missed Window.applicationCache in the IDL.
</A></li>
	<LI>Next message: <A HREF="009576.html">[html5] r2692 - [gw] (2) Big revamp of how Application Caches work.	The core of the algorithm is [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9575">[ date ]</a>
              <a href="thread.html#9575">[ thread ]</a>
              <a href="subject.html#9575">[ subject ]</a>
              <a href="author.html#9575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
