<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3299 - [] (0) Roll in the various notes I'd made about	menu construction into the algorithm.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3299%20-%20%5B%5D%20%280%29%20Roll%20in%20the%20various%20notes%20I%27d%20made%20about%0A%09menu%20construction%20into%20the%20algorithm.&In-Reply-To=%3C20090617055251.562251389F2%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010176.html">
   <LINK REL="Next"  HREF="010178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3299 - [] (0) Roll in the various notes I'd made about	menu construction into the algorithm.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3299%20-%20%5B%5D%20%280%29%20Roll%20in%20the%20various%20notes%20I%27d%20made%20about%0A%09menu%20construction%20into%20the%20algorithm.&In-Reply-To=%3C20090617055251.562251389F2%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3299 - [] (0) Roll in the various notes I'd made about	menu construction into the algorithm.">whatwg at whatwg.org
       </A><BR>
    <I>Tue Jun 16 22:52:51 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010176.html">[html5] r3298 - [] (0) Fold command.click() into the regular	HTMLElement.click().
</A></li>
        <LI>Next message: <A HREF="010178.html">[html5] r3300 - [e] (0) Update a paragraph that still refers to the	old DataGridDataProvider. No [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10177">[ date ]</a>
              <a href="thread.html#10177">[ thread ]</a>
              <a href="subject.html#10177">[ subject ]</a>
              <a href="author.html#10177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-06-16 22:52:46 -0700 (Tue, 16 Jun 2009)
New Revision: 3299

Modified:
   index
   source
Log:
[] (0) Roll in the various notes I'd made about menu construction into the algorithm.

Modified: index
===================================================================
--- index	2009-06-17 05:34:51 UTC (rev 3298)
+++ index	2009-06-17 05:52:46 UTC (rev 3299)
@@ -38784,17 +38784,17 @@
 
   &lt;dl class=switch&gt;&lt;dt&gt;An element that &lt;a href=#concept-command title=concept-command&gt;defines a command&lt;/a&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;Append the command to the menu, respecting its &lt;a href=#concept-facet title=concept-facet&gt;facets&lt;/a&gt;&lt;!-- XXX be explicit about what
-   this means for each facet --&gt;. &lt;!--If the element is a
-   &lt;code&gt;command&lt;/code&gt; element with a &lt;code
-   title=&quot;attr-command-default&quot;&gt;default&lt;/code&gt; attribute, mark the
-   command as being a default command.--&gt;&lt;/dd&gt; &lt;!-- XXX if there's an
-   Icon facet for the command, it should be &lt;span
-   title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, and then that image should be
-   associated with the command, such that each command only has its
-   image fetched once, to prevent changes to the base URL from having
-   effects after the image has been fetched once. (no need to resolve
-   the Icon facet, it's an absolute URL) --&gt;
+   &lt;dd&gt;Append the command to the menu, respecting its &lt;a href=#concept-facet title=concept-facet&gt;facets&lt;/a&gt;&lt;!-- we might need to be
+   explicit about what this means for each facet, if testing shows
+   this isn't well-implemented. e.g.: If there's an Icon facet for the
+   command, it should be &lt;span title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, and then
+   that image should be associated with the command, such that each
+   command only has its image fetched once, to prevent changes to the
+   base URL from having effects after the image has been fetched
+   once. (no need to resolve the Icon facet, it's an absolute URL)
+   --&gt;. &lt;!--If the element is a &lt;code&gt;command&lt;/code&gt; element with a
+   &lt;code title=&quot;attr-command-default&quot;&gt;default&lt;/code&gt; attribute, mark
+   the command as being a default command.--&gt;&lt;/dd&gt;
 
 
    &lt;dt&gt;An &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
@@ -38807,8 +38807,9 @@
 
 
    &lt;dt&gt;An &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+   &lt;dt&gt;A &lt;code&gt;&lt;a href=#the-label-element&gt;label&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
 
-   &lt;dd&gt;Iterate over the children of the &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;Iterate over the children of the element.&lt;/dd&gt;
 
 
    &lt;dt&gt;A &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt; element with no &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
@@ -38817,10 +38818,11 @@
    &lt;dd&gt;Append a separator to the menu, then iterate over the children
    of the &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element, then
    append another separator.&lt;/dd&gt;
+   &lt;!-- v2: we might want to support &lt;select&gt; in &lt;label&gt; as giving a named submenu --&gt;
 
 
    &lt;dt&gt;A &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
-   &lt;dt&gt;An &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+   &lt;dt&gt;An &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-menu-label&gt;&lt;a href=#attr-menu-label&gt;label&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
    &lt;dd&gt;Append a submenu to the menu, using the value of the element's
    &lt;code title=&quot;&quot;&gt;label&lt;/code&gt; attribute as the label of the menu. The
@@ -38833,16 +38835,7 @@
 
    &lt;dd&gt;&lt;a href=#ignore&gt;Ignore&lt;/a&gt; the node.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p class=XXX&gt;We should support &lt;code&gt;&lt;a href=#the-label-element&gt;label&lt;/a&gt;&lt;/code&gt; in the
-  algorithm above -- just iterate through the contents like with
-  &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;, to support &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements in
-  &lt;code&gt;&lt;a href=#the-label-element&gt;label&lt;/a&gt;&lt;/code&gt; elements. Also, &lt;code&gt;&lt;a href=#the-optgroup-element&gt;optgroup&lt;/a&gt;&lt;/code&gt; elements
-  without labels should be ignored (maybe? or at least should say they
-  have no label so that they are dropped below), and
-  &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; elements inside &lt;code&gt;&lt;a href=#the-label-element&gt;label&lt;/a&gt;&lt;/code&gt; elements may
-  need special processing.&lt;/p&gt;
-
-  &lt;p&gt;Once all the nodes have been processed as described above, the
+  &lt;/dl&gt;&lt;p&gt;Once all the nodes have been processed as described above, the
   user agent must the post-process the menu as follows:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;Any menu item with no label, or whose label is the empty string, must be removed.&lt;/li&gt;

Modified: source
===================================================================
--- source	2009-06-17 05:34:51 UTC (rev 3298)
+++ source	2009-06-17 05:52:46 UTC (rev 3299)
@@ -43548,17 +43548,17 @@
    &lt;dt&gt;An element that &lt;span title=&quot;concept-command&quot;&gt;defines a command&lt;/span&gt;&lt;/dt&gt;
 
    &lt;dd&gt;Append the command to the menu, respecting its &lt;span
-   title=&quot;concept-facet&quot;&gt;facets&lt;/span&gt;&lt;!-- XXX be explicit about what
-   this means for each facet --&gt;. &lt;!--If the element is a
-   &lt;code&gt;command&lt;/code&gt; element with a &lt;code
-   title=&quot;attr-command-default&quot;&gt;default&lt;/code&gt; attribute, mark the
-   command as being a default command.--&gt;&lt;/dd&gt; &lt;!-- XXX if there's an
-   Icon facet for the command, it should be &lt;span
-   title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, and then that image should be
-   associated with the command, such that each command only has its
-   image fetched once, to prevent changes to the base URL from having
-   effects after the image has been fetched once. (no need to resolve
-   the Icon facet, it's an absolute URL) --&gt;
+   title=&quot;concept-facet&quot;&gt;facets&lt;/span&gt;&lt;!-- we might need to be
+   explicit about what this means for each facet, if testing shows
+   this isn't well-implemented. e.g.: If there's an Icon facet for the
+   command, it should be &lt;span title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, and then
+   that image should be associated with the command, such that each
+   command only has its image fetched once, to prevent changes to the
+   base URL from having effects after the image has been fetched
+   once. (no need to resolve the Icon facet, it's an absolute URL)
+   --&gt;. &lt;!--If the element is a &lt;code&gt;command&lt;/code&gt; element with a
+   &lt;code title=&quot;attr-command-default&quot;&gt;default&lt;/code&gt; attribute, mark
+   the command as being a default command.--&gt;&lt;/dd&gt;
 
 
    &lt;dt&gt;An &lt;code&gt;hr&lt;/code&gt; element&lt;/dt&gt;
@@ -43573,8 +43573,9 @@
 
 
    &lt;dt&gt;An &lt;code&gt;li&lt;/code&gt; element&lt;/dt&gt;
+   &lt;dt&gt;A &lt;code&gt;label&lt;/code&gt; element&lt;/dt&gt;
 
-   &lt;dd&gt;Iterate over the children of the &lt;code&gt;li&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;Iterate over the children of the element.&lt;/dd&gt;
 
 
    &lt;dt&gt;A &lt;code&gt;menu&lt;/code&gt; element with no &lt;code title=&quot;attr-menu-label&quot;&gt;label&lt;/code&gt; attribute&lt;/dt&gt;
@@ -43583,10 +43584,11 @@
    &lt;dd&gt;Append a separator to the menu, then iterate over the children
    of the &lt;code&gt;menu&lt;/code&gt; or &lt;code&gt;select&lt;/code&gt; element, then
    append another separator.&lt;/dd&gt;
+   &lt;!-- v2: we might want to support &lt;select&gt; in &lt;label&gt; as giving a named submenu --&gt;
 
 
    &lt;dt&gt;A &lt;code&gt;menu&lt;/code&gt; element with a &lt;code title=&quot;attr-menu-label&quot;&gt;label&lt;/code&gt; attribute&lt;/dt&gt;
-   &lt;dt&gt;An &lt;code&gt;optgroup&lt;/code&gt; element&lt;/dt&gt;
+   &lt;dt&gt;An &lt;code&gt;optgroup&lt;/code&gt; element with a &lt;code title=&quot;attr-menu-label&quot;&gt;label&lt;/code&gt; attribute&lt;/dt&gt;
 
    &lt;dd&gt;Append a submenu to the menu, using the value of the element's
    &lt;code title=&quot;&quot;&gt;label&lt;/code&gt; attribute as the label of the menu. The
@@ -43601,15 +43603,6 @@
 
   &lt;/dl&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;We should support &lt;code&gt;label&lt;/code&gt; in the
-  algorithm above -- just iterate through the contents like with
-  &lt;code&gt;li&lt;/code&gt;, to support &lt;code&gt;input&lt;/code&gt; elements in
-  &lt;code&gt;label&lt;/code&gt; elements. Also, &lt;code&gt;optgroup&lt;/code&gt; elements
-  without labels should be ignored (maybe? or at least should say they
-  have no label so that they are dropped below), and
-  &lt;code&gt;select&lt;/code&gt; elements inside &lt;code&gt;label&lt;/code&gt; elements may
-  need special processing.&lt;/p&gt;
-
   &lt;p&gt;Once all the nodes have been processed as described above, the
   user agent must the post-process the menu as follows:&lt;/p&gt;
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010176.html">[html5] r3298 - [] (0) Fold command.click() into the regular	HTMLElement.click().
</A></li>
	<LI>Next message: <A HREF="010178.html">[html5] r3300 - [e] (0) Update a paragraph that still refers to the	old DataGridDataProvider. No [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10177">[ date ]</a>
              <a href="thread.html#10177">[ thread ]</a>
              <a href="subject.html#10177">[ subject ]</a>
              <a href="author.html#10177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
