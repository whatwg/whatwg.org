<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3126 - [] (0) Try to make the definitions of 'available',	'supported', image.width, ima [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3126%20-%20%5B%5D%20%280%29%20Try%20to%20make%20the%20definitions%20of%20%27available%27%2C%0A%09%27supported%27%2C%20image.width%2C%20ima%20%5B...%5D&In-Reply-To=%3C20090525233139.C27A71389F2%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010006.html">
   <LINK REL="Next"  HREF="010008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3126 - [] (0) Try to make the definitions of 'available',	'supported', image.width, ima [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3126%20-%20%5B%5D%20%280%29%20Try%20to%20make%20the%20definitions%20of%20%27available%27%2C%0A%09%27supported%27%2C%20image.width%2C%20ima%20%5B...%5D&In-Reply-To=%3C20090525233139.C27A71389F2%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3126 - [] (0) Try to make the definitions of 'available',	'supported', image.width, ima [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon May 25 16:31:39 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010006.html">[html5] r3125 - [] (0) Clarify how registered handlers work a	little. (bug 6457)
</A></li>
        <LI>Next message: <A HREF="010008.html">[html5] r3127 - [e] (0) ack for last checkin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10007">[ date ]</a>
              <a href="thread.html#10007">[ thread ]</a>
              <a href="subject.html#10007">[ subject ]</a>
              <a href="author.html#10007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-05-25 16:31:37 -0700 (Mon, 25 May 2009)
New Revision: 3126

Modified:
   index
   source
Log:
[] (0) Try to make the definitions of 'available', 'supported', image.width, image.height, and image.complete more correct.

Modified: index
===================================================================
--- index	2009-05-25 22:10:39 UTC (rev 3125)
+++ index	2009-05-25 23:31:37 UTC (rev 3126)
@@ -230,7 +230,8 @@
      &lt;li&gt;&lt;a href=#dom-trees&gt;&lt;span class=secno&gt;2.1.2 &lt;/span&gt;DOM trees&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#scripting-0&gt;&lt;span class=secno&gt;2.1.3 &lt;/span&gt;Scripting&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#plugins&gt;&lt;span class=secno&gt;2.1.4 &lt;/span&gt;Plugins&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#character-encodings&gt;&lt;span class=secno&gt;2.1.5 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#character-encodings&gt;&lt;span class=secno&gt;2.1.5 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#resources&gt;&lt;span class=secno&gt;2.1.6 &lt;/span&gt;Resources&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#conformance-requirements&gt;&lt;span class=secno&gt;2.2 &lt;/span&gt;Conformance requirements&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#dependencies&gt;&lt;span class=secno&gt;2.2.1 &lt;/span&gt;Dependencies&lt;/a&gt;&lt;/li&gt;
@@ -1647,8 +1648,30 @@
   --&gt;. &lt;!-- XXX #refs RFC1345 ? --&gt;&lt;/p&gt;
 
 
+  &lt;h4 id=resources&gt;&lt;span class=secno&gt;2.1.6 &lt;/span&gt;Resources&lt;/h4&gt;
 
+  &lt;p&gt;The specification uses the term &lt;i&gt;supported&lt;/i&gt; when referring
+  to whether a user agent has an implementation capable of decoding
+  the semantics of an external resource. A format or type is said to
+  be &lt;i&gt;supported&lt;/i&gt; if the implementation can process an external
+  resource of that format or type without critical aspects of the
+  resource being ignored. Whether a specific resource is
+  &lt;i&gt;supported&lt;/i&gt; can depend on what features of the resource's
+  format are in use.&lt;/p&gt;
 
+  &lt;p class=example&gt;For example, a PNG image would be considered to
+  be in a supported format if its pixel data could be decoded and
+  rendered, even if, unbeknownst to the implementation, the image
+  actually also contained animation data.&lt;/p&gt;
+
+  &lt;p class=example&gt;A MPEG4 video file would not be considered to be
+  in a supported format if the compression format used was not
+  supported, even if the implementation could determine the dimensions
+  of the movie from the file's metadata.&lt;/p&gt;
+
+
+
+
   &lt;h3 id=conformance-requirements&gt;&lt;span class=secno&gt;2.2 &lt;/span&gt;Conformance requirements&lt;/h3&gt;
 
   &lt;p&gt;All diagrams, examples, and notes in this specification are
@@ -17362,29 +17385,30 @@
   &lt;a href=#origin-0 title=origin&gt;cross-origin&lt;/a&gt; access control policies
   that mitigate this attack.&lt;/p&gt;
 
-  &lt;p&gt;If the image's type is a supported image type, and the image is a
-  valid image of that type, then the image is said to be
-  &lt;i&gt;available&lt;/i&gt; (this affects exactly what the element represents,
-  as defined below). This can be true even before the image is
-  completely downloaded, if the user agent supports incremental
-  rendering of images; in such cases, each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a
+  &lt;p&gt;If the image is in a supported image type and its dimensions are
+  known, then the image is said to be &lt;dfn id=img-available title=img-available&gt;&lt;i&gt;available&lt;/i&gt;&lt;/dfn&gt; (this affects exactly
+  what the element represents, as defined below). This can be true
+  even before the image is completely downloaded, if the user agent
+  supports incremental rendering of images; in such cases, each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a
   task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; while
   the image is being &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; must update
-  the presentation of the image appropriately.&lt;/p&gt;
+  the presentation of the image appropriately. It can also stop being
+  true, e.g. if the user agent finds, after obtaining the image's
+  dimensions, that the image data is actually fatally corrupted.&lt;/p&gt;
 
   &lt;p&gt;If the image was not fetched (e.g. because the UA's image support
   is disabled, or because the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt;
   attribute's value is an &lt;i&gt;ignored self-reference&lt;/i&gt;), or if the
   conditions in the previous paragraph are not met, then the image is
-  &lt;em&gt;not&lt;/em&gt; &lt;i&gt;available&lt;/i&gt;.&lt;/p&gt;
+  &lt;em&gt;not&lt;/em&gt; &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;An image might be &lt;i&gt;available&lt;/i&gt; in one
-  &lt;a href=#view&gt;view&lt;/a&gt; but not another. For instance, a
-  &lt;code&gt;Document&lt;/code&gt; could be rendered by a screen reader providing
-  a speech synthesis view of the output of a Web browser using the
-  screen media. In this case, the image would be &lt;i&gt;available&lt;/i&gt; in
-  the Web browser's screen view, but &lt;em&gt;not&lt;/em&gt; &lt;i&gt;available&lt;/i&gt; in
-  the screen reader's view.&lt;/p&gt;
+  &lt;p class=note&gt;An image might be &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; in one &lt;a href=#view&gt;view&lt;/a&gt; but not
+  another. For instance, a &lt;code&gt;Document&lt;/code&gt; could be rendered by
+  a screen reader providing a speech synthesis view of the output of a
+  Web browser using the screen media. In this case, the image would be
+  &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; in the Web browser's screen
+  view, but &lt;em&gt;not&lt;/em&gt; &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; in the
+  screen reader's view.&lt;/p&gt;
 
   &lt;p&gt;Whether the image is fetched successfully or not (e.g. whether
   the response code was a 2xx code &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;) must be
@@ -17415,8 +17439,8 @@
 
   &lt;p&gt;The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task
   source&lt;/a&gt; once the resource has been &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt;, must, if the download was successful
-  and the image is &lt;i&gt;available&lt;/i&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element (this
+  and the image is &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt;, &lt;a href=#queue-a-task&gt;queue
+  a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element (this
   happens after &lt;code title=dom-img-complete&gt;&lt;a href=#dom-img-complete&gt;complete&lt;/a&gt;&lt;/code&gt; starts
   returning true); and otherwise, if the fetching process fails
   without a response from the remote server, or completes but the
@@ -17439,8 +17463,8 @@
     the content, redundant with some other information in the
     document.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt; and the user agent is
-    configured to display that image, then the element
+    &lt;p&gt;If the image is &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; and the
+    user agent is configured to display that image, then the element
     &lt;a href=#represents&gt;represents&lt;/a&gt; the image specified by the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, the element &lt;a href=#represents&gt;represents&lt;/a&gt; nothing, and may
@@ -17459,8 +17483,8 @@
     &lt;p&gt;The image is a key part of the content; the &lt;code title=attr-img-alt&gt;&lt;a href=#attr-img-alt&gt;alt&lt;/a&gt;&lt;/code&gt; attribute gives a textual
     equivalent or replacement for the image.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt; and the user agent is
-    configured to display that image, then the element
+    &lt;p&gt;If the image is &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; and the
+    user agent is configured to display that image, then the element
     &lt;a href=#represents&gt;represents&lt;/a&gt; the image specified by the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, the element &lt;a href=#represents&gt;represents&lt;/a&gt; the text given
@@ -17482,16 +17506,16 @@
     is a key part of the content but that a textual replacement for
     the image was not available when the image was generated.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element
-    &lt;a href=#represents&gt;represents&lt;/a&gt; the image specified by the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+    &lt;p&gt;If the image is &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt;, the
+    element &lt;a href=#represents&gt;represents&lt;/a&gt; the image specified by the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is
-    not configured to display the image, then the user agent should
-    display some sort of indicator that there is an image that is not
-    being rendered, and may, if requested by the user, or if so
-    configured, or when required to provide contextual information in
-    response to navigation, provide caption information for the image,
-    derived as follows:&lt;/p&gt;
+    &lt;p&gt;If the image is not &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; or
+    if the user agent is not configured to display the image, then the
+    user agent should display some sort of indicator that there is an
+    image that is not being rendered, and may, if requested by the
+    user, or if so configured, or when required to provide contextual
+    information in response to navigation, provide caption information
+    for the image, derived as follows:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the image has a &lt;code title=attr-title&gt;&lt;a href=#the-title-attribute&gt;title&lt;/a&gt;&lt;/code&gt;
      attribute whose value is not the empty string, then the value of
@@ -17621,17 +17645,18 @@
   rendered width and height of the image, in CSS pixels, if the image
   is being rendered, and is being rendered to a visual medium; or else
   the intrinsic width and height of the image, in CSS pixels, if the
-  image is &lt;i&gt;available&lt;/i&gt; but not being rendered to a visual medium;
-  or else 0, if the image is not &lt;i&gt;available&lt;/i&gt; or its dimensions
-  are not known. &lt;a href=#refsCSS21&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
+  image is &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; but not being
+  rendered to a visual medium; or else 0, if the image is not &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt; or its dimensions are not
+  known. &lt;a href=#refsCSS21&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p&gt;On setting, they must act as if they &lt;a href=#reflect title=reflect&gt;reflected&lt;/a&gt; the respective content attributes
   of the same name.&lt;/p&gt;
 
   &lt;p&gt;The DOM attribute &lt;dfn id=dom-img-complete title=dom-img-complete&gt;&lt;code&gt;complete&lt;/code&gt;&lt;/dfn&gt; must return
-  true if the user agent has fetched the image specified in the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute, and it is a valid image,
-  even if the final &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; queued by
-  the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; for the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; of the image resource has not yet been
+  true if the user agent has fetched the image specified in the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute, and it is in a supported
+  image type (i.e. it was decoded without fatal errors), even if the
+  final &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; queued by the
+  &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; for the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; of the image resource has not yet been
   processed. Otherwise, the attribute must return false.&lt;/p&gt;
 
   &lt;p class=note&gt;The value of &lt;code title=dom-img-complete&gt;&lt;a href=#dom-img-complete&gt;complete&lt;/a&gt;&lt;/code&gt; can thus change while a
@@ -18010,9 +18035,9 @@
 at least that would look good on the cover of a blue book.&lt;/p&gt;&lt;/pre&gt;
 
    &lt;p&gt;This example shows how the alternative text should be written
-   such that if the image isn't &lt;i&gt;available&lt;/i&gt;, and the text is used
-   instead, the text flows seamlessly into the surrounding text, as
-   if the image had never been there in the first place.&lt;/p&gt;
+   such that if the image isn't &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt;, and the text is used instead,
+   the text flows seamlessly into the surrounding text, as if the
+   image had never been there in the first place.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -32424,12 +32449,11 @@
 
   &lt;p&gt;If the image was successfully obtained, with no network errors,
   and the image's type is a supported image type, and the image is a
-  valid image of that type, then the image is said to be
-  &lt;i&gt;available&lt;/i&gt;. If this is true before the image is completely
-  downloaded, each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is
-  &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking
-  task source&lt;/a&gt; while the image is being &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; must update the presentation of the
-  image appropriately.&lt;/p&gt;
+  valid image of that type, then the image is said to be &lt;dfn id=input-img-available title=input-img-available&gt;&lt;i&gt;available&lt;/i&gt;&lt;/dfn&gt;. If this is true
+  before the image is completely downloaded, each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a
+  task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; while
+  the image is being &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; must update
+  the presentation of the image appropriately.&lt;/p&gt;
 
   &lt;p&gt;The user agents should apply the &lt;a href=#content-type-sniffing:-image title=&quot;Content-Type
   sniffing: image&quot;&gt;image sniffing rules&lt;/a&gt; to determine the type
@@ -32447,13 +32471,14 @@
 
   &lt;p&gt;The &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt; by the &lt;a href=#networking-task-source&gt;networking task
   source&lt;/a&gt; once the resource has been &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt;, must, if the download was successful
-  and the image is &lt;i&gt;available&lt;/i&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element;
-  and otherwise, if the fetching process fails without a response from
-  the remote server, or completes but the image is not a valid or
-  supported image, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-  event&lt;/a&gt; called &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; on the
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+  and the image is &lt;i title=input-img-available&gt;&lt;a href=#input-img-available&gt;available&lt;/a&gt;&lt;/i&gt;,
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called
+  &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
+  element; and otherwise, if the fetching process fails without a
+  response from the remote server, or completes but the image is not a
+  valid or supported image, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
+  simple event&lt;/a&gt; called &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; on
+  the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;hr&gt;&lt;/div&gt;
 
@@ -32468,9 +32493,9 @@
   &lt;div class=impl&gt;
 
   &lt;hr&gt;&lt;p&gt;If the &lt;code title=attr-input-src&gt;&lt;a href=#attr-input-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is set,
-  and the image is &lt;i&gt;available&lt;/i&gt; and the user agent is configured
-  to display that image, then: The element &lt;a href=#represents&gt;represents&lt;/a&gt; a
-  control for selecting a &lt;a href=#concept-input-type-image-coordinate title=concept-input-type-image-coordinate&gt;coordinate&lt;/a&gt; from
+  and the image is &lt;i title=input-img-available&gt;&lt;a href=#input-img-available&gt;available&lt;/a&gt;&lt;/i&gt; and
+  the user agent is configured to display that image, then: The
+  element &lt;a href=#represents&gt;represents&lt;/a&gt; a control for selecting a &lt;a href=#concept-input-type-image-coordinate title=concept-input-type-image-coordinate&gt;coordinate&lt;/a&gt; from
   the image specified by the &lt;code title=attr-input-src&gt;&lt;a href=#attr-input-src&gt;src&lt;/a&gt;&lt;/code&gt;
   attribute; if the element is &lt;i title=concept-input-mutable&gt;&lt;a href=#concept-input-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, the user agent should
   allow the user to select this &lt;a href=#concept-input-type-image-coordinate title=concept-input-type-image-coordinate&gt;coordinate&lt;/a&gt;. The
@@ -68779,14 +68804,14 @@
   does not &lt;a href=#represents title=represents&gt;represent&lt;/a&gt; an image, but the
   element already has intrinsic dimensions (e.g. from the
   &lt;a href=#dimension-attributes&gt;dimension attributes&lt;/a&gt; or CSS rules), and either the user
-  agent has reason to believe that the image will become
-  &lt;i&gt;available&lt;/i&gt; and be rendered in due course or the
-  &lt;code&gt;Document&lt;/code&gt; is in &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, the element is
-  expected to be treated as a replaced element whose content is the
-  text that the element represents, if any, optionally alongside an
-  icon indicating that the image is being obtained. For
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements, the text is expected to appear
-  button-like to indicate that the element is a &lt;a href=#concept-button title=concept-button&gt;button&lt;/a&gt;.&lt;/p&gt;
+  agent has reason to believe that the image will become &lt;i title=img-available&gt;&lt;a href=#img-available&gt;available&lt;/a&gt;&lt;/i&gt;&lt;!--input-img-available also--&gt;
+  and be rendered in due course or the &lt;code&gt;Document&lt;/code&gt; is in
+  &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;, the element is expected to be treated as a
+  replaced element whose content is the text that the element
+  represents, if any, optionally alongside an icon indicating that the
+  image is being obtained. For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements, the text
+  is expected to appear button-like to indicate that the element is a
+  &lt;a href=#concept-button title=concept-button&gt;button&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; some
   text and the user agent does not expect this to change, the element

Modified: source
===================================================================
--- source	2009-05-25 22:10:39 UTC (rev 3125)
+++ source	2009-05-25 23:31:37 UTC (rev 3126)
@@ -613,8 +613,30 @@
   --&gt;. &lt;!-- XXX #refs RFC1345 ? --&gt;&lt;/p&gt;
 
 
+  &lt;h4&gt;Resources&lt;/h4&gt;
 
+  &lt;p&gt;The specification uses the term &lt;i&gt;supported&lt;/i&gt; when referring
+  to whether a user agent has an implementation capable of decoding
+  the semantics of an external resource. A format or type is said to
+  be &lt;i&gt;supported&lt;/i&gt; if the implementation can process an external
+  resource of that format or type without critical aspects of the
+  resource being ignored. Whether a specific resource is
+  &lt;i&gt;supported&lt;/i&gt; can depend on what features of the resource's
+  format are in use.&lt;/p&gt;
 
+  &lt;p class=&quot;example&quot;&gt;For example, a PNG image would be considered to
+  be in a supported format if its pixel data could be decoded and
+  rendered, even if, unbeknownst to the implementation, the image
+  actually also contained animation data.&lt;/p&gt;
+
+  &lt;p class=&quot;example&quot;&gt;A MPEG4 video file would not be considered to be
+  in a supported format if the compression format used was not
+  supported, even if the implementation could determine the dimensions
+  of the movie from the file's metadata.&lt;/p&gt;
+
+
+
+
   &lt;h3&gt;Conformance requirements&lt;/h3&gt;
 
   &lt;p&gt;All diagrams, examples, and notes in this specification are
@@ -18600,30 +18622,33 @@
   &lt;span title=&quot;origin&quot;&gt;cross-origin&lt;/span&gt; access control policies
   that mitigate this attack.&lt;/p&gt;
 
-  &lt;p&gt;If the image's type is a supported image type, and the image is a
-  valid image of that type, then the image is said to be
-  &lt;i&gt;available&lt;/i&gt; (this affects exactly what the element represents,
-  as defined below). This can be true even before the image is
-  completely downloaded, if the user agent supports incremental
-  rendering of images; in such cases, each &lt;span
+  &lt;p&gt;If the image is in a supported image type and its dimensions are
+  known, then the image is said to be &lt;dfn
+  title=&quot;img-available&quot;&gt;&lt;i&gt;available&lt;/i&gt;&lt;/dfn&gt; (this affects exactly
+  what the element represents, as defined below). This can be true
+  even before the image is completely downloaded, if the user agent
+  supports incremental rendering of images; in such cases, each &lt;span
   title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span title=&quot;queue a
   task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking task source&lt;/span&gt; while
   the image is being &lt;span title=&quot;fetch&quot;&gt;fetched&lt;/span&gt; must update
-  the presentation of the image appropriately.&lt;/p&gt;
+  the presentation of the image appropriately. It can also stop being
+  true, e.g. if the user agent finds, after obtaining the image's
+  dimensions, that the image data is actually fatally corrupted.&lt;/p&gt;
 
   &lt;p&gt;If the image was not fetched (e.g. because the UA's image support
   is disabled, or because the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
   attribute's value is an &lt;i&gt;ignored self-reference&lt;/i&gt;), or if the
   conditions in the previous paragraph are not met, then the image is
-  &lt;em&gt;not&lt;/em&gt; &lt;i&gt;available&lt;/i&gt;.&lt;/p&gt;
+  &lt;em&gt;not&lt;/em&gt; &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;An image might be &lt;i&gt;available&lt;/i&gt; in one
-  &lt;span&gt;view&lt;/span&gt; but not another. For instance, a
-  &lt;code&gt;Document&lt;/code&gt; could be rendered by a screen reader providing
-  a speech synthesis view of the output of a Web browser using the
-  screen media. In this case, the image would be &lt;i&gt;available&lt;/i&gt; in
-  the Web browser's screen view, but &lt;em&gt;not&lt;/em&gt; &lt;i&gt;available&lt;/i&gt; in
-  the screen reader's view.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;An image might be &lt;i
+  title=&quot;img-available&quot;&gt;available&lt;/i&gt; in one &lt;span&gt;view&lt;/span&gt; but not
+  another. For instance, a &lt;code&gt;Document&lt;/code&gt; could be rendered by
+  a screen reader providing a speech synthesis view of the output of a
+  Web browser using the screen media. In this case, the image would be
+  &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; in the Web browser's screen
+  view, but &lt;em&gt;not&lt;/em&gt; &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; in the
+  screen reader's view.&lt;/p&gt;
 
   &lt;p&gt;Whether the image is fetched successfully or not (e.g. whether
   the response code was a 2xx code &lt;span
@@ -18658,8 +18683,8 @@
   title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking task
   source&lt;/span&gt; once the resource has been &lt;span
   title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, must, if the download was successful
-  and the image is &lt;i&gt;available&lt;/i&gt;, &lt;span&gt;queue a task&lt;/span&gt; to
-  &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
+  and the image is &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt;, &lt;span&gt;queue
+  a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
   title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the &lt;code&gt;img&lt;/code&gt; element (this
   happens after &lt;code title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; starts
   returning true); and otherwise, if the fetching process fails
@@ -18690,8 +18715,8 @@
     the content, redundant with some other information in the
     document.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt; and the user agent is
-    configured to display that image, then the element
+    &lt;p&gt;If the image is &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; and the
+    user agent is configured to display that image, then the element
     &lt;span&gt;represents&lt;/span&gt; the image specified by the &lt;code
     title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;
 
@@ -18712,8 +18737,8 @@
     title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute gives a textual
     equivalent or replacement for the image.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt; and the user agent is
-    configured to display that image, then the element
+    &lt;p&gt;If the image is &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; and the
+    user agent is configured to display that image, then the element
     &lt;span&gt;represents&lt;/span&gt; the image specified by the &lt;code
     title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;
 
@@ -18737,17 +18762,17 @@
     is a key part of the content but that a textual replacement for
     the image was not available when the image was generated.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element
-    &lt;span&gt;represents&lt;/span&gt; the image specified by the &lt;code
+    &lt;p&gt;If the image is &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt;, the
+    element &lt;span&gt;represents&lt;/span&gt; the image specified by the &lt;code
     title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is
-    not configured to display the image, then the user agent should
-    display some sort of indicator that there is an image that is not
-    being rendered, and may, if requested by the user, or if so
-    configured, or when required to provide contextual information in
-    response to navigation, provide caption information for the image,
-    derived as follows:&lt;/p&gt;
+    &lt;p&gt;If the image is not &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; or
+    if the user agent is not configured to display the image, then the
+    user agent should display some sort of indicator that there is an
+    image that is not being rendered, and may, if requested by the
+    user, or if so configured, or when required to provide contextual
+    information in response to navigation, provide caption information
+    for the image, derived as follows:&lt;/p&gt;
 
     &lt;ol&gt;
 
@@ -18900,9 +18925,10 @@
   rendered width and height of the image, in CSS pixels, if the image
   is being rendered, and is being rendered to a visual medium; or else
   the intrinsic width and height of the image, in CSS pixels, if the
-  image is &lt;i&gt;available&lt;/i&gt; but not being rendered to a visual medium;
-  or else 0, if the image is not &lt;i&gt;available&lt;/i&gt; or its dimensions
-  are not known. &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
+  image is &lt;i title=&quot;img-available&quot;&gt;available&lt;/i&gt; but not being
+  rendered to a visual medium; or else 0, if the image is not &lt;i
+  title=&quot;img-available&quot;&gt;available&lt;/i&gt; or its dimensions are not
+  known. &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p&gt;On setting, they must act as if they &lt;span
   title=&quot;reflect&quot;&gt;reflected&lt;/span&gt; the respective content attributes
@@ -18911,9 +18937,10 @@
   &lt;p&gt;The DOM attribute &lt;dfn
   title=&quot;dom-img-complete&quot;&gt;&lt;code&gt;complete&lt;/code&gt;&lt;/dfn&gt; must return
   true if the user agent has fetched the image specified in the &lt;code
-  title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute, and it is a valid image,
-  even if the final &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; queued by
-  the &lt;span&gt;networking task source&lt;/span&gt; for the &lt;span
+  title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute, and it is in a supported
+  image type (i.e. it was decoded without fatal errors), even if the
+  final &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; queued by the
+  &lt;span&gt;networking task source&lt;/span&gt; for the &lt;span
   title=&quot;fetch&quot;&gt;fetching&lt;/span&gt; of the image resource has not yet been
   processed. Otherwise, the attribute must return false.&lt;/p&gt;
 
@@ -19310,9 +19337,10 @@
 at least that would look good on the cover of a blue book.&lt;/p&gt;&lt;/pre&gt;
 
    &lt;p&gt;This example shows how the alternative text should be written
-   such that if the image isn't &lt;i&gt;available&lt;/i&gt;, and the text is used
-   instead, the text flows seamlessly into the surrounding text, as
-   if the image had never been there in the first place.&lt;/p&gt;
+   such that if the image isn't &lt;i
+   title=&quot;img-available&quot;&gt;available&lt;/i&gt;, and the text is used instead,
+   the text flows seamlessly into the surrounding text, as if the
+   image had never been there in the first place.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -36099,13 +36127,13 @@
 
   &lt;p&gt;If the image was successfully obtained, with no network errors,
   and the image's type is a supported image type, and the image is a
-  valid image of that type, then the image is said to be
-  &lt;i&gt;available&lt;/i&gt;. If this is true before the image is completely
-  downloaded, each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is
-  &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking
-  task source&lt;/span&gt; while the image is being &lt;span
-  title=&quot;fetch&quot;&gt;fetched&lt;/span&gt; must update the presentation of the
-  image appropriately.&lt;/p&gt;
+  valid image of that type, then the image is said to be &lt;dfn
+  title=&quot;input-img-available&quot;&gt;&lt;i&gt;available&lt;/i&gt;&lt;/dfn&gt;. If this is true
+  before the image is completely downloaded, each &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span title=&quot;queue a
+  task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking task source&lt;/span&gt; while
+  the image is being &lt;span title=&quot;fetch&quot;&gt;fetched&lt;/span&gt; must update
+  the presentation of the image appropriately.&lt;/p&gt;
 
   &lt;p&gt;The user agents should apply the &lt;span title=&quot;Content-Type
   sniffing: image&quot;&gt;image sniffing rules&lt;/span&gt; to determine the type
@@ -36126,14 +36154,14 @@
   title=&quot;queue a task&quot;&gt;queued&lt;/span&gt; by the &lt;span&gt;networking task
   source&lt;/span&gt; once the resource has been &lt;span
   title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;, must, if the download was successful
-  and the image is &lt;i&gt;available&lt;/i&gt;, &lt;span&gt;queue a task&lt;/span&gt; to
-  &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-  title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element;
-  and otherwise, if the fetching process fails without a response from
-  the remote server, or completes but the image is not a valid or
-  supported image, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-  event&lt;/span&gt; called &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; on the
-  &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
+  and the image is &lt;i title=&quot;input-img-available&quot;&gt;available&lt;/i&gt;,
+  &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called
+  &lt;code title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt;
+  element; and otherwise, if the fetching process fails without a
+  response from the remote server, or completes but the image is not a
+  valid or supported image, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
+  simple event&lt;/span&gt; called &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; on
+  the &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -36153,9 +36181,9 @@
   &lt;hr&gt;
 
   &lt;p&gt;If the &lt;code title=&quot;attr-input-src&quot;&gt;src&lt;/code&gt; attribute is set,
-  and the image is &lt;i&gt;available&lt;/i&gt; and the user agent is configured
-  to display that image, then: The element &lt;span&gt;represents&lt;/span&gt; a
-  control for selecting a &lt;span
+  and the image is &lt;i title=&quot;input-img-available&quot;&gt;available&lt;/i&gt; and
+  the user agent is configured to display that image, then: The
+  element &lt;span&gt;represents&lt;/span&gt; a control for selecting a &lt;span
   title=&quot;concept-input-type-image-coordinate&quot;&gt;coordinate&lt;/span&gt; from
   the image specified by the &lt;code title=&quot;attr-input-src&quot;&gt;src&lt;/code&gt;
   attribute; if the element is &lt;i
@@ -81022,15 +81050,15 @@
   does not &lt;span title=&quot;represents&quot;&gt;represent&lt;/span&gt; an image, but the
   element already has intrinsic dimensions (e.g. from the
   &lt;span&gt;dimension attributes&lt;/span&gt; or CSS rules), and either the user
-  agent has reason to believe that the image will become
-  &lt;i&gt;available&lt;/i&gt; and be rendered in due course or the
-  &lt;code&gt;Document&lt;/code&gt; is in &lt;span&gt;quirks mode&lt;/span&gt;, the element is
-  expected to be treated as a replaced element whose content is the
-  text that the element represents, if any, optionally alongside an
-  icon indicating that the image is being obtained. For
-  &lt;code&gt;input&lt;/code&gt; elements, the text is expected to appear
-  button-like to indicate that the element is a &lt;span
-  title=&quot;concept-button&quot;&gt;button&lt;/span&gt;.&lt;/p&gt;
+  agent has reason to believe that the image will become &lt;i
+  title=&quot;img-available&quot;&gt;available&lt;/i&gt;&lt;!--input-img-available also--&gt;
+  and be rendered in due course or the &lt;code&gt;Document&lt;/code&gt; is in
+  &lt;span&gt;quirks mode&lt;/span&gt;, the element is expected to be treated as a
+  replaced element whose content is the text that the element
+  represents, if any, optionally alongside an icon indicating that the
+  image is being obtained. For &lt;code&gt;input&lt;/code&gt; elements, the text
+  is expected to appear button-like to indicate that the element is a
+  &lt;span title=&quot;concept-button&quot;&gt;button&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;When an &lt;code&gt;img&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; some
   text and the user agent does not expect this to change, the element


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010006.html">[html5] r3125 - [] (0) Clarify how registered handlers work a	little. (bug 6457)
</A></li>
	<LI>Next message: <A HREF="010008.html">[html5] r3127 - [e] (0) ack for last checkin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10007">[ date ]</a>
              <a href="thread.html#10007">[ thread ]</a>
              <a href="subject.html#10007">[ subject ]</a>
              <a href="author.html#10007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
