<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3772 - [e] (0) Move the character encoding stuff down to	the HTML syntax section since [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3772%20-%20%5Be%5D%20%280%29%20Move%20the%20character%20encoding%20stuff%20down%20to%0A%09the%20HTML%20syntax%20section%20since%20%5B...%5D&In-Reply-To=%3C20090909064718.441971389C3%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010645.html">
   <LINK REL="Next"  HREF="010647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3772 - [e] (0) Move the character encoding stuff down to	the HTML syntax section since [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3772%20-%20%5Be%5D%20%280%29%20Move%20the%20character%20encoding%20stuff%20down%20to%0A%09the%20HTML%20syntax%20section%20since%20%5B...%5D&In-Reply-To=%3C20090909064718.441971389C3%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3772 - [e] (0) Move the character encoding stuff down to	the HTML syntax section since [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Sep  8 23:47:18 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010645.html">[html5] r3771 - [] (0) Make the accesskey attribute work when	tabindex is set also. (bug 7190)
</A></li>
        <LI>Next message: <A HREF="010647.html">[html5] r3773 - [e] (0) Add a worthless &lt;keygen&gt; example.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10646">[ date ]</a>
              <a href="thread.html#10646">[ thread ]</a>
              <a href="subject.html#10646">[ subject ]</a>
              <a href="author.html#10646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-09-08 23:47:17 -0700 (Tue, 08 Sep 2009)
New Revision: 3772

Modified:
   index
   source
Log:
[e] (0) Move the character encoding stuff down to the HTML syntax section since we don't want to override XML here.

Modified: index
===================================================================
--- index	2009-09-09 05:31:55 UTC (rev 3771)
+++ index	2009-09-09 06:47:17 UTC (rev 3772)
@@ -223,24 +223,23 @@
      &lt;li&gt;&lt;a href=#concept-http-equivalent&gt;&lt;span class=secno&gt;2.6.1 &lt;/span&gt;Protocol concepts&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#encrypted-http-and-related-security-concerns&gt;&lt;span class=secno&gt;2.6.2 &lt;/span&gt;Encrypted HTTP and related security concerns&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#content-type-sniffing&gt;&lt;span class=secno&gt;2.6.3 &lt;/span&gt;Determining the type of a resource&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#common-dom-interfaces&gt;&lt;span class=secno&gt;2.8 &lt;/span&gt;Common DOM interfaces&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#common-dom-interfaces&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Common DOM interfaces&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#reflecting-content-attributes-in-idl-attributes&gt;&lt;span class=secno&gt;2.8.1 &lt;/span&gt;Reflecting content attributes in IDL attributes&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#collections-0&gt;&lt;span class=secno&gt;2.8.2 &lt;/span&gt;Collections&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#reflecting-content-attributes-in-idl-attributes&gt;&lt;span class=secno&gt;2.7.1 &lt;/span&gt;Reflecting content attributes in IDL attributes&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#collections-0&gt;&lt;span class=secno&gt;2.7.2 &lt;/span&gt;Collections&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#htmlcollection-0&gt;&lt;span class=secno&gt;2.8.2.1 &lt;/span&gt;HTMLCollection&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#htmlallcollection-0&gt;&lt;span class=secno&gt;2.8.2.2 &lt;/span&gt;HTMLAllCollection&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#htmlformcontrolscollection-0&gt;&lt;span class=secno&gt;2.8.2.3 &lt;/span&gt;HTMLFormControlsCollection&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#htmloptionscollection-0&gt;&lt;span class=secno&gt;2.8.2.4 &lt;/span&gt;HTMLOptionsCollection&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#htmlpropertycollection-0&gt;&lt;span class=secno&gt;2.8.2.5 &lt;/span&gt;HTMLPropertyCollection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#domtokenlist-0&gt;&lt;span class=secno&gt;2.8.3 &lt;/span&gt;DOMTokenList&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#domsettabletokenlist-0&gt;&lt;span class=secno&gt;2.8.4 &lt;/span&gt;DOMSettableTokenList&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#safe-passing-of-structured-data&gt;&lt;span class=secno&gt;2.8.5 &lt;/span&gt;Safe passing of structured data&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#domstringmap-0&gt;&lt;span class=secno&gt;2.8.6 &lt;/span&gt;DOMStringMap&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#dom-feature-strings&gt;&lt;span class=secno&gt;2.8.7 &lt;/span&gt;DOM feature strings&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#exceptions&gt;&lt;span class=secno&gt;2.8.8 &lt;/span&gt;Exceptions&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#garbage-collection&gt;&lt;span class=secno&gt;2.8.9 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#htmlcollection-0&gt;&lt;span class=secno&gt;2.7.2.1 &lt;/span&gt;HTMLCollection&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#htmlallcollection-0&gt;&lt;span class=secno&gt;2.7.2.2 &lt;/span&gt;HTMLAllCollection&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#htmlformcontrolscollection-0&gt;&lt;span class=secno&gt;2.7.2.3 &lt;/span&gt;HTMLFormControlsCollection&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#htmloptionscollection-0&gt;&lt;span class=secno&gt;2.7.2.4 &lt;/span&gt;HTMLOptionsCollection&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#htmlpropertycollection-0&gt;&lt;span class=secno&gt;2.7.2.5 &lt;/span&gt;HTMLPropertyCollection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#domtokenlist-0&gt;&lt;span class=secno&gt;2.7.3 &lt;/span&gt;DOMTokenList&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#domsettabletokenlist-0&gt;&lt;span class=secno&gt;2.7.4 &lt;/span&gt;DOMSettableTokenList&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#safe-passing-of-structured-data&gt;&lt;span class=secno&gt;2.7.5 &lt;/span&gt;Safe passing of structured data&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#domstringmap-0&gt;&lt;span class=secno&gt;2.7.6 &lt;/span&gt;DOMStringMap&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#dom-feature-strings&gt;&lt;span class=secno&gt;2.7.7 &lt;/span&gt;DOM feature strings&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#exceptions&gt;&lt;span class=secno&gt;2.7.8 &lt;/span&gt;Exceptions&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#garbage-collection&gt;&lt;span class=secno&gt;2.7.9 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#dom&gt;&lt;span class=secno&gt;3 &lt;/span&gt;Semantics, structure, and APIs of HTML documents&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#documents&gt;&lt;span class=secno&gt;3.1 &lt;/span&gt;Documents&lt;/a&gt;
@@ -851,8 +850,9 @@
      &lt;li&gt;&lt;a href=#the-input-stream&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;The input stream&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#determining-the-character-encoding&gt;&lt;span class=secno&gt;9.2.2.1 &lt;/span&gt;Determining the character encoding&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;9.2.2.3 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#character-encodings-0&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;Character encodings&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#preprocessing-the-input-stream&gt;&lt;span class=secno&gt;9.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;9.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#parse-state&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Parse state&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#the-insertion-mode&gt;&lt;span class=secno&gt;9.2.3.1 &lt;/span&gt;The insertion mode&lt;/a&gt;&lt;/li&gt;
@@ -5147,117 +5147,11 @@
   &lt;/div&gt;
 
 
-  &lt;div class=impl&gt;
 
-  &lt;h3 id=character-encodings-0&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Character encodings&lt;/h3&gt;
+  &lt;h3 id=common-dom-interfaces&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Common DOM interfaces&lt;/h3&gt;
 
-  &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
-  encodings, but may support more.&lt;/p&gt;
+  &lt;h4 id=reflecting-content-attributes-in-idl-attributes&gt;&lt;span class=secno&gt;2.7.1 &lt;/span&gt;Reflecting content attributes in IDL attributes&lt;/h4&gt;
 
-  &lt;p class=note&gt;It is not unusual for Web browsers to support dozens
-  if not upwards of a hundred distinct character encodings.&lt;/p&gt;
-
-  &lt;p&gt;User agents must support the preferred MIME name of every
-  character encoding they support that has a preferred MIME name, and
-  should support all the IANA-registered aliases of every character
-  encoding they support. &lt;a href=#refsIANACHARSET&gt;[IANACHARSET]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;When comparing a string specifying a character encoding with the
-  name or alias of a character encoding to determine if they are
-  equal, user agents must remove any leading or trailing &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt; in both names, and
-  then perform the comparison in an &lt;a href=#ascii-case-insensitive&gt;ASCII
-  case-insensitive&lt;/a&gt; manner.&lt;/p&gt;
-
-&lt;!-- this bit will be replaced by actual alias registrations in due course --&gt;
-
-  &lt;p&gt;In addition, user agents must support the aliases given in the
-  following table for every character encoding they support, so that
-  labels from the first column are treated as equivalent to the labels
-  given in the corresponding cell from the second column on the same
-  row.&lt;/p&gt;
-
-  &lt;table&gt;&lt;caption&gt;Additional character encoding aliases&lt;/caption&gt;
-   &lt;thead&gt;&lt;tr&gt;&lt;th&gt; Alias &lt;th&gt; Corresponding encoding &lt;th&gt; References
-   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt; x-sjis &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=#refsSHIFTJIS&gt;[SHIFTJIS]&lt;/a&gt;
-         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; windows-932 &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; x-x-big5 &lt;td&gt; Big5 &lt;td&gt;
-         &lt;a href=#refsBIG5&gt;[BIG5]&lt;/a&gt;
-   &lt;/table&gt;&lt;!-- end of bit that will be replaced by actual alias registrations in due course --&gt;&lt;hr&gt;&lt;p&gt;When a user agent would otherwise use an encoding given in the
-  first column of the following table to either convert content to
-  Unicode characters or convert Unicode characters to bytes, it must
-  instead use the encoding given in the cell in the second column of
-  the same row. When a byte or sequence of bytes is treated
-  differently due to this encoding aliasing, it is said to have been
-  &lt;dfn id=misinterpreted-for-compatibility&gt;misinterpreted for compatibility&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;table&gt;&lt;caption&gt;Character encoding overrides&lt;/caption&gt;
-   &lt;thead&gt;&lt;tr&gt;&lt;th&gt; Input encoding &lt;th&gt; Replacement encoding &lt;th&gt; References
-   &lt;tbody&gt;&lt;!-- how about EUC-JP? --&gt;&lt;tr&gt;&lt;td&gt; EUC-KR &lt;td&gt; windows-949 &lt;td&gt;
-         &lt;a href=#refsEUCKR&gt;[EUCKR]&lt;/a&gt;
-         &lt;a href=#refsWIN949&gt;[WIN949]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; GB2312 &lt;td&gt; GBK &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsGBK&gt;[GBK]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; GB_2312-80 &lt;td&gt; GBK &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsGBK&gt;[GBK]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; ISO-8859-1 &lt;td&gt; windows-1252 &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; ISO-8859-9 &lt;td&gt; windows-1254 &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsWIN1254&gt;[WIN1254]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; ISO-8859-11 &lt;td&gt; windows-874 &lt;td&gt;
-         &lt;a href=#refsISO885911&gt;[ISO885911]&lt;/a&gt;
-         &lt;a href=#refsWIN874&gt;[WIN874]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; KS_C_5601-1987 &lt;td&gt; windows-949 &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsWIN949&gt;[WIN949]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; Shift_JIS &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=#refsSHIFTJIS&gt;[SHIFTJIS]&lt;/a&gt;
-         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; TIS-620 &lt;td&gt; windows-874 &lt;td&gt;
-         &lt;a href=#refsTIS620&gt;[TIS620]&lt;/a&gt;
-         &lt;a href=#refsWIN874&gt;[WIN874]&lt;/a&gt;
-    &lt;tr&gt;&lt;td&gt; US-ASCII &lt;td&gt; windows-1252 &lt;td&gt;
-         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;
-   &lt;/table&gt;&lt;p class=note&gt;The requirement to treat certain encodings as other
-  encodings according to the table above is a &lt;a href=#willful-violation&gt;willful
-  violation&lt;/a&gt; of the W3C Character Model specification, motivated
-  by a desire for compatibility with legacy content. &lt;a href=#refsCHARMOD&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;When a user agent is to use the UTF-16 encoding but no BOM has
-  been found, user agents must default to UTF-16LE.&lt;/p&gt;
-
-  &lt;p class=note&gt;The requirement to default UTF-16 to LE rather than
-  BE is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of RFC 2781, motivated by a
-  desire for compatibility with legacy content. &lt;a href=#refsCHARMOD&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;hr&gt;&lt;p&gt;User agents must not support the CESU-8, UTF-7, BOCU-1 and SCSU
-  encodings. &lt;a href=#refsCESU8&gt;[CESU8]&lt;/a&gt; &lt;a href=#refsUTF7&gt;[UTF7]&lt;/a&gt; &lt;a href=#refsBOCU1&gt;[BOCU1]&lt;/a&gt; &lt;a href=#refsSCSU&gt;[SCSU]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Support for encodings based on EBCDIC is not recommended. This
-  encoding is rarely used for publicly-facing Web content.&lt;/p&gt;
-
-  &lt;p&gt;Support for UTF-32 is not recommended. This encoding is rarely
-  used, and frequently implemented incorrectly.&lt;/p&gt;
-
-  &lt;p class=note&gt;This specification does not make any attempt to
-  support EBCDIC-based encodings and UTF-32 in its algorithms; support
-  and use of these encodings can thus lead to unexpected behavior in
-  implementations of this specification.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h3 id=common-dom-interfaces&gt;&lt;span class=secno&gt;2.8 &lt;/span&gt;Common DOM interfaces&lt;/h3&gt;
-
-  &lt;h4 id=reflecting-content-attributes-in-idl-attributes&gt;&lt;span class=secno&gt;2.8.1 &lt;/span&gt;Reflecting content attributes in IDL attributes&lt;/h4&gt;
-
   &lt;p&gt;Some &lt;span title=&quot;IDL attribute&quot;&gt;IDL attributes&lt;/span&gt; are
   defined to &lt;dfn id=reflect&gt;reflect&lt;/dfn&gt; a particular &lt;span&gt;content
   attribute&lt;/span&gt;. This means that on getting, the IDL attribute
@@ -5436,7 +5330,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=collections-0&gt;&lt;span class=secno&gt;2.8.2 &lt;/span&gt;Collections&lt;/h4&gt;
+  &lt;h4 id=collections-0&gt;&lt;span class=secno&gt;2.7.2 &lt;/span&gt;Collections&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmlcollection&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#htmlallcollection&gt;HTMLAllCollection&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#htmlformcontrolscollection&gt;HTMLFormControlsCollection&lt;/a&gt;&lt;/code&gt;,
@@ -5472,7 +5366,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=htmlcollection-0&gt;&lt;span class=secno&gt;2.8.2.1 &lt;/span&gt;HTMLCollection&lt;/h5&gt;
+  &lt;h5 id=htmlcollection-0&gt;&lt;span class=secno&gt;2.7.2.1 &lt;/span&gt;HTMLCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmlcollection&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; interface represents a generic
   &lt;a href=#collections title=collections&gt;collection&lt;/a&gt; of elements.&lt;/p&gt;
@@ -5567,7 +5461,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=htmlallcollection-0&gt;&lt;span class=secno&gt;2.8.2.2 &lt;/span&gt;HTMLAllCollection&lt;/h5&gt;
+  &lt;h5 id=htmlallcollection-0&gt;&lt;span class=secno&gt;2.7.2.2 &lt;/span&gt;HTMLAllCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmlallcollection&gt;HTMLAllCollection&lt;/a&gt;&lt;/code&gt; interface represents a generic
   &lt;a href=#collections title=collections&gt;collection&lt;/a&gt; of elements just like
@@ -5684,7 +5578,7 @@
   &lt;/div&gt;
 
 
-  &lt;h5 id=htmlformcontrolscollection-0&gt;&lt;span class=secno&gt;2.8.2.3 &lt;/span&gt;HTMLFormControlsCollection&lt;/h5&gt;
+  &lt;h5 id=htmlformcontrolscollection-0&gt;&lt;span class=secno&gt;2.7.2.3 &lt;/span&gt;HTMLFormControlsCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmlformcontrolscollection&gt;HTMLFormControlsCollection&lt;/a&gt;&lt;/code&gt; interface represents
   a &lt;a href=#collections title=collections&gt;collection&lt;/a&gt; of &lt;a href=#category-listed title=category-listed&gt;listed&lt;/a&gt; elements in &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;
@@ -5817,7 +5711,7 @@
 --&gt;&lt;/div&gt;
 
 
-  &lt;h5 id=htmloptionscollection-0&gt;&lt;span class=secno&gt;2.8.2.4 &lt;/span&gt;HTMLOptionsCollection&lt;/h5&gt;
+  &lt;h5 id=htmloptionscollection-0&gt;&lt;span class=secno&gt;2.7.2.4 &lt;/span&gt;HTMLOptionsCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmloptionscollection&gt;HTMLOptionsCollection&lt;/a&gt;&lt;/code&gt; interface represents a
   list of &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; elements. It is always rooted on a
@@ -5980,7 +5874,7 @@
   &lt;/ol&gt;&lt;!-- see also <A HREF="http://ln.hixie.ch/?start=1161042744&amp;count=1">http://ln.hixie.ch/?start=1161042744&amp;count=1</A> --&gt;&lt;/div&gt;
 
 
-  &lt;h5 id=htmlpropertycollection-0&gt;&lt;span class=secno&gt;2.8.2.5 &lt;/span&gt;HTMLPropertyCollection&lt;/h5&gt;
+  &lt;h5 id=htmlpropertycollection-0&gt;&lt;span class=secno&gt;2.7.2.5 &lt;/span&gt;HTMLPropertyCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#htmlpropertycollection&gt;HTMLPropertyCollection&lt;/a&gt;&lt;/code&gt; interface represents a
   &lt;a href=#collections title=collections&gt;collection&lt;/a&gt; of elements that add
@@ -6081,7 +5975,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=domtokenlist-0&gt;&lt;span class=secno&gt;2.8.3 &lt;/span&gt;DOMTokenList&lt;/h4&gt;
+  &lt;h4 id=domtokenlist-0&gt;&lt;span class=secno&gt;2.7.3 &lt;/span&gt;DOMTokenList&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#domtokenlist&gt;DOMTokenList&lt;/a&gt;&lt;/code&gt; interface represents an interface
   to an underlying string that consists of a &lt;a href=#set-of-space-separated-tokens&gt;set of
@@ -6264,7 +6158,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=domsettabletokenlist-0&gt;&lt;span class=secno&gt;2.8.4 &lt;/span&gt;DOMSettableTokenList&lt;/h4&gt;
+  &lt;h4 id=domsettabletokenlist-0&gt;&lt;span class=secno&gt;2.7.4 &lt;/span&gt;DOMSettableTokenList&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#domsettabletokenlist&gt;DOMSettableTokenList&lt;/a&gt;&lt;/code&gt; interface is the same as the
   &lt;code&gt;&lt;a href=#domtokenlist&gt;DOMTokenList&lt;/a&gt;&lt;/code&gt; interface, except that it allows the
@@ -6296,7 +6190,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=safe-passing-of-structured-data&gt;&lt;span class=secno&gt;2.8.5 &lt;/span&gt;Safe passing of structured data&lt;/h4&gt;
+  &lt;h4 id=safe-passing-of-structured-data&gt;&lt;span class=secno&gt;2.7.5 &lt;/span&gt;Safe passing of structured data&lt;/h4&gt;
 
   &lt;p&gt;When a user agent is required to obtain a &lt;dfn id=structured-clone&gt;structured
   clone&lt;/dfn&gt; of an object, it must run the following algorithm, which
@@ -6423,7 +6317,7 @@
   &lt;/dl&gt;&lt;/div&gt;
 
 
-  &lt;h4 id=domstringmap-0&gt;&lt;span class=secno&gt;2.8.6 &lt;/span&gt;DOMStringMap&lt;/h4&gt;
+  &lt;h4 id=domstringmap-0&gt;&lt;span class=secno&gt;2.7.6 &lt;/span&gt;DOMStringMap&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#domstringmap&gt;DOMStringMap&lt;/a&gt;&lt;/code&gt; interface represents a set of
   name-value pairs. It exposes these using the scripting language's
@@ -6506,7 +6400,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=dom-feature-strings&gt;&lt;span class=secno&gt;2.8.7 &lt;/span&gt;DOM feature strings&lt;/h4&gt;
+  &lt;h4 id=dom-feature-strings&gt;&lt;span class=secno&gt;2.7.7 &lt;/span&gt;DOM feature strings&lt;/h4&gt;
 
   &lt;p&gt;DOM3 Core defines mechanisms for checking for interface support,
   and for obtaining implementations of interfaces, using &lt;a href=<A HREF="http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMFeatures">http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMFeatures</A>&gt;feature
@@ -6528,7 +6422,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=exceptions&gt;&lt;span class=secno&gt;2.8.8 &lt;/span&gt;Exceptions&lt;/h4&gt;
+  &lt;h4 id=exceptions&gt;&lt;span class=secno&gt;2.7.8 &lt;/span&gt;Exceptions&lt;/h4&gt;
 
   &lt;p&gt;The following &lt;code&gt;DOMException&lt;/code&gt; codes are defined in DOM
   Core. &lt;a href=#refsDOMCORE&gt;[DOMCORE]&lt;/a&gt;&lt;/p&gt;
@@ -6560,7 +6454,7 @@
    &lt;li value=82&gt;&lt;dfn id=serialize_err&gt;&lt;code&gt;SERIALIZE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- actually defined in dom3ls --&gt;
   &lt;/ol&gt;&lt;div class=impl&gt;
 
-  &lt;h4 id=garbage-collection&gt;&lt;span class=secno&gt;2.8.9 &lt;/span&gt;Garbage collection&lt;/h4&gt;
+  &lt;h4 id=garbage-collection&gt;&lt;span class=secno&gt;2.7.9 &lt;/span&gt;Garbage collection&lt;/h4&gt;
 
   &lt;p&gt;There is an &lt;dfn id=implied-strong-reference&gt;implied strong reference&lt;/dfn&gt; from any IDL
   attribute that returns a pre-existing object to that object.&lt;/p&gt;
@@ -60798,9 +60692,112 @@
   use for the input stream.&lt;/p&gt;
 
 
+  &lt;h5 id=character-encodings-0&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;Character encodings&lt;/h5&gt;
 
-  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;9.2.2.2 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
+  &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
+  encodings, but may support more.&lt;/p&gt;
 
+  &lt;p class=note&gt;It is not unusual for Web browsers to support dozens
+  if not upwards of a hundred distinct character encodings.&lt;/p&gt;
+
+  &lt;p&gt;User agents must support the preferred MIME name of every
+  character encoding they support that has a preferred MIME name, and
+  should support all the IANA-registered aliases of every character
+  encoding they support. &lt;a href=#refsIANACHARSET&gt;[IANACHARSET]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When comparing a string specifying a character encoding with the
+  name or alias of a character encoding to determine if they are
+  equal, user agents must remove any leading or trailing &lt;a href=#space-character title=&quot;space character&quot;&gt;space characters&lt;/a&gt; in both names, and
+  then perform the comparison in an &lt;a href=#ascii-case-insensitive&gt;ASCII
+  case-insensitive&lt;/a&gt; manner.&lt;/p&gt;
+
+&lt;!-- this bit will be replaced by actual alias registrations in due course --&gt;
+
+  &lt;p&gt;In addition, user agents must support the aliases given in the
+  following table for every character encoding they support, so that
+  labels from the first column are treated as equivalent to the labels
+  given in the corresponding cell from the second column on the same
+  row.&lt;/p&gt;
+
+  &lt;table&gt;&lt;caption&gt;Additional character encoding aliases&lt;/caption&gt;
+   &lt;thead&gt;&lt;tr&gt;&lt;th&gt; Alias &lt;th&gt; Corresponding encoding &lt;th&gt; References
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt; x-sjis &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=#refsSHIFTJIS&gt;[SHIFTJIS]&lt;/a&gt;
+         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; windows-932 &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; x-x-big5 &lt;td&gt; Big5 &lt;td&gt;
+         &lt;a href=#refsBIG5&gt;[BIG5]&lt;/a&gt;
+   &lt;/table&gt;&lt;!-- end of bit that will be replaced by actual alias registrations in due course --&gt;&lt;hr&gt;&lt;p&gt;When a user agent would otherwise use an encoding given in the
+  first column of the following table to either convert content to
+  Unicode characters or convert Unicode characters to bytes, it must
+  instead use the encoding given in the cell in the second column of
+  the same row. When a byte or sequence of bytes is treated
+  differently due to this encoding aliasing, it is said to have been
+  &lt;dfn id=misinterpreted-for-compatibility&gt;misinterpreted for compatibility&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;table&gt;&lt;caption&gt;Character encoding overrides&lt;/caption&gt;
+   &lt;thead&gt;&lt;tr&gt;&lt;th&gt; Input encoding &lt;th&gt; Replacement encoding &lt;th&gt; References
+   &lt;tbody&gt;&lt;!-- how about EUC-JP? --&gt;&lt;tr&gt;&lt;td&gt; EUC-KR &lt;td&gt; windows-949 &lt;td&gt;
+         &lt;a href=#refsEUCKR&gt;[EUCKR]&lt;/a&gt;
+         &lt;a href=#refsWIN949&gt;[WIN949]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; GB2312 &lt;td&gt; GBK &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsGBK&gt;[GBK]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; GB_2312-80 &lt;td&gt; GBK &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsGBK&gt;[GBK]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; ISO-8859-1 &lt;td&gt; windows-1252 &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; ISO-8859-9 &lt;td&gt; windows-1254 &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsWIN1254&gt;[WIN1254]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; ISO-8859-11 &lt;td&gt; windows-874 &lt;td&gt;
+         &lt;a href=#refsISO885911&gt;[ISO885911]&lt;/a&gt;
+         &lt;a href=#refsWIN874&gt;[WIN874]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; KS_C_5601-1987 &lt;td&gt; windows-949 &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsWIN949&gt;[WIN949]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; Shift_JIS &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=#refsSHIFTJIS&gt;[SHIFTJIS]&lt;/a&gt;
+         &lt;a href=#refsWIN31J&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; TIS-620 &lt;td&gt; windows-874 &lt;td&gt;
+         &lt;a href=#refsTIS620&gt;[TIS620]&lt;/a&gt;
+         &lt;a href=#refsWIN874&gt;[WIN874]&lt;/a&gt;
+    &lt;tr&gt;&lt;td&gt; US-ASCII &lt;td&gt; windows-1252 &lt;td&gt;
+         &lt;a href=#refsRFC1345&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=#refsWIN1252&gt;[WIN1252]&lt;/a&gt;
+   &lt;/table&gt;&lt;p class=note&gt;The requirement to treat certain encodings as other
+  encodings according to the table above is a &lt;a href=#willful-violation&gt;willful
+  violation&lt;/a&gt; of the W3C Character Model specification, motivated
+  by a desire for compatibility with legacy content. &lt;a href=#refsCHARMOD&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When a user agent is to use the UTF-16 encoding but no BOM has
+  been found, user agents must default to UTF-16LE.&lt;/p&gt;
+
+  &lt;p class=note&gt;The requirement to default UTF-16 to LE rather than
+  BE is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt; of RFC 2781, motivated by a
+  desire for compatibility with legacy content. &lt;a href=#refsCHARMOD&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;User agents must not support the CESU-8, UTF-7, BOCU-1 and SCSU
+  encodings. &lt;a href=#refsCESU8&gt;[CESU8]&lt;/a&gt; &lt;a href=#refsUTF7&gt;[UTF7]&lt;/a&gt; &lt;a href=#refsBOCU1&gt;[BOCU1]&lt;/a&gt; &lt;a href=#refsSCSU&gt;[SCSU]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Support for encodings based on EBCDIC is not recommended. This
+  encoding is rarely used for publicly-facing Web content.&lt;/p&gt;
+
+  &lt;p&gt;Support for UTF-32 is not recommended. This encoding is rarely
+  used, and frequently implemented incorrectly.&lt;/p&gt;
+
+  &lt;p class=note&gt;This specification does not make any attempt to
+  support EBCDIC-based encodings and UTF-32 in its algorithms; support
+  and use of these encodings can thus lead to unexpected behavior in
+  implementations of this specification.&lt;/p&gt;
+
+
+
+  &lt;h5 id=preprocessing-the-input-stream&gt;&lt;span class=secno&gt;9.2.2.3 &lt;/span&gt;Preprocessing the input stream&lt;/h5&gt;
+
   &lt;p&gt;Given an encoding, the bytes in the input stream must be
   converted to Unicode characters for the tokenizer, as described by
   the rules for that encoding, except that the leading U+FEFF BYTE
@@ -60874,7 +60871,7 @@
   the stream, but rather the lack of any further characters.&lt;/p&gt;
 
 
-  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;9.2.2.3 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
+  &lt;h5 id=changing-the-encoding-while-parsing&gt;&lt;span class=secno&gt;9.2.2.4 &lt;/span&gt;Changing the encoding while parsing&lt;/h5&gt;
 
   &lt;p&gt;When the parser requires the user agent to &lt;dfn id=change-the-encoding&gt;change the
   encoding&lt;/dfn&gt;, it must run the following steps. This might happen

Modified: source
===================================================================
--- source	2009-09-09 05:31:55 UTC (rev 3771)
+++ source	2009-09-09 06:47:17 UTC (rev 3772)
@@ -4857,138 +4857,7 @@
   &lt;/div&gt;
 
 
-  &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;h3&gt;Character encodings&lt;/h3&gt;
-
-  &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
-  encodings, but may support more.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;It is not unusual for Web browsers to support dozens
-  if not upwards of a hundred distinct character encodings.&lt;/p&gt;
-
-  &lt;p&gt;User agents must support the preferred MIME name of every
-  character encoding they support that has a preferred MIME name, and
-  should support all the IANA-registered aliases of every character
-  encoding they support. &lt;a
-  href=&quot;#refsIANACHARSET&quot;&gt;[IANACHARSET]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;When comparing a string specifying a character encoding with the
-  name or alias of a character encoding to determine if they are
-  equal, user agents must remove any leading or trailing &lt;span
-  title=&quot;space character&quot;&gt;space characters&lt;/span&gt; in both names, and
-  then perform the comparison in an &lt;span&gt;ASCII
-  case-insensitive&lt;/span&gt; manner.&lt;/p&gt;
-
-&lt;!-- this bit will be replaced by actual alias registrations in due course --&gt;
-
-  &lt;p&gt;In addition, user agents must support the aliases given in the
-  following table for every character encoding they support, so that
-  labels from the first column are treated as equivalent to the labels
-  given in the corresponding cell from the second column on the same
-  row.&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;caption&gt;Additional character encoding aliases&lt;/caption&gt;
-   &lt;thead&gt;
-    &lt;tr&gt; &lt;th&gt; Alias &lt;th&gt; Corresponding encoding &lt;th&gt; References
-   &lt;tbody&gt;
-    &lt;tr&gt; &lt;td&gt; x-sjis &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=&quot;#refsSHIFTJIS&quot;&gt;[SHIFTJIS]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; windows-932 &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; x-x-big5 &lt;td&gt; Big5 &lt;td&gt;
-         &lt;a href=&quot;#refsBIG5&quot;&gt;[BIG5]&lt;/a&gt;
-   &lt;/tbody&gt;
-  &lt;/table&gt;
-
-&lt;!-- end of bit that will be replaced by actual alias registrations in due course --&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When a user agent would otherwise use an encoding given in the
-  first column of the following table to either convert content to
-  Unicode characters or convert Unicode characters to bytes, it must
-  instead use the encoding given in the cell in the second column of
-  the same row. When a byte or sequence of bytes is treated
-  differently due to this encoding aliasing, it is said to have been
-  &lt;dfn&gt;misinterpreted for compatibility&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;caption&gt;Character encoding overrides&lt;/caption&gt;
-   &lt;thead&gt;
-    &lt;tr&gt; &lt;th&gt; Input encoding &lt;th&gt; Replacement encoding &lt;th&gt; References
-   &lt;tbody&gt;
-    &lt;!-- how about EUC-JP? --&gt;
-    &lt;tr&gt; &lt;td&gt; EUC-KR &lt;td&gt; windows-949 &lt;td&gt;
-         &lt;a href=&quot;#refsEUCKR&quot;&gt;[EUCKR]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN949&quot;&gt;[WIN949]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; GB2312 &lt;td&gt; GBK &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsGBK&quot;&gt;[GBK]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; GB_2312-80 &lt;td&gt; GBK &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsGBK&quot;&gt;[GBK]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; ISO-8859-1 &lt;td&gt; windows-1252 &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN1252&quot;&gt;[WIN1252]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; ISO-8859-9 &lt;td&gt; windows-1254 &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN1254&quot;&gt;[WIN1254]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; ISO-8859-11 &lt;td&gt; windows-874 &lt;td&gt;
-         &lt;a href=&quot;#refsISO885911&quot;&gt;[ISO885911]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN874&quot;&gt;[WIN874]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; KS_C_5601-1987 &lt;td&gt; windows-949 &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN949&quot;&gt;[WIN949]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; Shift_JIS &lt;td&gt; windows-31J &lt;td&gt;
-         &lt;a href=&quot;#refsSHIFTJIS&quot;&gt;[SHIFTJIS]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; TIS-620 &lt;td&gt; windows-874 &lt;td&gt;
-         &lt;a href=&quot;#refsTIS620&quot;&gt;[TIS620]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN874&quot;&gt;[WIN874]&lt;/a&gt;
-    &lt;tr&gt; &lt;td&gt; US-ASCII &lt;td&gt; windows-1252 &lt;td&gt;
-         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
-         &lt;a href=&quot;#refsWIN1252&quot;&gt;[WIN1252]&lt;/a&gt;
-   &lt;/tbody&gt;
-  &lt;/table&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The requirement to treat certain encodings as other
-  encodings according to the table above is a &lt;span&gt;willful
-  violation&lt;/span&gt; of the W3C Character Model specification, motivated
-  by a desire for compatibility with legacy content. &lt;a
-  href=&quot;#refsCHARMOD&quot;&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;When a user agent is to use the UTF-16 encoding but no BOM has
-  been found, user agents must default to UTF-16LE.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The requirement to default UTF-16 to LE rather than
-  BE is a &lt;span&gt;willful violation&lt;/span&gt; of RFC 2781, motivated by a
-  desire for compatibility with legacy content. &lt;a
-  href=&quot;#refsCHARMOD&quot;&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;User agents must not support the CESU-8, UTF-7, BOCU-1 and SCSU
-  encodings. &lt;a href=&quot;#refsCESU8&quot;&gt;[CESU8]&lt;/a&gt; &lt;a
-  href=&quot;#refsUTF7&quot;&gt;[UTF7]&lt;/a&gt; &lt;a href=&quot;#refsBOCU1&quot;&gt;[BOCU1]&lt;/a&gt; &lt;a
-  href=&quot;#refsSCSU&quot;&gt;[SCSU]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Support for encodings based on EBCDIC is not recommended. This
-  encoding is rarely used for publicly-facing Web content.&lt;/p&gt;
-
-  &lt;p&gt;Support for UTF-32 is not recommended. This encoding is rarely
-  used, and frequently implemented incorrectly.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This specification does not make any attempt to
-  support EBCDIC-based encodings and UTF-32 in its algorithms; support
-  and use of these encodings can thus lead to unexpected behavior in
-  implementations of this specification.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
   &lt;h3&gt;Common DOM interfaces&lt;/h3&gt;
 
   &lt;h4&gt;Reflecting content attributes in IDL attributes&lt;/h4&gt;
@@ -75338,7 +75207,135 @@
   use for the input stream.&lt;/p&gt;
 
 
+  &lt;h5&gt;Character encodings&lt;/h5&gt;
 
+  &lt;p&gt;User agents must at a minimum support the UTF-8 and Windows-1252
+  encodings, but may support more.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;It is not unusual for Web browsers to support dozens
+  if not upwards of a hundred distinct character encodings.&lt;/p&gt;
+
+  &lt;p&gt;User agents must support the preferred MIME name of every
+  character encoding they support that has a preferred MIME name, and
+  should support all the IANA-registered aliases of every character
+  encoding they support. &lt;a
+  href=&quot;#refsIANACHARSET&quot;&gt;[IANACHARSET]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When comparing a string specifying a character encoding with the
+  name or alias of a character encoding to determine if they are
+  equal, user agents must remove any leading or trailing &lt;span
+  title=&quot;space character&quot;&gt;space characters&lt;/span&gt; in both names, and
+  then perform the comparison in an &lt;span&gt;ASCII
+  case-insensitive&lt;/span&gt; manner.&lt;/p&gt;
+
+&lt;!-- this bit will be replaced by actual alias registrations in due course --&gt;
+
+  &lt;p&gt;In addition, user agents must support the aliases given in the
+  following table for every character encoding they support, so that
+  labels from the first column are treated as equivalent to the labels
+  given in the corresponding cell from the second column on the same
+  row.&lt;/p&gt;
+
+  &lt;table&gt;
+   &lt;caption&gt;Additional character encoding aliases&lt;/caption&gt;
+   &lt;thead&gt;
+    &lt;tr&gt; &lt;th&gt; Alias &lt;th&gt; Corresponding encoding &lt;th&gt; References
+   &lt;tbody&gt;
+    &lt;tr&gt; &lt;td&gt; x-sjis &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=&quot;#refsSHIFTJIS&quot;&gt;[SHIFTJIS]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; windows-932 &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; x-x-big5 &lt;td&gt; Big5 &lt;td&gt;
+         &lt;a href=&quot;#refsBIG5&quot;&gt;[BIG5]&lt;/a&gt;
+   &lt;/tbody&gt;
+  &lt;/table&gt;
+
+&lt;!-- end of bit that will be replaced by actual alias registrations in due course --&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a user agent would otherwise use an encoding given in the
+  first column of the following table to either convert content to
+  Unicode characters or convert Unicode characters to bytes, it must
+  instead use the encoding given in the cell in the second column of
+  the same row. When a byte or sequence of bytes is treated
+  differently due to this encoding aliasing, it is said to have been
+  &lt;dfn&gt;misinterpreted for compatibility&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;table&gt;
+   &lt;caption&gt;Character encoding overrides&lt;/caption&gt;
+   &lt;thead&gt;
+    &lt;tr&gt; &lt;th&gt; Input encoding &lt;th&gt; Replacement encoding &lt;th&gt; References
+   &lt;tbody&gt;
+    &lt;!-- how about EUC-JP? --&gt;
+    &lt;tr&gt; &lt;td&gt; EUC-KR &lt;td&gt; windows-949 &lt;td&gt;
+         &lt;a href=&quot;#refsEUCKR&quot;&gt;[EUCKR]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN949&quot;&gt;[WIN949]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; GB2312 &lt;td&gt; GBK &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsGBK&quot;&gt;[GBK]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; GB_2312-80 &lt;td&gt; GBK &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsGBK&quot;&gt;[GBK]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; ISO-8859-1 &lt;td&gt; windows-1252 &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN1252&quot;&gt;[WIN1252]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; ISO-8859-9 &lt;td&gt; windows-1254 &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN1254&quot;&gt;[WIN1254]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; ISO-8859-11 &lt;td&gt; windows-874 &lt;td&gt;
+         &lt;a href=&quot;#refsISO885911&quot;&gt;[ISO885911]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN874&quot;&gt;[WIN874]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; KS_C_5601-1987 &lt;td&gt; windows-949 &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN949&quot;&gt;[WIN949]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; Shift_JIS &lt;td&gt; windows-31J &lt;td&gt;
+         &lt;a href=&quot;#refsSHIFTJIS&quot;&gt;[SHIFTJIS]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN31J&quot;&gt;[WIN31J]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; TIS-620 &lt;td&gt; windows-874 &lt;td&gt;
+         &lt;a href=&quot;#refsTIS620&quot;&gt;[TIS620]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN874&quot;&gt;[WIN874]&lt;/a&gt;
+    &lt;tr&gt; &lt;td&gt; US-ASCII &lt;td&gt; windows-1252 &lt;td&gt;
+         &lt;a href=&quot;#refsRFC1345&quot;&gt;[RFC1345]&lt;/a&gt;
+         &lt;a href=&quot;#refsWIN1252&quot;&gt;[WIN1252]&lt;/a&gt;
+   &lt;/tbody&gt;
+  &lt;/table&gt;
+
+  &lt;p class=&quot;note&quot;&gt;The requirement to treat certain encodings as other
+  encodings according to the table above is a &lt;span&gt;willful
+  violation&lt;/span&gt; of the W3C Character Model specification, motivated
+  by a desire for compatibility with legacy content. &lt;a
+  href=&quot;#refsCHARMOD&quot;&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;When a user agent is to use the UTF-16 encoding but no BOM has
+  been found, user agents must default to UTF-16LE.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;The requirement to default UTF-16 to LE rather than
+  BE is a &lt;span&gt;willful violation&lt;/span&gt; of RFC 2781, motivated by a
+  desire for compatibility with legacy content. &lt;a
+  href=&quot;#refsCHARMOD&quot;&gt;[CHARMOD]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;User agents must not support the CESU-8, UTF-7, BOCU-1 and SCSU
+  encodings. &lt;a href=&quot;#refsCESU8&quot;&gt;[CESU8]&lt;/a&gt; &lt;a
+  href=&quot;#refsUTF7&quot;&gt;[UTF7]&lt;/a&gt; &lt;a href=&quot;#refsBOCU1&quot;&gt;[BOCU1]&lt;/a&gt; &lt;a
+  href=&quot;#refsSCSU&quot;&gt;[SCSU]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Support for encodings based on EBCDIC is not recommended. This
+  encoding is rarely used for publicly-facing Web content.&lt;/p&gt;
+
+  &lt;p&gt;Support for UTF-32 is not recommended. This encoding is rarely
+  used, and frequently implemented incorrectly.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This specification does not make any attempt to
+  support EBCDIC-based encodings and UTF-32 in its algorithms; support
+  and use of these encodings can thus lead to unexpected behavior in
+  implementations of this specification.&lt;/p&gt;
+
+
+
   &lt;h5&gt;Preprocessing the input stream&lt;/h5&gt;
 
   &lt;p&gt;Given an encoding, the bytes in the input stream must be


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010645.html">[html5] r3771 - [] (0) Make the accesskey attribute work when	tabindex is set also. (bug 7190)
</A></li>
	<LI>Next message: <A HREF="010647.html">[html5] r3773 - [e] (0) Add a worthless &lt;keygen&gt; example.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10646">[ date ]</a>
              <a href="thread.html#10646">[ thread ]</a>
              <a href="subject.html#10646">[ subject ]</a>
              <a href="author.html#10646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
