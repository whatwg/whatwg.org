<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3063 - [] (0) Change the way the Command API is defined so	that it applies to all eleme [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3063%20-%20%5B%5D%20%280%29%20Change%20the%20way%20the%20Command%20API%20is%20defined%20so%0A%09that%20it%20applies%20to%20all%20eleme%20%5B...%5D&In-Reply-To=%3C20090502213152.F09DF1389C1%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009942.html">
   <LINK REL="Next"  HREF="009944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3063 - [] (0) Change the way the Command API is defined so	that it applies to all eleme [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3063%20-%20%5B%5D%20%280%29%20Change%20the%20way%20the%20Command%20API%20is%20defined%20so%0A%09that%20it%20applies%20to%20all%20eleme%20%5B...%5D&In-Reply-To=%3C20090502213152.F09DF1389C1%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3063 - [] (0) Change the way the Command API is defined so	that it applies to all eleme [...]">whatwg at whatwg.org
       </A><BR>
    <I>Sat May  2 14:31:52 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009942.html">[html5] r3062 - [] (0) Update references to Origin header to match	the Origin I-D again.
</A></li>
        <LI>Next message: <A HREF="009944.html">[html5] r3064 - [e] (0) fix copypasta, add more xrefs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9943">[ date ]</a>
              <a href="thread.html#9943">[ thread ]</a>
              <a href="subject.html#9943">[ subject ]</a>
              <a href="author.html#9943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-05-02 14:31:50 -0700 (Sat, 02 May 2009)
New Revision: 3063

Modified:
   index
   source
Log:
[] (0) Change the way the Command API is defined so that it applies to all elements, so that we can make any element a command without jumping through hoops.

Modified: index
===================================================================
--- index	2009-05-02 20:09:06 UTC (rev 3062)
+++ index	2009-05-02 21:31:50 UTC (rev 3063)
@@ -844,7 +844,7 @@
      &lt;li&gt;&lt;a href=#redo:-moving-forward-in-the-undo-transaction-history&gt;&lt;span class=secno&gt;6.10.5 &lt;/span&gt;Redo: moving forward in the undo transaction history&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-undomanagerevent-interface-and-the-undo-and-redo-events&gt;&lt;span class=secno&gt;6.10.6 &lt;/span&gt;The &lt;code&gt;UndoManagerEvent&lt;/code&gt; interface and the &lt;code title=event-undo&gt;undo&lt;/code&gt; and &lt;code title=event-redo&gt;redo&lt;/code&gt; events&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#implementation-notes&gt;&lt;span class=secno&gt;6.10.7 &lt;/span&gt;Implementation notes&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#command-apis&gt;&lt;span class=secno&gt;6.11 &lt;/span&gt;Command APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;6.11 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;7 &lt;/span&gt;Communication&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;7.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
@@ -7809,6 +7809,14 @@
            attribute &lt;a href=#htmlmenuelement&gt;HTMLMenuElement&lt;/a&gt; &lt;a href=#dom-contextmenu title=dom-contextMenu&gt;contextMenu&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-spellcheck title=dom-spellcheck&gt;spellcheck&lt;/a&gt;;
 
+  // &lt;a href=#command-api&gt;command API&lt;/a&gt;
+  readonly attribute DOMString &lt;a href=#dom-command-ro-commandtype title=dom-command-ro-commandType&gt;commandType&lt;/a&gt;;          
+  readonly attribute DOMString &lt;a href=#dom-command-ro-label title=dom-command-ro-label&gt;label&lt;/a&gt;;
+  readonly attribute DOMString &lt;a href=#dom-command-ro-icon title=dom-command-ro-icon&gt;icon&lt;/a&gt;;
+  readonly attribute boolean &lt;a href=#dom-command-ro-disabled title=dom-command-ro-disabled&gt;disabled&lt;/a&gt;;              
+  readonly attribute boolean &lt;a href=#dom-command-ro-checked title=dom-command-ro-checked&gt;checked&lt;/a&gt;;&lt;!-- v2COMMAND
+  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-command-ro-triggers&quot;&gt;triggers&lt;/span&gt;;--&gt;
+
   // &lt;span&gt;styling&lt;/span&gt;
   readonly attribute &lt;span&gt;CSSStyleDeclaration&lt;/span&gt; &lt;a href=#dom-style title=dom-style&gt;style&lt;/a&gt;;
 
@@ -14057,8 +14065,6 @@
            attribute DOMString &lt;a href=#dom-a-search title=dom-a-search&gt;search&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-a-hash title=dom-a-hash&gt;hash&lt;/a&gt;;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface must also be implemented by
-    this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element has an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute, then it
   &lt;a href=#represents&gt;represents&lt;/a&gt; a &lt;a href=#hyperlink&gt;hyperlink&lt;/a&gt; (a hypertext
@@ -38632,10 +38638,8 @@
            attribute boolean &lt;a href=#dom-command-checked title=dom-command-checked&gt;checked&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-command-radiogroup title=dom-command-radiogroup&gt;radiogroup&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-command-default title=dom-command-default&gt;default&lt;/a&gt;;
- void &lt;a href=#dom-command-click title=dom-command-click&gt;click&lt;/a&gt;(); // shadows &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;code title=dom-click&gt;&lt;a href=#dom-click&gt;click()&lt;/a&gt;&lt;/code&gt;
+  void &lt;a href=#dom-command-click title=dom-command-click&gt;click&lt;/a&gt;(); // shadows &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;code title=dom-click&gt;&lt;a href=#dom-click&gt;click()&lt;/a&gt;&lt;/code&gt;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface must also be implemented by
-    this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; element represents a command that the user
   can invoke.&lt;/p&gt;
@@ -38809,8 +38813,6 @@
   readonly attribute boolean &lt;a href=#dom-bb-supported title=dom-bb-supported&gt;supported&lt;/a&gt;;
   readonly attribute boolean &lt;a href=#dom-bb-disabled title=dom-bb-disabled&gt;disabled&lt;/a&gt;;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface must also
-    be implemented by this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-bb-element&gt;bb&lt;/a&gt;&lt;/code&gt; element represents a user agent command that
   the user can invoke.&lt;/p&gt;
@@ -39405,43 +39407,9 @@
    way to refer to it.&lt;/dd&gt;
 --&gt;
 
-  &lt;/dl&gt;&lt;p&gt;Commands are represented by elements in the DOM. Any element that
-  can define a command also implements the &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;These facets are exposed on elements using the &lt;dfn id=command-api&gt;command
+  API&lt;/dfn&gt;:&lt;/p&gt;
 
-  &lt;p class=XXX&gt;Actually even better would be to just mix it
-  straight into those interfaces somehow.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;[NoInterfaceObject] interface &lt;dfn id=command-ro title=command-ro&gt;Command&lt;/dfn&gt; {&lt;!--
- NOTE: to avoid clashing with the HTMLCommandElement interface's names,
-       the members of this interface use cross-references with the title
-       dom-command-ro-foo (note the &quot;ro&quot;, which stands for &quot;readonly&quot;).
---&gt;
-  readonly attribute DOMString &lt;a href=#dom-command-ro-commandtype title=dom-command-ro-commandType&gt;commandType&lt;/a&gt;;          
-  readonly attribute DOMString &lt;a href=#dom-command-ro-id title=dom-command-ro-id&gt;id&lt;/a&gt;;
-  readonly attribute DOMString &lt;a href=#dom-command-ro-label title=dom-command-ro-label&gt;label&lt;/a&gt;;
-  readonly attribute DOMString &lt;a href=#dom-command-ro-title title=dom-command-ro-title&gt;title&lt;/a&gt;;
-  readonly attribute DOMString &lt;a href=#dom-command-ro-icon title=dom-command-ro-icon&gt;icon&lt;/a&gt;;
-  readonly attribute boolean &lt;a href=#dom-command-ro-hidden title=dom-command-ro-hidden&gt;hidden&lt;/a&gt;;
-  readonly attribute boolean &lt;a href=#dom-command-ro-disabled title=dom-command-ro-disabled&gt;disabled&lt;/a&gt;;              
-  readonly attribute boolean &lt;a href=#dom-command-ro-checked title=dom-command-ro-checked&gt;checked&lt;/a&gt;;              
-  void &lt;a href=#dom-command-ro-click title=dom-command-ro-click&gt;click&lt;/a&gt;();&lt;!-- v2COMMAND
-  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-command-ro-triggers&quot;&gt;triggers&lt;/span&gt;;--&gt;
-};&lt;/pre&gt;
-
-  &lt;div class=impl&gt;
-
-  &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface must be
-  implemented by any element capable of defining a command. All the
-  attributes of the &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt; interface
-  are read-only. Elements implementing this interface might implement
-  other interfaces that have attributes with identical names but that
-  are mutable; in bindings that flatten all supported interfaces on
-  the object, the mutable attributes must shadow the readonly
-  attributes defined in the &lt;code title=command-ro&gt;&lt;a href=#command-ro&gt;Command&lt;/a&gt;&lt;/code&gt;
-  interface.&lt;/p&gt;
-
-  &lt;/div&gt;
-
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-command-ro-commandType&gt;&lt;a href=#dom-command-ro-commandtype&gt;commandType&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -39450,7 +39418,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-command-ro-id&gt;&lt;a href=#dom-command-ro-id&gt;id&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-id&gt;&lt;a href=#dom-id&gt;id&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -39466,7 +39434,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-command-ro-title&gt;&lt;a href=#dom-command-ro-title&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -39482,7 +39450,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-command-ro-hidden&gt;&lt;a href=#dom-command-ro-hidden&gt;hidden&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-hidden&gt;&lt;a href=#dom-hidden&gt;hidden&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -39506,7 +39474,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-command-ro-click&gt;&lt;a href=#dom-command-ro-click&gt;click&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-click&gt;&lt;a href=#dom-click&gt;click&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -39531,25 +39499,12 @@
   element is &quot;command&quot;, &quot;radio&quot;, or &quot;checked&quot; respectively. If the
   element does not define a command, it must return null.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-command-ro-id title=dom-command-ro-id&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the command's &lt;a href=#command-facet-id title=command-facet-ID&gt;ID&lt;/a&gt;,
-  or null if the element does not define a command or defines an
-  &lt;a href=#anonymous-command&gt;anonymous command&lt;/a&gt;. This attribute will be shadowed by
-  the &lt;code title=dom-id&gt;&lt;a href=#dom-id&gt;id&lt;/a&gt;&lt;/code&gt; DOM attribute on the
-  &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-command-ro-label title=dom-command-ro-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the command's &lt;a href=#command-facet-label title=command-facet-Label&gt;Label&lt;/a&gt;, or null if the element
   does not define a command or does not specify a &lt;a href=#command-facet-label title=command-facet-Label&gt;Label&lt;/a&gt;. This attribute will be
   shadowed by the &lt;code title=&quot;&quot;&gt;label&lt;/code&gt; DOM attribute on
   &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-command-ro-title title=dom-command-ro-title&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the command's &lt;a href=#command-facet-hint title=command-facet-Hint&gt;Hint&lt;/a&gt;, or null if the element does
-  not define a command or does not specify a &lt;a href=#command-facet-hint title=command-facet-Hint&gt;Hint&lt;/a&gt;. This attribute will be
-  shadowed by the &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; DOM attribute
-  on the &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-command-ro-icon title=dom-command-ro-icon&gt;&lt;code&gt;icon&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of the command's
   &lt;a href=#command-facet-icon title=command-facet-Icon&gt;Icon&lt;/a&gt;. If the element does
@@ -39558,13 +39513,6 @@
   by the &lt;code title=dom-command-icon&gt;&lt;a href=#dom-command-icon&gt;icon&lt;/a&gt;&lt;/code&gt; DOM attribute on
   &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-command-ro-hidden title=dom-command-ro-hidden&gt;&lt;code&gt;hidden&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return true if the command's &lt;a href=#command-facet-hiddenstate title=command-facet-HiddenState&gt;Hidden State&lt;/a&gt; is that the
-  command is hidden, and false if it is that the command is not
-  hidden. If the element does not define a command, the attribute must
-  return false. This attribute will be shadowed by the &lt;code title=dom-hidden&gt;&lt;a href=#dom-hidden&gt;hidden&lt;/a&gt;&lt;/code&gt; DOM attribute on the
-  &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-command-ro-disabled title=dom-command-ro-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt;
   attribute must return true if the command's &lt;a href=#command-facet-disabledstate title=command-facet-DisabledState&gt;Disabled State&lt;/a&gt; is that
   the command is disabled, and false if the command is not
@@ -39581,11 +39529,6 @@
   must return false. This attribute will be shadowed by the &lt;code title=&quot;&quot;&gt;checked&lt;/code&gt; attribute on &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; and
   &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-command-ro-click title=dom-command-ro-click&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
-  method must trigger the &lt;a href=#command-facet-action title=command-facet-Action&gt;Action&lt;/a&gt; for the command. If the
-  element does not define a command, this method must do nothing. This
-  method will be shadowed by the &lt;code title=dom-click&gt;&lt;a href=#dom-click&gt;click()&lt;/a&gt;&lt;/code&gt; method on &lt;a href=#html-elements&gt;HTML
-  elements&lt;/a&gt;, and is included only for completeness.&lt;/p&gt;
 &lt;!--v2COMMAND
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-command-ro-triggers&quot;&gt;&lt;code&gt;triggers&lt;/code&gt;&lt;/dfn&gt;
@@ -39595,6 +39538,25 @@
   &lt;span&gt;live&lt;/span&gt;. While the element does not define a command, the
   list must be empty.&lt;/p&gt;
 --&gt;
+
+  &lt;p class=note&gt;The &lt;a href=#command-facet-id title=command-facet-ID&gt;ID&lt;/a&gt; facet
+  is exposed by the the &lt;code title=dom-id&gt;&lt;a href=#dom-id&gt;id&lt;/a&gt;&lt;/code&gt; DOM attribute,
+  the &lt;a href=#command-facet-hint title=command-facet-Hint&gt;Hint&lt;/a&gt; facet is exposed by
+  the &lt;code title=dom-title&gt;&lt;a href=#dom-title&gt;title&lt;/a&gt;&lt;/code&gt; DOM attribute, and the
+  &lt;a href=#command-facet-hiddenstate title=command-facet-HiddenState&gt;Hidden State&lt;/a&gt; facet is
+  exposed by the &lt;code title=dom-hidden&gt;&lt;a href=#dom-hidden&gt;hidden&lt;/a&gt;&lt;/code&gt; DOM
+  attribute.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;hr&gt;&lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-images&gt;&lt;a href=#dom-document-images&gt;images&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Returns an &lt;code&gt;&lt;a href=#htmlcollection-0&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; of the elements in the
+    &lt;code&gt;Document&lt;/code&gt; that define commands and have IDs.&lt;/p&gt;
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-document-commands title=dom-document-commands&gt;&lt;code&gt;commands&lt;/code&gt;&lt;/dfn&gt; attribute
   of the document's &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface must return an
   &lt;code&gt;&lt;a href=#htmlcollection-0&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; rooted at the &lt;code&gt;Document&lt;/code&gt;
@@ -39603,10 +39565,8 @@
 
   &lt;/div&gt;
 
-  &lt;p&gt;The following elements can define commands: &lt;code title=a-command&gt;&lt;a href=#using-the-a-element-to-define-a-command&gt;a&lt;/a&gt;&lt;/code&gt;, &lt;code title=button-command&gt;&lt;a href=#using-the-button-element-to-define-a-command&gt;button&lt;/a&gt;&lt;/code&gt;, &lt;code title=input-command&gt;&lt;a href=#using-the-input-element-to-define-a-command&gt;input&lt;/a&gt;&lt;/code&gt;, &lt;code title=option-command&gt;&lt;a href=#using-the-option-element-to-define-a-command&gt;option&lt;/a&gt;&lt;/code&gt;, &lt;code title=command-element&gt;&lt;a href=#using-the-command-element-to-define-a-command&gt;command&lt;/a&gt;&lt;/code&gt;, &lt;code title=bb-command&gt;&lt;a href=#using-the-bb-element-to-define-a-command&gt;bb&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
 
-
   &lt;div class=impl&gt;
 
   &lt;h5 id=using-the-a-element-to-define-a-command&gt;&lt;span class=secno&gt;4.11.6.1 &lt;/span&gt;&lt;dfn title=a-command&gt;Using the &lt;code&gt;a&lt;/code&gt; element to define a command&lt;/dfn&gt;&lt;/h5&gt;
@@ -51043,7 +51003,7 @@
 
 
 
-  &lt;h3 id=command-apis&gt;&lt;span class=secno&gt;6.11 &lt;/span&gt;Command APIs&lt;/h3&gt;
+  &lt;h3 id=editing-apis&gt;&lt;span class=secno&gt;6.11 &lt;/span&gt;Editing APIs&lt;/h3&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-execCommand&gt;&lt;a href=#execCommand&gt;execCommand&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ] ] )&lt;/dt&gt;
 

Modified: source
===================================================================
--- source	2009-05-02 20:09:06 UTC (rev 3062)
+++ source	2009-05-02 21:31:50 UTC (rev 3063)
@@ -8028,6 +8028,14 @@
            attribute &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-contextMenu&quot;&gt;contextMenu&lt;/span&gt;;
            attribute boolean &lt;span title=&quot;dom-spellcheck&quot;&gt;spellcheck&lt;/span&gt;;
 
+  // &lt;span&gt;command API&lt;/span&gt;
+  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-commandType&quot;&gt;commandType&lt;/span&gt;;          
+  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-label&quot;&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-icon&quot;&gt;icon&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-command-ro-disabled&quot;&gt;disabled&lt;/span&gt;;              
+  readonly attribute boolean &lt;span title=&quot;dom-command-ro-checked&quot;&gt;checked&lt;/span&gt;;&lt;!-- v2COMMAND
+  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-command-ro-triggers&quot;&gt;triggers&lt;/span&gt;;--&gt;
+
   // &lt;span&gt;styling&lt;/span&gt;
   readonly attribute &lt;span&gt;CSSStyleDeclaration&lt;/span&gt; &lt;span title=&quot;dom-style&quot;&gt;style&lt;/span&gt;;
 
@@ -15026,8 +15034,6 @@
            attribute DOMString &lt;span title=&quot;dom-a-search&quot;&gt;search&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-a-hash&quot;&gt;hash&lt;/span&gt;;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface must also be implemented by
-    this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;
 
@@ -43502,10 +43508,8 @@
            attribute boolean &lt;span title=&quot;dom-command-checked&quot;&gt;checked&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-command-radiogroup&quot;&gt;radiogroup&lt;/span&gt;;
            attribute boolean &lt;span title=&quot;dom-command-default&quot;&gt;default&lt;/span&gt;;
- void &lt;span title=&quot;dom-command-click&quot;&gt;click&lt;/span&gt;(); // shadows &lt;code&gt;HTMLElement&lt;/code&gt;.&lt;code title=&quot;dom-click&quot;&gt;click()&lt;/code&gt;
+  void &lt;span title=&quot;dom-command-click&quot;&gt;click&lt;/span&gt;(); // shadows &lt;code&gt;HTMLElement&lt;/code&gt;.&lt;code title=&quot;dom-click&quot;&gt;click()&lt;/code&gt;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface must also be implemented by
-    this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;
 
@@ -43724,8 +43728,6 @@
   readonly attribute boolean &lt;span title=&quot;dom-bb-supported&quot;&gt;supported&lt;/span&gt;;
   readonly attribute boolean &lt;span title=&quot;dom-bb-disabled&quot;&gt;disabled&lt;/span&gt;;
 };&lt;/pre&gt;
-    &lt;p&gt;The &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface must also
-    be implemented by this element.&lt;/p&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;
 
@@ -44387,44 +44389,9 @@
 
   &lt;/dl&gt;
 
-  &lt;p&gt;Commands are represented by elements in the DOM. Any element that
-  can define a command also implements the &lt;code
-  title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface:&lt;/p&gt;
+  &lt;p&gt;These facets are exposed on elements using the &lt;dfn&gt;command
+  API&lt;/dfn&gt;:&lt;/p&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;Actually even better would be to just mix it
-  straight into those interfaces somehow.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn title=&quot;command-ro&quot;&gt;Command&lt;/dfn&gt; {&lt;!--
- NOTE: to avoid clashing with the HTMLCommandElement interface's names,
-       the members of this interface use cross-references with the title
-       dom-command-ro-foo (note the &quot;ro&quot;, which stands for &quot;readonly&quot;).
---&gt;
-  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-commandType&quot;&gt;commandType&lt;/span&gt;;          
-  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-id&quot;&gt;id&lt;/span&gt;;
-  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-label&quot;&gt;label&lt;/span&gt;;
-  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-title&quot;&gt;title&lt;/span&gt;;
-  readonly attribute DOMString &lt;span title=&quot;dom-command-ro-icon&quot;&gt;icon&lt;/span&gt;;
-  readonly attribute boolean &lt;span title=&quot;dom-command-ro-hidden&quot;&gt;hidden&lt;/span&gt;;
-  readonly attribute boolean &lt;span title=&quot;dom-command-ro-disabled&quot;&gt;disabled&lt;/span&gt;;              
-  readonly attribute boolean &lt;span title=&quot;dom-command-ro-checked&quot;&gt;checked&lt;/span&gt;;              
-  void &lt;span title=&quot;dom-command-ro-click&quot;&gt;click&lt;/span&gt;();&lt;!-- v2COMMAND
-  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-command-ro-triggers&quot;&gt;triggers&lt;/span&gt;;--&gt;
-};&lt;/pre&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface must be
-  implemented by any element capable of defining a command. All the
-  attributes of the &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface
-  are read-only. Elements implementing this interface might implement
-  other interfaces that have attributes with identical names but that
-  are mutable; in bindings that flatten all supported interfaces on
-  the object, the mutable attributes must shadow the readonly
-  attributes defined in the &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt;
-  interface.&lt;/p&gt;
-
-  &lt;/div&gt;
-
   &lt;dl class=&quot;domintro&quot;&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-command-ro-commandType&quot;&gt;commandType&lt;/code&gt;&lt;/dt&gt;
@@ -44435,7 +44402,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-command-ro-id&quot;&gt;id&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-id&quot;&gt;id&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -44451,7 +44418,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-command-ro-title&quot;&gt;title&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-title&quot;&gt;title&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -44467,7 +44434,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-command-ro-hidden&quot;&gt;hidden&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-hidden&quot;&gt;hidden&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -44491,7 +44458,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-command-ro-click&quot;&gt;click&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-click&quot;&gt;click&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -44522,13 +44489,6 @@
   element is &quot;command&quot;, &quot;radio&quot;, or &quot;checked&quot; respectively. If the
   element does not define a command, it must return null.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-id&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the command's &lt;span title=&quot;command-facet-ID&quot;&gt;ID&lt;/span&gt;,
-  or null if the element does not define a command or defines an
-  &lt;span&gt;anonymous command&lt;/span&gt;. This attribute will be shadowed by
-  the &lt;code title=&quot;dom-id&quot;&gt;id&lt;/code&gt; DOM attribute on the
-  &lt;code&gt;HTMLElement&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-label&quot;&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the command's &lt;span
   title=&quot;command-facet-Label&quot;&gt;Label&lt;/span&gt;, or null if the element
@@ -44537,14 +44497,6 @@
   shadowed by the &lt;code title=&quot;&quot;&gt;label&lt;/code&gt; DOM attribute on
   &lt;code&gt;option&lt;/code&gt; and &lt;code&gt;command&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-title&quot;&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the command's &lt;span
-  title=&quot;command-facet-Hint&quot;&gt;Hint&lt;/span&gt;, or null if the element does
-  not define a command or does not specify a &lt;span
-  title=&quot;command-facet-Hint&quot;&gt;Hint&lt;/span&gt;. This attribute will be
-  shadowed by the &lt;code title=&quot;dom-title&quot;&gt;title&lt;/code&gt; DOM attribute
-  on the &lt;code&gt;HTMLElement&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-icon&quot;&gt;&lt;code&gt;icon&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the &lt;span&gt;absolute URL&lt;/span&gt; of the command's
   &lt;span title=&quot;command-facet-Icon&quot;&gt;Icon&lt;/span&gt;. If the element does
@@ -44553,15 +44505,6 @@
   by the &lt;code title=&quot;dom-command-icon&quot;&gt;icon&lt;/code&gt; DOM attribute on
   &lt;code&gt;command&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-hidden&quot;&gt;&lt;code&gt;hidden&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return true if the command's &lt;span
-  title=&quot;command-facet-HiddenState&quot;&gt;Hidden State&lt;/span&gt; is that the
-  command is hidden, and false if it is that the command is not
-  hidden. If the element does not define a command, the attribute must
-  return false. This attribute will be shadowed by the &lt;code
-  title=&quot;dom-hidden&quot;&gt;hidden&lt;/code&gt; DOM attribute on the
-  &lt;code&gt;HTMLElement&lt;/code&gt; interface.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-command-ro-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt;
   attribute must return true if the command's &lt;span
@@ -44585,13 +44528,6 @@
   title=&quot;&quot;&gt;checked&lt;/code&gt; attribute on &lt;code&gt;input&lt;/code&gt; and
   &lt;code&gt;command&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-command-ro-click&quot;&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
-  method must trigger the &lt;span
-  title=&quot;command-facet-Action&quot;&gt;Action&lt;/span&gt; for the command. If the
-  element does not define a command, this method must do nothing. This
-  method will be shadowed by the &lt;code
-  title=&quot;dom-click&quot;&gt;click()&lt;/code&gt; method on &lt;span&gt;HTML
-  elements&lt;/span&gt;, and is included only for completeness.&lt;/p&gt;
 &lt;!--v2COMMAND
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-command-ro-triggers&quot;&gt;&lt;code&gt;triggers&lt;/code&gt;&lt;/dfn&gt;
@@ -44601,6 +44537,31 @@
   &lt;span&gt;live&lt;/span&gt;. While the element does not define a command, the
   list must be empty.&lt;/p&gt;
 --&gt;
+
+  &lt;p class=&quot;note&quot;&gt;The &lt;span title=&quot;command-facet-ID&quot;&gt;ID&lt;/span&gt; facet
+  is exposed by the the &lt;code title=&quot;dom-id&quot;&gt;id&lt;/code&gt; DOM attribute,
+  the &lt;span title=&quot;command-facet-Hint&quot;&gt;Hint&lt;/span&gt; facet is exposed by
+  the &lt;code title=&quot;dom-title&quot;&gt;title&lt;/code&gt; DOM attribute, and the
+  &lt;span title=&quot;command-facet-HiddenState&quot;&gt;Hidden State&lt;/span&gt; facet is
+  exposed by the &lt;code title=&quot;dom-hidden&quot;&gt;hidden&lt;/code&gt; DOM
+  attribute.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;hr&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=&quot;dom-document-images&quot;&gt;images&lt;/code&gt;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Returns an &lt;code&gt;HTMLCollection&lt;/code&gt; of the elements in the
+    &lt;code&gt;Document&lt;/code&gt; that define commands and have IDs.&lt;/p&gt;
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-document-commands&quot;&gt;&lt;code&gt;commands&lt;/code&gt;&lt;/dfn&gt; attribute
   of the document's &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return an
@@ -44610,16 +44571,8 @@
 
   &lt;/div&gt;
 
-  &lt;p&gt;The following elements can define commands: &lt;code
-  title=&quot;a-command&quot;&gt;a&lt;/code&gt;, &lt;code
-  title=&quot;button-command&quot;&gt;button&lt;/code&gt;, &lt;code
-  title=&quot;input-command&quot;&gt;input&lt;/code&gt;, &lt;code
-  title=&quot;option-command&quot;&gt;option&lt;/code&gt;, &lt;code
-  title=&quot;command-element&quot;&gt;command&lt;/code&gt;, &lt;code
-  title=&quot;bb-command&quot;&gt;bb&lt;/code&gt;.&lt;/p&gt;
 
 
-
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;h5&gt;&lt;dfn title=&quot;a-command&quot;&gt;Using the &lt;code&gt;a&lt;/code&gt; element to define a command&lt;/dfn&gt;&lt;/h5&gt;
@@ -59570,7 +59523,7 @@
 
 
 
-  &lt;h3&gt;Command APIs&lt;/h3&gt;
+  &lt;h3&gt;Editing APIs&lt;/h3&gt;
 
   &lt;dl class=&quot;domintro&quot;&gt;
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009942.html">[html5] r3062 - [] (0) Update references to Origin header to match	the Origin I-D again.
</A></li>
	<LI>Next message: <A HREF="009944.html">[html5] r3064 - [e] (0) fix copypasta, add more xrefs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9943">[ date ]</a>
              <a href="thread.html#9943">[ thread ]</a>
              <a href="subject.html#9943">[ subject ]</a>
              <a href="author.html#9943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
