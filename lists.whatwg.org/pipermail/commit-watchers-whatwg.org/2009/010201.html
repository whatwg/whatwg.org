<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3323 - [] (0) Add rules for improving compat with XSLT	1.0. (bug 6776)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3323%20-%20%5B%5D%20%280%29%20Add%20rules%20for%20improving%20compat%20with%20XSLT%0A%091.0.%20%28bug%206776%29&In-Reply-To=%3C20090626063442.468831389F2%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010200.html">
   <LINK REL="Next"  HREF="010202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3323 - [] (0) Add rules for improving compat with XSLT	1.0. (bug 6776)</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3323%20-%20%5B%5D%20%280%29%20Add%20rules%20for%20improving%20compat%20with%20XSLT%0A%091.0.%20%28bug%206776%29&In-Reply-To=%3C20090626063442.468831389F2%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3323 - [] (0) Add rules for improving compat with XSLT	1.0. (bug 6776)">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jun 25 23:34:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010200.html">[html5] r3322 - [e] (0) example for formnovalidate
</A></li>
        <LI>Next message: <A HREF="010202.html">[html5] r3324 - [] (0) Add rules for improving compat with XPath	1.0. (bug 6778)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10201">[ date ]</a>
              <a href="thread.html#10201">[ thread ]</a>
              <a href="subject.html#10201">[ subject ]</a>
              <a href="author.html#10201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-06-25 23:34:40 -0700 (Thu, 25 Jun 2009)
New Revision: 3323

Modified:
   index
   source
Log:
[] (0) Add rules for improving compat with XSLT 1.0. (bug 6776)

Modified: index
===================================================================
--- index	2009-06-26 05:39:40 UTC (rev 3322)
+++ index	2009-06-26 06:34:40 UTC (rev 3323)
@@ -276,14 +276,15 @@
      &lt;li&gt;&lt;a href=#transparent-content-models&gt;&lt;span class=secno&gt;3.4.2 &lt;/span&gt;Transparent content models&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#paragraphs&gt;&lt;span class=secno&gt;3.5 &lt;/span&gt;Paragraphs&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#apis-in-html-documents&gt;&lt;span class=secno&gt;3.6 &lt;/span&gt;APIs in HTML documents&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#dynamic-markup-insertion&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Dynamic markup insertion&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#dom-based-xslt-1.0-processors&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;DOM-based XSLT 1.0 processors&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#dynamic-markup-insertion&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;Dynamic markup insertion&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#controlling-the-input-stream&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;Controlling the input stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#document.write()&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;&lt;code title=dom-document-write&gt;document.write()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#document.writeln()&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;&lt;code title=dom-document-writeln&gt;document.writeln()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#innerhtml&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;&lt;code title=dom-innerHTML&gt;innerHTML&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#outerhtml&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;&lt;code title=dom-outerHTML&gt;outerHTML&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#insertadjacenthtml()&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;&lt;code title=dom-insertAdjacentHTML&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#controlling-the-input-stream&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;Controlling the input stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#document.write()&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;&lt;code title=dom-document-write&gt;document.write()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#document.writeln()&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;&lt;code title=dom-document-writeln&gt;document.writeln()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#innerhtml&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;&lt;code title=dom-innerHTML&gt;innerHTML&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#outerhtml&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;&lt;code title=dom-outerHTML&gt;outerHTML&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#insertadjacenthtml()&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;&lt;code title=dom-insertAdjacentHTML&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#semantics&gt;&lt;span class=secno&gt;4 &lt;/span&gt;The elements of HTML&lt;/a&gt;
   &lt;ol&gt;
    &lt;li&gt;&lt;a href=#the-root-element&gt;&lt;span class=secno&gt;4.1 &lt;/span&gt;The root element&lt;/a&gt;
@@ -8523,8 +8524,33 @@
    &lt;/dd&gt;
 
 
-  &lt;/dl&gt;&lt;h3 id=dynamic-markup-insertion&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;&lt;dfn&gt;Dynamic markup insertion&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;/dl&gt;&lt;h3 id=dom-based-xslt-1.0-processors&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;DOM-based XSLT 1.0 processors&lt;/h3&gt;
 
+  &lt;p&gt;XSLT 1.0 processors outputting to a DOM when the output method is
+  &quot;html&quot; (either explicitly or via the defaulting rule in XSLT 1.0)
+  are affected as follows:&lt;/p&gt;
+
+  &lt;p&gt;If the transformation program outputs an element in no namespace,
+  the processor must, prior to constructing the corresponding DOM
+  element node, change the namespace of the element to the &lt;a href=#html-namespace-0&gt;HTML
+  namespace&lt;/a&gt;, &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII
+  lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt; the element's local name, and
+  &lt;a href=#converted-to-ascii-lowercase title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/a&gt;
+  the names of any non-namespaced attributes on the element.&lt;/p&gt;
+
+  &lt;p class=note&gt;This requirement is a &lt;a href=#willful-violation&gt;willful violation&lt;/a&gt;
+  of the XSLT 1.0 specification, required because this specification
+  changes the namespaces and case-sensitivity rules of HTML in a
+  manner that would otherwise be incompatible with DOM-based XSLT
+  transformations. (Processors that serialize the output are
+  unaffected.) &lt;a href=#refsXSLT10&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note:
+  version matters for this ref --&gt;
+
+
+
+
+  &lt;h3 id=dynamic-markup-insertion&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;&lt;dfn&gt;Dynamic markup insertion&lt;/dfn&gt;&lt;/h3&gt;
+
   &lt;p class=note&gt;APIs for dynamically inserting markup into the
   document interact with the parser, and thus their behavior, varies
   depending on whether they are used with &lt;a href=#html-documents&gt;HTML documents&lt;/a&gt;
@@ -8533,7 +8559,7 @@
 
 
 
-  &lt;h4 id=controlling-the-input-stream&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;Controlling the input stream&lt;/h4&gt;
+  &lt;h4 id=controlling-the-input-stream&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;Controlling the input stream&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-open title=dom-document-open&gt;&lt;code&gt;open()&lt;/code&gt;&lt;/dfn&gt;
   method comes in several variants with different numbers of
@@ -8741,7 +8767,7 @@
 
 
 
-  &lt;h4 id=document.write()&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;&lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
+  &lt;h4 id=document.write()&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;&lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;write&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;text&lt;/var&gt;...)&lt;/dt&gt;
 
@@ -8827,7 +8853,7 @@
   &lt;/ol&gt;&lt;/div&gt;
 
 
-  &lt;h4 id=document.writeln()&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;&lt;code title=dom-document-writeln&gt;&lt;a href=#dom-document-writeln&gt;document.writeln()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
+  &lt;h4 id=document.writeln()&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;&lt;code title=dom-document-writeln&gt;&lt;a href=#dom-document-writeln&gt;document.writeln()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-writeln&gt;&lt;a href=#dom-document-writeln&gt;writeln&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;text&lt;/var&gt;...)&lt;/dt&gt;
 
@@ -8854,7 +8880,7 @@
 
 
 
-  &lt;h4 id=innerhtml&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;&lt;code title=dom-innerHTML&gt;&lt;a href=#dom-innerhtml&gt;innerHTML&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
+  &lt;h4 id=innerhtml&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;&lt;code title=dom-innerHTML&gt;&lt;a href=#dom-innerhtml&gt;innerHTML&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-innerhtml title=dom-innerHTML&gt;&lt;code&gt;innerHTML&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute represents the markup of the node's contents.&lt;/p&gt;
@@ -8972,7 +8998,7 @@
 
 
 
-  &lt;h4 id=outerhtml&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;&lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
+  &lt;h4 id=outerhtml&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;&lt;code title=dom-outerHTML&gt;&lt;a href=#dom-outerhtml&gt;outerHTML&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-outerhtml title=dom-outerHTML&gt;&lt;code&gt;outerHTML&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute represents the markup of the element and its contents.&lt;/p&gt;
@@ -9079,7 +9105,7 @@
 
 
 
-  &lt;h4 id=insertadjacenthtml()&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;&lt;code title=dom-insertAdjacentHTML&gt;&lt;a href=#dom-insertadjacenthtml&gt;insertAdjacentHTML()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
+  &lt;h4 id=insertadjacenthtml()&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;&lt;code title=dom-insertAdjacentHTML&gt;&lt;a href=#dom-insertadjacenthtml&gt;insertAdjacentHTML()&lt;/a&gt;&lt;/code&gt;&lt;/h4&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-insertAdjacentHTML&gt;&lt;a href=#dom-insertadjacenthtml&gt;insertAdjacentHTML&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt;)&lt;/dt&gt;
 

Modified: source
===================================================================
--- source	2009-06-26 05:39:40 UTC (rev 3322)
+++ source	2009-06-26 06:34:40 UTC (rev 3323)
@@ -8711,6 +8711,32 @@
   &lt;/dl&gt;
 
 
+
+  &lt;h3&gt;DOM-based XSLT 1.0 processors&lt;/h3&gt;
+
+  &lt;p&gt;XSLT 1.0 processors outputting to a DOM when the output method is
+  &quot;html&quot; (either explicitly or via the defaulting rule in XSLT 1.0)
+  are affected as follows:&lt;/p&gt;
+
+  &lt;p&gt;If the transformation program outputs an element in no namespace,
+  the processor must, prior to constructing the corresponding DOM
+  element node, change the namespace of the element to the &lt;span&gt;HTML
+  namespace&lt;/span&gt;, &lt;span title=&quot;converted to ASCII
+  lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt; the element's local name, and
+  &lt;span title=&quot;converted to ASCII lowercase&quot;&gt;ASCII-lowercase&lt;/span&gt;
+  the names of any non-namespaced attributes on the element.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This requirement is a &lt;span&gt;willful violation&lt;/span&gt;
+  of the XSLT 1.0 specification, required because this specification
+  changes the namespaces and case-sensitivity rules of HTML in a
+  manner that would otherwise be incompatible with DOM-based XSLT
+  transformations. (Processors that serialize the output are
+  unaffected.) &lt;a href=&quot;#refsXSLT10&quot;&gt;[XSLT10]&lt;/a&gt;&lt;/p&gt; &lt;!-- note:
+  version matters for this ref --&gt;
+
+
+
+
   &lt;h3&gt;&lt;dfn&gt;Dynamic markup insertion&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p class=&quot;note&quot;&gt;APIs for dynamically inserting markup into the


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010200.html">[html5] r3322 - [e] (0) example for formnovalidate
</A></li>
	<LI>Next message: <A HREF="010202.html">[html5] r3324 - [] (0) Add rules for improving compat with XPath	1.0. (bug 6778)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10201">[ date ]</a>
              <a href="thread.html#10201">[ thread ]</a>
              <a href="subject.html#10201">[ subject ]</a>
              <a href="author.html#10201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
