<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3123 - [giow] (2) Make the formatBlock execCommand more	discerning. (bug 6440)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3123%20-%20%5Bgiow%5D%20%282%29%20Make%20the%20formatBlock%20execCommand%20more%0A%09discerning.%20%28bug%206440%29&In-Reply-To=%3C20090525012704.8F74B1389F2%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010003.html">
   <LINK REL="Next"  HREF="010005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3123 - [giow] (2) Make the formatBlock execCommand more	discerning. (bug 6440)</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3123%20-%20%5Bgiow%5D%20%282%29%20Make%20the%20formatBlock%20execCommand%20more%0A%09discerning.%20%28bug%206440%29&In-Reply-To=%3C20090525012704.8F74B1389F2%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3123 - [giow] (2) Make the formatBlock execCommand more	discerning. (bug 6440)">whatwg at whatwg.org
       </A><BR>
    <I>Sun May 24 18:27:04 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010003.html">[html5] r3122 - [e] (0) Fix lack of consistency of naming of	confidence flags. (bug 6423) (credi [...]
</A></li>
        <LI>Next message: <A HREF="010005.html">[html5] r3124 - [e] (0) registerContentHandler() clarifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10004">[ date ]</a>
              <a href="thread.html#10004">[ thread ]</a>
              <a href="subject.html#10004">[ subject ]</a>
              <a href="author.html#10004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-05-24 18:27:02 -0700 (Sun, 24 May 2009)
New Revision: 3123

Modified:
   index
   source
Log:
[giow] (2) Make the formatBlock execCommand more discerning. (bug 6440)

Modified: index
===================================================================
--- index	2009-05-24 05:42:46 UTC (rev 3122)
+++ index	2009-05-25 01:27:02 UTC (rev 3123)
@@ -39,7 +39,7 @@
   &lt;div class=head&gt;
    &lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG src=/images/logo&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;h1&gt;HTML 5&lt;/h1&gt;
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 24 May 2009&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 25 May 2009&lt;/h2&gt;
    &lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -12425,6 +12425,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#sectioning-content-0&gt;Sectioning content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12501,6 +12502,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#sectioning-content-0&gt;Sectioning content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12559,6 +12561,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#sectioning-content-0&gt;Sectioning content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12629,6 +12632,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#sectioning-content-0&gt;Sectioning content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12694,6 +12698,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#heading-content-0&gt;Heading content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12719,6 +12724,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#heading-content-0&gt;Heading content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12776,6 +12782,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12871,6 +12878,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -12929,6 +12937,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13461,6 +13470,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13614,6 +13624,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13765,6 +13776,7 @@
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;a href=#sectioning-root&gt;Sectioning root&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -40319,6 +40331,7 @@
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -56973,8 +56986,8 @@
    &lt;dt&gt;&lt;dfn id=command-formatblock title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;strong&gt;Summary:&lt;/strong&gt; Wraps the selection in the element
    given by the second argument. If the second argument doesn't
-   specify an element that is &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; but not
-   &lt;a href=#phrasing-content-0&gt;phrasing content&lt;/a&gt;, does nothing.&lt;/dd&gt;
+   specify an element that is a &lt;dfn id=formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt;
+   candidate&lt;/dfn&gt;, does nothing.&lt;/dd&gt;
    &lt;dd class=impl&gt;
     &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must run the following
     steps:&lt;/p&gt;
@@ -56987,18 +57000,17 @@
      &lt;li&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) an &lt;a href=#ascii-case-insensitive&gt;ASCII
       case-insensitive&lt;/a&gt; match for the tag name of an element
-      defined by this specification that is defined to be &lt;a href=#flow-content-0&gt;flow
-      content&lt;/a&gt; but not &lt;a href=#phrasing-content-0&gt;phrasing content&lt;/a&gt;, then, for
-      every position in the selection, take the furthest &lt;a href=#flow-content-0&gt;flow
-      content&lt;/a&gt; ancestor element of that position that contains
-      only &lt;a href=#phrasing-content-0&gt;phrasing content&lt;/a&gt;, and, if that element is
-      &lt;a href=#editable&gt;editable&lt;/a&gt;, and has a content model that allows it to
-      contain &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt; other than &lt;a href=#phrasing-content-0&gt;phrasing
-      content&lt;/a&gt;, and has a parent element whose content model
-      allows that parent to contain any &lt;a href=#flow-content-0&gt;flow content&lt;/a&gt;,
-      replace the element with one in the HTML namespace whose name is
-      &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the children that were
-      in the element to the new element.&lt;/p&gt;
+      defined by this specification that is defined to be a
+      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;, then,
+      for every position in the selection, take the furthest
+      &lt;a href=#formatblock-candidate&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/a&gt;
+      ancestor element of that position that contains only
+      &lt;a href=#phrasing-content-0&gt;phrasing content&lt;/a&gt;, and, if that element is
+      &lt;a href=#editable&gt;editable&lt;/a&gt; and has a parent element whose content
+      model allows that parent to contain any &lt;a href=#flow-content-0&gt;flow
+      content&lt;/a&gt;, replace it with an element in the HTML namespace
+      whose name is &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the
+      children that were in it to the new element.&lt;/p&gt;
       &lt;p&gt;If there is no selection, then, where in the description
       above refers to the selection, the user agent must act as if the
       selection was an empty range (with just one position) at the

Modified: source
===================================================================
--- source	2009-05-24 05:42:46 UTC (rev 3122)
+++ source	2009-05-25 01:27:02 UTC (rev 3123)
@@ -13247,6 +13247,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Sectioning content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13327,6 +13328,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Sectioning content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13388,6 +13390,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Sectioning content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13466,6 +13469,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Sectioning content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13534,6 +13538,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Heading content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13562,6 +13567,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Heading content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13622,6 +13628,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13720,6 +13727,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -13781,6 +13789,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -14373,6 +14382,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -14535,6 +14545,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -14696,6 +14707,7 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dd&gt;&lt;span&gt;Sectioning root&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -45408,6 +45420,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
@@ -66807,8 +66820,8 @@
    &lt;dt&gt;&lt;dfn title=&quot;command-formatBlock&quot;&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;strong&gt;Summary:&lt;/strong&gt; Wraps the selection in the element
    given by the second argument. If the second argument doesn't
-   specify an element that is &lt;span&gt;flow content&lt;/span&gt; but not
-   &lt;span&gt;phrasing content&lt;/span&gt;, does nothing.&lt;/dd&gt;
+   specify an element that is a &lt;dfn&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt;
+   candidate&lt;/dfn&gt;, does nothing.&lt;/dd&gt;
    &lt;dd class=&quot;impl&quot;&gt;
     &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must run the following
     steps:&lt;/p&gt;
@@ -66822,18 +66835,17 @@
      &lt;li&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) an &lt;span&gt;ASCII
       case-insensitive&lt;/span&gt; match for the tag name of an element
-      defined by this specification that is defined to be &lt;span&gt;flow
-      content&lt;/span&gt; but not &lt;span&gt;phrasing content&lt;/span&gt;, then, for
-      every position in the selection, take the furthest &lt;span&gt;flow
-      content&lt;/span&gt; ancestor element of that position that contains
-      only &lt;span&gt;phrasing content&lt;/span&gt;, and, if that element is
-      &lt;span&gt;editable&lt;/span&gt;, and has a content model that allows it to
-      contain &lt;span&gt;flow content&lt;/span&gt; other than &lt;span&gt;phrasing
-      content&lt;/span&gt;, and has a parent element whose content model
-      allows that parent to contain any &lt;span&gt;flow content&lt;/span&gt;,
-      replace the element with one in the HTML namespace whose name is
-      &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the children that were
-      in the element to the new element.&lt;/p&gt;
+      defined by this specification that is defined to be a
+      &lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;, then,
+      for every position in the selection, take the furthest
+      &lt;span&gt;&lt;code title=&quot;&quot;&gt;formatBlock&lt;/code&gt; candidate&lt;/span&gt;
+      ancestor element of that position that contains only
+      &lt;span&gt;phrasing content&lt;/span&gt;, and, if that element is
+      &lt;span&gt;editable&lt;/span&gt; and has a parent element whose content
+      model allows that parent to contain any &lt;span&gt;flow
+      content&lt;/span&gt;, replace it with an element in the HTML namespace
+      whose name is &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and move all the
+      children that were in it to the new element.&lt;/p&gt;
       &lt;p&gt;If there is no selection, then, where in the description
       above refers to the selection, the user agent must act as if the
       selection was an empty range (with just one position) at the


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010003.html">[html5] r3122 - [e] (0) Fix lack of consistency of naming of	confidence flags. (bug 6423) (credi [...]
</A></li>
	<LI>Next message: <A HREF="010005.html">[html5] r3124 - [e] (0) registerContentHandler() clarifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10004">[ date ]</a>
              <a href="thread.html#10004">[ thread ]</a>
              <a href="subject.html#10004">[ subject ]</a>
              <a href="author.html#10004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
