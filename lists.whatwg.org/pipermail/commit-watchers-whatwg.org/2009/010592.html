<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3718 - [] (0) Move pubdate='' from &lt;article&gt; to &lt;time&gt;.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3718%20-%20%5B%5D%20%280%29%20Move%20pubdate%3D%27%27%20from%20%3Carticle%3E%20to%20%3Ctime%3E.&In-Reply-To=%3C20090831074854.7ED9238E066%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010591.html">
   <LINK REL="Next"  HREF="010593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3718 - [] (0) Move pubdate='' from &lt;article&gt; to &lt;time&gt;.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3718%20-%20%5B%5D%20%280%29%20Move%20pubdate%3D%27%27%20from%20%3Carticle%3E%20to%20%3Ctime%3E.&In-Reply-To=%3C20090831074854.7ED9238E066%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3718 - [] (0) Move pubdate='' from &lt;article&gt; to &lt;time&gt;.">whatwg at whatwg.org
       </A><BR>
    <I>Mon Aug 31 00:48:54 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010591.html">[html5] r3717 - [ow] (2) Tighten up the definition of the e-mail	address syntax.
</A></li>
        <LI>Next message: <A HREF="010593.html">[html5] r3719 - [e] (0) Add a recommended reading section.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10592">[ date ]</a>
              <a href="thread.html#10592">[ thread ]</a>
              <a href="subject.html#10592">[ subject ]</a>
              <a href="author.html#10592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-08-31 00:48:53 -0700 (Mon, 31 Aug 2009)
New Revision: 3718

Modified:
   index
   source
Log:
[] (0) Move pubdate='' from &lt;article&gt; to &lt;time&gt;.

Modified: index
===================================================================
--- index	2009-08-31 05:53:43 UTC (rev 3717)
+++ index	2009-08-31 07:48:53 UTC (rev 3718)
@@ -3772,6 +3772,12 @@
 
   &lt;div class=impl&gt;
 
+  &lt;p&gt;The &lt;dfn id=best-representation-of-the-global-date-and-time-string&gt;best representation of the global date and time
+  string&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt; is the &lt;a href=#valid-global-date-and-time-string&gt;valid global
+  date and time string&lt;/a&gt; representing &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt; with the last character of the string not
+  being a U+005A LATIN CAPITAL LETTER Z character, even if the
+  time zone is UTC.&lt;/p&gt;
+
   &lt;p&gt;The rules to &lt;dfn id=parse-a-global-date-and-time-string&gt;parse a global date and time string&lt;/dfn&gt; are
   as follows. This will either return a time in UTC, with associated
   time-zone offset information for round tripping or display purposes,
@@ -3975,8 +3981,6 @@
 
   &lt;h5 id=vaguer-moments-in-time&gt;&lt;span class=secno&gt;2.4.5.7 &lt;/span&gt;Vaguer moments in time&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=date-or-time-string&gt;date or time string&lt;/dfn&gt; consists of either a &lt;a href=#concept-date title=concept-date&gt;date&lt;/a&gt;, a &lt;a href=#concept-time title=concept-time&gt;time&lt;/a&gt;, or a &lt;a href=#concept-datetime title=concept-datetime&gt;global date and time&lt;/a&gt;.&lt;/p&gt;
-
   &lt;p&gt;A string is a &lt;dfn id=valid-date-or-time-string&gt;valid date or time string&lt;/dfn&gt; if it is also
   one of the following:&lt;/p&gt;
 
@@ -3991,9 +3995,22 @@
   followed by a &lt;a href=#valid-date-or-time-string&gt;valid date or time string&lt;/a&gt;, followed by
   zero or more further &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;A string is a &lt;dfn id=valid-date-string-with-optional-time&gt;valid date string with optional time&lt;/dfn&gt; if
+  it is also one of the following:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;A &lt;a href=#valid-date-string&gt;valid date string&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;a href=#valid-global-date-and-time-string&gt;valid global date and time string&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;A string is a &lt;dfn id=valid-date-string-in-content-with-optional-time&gt;valid date string in content with optional
+  time&lt;/dfn&gt; if it consists of zero or more &lt;a href=#white_space&gt;White_Space&lt;/a&gt;
+  characters, followed by a &lt;a href=#valid-date-string-with-optional-time&gt;valid date string with optional
+  time&lt;/a&gt;, followed by zero or more further
+  &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters.&lt;/p&gt;
+
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The rules to &lt;dfn id=parse-a-date-or-time-string&gt;parse a date or time string&lt;/dfn&gt; are as
+  &lt;hr&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-date-or-time-string&gt;parse a date or time string&lt;/dfn&gt; are as
   follows. The algorithm is invoked with a flag indicating if the
   &lt;i&gt;in attribute&lt;/i&gt; variant or the &lt;i&gt;in content&lt;/i&gt; variant is to
   be used. The algorithm will either return a &lt;a href=#concept-date title=concept-date&gt;date&lt;/a&gt;, a &lt;a href=#concept-time title=concept-time&gt;time&lt;/a&gt;, a &lt;a href=#concept-datetime title=concept-datetime&gt;global date and time&lt;/a&gt;, or nothing. If
@@ -12700,13 +12717,8 @@
    &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;Content attributes:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-article-pubdate&gt;&lt;a href=#attr-article-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=idl&gt;interface &lt;dfn id=htmlarticleelement&gt;HTMLArticleElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
-           attribute DOMString &lt;a href=#dom-article-pubdate title=dom-article-pubDate&gt;pubDate&lt;/a&gt;;
-};&lt;/pre&gt;
-   &lt;/dd&gt;
+   &lt;dd&gt;Uses &lt;code&gt;&lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; a
   section of a page that consists of a composition that forms an
   independent part of a document, page, application, or site. This
@@ -12731,20 +12743,8 @@
   element (q.v. the &lt;code&gt;&lt;a href=#the-address-element&gt;address&lt;/a&gt;&lt;/code&gt; element) does not apply to
   nested &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=attr-article-pubdate title=attr-article-pubdate&gt;&lt;code&gt;pubdate&lt;/code&gt;&lt;/dfn&gt;
-  attribute may be used to specify the time and date that the article
-  was first published. If present, the &lt;code title=attr-article-pubdate&gt;&lt;a href=#attr-article-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; attribute must be a
-  &lt;a href=#valid-global-date-and-time-string&gt;valid global date and time string&lt;/a&gt; value.&lt;/p&gt;
 
-  &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-article-pubdate title=dom-article-pubDate&gt;&lt;code&gt;pubDate&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the element's &lt;code title=attr-article-pubdate&gt;&lt;a href=#attr-article-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
   &lt;h4 id=the-aside-element&gt;&lt;span class=secno&gt;4.4.5 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;aside&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
@@ -15390,10 +15390,12 @@
    &lt;dt&gt;Content attributes:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
    &lt;dd&gt;
 &lt;pre class=idl&gt;interface &lt;dfn id=htmltimeelement&gt;HTMLTimeElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=#dom-time-datetime title=dom-time-datetime&gt;dateTime&lt;/a&gt;;
+           attribute boolean &lt;a href=#dom-time-pubdate title=dom-time-pubDate&gt;pubDate&lt;/a&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;a href=#dom-time-date title=dom-time-date&gt;date&lt;/a&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;a href=#dom-time-time title=dom-time-time&gt;time&lt;/a&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;a href=#dom-time-timezone title=dom-time-timezone&gt;timezone&lt;/a&gt;;
@@ -15431,22 +15433,51 @@
 
   &lt;/div&gt;
 
+  &lt;p&gt;The &lt;dfn id=attr-time-pubdate title=attr-time-pubdate&gt;&lt;code&gt;pubdate&lt;/code&gt;&lt;/dfn&gt;
+  attribute is a &lt;a href=#boolean-attribute&gt;boolean attribute&lt;/a&gt;. If specified, it
+  indicates that the date and time given by the element is the
+  publication date and time of the nearest ancestor
+  &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element. If the element has no ancestor
+  &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element, the &lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; attribute must not be
+  specified. If the element has an ancestor &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;
+  element and the &lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt;
+  attribute is specified, then the element &lt;i&gt;needs a date&lt;/i&gt;. For
+  each &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element, there must no more than one
+  &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; attribute whose nearest
+  ancestor is that &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=attr-time-datetime title=attr-time-datetime&gt;&lt;code&gt;datetime&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if present, must contain a &lt;a href=#valid-date-or-time-string&gt;valid date or time
-  string&lt;/a&gt; that identifies the date or time being specified.&lt;/p&gt;
+  attribute, if present, gives the date or time being
+  specified. Otherwise, the date or time is given by the element's
+  contents.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute
-  is not present, then the date or time must be specified in the
-  content of the element, such that the element's
-  &lt;code&gt;textContent&lt;/code&gt; is a &lt;a href=#valid-date-or-time-string-in-content&gt;valid date or time string in
-  content&lt;/a&gt;, and the date, if any, must be expressed using the
-  Gregorian calendar.&lt;/p&gt;
+  &lt;p&gt;If the element &lt;i&gt;needs a date&lt;/i&gt;, and the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute is present,
+  then the attribute's value must be a &lt;a href=#valid-date-string-with-optional-time&gt;valid date string with
+  optional time&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;If the element &lt;i&gt;needs a date&lt;/i&gt;, but the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute is not present,
+  then the element's &lt;code&gt;textContent&lt;/code&gt; must be a &lt;a href=#valid-date-string-in-content-with-optional-time&gt;valid
+  date string in content with optional time&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the element does not &lt;i&gt;need a date&lt;/i&gt;, and the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute is present,
+  then the attribute's value must be a &lt;a href=#valid-date-or-time-string&gt;valid date or time
+  string&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the element does not &lt;i&gt;need a date&lt;/i&gt;, but the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute is not present,
+  then the element's &lt;code&gt;textContent&lt;/code&gt; must be a &lt;a href=#valid-date-or-time-string-in-content&gt;valid
+  date or time string in content&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The date, if any, must be expressed using the Gregorian
+  calendar.&lt;/p&gt;
+
+  &lt;div class=impl&gt;
+
   &lt;p&gt;If the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute
-  is present, then the element may be empty, in which case the user
-  agent should convey the attribute's value to the user when rendering
-  the element.&lt;/p&gt;
+  is present, the user agent should convey the attribute's value to
+  the user when rendering the element.&lt;/p&gt;
 
+  &lt;/div&gt;
+
   &lt;div class=example&gt;
 
    &lt;p&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element can be used to encode dates, for
@@ -15491,6 +15522,9 @@
   &lt;p&gt;The &lt;dfn id=dom-time-datetime title=dom-time-datetime&gt;&lt;code&gt;dateTime&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-time-pubdate title=dom-time-pubDate&gt;&lt;code&gt;pubDate&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
+
   &lt;p&gt;User agents, to obtain the &lt;dfn id=concept-time-date title=concept-time-date&gt;date&lt;/dfn&gt;, &lt;dfn id=concept-time-time title=concept-time-time&gt;time&lt;/dfn&gt;, and &lt;dfn id=concept-time-timezone title=concept-time-timezone&gt;time-zone offset&lt;/dfn&gt; represented by
   a &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element, must follow these steps:&lt;/p&gt;
 
@@ -15610,8 +15644,39 @@
 
   &lt;/div&gt;
 
+  &lt;div class=example&gt;
 
+   &lt;p&gt;In this example, an article's publication date is marked up
+   using &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;:&lt;/p&gt;
 
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate&gt;2009-08-30&lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+   &lt;p&gt;Here is another way that could be marked up:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate datetime=&quot;2009-08-30&quot;&gt;today&lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+   &lt;p&gt;Here is the same thing but with the time included. Because the
+   element is empty, it will be replaced in the rendering with a
+   more readable version of the date and time given.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate datetime=&quot;2009-08-30T07:13Z&quot;&gt;lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h4 id=the-code-element&gt;&lt;span class=secno&gt;4.6.10 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
@@ -46104,12 +46169,26 @@
 
      &lt;li&gt;
 
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; has a &lt;code title=attr-article-pubdate&gt;&lt;a href=#attr-article-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; attribute, and &lt;a href=#parse-a-global-date-and-time-string title=&quot;parse a global date and time string&quot;&gt;parsing that
-      attribute's value as a global date and time string&lt;/a&gt; does
-      not result in an error, then let &lt;var title=&quot;&quot;&gt;publication
-      date&lt;/var&gt; be the value of that attribute.&lt;/p&gt;
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; has a &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt;
+      element descendant that has a &lt;code title=attr-time-pubdate&gt;&lt;a href=#attr-time-pubdate&gt;pubdate&lt;/a&gt;&lt;/code&gt; attribute and whose
+      nearest ancestor &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt; element is &lt;var title=&quot;&quot;&gt;article&lt;/var&gt;, and the first such element's &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt; is not unknown, then run
+      the following substeps, with &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; being the
+      first such element:&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt; have no
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt; be a &lt;a href=#concept-datetime title=concept-datetime&gt;global date and time&lt;/a&gt; whose date
+       component is the &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt; of
+       &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;'s &lt;a href=#concept-time-time title=concept-time-time&gt;time&lt;/a&gt; and &lt;a href=#concept-time-timezone title=concept-time-timezone&gt;time-zone offset&lt;/a&gt; are not
+       unknown, then let &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;'s time and
+       time-zone offset components be the &lt;a href=#concept-time-time title=concept-time-time&gt;time&lt;/a&gt; and &lt;a href=#concept-time-timezone title=concept-time-timezone&gt;time-zone offset&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;. Otherwise, let them be midnight and no offset
+       respectively (&quot;&lt;code title=&quot;&quot;&gt;00:00Z&lt;/code&gt;&quot;).&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt; be the
+       &lt;a href=#best-representation-of-the-global-date-and-time-string&gt;best representation of the global date and time
+       string&lt;/a&gt; &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;.&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt; have no
       value.&lt;/p&gt;
 
      &lt;/li&gt;

Modified: source
===================================================================
--- source	2009-08-31 05:53:43 UTC (rev 3717)
+++ source	2009-08-31 07:48:53 UTC (rev 3718)
@@ -3191,6 +3191,13 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
+  &lt;p&gt;The &lt;dfn&gt;best representation of the global date and time
+  string&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt; is the &lt;span&gt;valid global
+  date and time string&lt;/span&gt; representing &lt;var
+  title=&quot;&quot;&gt;datetime&lt;/var&gt; with the last character of the string not
+  being a U+005A LATIN CAPITAL LETTER Z character, even if the
+  time zone is UTC.&lt;/p&gt;
+
   &lt;p&gt;The rules to &lt;dfn&gt;parse a global date and time string&lt;/dfn&gt; are
   as follows. This will either return a time in UTC, with associated
   time-zone offset information for round tripping or display purposes,
@@ -3459,11 +3466,6 @@
 
   &lt;h5&gt;Vaguer moments in time&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn&gt;date or time string&lt;/dfn&gt; consists of either a &lt;span
-  title=&quot;concept-date&quot;&gt;date&lt;/span&gt;, a &lt;span
-  title=&quot;concept-time&quot;&gt;time&lt;/span&gt;, or a &lt;span
-  title=&quot;concept-datetime&quot;&gt;global date and time&lt;/span&gt;.&lt;/p&gt;
-
   &lt;p&gt;A string is a &lt;dfn&gt;valid date or time string&lt;/dfn&gt; if it is also
   one of the following:&lt;/p&gt;
 
@@ -3482,8 +3484,29 @@
   followed by a &lt;span&gt;valid date or time string&lt;/span&gt;, followed by
   zero or more further &lt;span&gt;White_Space&lt;/span&gt; characters.&lt;/p&gt;
 
+  &lt;hr&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid date string with optional time&lt;/dfn&gt; if
+  it is also one of the following:&lt;/p&gt;
+
+  &lt;ul&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid date string&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid global date and time string&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid date string in content with optional
+  time&lt;/dfn&gt; if it consists of zero or more &lt;span&gt;White_Space&lt;/span&gt;
+  characters, followed by a &lt;span&gt;valid date string with optional
+  time&lt;/span&gt;, followed by zero or more further
+  &lt;span&gt;White_Space&lt;/span&gt; characters.&lt;/p&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
+  &lt;hr&gt;
+
   &lt;p&gt;The rules to &lt;dfn&gt;parse a date or time string&lt;/dfn&gt; are as
   follows. The algorithm is invoked with a flag indicating if the
   &lt;i&gt;in attribute&lt;/i&gt; variant or the &lt;i&gt;in content&lt;/i&gt; variant is to
@@ -13564,13 +13587,8 @@
    &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Content attributes:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-article-pubdate&quot;&gt;pubdate&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLArticleElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-           attribute DOMString &lt;span title=&quot;dom-article-pubDate&quot;&gt;pubDate&lt;/span&gt;;
-};&lt;/pre&gt;
-   &lt;/dd&gt;
+   &lt;dd&gt;Uses &lt;code&gt;HTMLElement&lt;/code&gt;.&lt;/dd&gt;
   &lt;/dl&gt;
 
   &lt;p&gt;The &lt;code&gt;article&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; a
@@ -13597,22 +13615,8 @@
   element (q.v. the &lt;code&gt;address&lt;/code&gt; element) does not apply to
   nested &lt;code&gt;article&lt;/code&gt; elements.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;attr-article-pubdate&quot;&gt;&lt;code&gt;pubdate&lt;/code&gt;&lt;/dfn&gt;
-  attribute may be used to specify the time and date that the article
-  was first published. If present, the &lt;code
-  title=&quot;attr-article-pubdate&quot;&gt;pubdate&lt;/code&gt; attribute must be a
-  &lt;span&gt;valid global date and time string&lt;/span&gt; value.&lt;/p&gt;
 
-  &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-article-pubDate&quot;&gt;&lt;code&gt;pubDate&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute must &lt;span&gt;reflect&lt;/span&gt; the element's &lt;code
-  title=&quot;attr-article-pubdate&quot;&gt;pubdate&lt;/code&gt; content attribute.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;aside&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;
@@ -16480,10 +16484,12 @@
    &lt;dt&gt;Content attributes:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
    &lt;dd&gt;
 &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLTimeElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
            attribute DOMString &lt;span title=&quot;dom-time-datetime&quot;&gt;dateTime&lt;/span&gt;;
+           attribute boolean &lt;span title=&quot;dom-time-pubDate&quot;&gt;pubDate&lt;/span&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;span title=&quot;dom-time-date&quot;&gt;date&lt;/span&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;span title=&quot;dom-time-time&quot;&gt;time&lt;/span&gt;;
   readonly attribute &lt;span&gt;Date&lt;/span&gt; &lt;span title=&quot;dom-time-timezone&quot;&gt;timezone&lt;/span&gt;;
@@ -16523,22 +16529,57 @@
 
   &lt;/div&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;attr-time-pubdate&quot;&gt;&lt;code&gt;pubdate&lt;/code&gt;&lt;/dfn&gt;
+  attribute is a &lt;span&gt;boolean attribute&lt;/span&gt;. If specified, it
+  indicates that the date and time given by the element is the
+  publication date and time of the nearest ancestor
+  &lt;code&gt;article&lt;/code&gt; element. If the element has no ancestor
+  &lt;code&gt;article&lt;/code&gt; element, the &lt;code
+  title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt; attribute must not be
+  specified. If the element has an ancestor &lt;code&gt;article&lt;/code&gt;
+  element and the &lt;code title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt;
+  attribute is specified, then the element &lt;i&gt;needs a date&lt;/i&gt;. For
+  each &lt;code&gt;article&lt;/code&gt; element, there must no more than one
+  &lt;code&gt;time&lt;/code&gt; element with a &lt;code
+  title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt; attribute whose nearest
+  ancestor is that &lt;code&gt;article&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;attr-time-datetime&quot;&gt;&lt;code&gt;datetime&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if present, must contain a &lt;span&gt;valid date or time
-  string&lt;/span&gt; that identifies the date or time being specified.&lt;/p&gt;
+  attribute, if present, gives the date or time being
+  specified. Otherwise, the date or time is given by the element's
+  contents.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute
-  is not present, then the date or time must be specified in the
-  content of the element, such that the element's
-  &lt;code&gt;textContent&lt;/code&gt; is a &lt;span&gt;valid date or time string in
-  content&lt;/span&gt;, and the date, if any, must be expressed using the
-  Gregorian calendar.&lt;/p&gt;
+  &lt;p&gt;If the element &lt;i&gt;needs a date&lt;/i&gt;, and the &lt;code
+  title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute is present,
+  then the attribute's value must be a &lt;span&gt;valid date string with
+  optional time&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;If the element &lt;i&gt;needs a date&lt;/i&gt;, but the &lt;code
+  title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute is not present,
+  then the element's &lt;code&gt;textContent&lt;/code&gt; must be a &lt;span&gt;valid
+  date string in content with optional time&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the element does not &lt;i&gt;need a date&lt;/i&gt;, and the &lt;code
+  title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute is present,
+  then the attribute's value must be a &lt;span&gt;valid date or time
+  string&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the element does not &lt;i&gt;need a date&lt;/i&gt;, but the &lt;code
+  title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute is not present,
+  then the element's &lt;code&gt;textContent&lt;/code&gt; must be a &lt;span&gt;valid
+  date or time string in content&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The date, if any, must be expressed using the Gregorian
+  calendar.&lt;/p&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
   &lt;p&gt;If the &lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute
-  is present, then the element may be empty, in which case the user
-  agent should convey the attribute's value to the user when rendering
-  the element.&lt;/p&gt;
+  is present, the user agent should convey the attribute's value to
+  the user when rendering the element.&lt;/p&gt;
 
+  &lt;/div&gt;
+
   &lt;div class=&quot;example&quot;&gt;
 
    &lt;p&gt;The &lt;code&gt;time&lt;/code&gt; element can be used to encode dates, for
@@ -16584,6 +16625,10 @@
   attribute must &lt;span&gt;reflect&lt;/span&gt; the &lt;code
   title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; content attribute.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;dom-time-pubDate&quot;&gt;&lt;code&gt;pubDate&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must &lt;span&gt;reflect&lt;/span&gt; the &lt;code
+  title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt; content attribute.&lt;/p&gt;
+
   &lt;p&gt;User agents, to obtain the &lt;dfn
   title=&quot;concept-time-date&quot;&gt;date&lt;/dfn&gt;, &lt;dfn
   title=&quot;concept-time-time&quot;&gt;time&lt;/dfn&gt;, and &lt;dfn
@@ -16728,8 +16773,39 @@
 
   &lt;/div&gt;
 
+  &lt;div class=&quot;example&quot;&gt;
 
+   &lt;p&gt;In this example, an article's publication date is marked up
+   using &lt;code&gt;time&lt;/code&gt;:&lt;/p&gt;
 
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate&gt;2009-08-30&lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+   &lt;p&gt;Here is another way that could be marked up:&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate datetime=&quot;2009-08-30&quot;&gt;today&lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+   &lt;p&gt;Here is the same thing but with the time included. Because the
+   element is empty, it will be replaced in the rendering with a
+   more readable version of the date and time given.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;article&gt;
+ &lt;h1&gt;Small tasks&lt;/h1&gt;
+ &lt;footer&gt;Published &lt;time pubdate datetime=&quot;2009-08-30T07:13Z&quot;&gt;lt;/time&gt;.&lt;/footer&gt;
+ &lt;p&gt;I put a bike bell on his bike.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;
@@ -52128,13 +52204,38 @@
 
      &lt;li&gt;
 
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; has a &lt;code
-      title=&quot;attr-article-pubdate&quot;&gt;pubdate&lt;/code&gt; attribute, and &lt;span
-      title=&quot;parse a global date and time string&quot;&gt;parsing that
-      attribute's value as a global date and time string&lt;/span&gt; does
-      not result in an error, then let &lt;var title=&quot;&quot;&gt;publication
-      date&lt;/var&gt; be the value of that attribute.&lt;/p&gt;
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;article&lt;/var&gt; has a &lt;code&gt;time&lt;/code&gt;
+      element descendant that has a &lt;code
+      title=&quot;attr-time-pubdate&quot;&gt;pubdate&lt;/code&gt; attribute and whose
+      nearest ancestor &lt;code&gt;article&lt;/code&gt; element is &lt;var
+      title=&quot;&quot;&gt;article&lt;/var&gt;, and the first such element's &lt;span
+      title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt; is not unknown, then run
+      the following substeps, with &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; being the
+      first such element:&lt;/p&gt;
 
+      &lt;ol&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt; be a &lt;span
+       title=&quot;concept-datetime&quot;&gt;global date and time&lt;/span&gt; whose date
+       component is the &lt;span title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt; of
+       &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;'s &lt;span
+       title=&quot;concept-time-time&quot;&gt;time&lt;/span&gt; and &lt;span
+       title=&quot;concept-time-timezone&quot;&gt;time-zone offset&lt;/span&gt; are not
+       unknown, then let &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;'s time and
+       time-zone offset components be the &lt;span
+       title=&quot;concept-time-time&quot;&gt;time&lt;/span&gt; and &lt;span
+       title=&quot;concept-time-timezone&quot;&gt;time-zone offset&lt;/span&gt; of &lt;var
+       title=&quot;&quot;&gt;e&lt;/var&gt;. Otherwise, let them be midnight and no offset
+       respectively (&quot;&lt;code title=&quot;&quot;&gt;00:00Z&lt;/code&gt;&quot;).&lt;/p&gt;&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt; be the
+       &lt;span&gt;best representation of the global date and time
+       string&lt;/span&gt; &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+      &lt;/ol&gt;
+
       &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt; have no
       value.&lt;/p&gt;
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010591.html">[html5] r3717 - [ow] (2) Tighten up the definition of the e-mail	address syntax.
</A></li>
	<LI>Next message: <A HREF="010593.html">[html5] r3719 - [e] (0) Add a recommended reading section.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10592">[ date ]</a>
              <a href="thread.html#10592">[ thread ]</a>
              <a href="subject.html#10592">[ subject ]</a>
              <a href="author.html#10592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
