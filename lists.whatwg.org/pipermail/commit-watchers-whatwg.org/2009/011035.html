<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4163 - [acgiowt] (0) Update the requirements on &lt;meter&gt;	and &lt;progress&gt; contents to fix [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4163%20-%20%5Bacgiowt%5D%20%280%29%20Update%20the%20requirements%20on%20%3Cmeter%3E%0A%09and%20%3Cprogress%3E%20contents%20to%20fix%20%5B...%5D&In-Reply-To=%3C20091018091920.F18B4140A2D%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011034.html">
   <LINK REL="Next"  HREF="011036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4163 - [acgiowt] (0) Update the requirements on &lt;meter&gt;	and &lt;progress&gt; contents to fix [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4163%20-%20%5Bacgiowt%5D%20%280%29%20Update%20the%20requirements%20on%20%3Cmeter%3E%0A%09and%20%3Cprogress%3E%20contents%20to%20fix%20%5B...%5D&In-Reply-To=%3C20091018091920.F18B4140A2D%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r4163 - [acgiowt] (0) Update the requirements on &lt;meter&gt;	and &lt;progress&gt; contents to fix [...]">whatwg at whatwg.org
       </A><BR>
    <I>Sun Oct 18 02:19:20 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011034.html">[html5] r4162 - [e] (0) ack for last checkin
</A></li>
        <LI>Next message: <A HREF="011036.html">[html5] r4164 - [e] (0) Mention display:none in more places where	it has no effect.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11035">[ date ]</a>
              <a href="thread.html#11035">[ thread ]</a>
              <a href="subject.html#11035">[ subject ]</a>
              <a href="author.html#11035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-10-18 02:19:18 -0700 (Sun, 18 Oct 2009)
New Revision: 4163

Modified:
   complete.html
   index
   source
Log:
[acgiowt] (0) Update the requirements on &lt;meter&gt; and &lt;progress&gt; contents to fix reported problems.

Modified: complete.html
===================================================================
--- complete.html	2009-10-18 08:25:12 UTC (rev 4162)
+++ complete.html	2009-10-18 09:19:18 UTC (rev 4163)
@@ -3130,10 +3130,10 @@
    DIGIT NINE (9), and assign this string of one or more characters to
    &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; consists of just a single U+002E
-   FULL STOP character or if it contains more than one U+002E FULL
-   STOP character then return an error condition and abort these
-   steps.&lt;/li&gt;
+   &lt;li&gt;If the first character of &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is a
+   U+002E FULL STOP character, or if &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;
+   contains more than one U+002E FULL STOP character, then return an
+   error condition and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Parse &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; according to the &lt;a href=#rules-for-parsing-floating-point-number-values&gt;rules
    for parsing floating point number values&lt;/a&gt;, to obtain &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;. This step cannot fail (&lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is guaranteed to be a &lt;a href=#valid-floating-point-number&gt;valid floating
@@ -17143,13 +17143,73 @@
   &lt;/div&gt;
 
   &lt;p&gt;&lt;span class=impl&gt;&lt;strong&gt;Author requirements&lt;/strong&gt;:&lt;/span&gt;
-  The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; and &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attributes, when present,
-  must have values that are &lt;a href=#valid-floating-point-number title=&quot;valid floating point
-  number&quot;&gt;valid floating point numbers&lt;/a&gt;. The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if present, must
-  have a value greater than zero. The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute, if present, must
+  The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element must match one of the following
+  conditions.&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain no numbers.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents contain one
+   number, optionally followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents contain two
+   numbers, neither followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+   not specified but the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain one number that is not followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute
+   and the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute are
+   both specified. (The contents of the element are ignored.)&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;For the purposes of these requirements, a number is a sequence of
+  characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
+  (9), optionally including a single U+002E FULL STOP character (.) in
+  some position after the first digit, interpreted as a base ten
+  number. Numbers must be separated from other numbers by at least one
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
+
+  &lt;p&gt;A number if said to be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+  denominator punctuation character&quot;&gt;denominator punctuation
+  character&lt;/a&gt; if it is followed by zero or more
+  &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters and a &lt;a href=#valid-denominator-punctuation-character&gt;valid denominator
+  punctuation character&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The contents of the element consist of the concatenation of
+  the &lt;a href=#text-node title=&quot;text node&quot;&gt;text nodes&lt;/a&gt; of all the descendants
+  of the element, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; and &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes, when present, must
+  have values that are &lt;a href=#valid-floating-point-number title=&quot;valid floating point number&quot;&gt;valid
+  floating point numbers&lt;/a&gt;. The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute, if present, must
   have a value equal to or greater than zero, and less than or equal
   to the value of the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
-  attribute, if present, or 1, otherwise.&lt;/p&gt;
+  attribute, if present, or 1.0, otherwise. If the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is not present,
+  but the element's contents contain a number, then the value of the
+  first number in the element's contents must be less than or equal to
+  the value of the second number in the element's contents, if any, or
+  the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
+  characters&quot;&gt;value associated with the denominator punctuation
+  character&lt;/a&gt; that follows the first number in the element's
+  contents, if any, or 1.0, otherwise. The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if present, must
+  have a value greater than zero.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element is the wrong
   element to use for something that is just a gauge, as opposed to
@@ -17169,7 +17229,8 @@
   &lt;code&gt;textContent&lt;/code&gt; of the &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element in
   question using the &lt;a href=#steps-for-finding-one-or-two-numbers-of-a-ratio-in-a-string&gt;steps for finding one or two numbers of a
   ratio in a string&lt;/a&gt;. These steps will return nothing, one
-  number, one number with a denominator punctuation character, or two
+  number, one number with a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+  character&quot;&gt;denominator punctuation character&lt;/a&gt;, or two
   numbers.&lt;/p&gt;
 
   &lt;p&gt;Using the results of this processing, user agents must determine
@@ -17197,8 +17258,8 @@
 
    &lt;li&gt;Otherwise, if neither attribute is included, then, if the
    &lt;code&gt;textContent&lt;/code&gt; contained one number with an associated
-   denominator punctuation character, then the maximum value is the
-   &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
+   &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation character&quot;&gt;denominator
+   punctuation character&lt;/a&gt;, then the maximum value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
    characters&quot;&gt;value associated with that denominator punctuation
    character&lt;/a&gt;; otherwise, if the &lt;code&gt;textContent&lt;/code&gt;
    contained two numbers, the maximum value is the higher of the two
@@ -17213,7 +17274,8 @@
    &lt;li&gt;Otherwise if the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
    attribute is absent and the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute is present, then, if
    the &lt;code&gt;textContent&lt;/code&gt; was parsed and found to contain just
-   one number, with no associated denominator punctuation character,
+   one number, with no associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation character&lt;/a&gt;,
    then the current value is that number. Otherwise, if the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is absent and
    the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute is present
    then the current value is zero.&lt;/li&gt;
@@ -17357,12 +17419,14 @@
     be less than or equal to the value of the &lt;code title=attr-meter-high&gt;&lt;a href=#attr-meter-high&gt;high&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
     &lt;p&gt;The numbers in the contents of the element must not be followed
-    by denomination punctuation characters.&lt;/p&gt;
+    by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;There is exactly one number followed by a denomination
-   punctuation character in the contents of the element, and the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are all omitted&lt;/dt&gt;
+   &lt;dt&gt;There is exactly one number followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt; in the contents of the element, and the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are all omitted&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -17400,8 +17464,10 @@
     attribute is specified, then the &lt;var title=&quot;&quot;&gt;maximum&lt;/var&gt; is
     that attribute's value; otherwise, it is 1.&lt;/p&gt;
 
-    &lt;p&gt;If there is exactly one number in the contents of the element,
-    then &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number; otherwise, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is the value of the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+    specified, then the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that attribute's
+    number; otherwise, there is exactly one number in the contents of
+    the element, and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number.&lt;/p&gt;
 
     &lt;p&gt;The following inequalities must hold, as applicable:&lt;/p&gt;
 
@@ -17413,8 +17479,12 @@
     the &lt;code title=attr-meter-low&gt;&lt;a href=#attr-meter-low&gt;low&lt;/a&gt;&lt;/code&gt; attribute's value must
     be less than or equal to the value of the &lt;code title=attr-meter-high&gt;&lt;a href=#attr-meter-high&gt;high&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;p&gt;If there is a number in the contents of the element, it must
-    not be followed by a denominator punctuation character.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+    not specified, the number in the contents of the element must not
+    be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;. (Otherwise,
+    there is no restriction on what numbers can be in the contents of
+    the element.)&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -17423,9 +17493,10 @@
   (9), optionally including a single U+002E FULL STOP character (.) in
   some position after the first digit, interpreted as a base ten
   number. Numbers must be separated from other numbers by at least one
-  character that isn't any of the aforementioned. In addition, the
-  contents of the element must not contain any U+002E FULL STOP
-  characters (.) that aren't part of numbers.&lt;/p&gt;
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
 
   &lt;p&gt;A number if said to be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
   denominator punctuation character&quot;&gt;denominator punctuation
@@ -17503,8 +17574,8 @@
   been omitted, the user agent must also process the
   &lt;code&gt;textContent&lt;/code&gt; of the element according to the &lt;a href=#steps-for-finding-one-or-two-numbers-of-a-ratio-in-a-string&gt;steps
   for finding one or two numbers of a ratio in a string&lt;/a&gt;. These
-  steps will return nothing, one number, one number with a denominator
-  punctuation character, or two numbers.&lt;/p&gt;
+  steps will return nothing, one number, one number with a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation character&quot;&gt;denominator
+  punctuation character&lt;/a&gt;, or two numbers.&lt;/p&gt;
 
   &lt;p&gt;User agents must then use all these numbers to obtain values for
   six points on the gauge, as follows. (The order in which these are
@@ -17536,14 +17607,16 @@
     &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attributes were
     specified. If the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was either nothing or just
-    one number with no denominator punctuation character, then the
+    one number with no &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then the
     maximum value is 1; if the result was one number but it had an
-    associated denominator punctuation character, then the maximum
-    value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator
-    punctuation characters&quot;&gt;value associated with that denominator
-    punctuation character&lt;/a&gt;; and finally, if there were two
-    numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then the
-    maximum is the higher of those two numbers.&lt;/p&gt;
+    associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then the
+    maximum value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with
+    denominator punctuation characters&quot;&gt;value associated with that
+    denominator punctuation character&lt;/a&gt;; and finally, if there
+    were two numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then
+    the maximum is the higher of those two numbers.&lt;/p&gt;
 
     &lt;p&gt;If the above machinations result in a maximum value less than
     the minimum value, then the maximum value is actually the same as
@@ -17563,15 +17636,17 @@
     not specified but the &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt;
     attribute &lt;em&gt;is&lt;/em&gt; specified and the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number with no
-    associated denominator punctuation character, then that number is
-    the actual value.&lt;/p&gt;
+    associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then that
+    number is the actual value.&lt;/p&gt;
 
     &lt;p&gt;If neither of the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;
     and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are
     specified, then, if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number (with or
-    without an associated denominator punctuation character), then
-    that is the actual value, and if the result of processing the
+    without an associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;), then that is
+    the actual value, and if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was two numbers, then the
     actual value is the lower of the two numbers found.&lt;/p&gt;
 

Modified: index
===================================================================
--- index	2009-10-18 08:25:12 UTC (rev 4162)
+++ index	2009-10-18 09:19:18 UTC (rev 4163)
@@ -2959,10 +2959,10 @@
    DIGIT NINE (9), and assign this string of one or more characters to
    &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; consists of just a single U+002E
-   FULL STOP character or if it contains more than one U+002E FULL
-   STOP character then return an error condition and abort these
-   steps.&lt;/li&gt;
+   &lt;li&gt;If the first character of &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is a
+   U+002E FULL STOP character, or if &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;
+   contains more than one U+002E FULL STOP character, then return an
+   error condition and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Parse &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; according to the &lt;a href=#rules-for-parsing-floating-point-number-values&gt;rules
    for parsing floating point number values&lt;/a&gt;, to obtain &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;. This step cannot fail (&lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is guaranteed to be a &lt;a href=#valid-floating-point-number&gt;valid floating
@@ -16972,13 +16972,73 @@
   &lt;/div&gt;
 
   &lt;p&gt;&lt;span class=impl&gt;&lt;strong&gt;Author requirements&lt;/strong&gt;:&lt;/span&gt;
-  The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; and &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attributes, when present,
-  must have values that are &lt;a href=#valid-floating-point-number title=&quot;valid floating point
-  number&quot;&gt;valid floating point numbers&lt;/a&gt;. The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if present, must
-  have a value greater than zero. The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute, if present, must
+  The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element must match one of the following
+  conditions.&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain no numbers.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents contain one
+   number, optionally followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
+   attribute nor the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents contain two
+   numbers, neither followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+   not specified but the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain one number that is not followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute
+   and the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute are
+   both specified. (The contents of the element are ignored.)&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;For the purposes of these requirements, a number is a sequence of
+  characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
+  (9), optionally including a single U+002E FULL STOP character (.) in
+  some position after the first digit, interpreted as a base ten
+  number. Numbers must be separated from other numbers by at least one
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
+
+  &lt;p&gt;A number if said to be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+  denominator punctuation character&quot;&gt;denominator punctuation
+  character&lt;/a&gt; if it is followed by zero or more
+  &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters and a &lt;a href=#valid-denominator-punctuation-character&gt;valid denominator
+  punctuation character&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The contents of the element consist of the concatenation of
+  the &lt;a href=#text-node title=&quot;text node&quot;&gt;text nodes&lt;/a&gt; of all the descendants
+  of the element, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; and &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes, when present, must
+  have values that are &lt;a href=#valid-floating-point-number title=&quot;valid floating point number&quot;&gt;valid
+  floating point numbers&lt;/a&gt;. The &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute, if present, must
   have a value equal to or greater than zero, and less than or equal
   to the value of the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt;
-  attribute, if present, or 1, otherwise.&lt;/p&gt;
+  attribute, if present, or 1.0, otherwise. If the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is not present,
+  but the element's contents contain a number, then the value of the
+  first number in the element's contents must be less than or equal to
+  the value of the second number in the element's contents, if any, or
+  the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
+  characters&quot;&gt;value associated with the denominator punctuation
+  character&lt;/a&gt; that follows the first number in the element's
+  contents, if any, or 1.0, otherwise. The &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if present, must
+  have a value greater than zero.&lt;/p&gt;
 
   &lt;p class=note&gt;The &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element is the wrong
   element to use for something that is just a gauge, as opposed to
@@ -16998,7 +17058,8 @@
   &lt;code&gt;textContent&lt;/code&gt; of the &lt;code&gt;&lt;a href=#the-progress-element&gt;progress&lt;/a&gt;&lt;/code&gt; element in
   question using the &lt;a href=#steps-for-finding-one-or-two-numbers-of-a-ratio-in-a-string&gt;steps for finding one or two numbers of a
   ratio in a string&lt;/a&gt;. These steps will return nothing, one
-  number, one number with a denominator punctuation character, or two
+  number, one number with a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+  character&quot;&gt;denominator punctuation character&lt;/a&gt;, or two
   numbers.&lt;/p&gt;
 
   &lt;p&gt;Using the results of this processing, user agents must determine
@@ -17026,8 +17087,8 @@
 
    &lt;li&gt;Otherwise, if neither attribute is included, then, if the
    &lt;code&gt;textContent&lt;/code&gt; contained one number with an associated
-   denominator punctuation character, then the maximum value is the
-   &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
+   &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation character&quot;&gt;denominator
+   punctuation character&lt;/a&gt;, then the maximum value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator punctuation
    characters&quot;&gt;value associated with that denominator punctuation
    character&lt;/a&gt;; otherwise, if the &lt;code&gt;textContent&lt;/code&gt;
    contained two numbers, the maximum value is the higher of the two
@@ -17042,7 +17103,8 @@
    &lt;li&gt;Otherwise if the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt;
    attribute is absent and the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute is present, then, if
    the &lt;code&gt;textContent&lt;/code&gt; was parsed and found to contain just
-   one number, with no associated denominator punctuation character,
+   one number, with no associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation character&lt;/a&gt;,
    then the current value is that number. Otherwise, if the &lt;code title=attr-progress-value&gt;&lt;a href=#attr-progress-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is absent and
    the &lt;code title=attr-progress-max&gt;&lt;a href=#attr-progress-max&gt;max&lt;/a&gt;&lt;/code&gt; attribute is present
    then the current value is zero.&lt;/li&gt;
@@ -17186,12 +17248,14 @@
     be less than or equal to the value of the &lt;code title=attr-meter-high&gt;&lt;a href=#attr-meter-high&gt;high&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
     &lt;p&gt;The numbers in the contents of the element must not be followed
-    by denomination punctuation characters.&lt;/p&gt;
+    by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;There is exactly one number followed by a denomination
-   punctuation character in the contents of the element, and the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are all omitted&lt;/dt&gt;
+   &lt;dt&gt;There is exactly one number followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/a&gt; in the contents of the element, and the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are all omitted&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -17229,8 +17293,10 @@
     attribute is specified, then the &lt;var title=&quot;&quot;&gt;maximum&lt;/var&gt; is
     that attribute's value; otherwise, it is 1.&lt;/p&gt;
 
-    &lt;p&gt;If there is exactly one number in the contents of the element,
-    then &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number; otherwise, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is the value of the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+    specified, then the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that attribute's
+    number; otherwise, there is exactly one number in the contents of
+    the element, and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number.&lt;/p&gt;
 
     &lt;p&gt;The following inequalities must hold, as applicable:&lt;/p&gt;
 
@@ -17242,8 +17308,12 @@
     the &lt;code title=attr-meter-low&gt;&lt;a href=#attr-meter-low&gt;low&lt;/a&gt;&lt;/code&gt; attribute's value must
     be less than or equal to the value of the &lt;code title=attr-meter-high&gt;&lt;a href=#attr-meter-high&gt;high&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;p&gt;If there is a number in the contents of the element, it must
-    not be followed by a denominator punctuation character.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attribute is
+    not specified, the number in the contents of the element must not
+    be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;. (Otherwise,
+    there is no restriction on what numbers can be in the contents of
+    the element.)&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -17252,9 +17322,10 @@
   (9), optionally including a single U+002E FULL STOP character (.) in
   some position after the first digit, interpreted as a base ten
   number. Numbers must be separated from other numbers by at least one
-  character that isn't any of the aforementioned. In addition, the
-  contents of the element must not contain any U+002E FULL STOP
-  characters (.) that aren't part of numbers.&lt;/p&gt;
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
 
   &lt;p&gt;A number if said to be followed by a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid
   denominator punctuation character&quot;&gt;denominator punctuation
@@ -17332,8 +17403,8 @@
   been omitted, the user agent must also process the
   &lt;code&gt;textContent&lt;/code&gt; of the element according to the &lt;a href=#steps-for-finding-one-or-two-numbers-of-a-ratio-in-a-string&gt;steps
   for finding one or two numbers of a ratio in a string&lt;/a&gt;. These
-  steps will return nothing, one number, one number with a denominator
-  punctuation character, or two numbers.&lt;/p&gt;
+  steps will return nothing, one number, one number with a &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation character&quot;&gt;denominator
+  punctuation character&lt;/a&gt;, or two numbers.&lt;/p&gt;
 
   &lt;p&gt;User agents must then use all these numbers to obtain values for
   six points on the gauge, as follows. (The order in which these are
@@ -17365,14 +17436,16 @@
     &lt;code title=attr-meter-min&gt;&lt;a href=#attr-meter-min&gt;min&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt; attributes were
     specified. If the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was either nothing or just
-    one number with no denominator punctuation character, then the
+    one number with no &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then the
     maximum value is 1; if the result was one number but it had an
-    associated denominator punctuation character, then the maximum
-    value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with denominator
-    punctuation characters&quot;&gt;value associated with that denominator
-    punctuation character&lt;/a&gt;; and finally, if there were two
-    numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then the
-    maximum is the higher of those two numbers.&lt;/p&gt;
+    associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then the
+    maximum value is the &lt;a href=#values-associated-with-denominator-punctuation-characters title=&quot;values associated with
+    denominator punctuation characters&quot;&gt;value associated with that
+    denominator punctuation character&lt;/a&gt;; and finally, if there
+    were two numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then
+    the maximum is the higher of those two numbers.&lt;/p&gt;
 
     &lt;p&gt;If the above machinations result in a maximum value less than
     the minimum value, then the maximum value is actually the same as
@@ -17392,15 +17465,17 @@
     not specified but the &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt;
     attribute &lt;em&gt;is&lt;/em&gt; specified and the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number with no
-    associated denominator punctuation character, then that number is
-    the actual value.&lt;/p&gt;
+    associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;, then that
+    number is the actual value.&lt;/p&gt;
 
     &lt;p&gt;If neither of the &lt;code title=attr-meter-value&gt;&lt;a href=#attr-meter-value&gt;value&lt;/a&gt;&lt;/code&gt;
     and &lt;code title=attr-meter-max&gt;&lt;a href=#attr-meter-max&gt;max&lt;/a&gt;&lt;/code&gt; attributes are
     specified, then, if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number (with or
-    without an associated denominator punctuation character), then
-    that is the actual value, and if the result of processing the
+    without an associated &lt;a href=#valid-denominator-punctuation-character title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/a&gt;), then that is
+    the actual value, and if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was two numbers, then the
     actual value is the lower of the two numbers found.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2009-10-18 08:25:12 UTC (rev 4162)
+++ source	2009-10-18 09:19:18 UTC (rev 4163)
@@ -2138,10 +2138,10 @@
    DIGIT NINE (9), and assign this string of one or more characters to
    &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; consists of just a single U+002E
-   FULL STOP character or if it contains more than one U+002E FULL
-   STOP character then return an error condition and abort these
-   steps.&lt;/li&gt;
+   &lt;li&gt;If the first character of &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is a
+   U+002E FULL STOP character, or if &lt;var title=&quot;&quot;&gt;string&lt;/var&gt;
+   contains more than one U+002E FULL STOP character, then return an
+   error condition and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;Parse &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; according to the &lt;span&gt;rules
    for parsing floating point number values&lt;/span&gt;, to obtain &lt;var
@@ -18113,16 +18113,81 @@
   &lt;/div&gt;
 
   &lt;p&gt;&lt;span class=&quot;impl&quot;&gt;&lt;strong&gt;Author requirements&lt;/strong&gt;:&lt;/span&gt;
-  The &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; and &lt;code
-  title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attributes, when present,
-  must have values that are &lt;span title=&quot;valid floating point
-  number&quot;&gt;valid floating point numbers&lt;/span&gt;. The &lt;code
-  title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attribute, if present, must
-  have a value greater than zero. The &lt;code
+  The &lt;code&gt;progress&lt;/code&gt; element must match one of the following
+  conditions.&lt;/p&gt;
+
+  &lt;ul&gt;
+
+   &lt;li&gt;Neither the &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt;
+   attribute nor the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain no numbers.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt;
+   attribute nor the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt;
+   attribute is specified, and the element's contents contain one
+   number, optionally followed by a &lt;span title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Neither the &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt;
+   attribute nor the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt;
+   attribute is specified, and the element's contents contain two
+   numbers, neither followed by a &lt;span title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation
+   character&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attribute is
+   not specified but the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt;
+   attribute is specified, and the element's contents
+   contain one number that is not followed by a &lt;span title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;The &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attribute
+   and the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attribute are
+   both specified. (The contents of the element are ignored.)&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;For the purposes of these requirements, a number is a sequence of
+  characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
+  (9), optionally including a single U+002E FULL STOP character (.) in
+  some position after the first digit, interpreted as a base ten
+  number. Numbers must be separated from other numbers by at least one
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
+
+  &lt;p&gt;A number if said to be followed by a &lt;span title=&quot;valid
+  denominator punctuation character&quot;&gt;denominator punctuation
+  character&lt;/span&gt; if it is followed by zero or more
+  &lt;span&gt;White_Space&lt;/span&gt; characters and a &lt;span&gt;valid denominator
+  punctuation character&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The contents of the element consist of the concatenation of
+  the &lt;span title=&quot;text node&quot;&gt;text nodes&lt;/span&gt; of all the descendants
+  of the element, in &lt;span&gt;tree order&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; and &lt;code
+  title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attributes, when present, must
+  have values that are &lt;span title=&quot;valid floating point number&quot;&gt;valid
+  floating point numbers&lt;/span&gt;. The &lt;code
   title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attribute, if present, must
   have a value equal to or greater than zero, and less than or equal
   to the value of the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt;
-  attribute, if present, or 1, otherwise.&lt;/p&gt;
+  attribute, if present, or 1.0, otherwise. If the &lt;code
+  title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attribute is not present,
+  but the element's contents contain a number, then the value of the
+  first number in the element's contents must be less than or equal to
+  the value of the second number in the element's contents, if any, or
+  the &lt;span title=&quot;values associated with denominator punctuation
+  characters&quot;&gt;value associated with the denominator punctuation
+  character&lt;/span&gt; that follows the first number in the element's
+  contents, if any, or 1.0, otherwise. The &lt;code
+  title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attribute, if present, must
+  have a value greater than zero.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;progress&lt;/code&gt; element is the wrong
   element to use for something that is just a gauge, as opposed to
@@ -18143,7 +18208,8 @@
   &lt;code&gt;textContent&lt;/code&gt; of the &lt;code&gt;progress&lt;/code&gt; element in
   question using the &lt;span&gt;steps for finding one or two numbers of a
   ratio in a string&lt;/span&gt;. These steps will return nothing, one
-  number, one number with a denominator punctuation character, or two
+  number, one number with a &lt;span title=&quot;valid denominator punctuation
+  character&quot;&gt;denominator punctuation character&lt;/span&gt;, or two
   numbers.&lt;/p&gt;
 
   &lt;p&gt;Using the results of this processing, user agents must determine
@@ -18174,8 +18240,9 @@
 
    &lt;li&gt;Otherwise, if neither attribute is included, then, if the
    &lt;code&gt;textContent&lt;/code&gt; contained one number with an associated
-   denominator punctuation character, then the maximum value is the
-   &lt;span title=&quot;values associated with denominator punctuation
+   &lt;span title=&quot;valid denominator punctuation character&quot;&gt;denominator
+   punctuation character&lt;/span&gt;, then the maximum value is the &lt;span
+   title=&quot;values associated with denominator punctuation
    characters&quot;&gt;value associated with that denominator punctuation
    character&lt;/span&gt;; otherwise, if the &lt;code&gt;textContent&lt;/code&gt;
    contained two numbers, the maximum value is the higher of the two
@@ -18191,7 +18258,8 @@
    attribute is absent and the &lt;code
    title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attribute is present, then, if
    the &lt;code&gt;textContent&lt;/code&gt; was parsed and found to contain just
-   one number, with no associated denominator punctuation character,
+   one number, with no associated &lt;span title=&quot;valid denominator
+   punctuation character&quot;&gt;denominator punctuation character&lt;/span&gt;,
    then the current value is that number. Otherwise, if the &lt;code
    title=&quot;attr-progress-value&quot;&gt;value&lt;/code&gt; attribute is absent and
    the &lt;code title=&quot;attr-progress-max&quot;&gt;max&lt;/code&gt; attribute is present
@@ -18358,12 +18426,14 @@
     title=&quot;attr-meter-high&quot;&gt;high&lt;/code&gt; attribute.&lt;/p&gt;
 
     &lt;p&gt;The numbers in the contents of the element must not be followed
-    by denomination punctuation characters.&lt;/p&gt;
+    by a &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;There is exactly one number followed by a denomination
-   punctuation character in the contents of the element, and the &lt;code
+   &lt;dt&gt;There is exactly one number followed by a &lt;span title=&quot;valid
+   denominator punctuation character&quot;&gt;denominator punctuation
+   character&lt;/span&gt; in the contents of the element, and the &lt;code
    title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt;, &lt;code
    title=&quot;attr-meter-min&quot;&gt;min&lt;/code&gt;, and &lt;code
    title=&quot;attr-meter-max&quot;&gt;max&lt;/code&gt; attributes are all omitted&lt;/dt&gt;
@@ -18407,10 +18477,10 @@
     attribute is specified, then the &lt;var title=&quot;&quot;&gt;maximum&lt;/var&gt; is
     that attribute's value; otherwise, it is 1.&lt;/p&gt;
 
-    &lt;p&gt;If there is exactly one number in the contents of the element,
-    then &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number; otherwise, &lt;var
-    title=&quot;&quot;&gt;value&lt;/var&gt; is the value of the &lt;code
-    title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt; attribute.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt; attribute is
+    specified, then the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that attribute's
+    number; otherwise, there is exactly one number in the contents of
+    the element, and the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is that number.&lt;/p&gt;
 
     &lt;p&gt;The following inequalities must hold, as applicable:&lt;/p&gt;
 
@@ -18427,8 +18497,12 @@
     be less than or equal to the value of the &lt;code
     title=&quot;attr-meter-high&quot;&gt;high&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;p&gt;If there is a number in the contents of the element, it must
-    not be followed by a denominator punctuation character.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt; attribute is
+    not specified, the number in the contents of the element must not
+    be followed by a &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;. (Otherwise,
+    there is no restriction on what numbers can be in the contents of
+    the element.)&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -18439,9 +18513,10 @@
   (9), optionally including a single U+002E FULL STOP character (.) in
   some position after the first digit, interpreted as a base ten
   number. Numbers must be separated from other numbers by at least one
-  character that isn't any of the aforementioned. In addition, the
-  contents of the element must not contain any U+002E FULL STOP
-  characters (.) that aren't part of numbers.&lt;/p&gt;
+  character that isn't any of the aforementioned. In addition, if the
+  element is required to contain numbers, then the contents of the
+  element must not contain any U+002E FULL STOP characters (.) that
+  aren't part of numbers.&lt;/p&gt;
 
   &lt;p&gt;A number if said to be followed by a &lt;span title=&quot;valid
   denominator punctuation character&quot;&gt;denominator punctuation
@@ -18529,8 +18604,9 @@
   been omitted, the user agent must also process the
   &lt;code&gt;textContent&lt;/code&gt; of the element according to the &lt;span&gt;steps
   for finding one or two numbers of a ratio in a string&lt;/span&gt;. These
-  steps will return nothing, one number, one number with a denominator
-  punctuation character, or two numbers.&lt;/p&gt;
+  steps will return nothing, one number, one number with a &lt;span
+  title=&quot;valid denominator punctuation character&quot;&gt;denominator
+  punctuation character&lt;/span&gt;, or two numbers.&lt;/p&gt;
 
   &lt;p&gt;User agents must then use all these numbers to obtain values for
   six points on the gauge, as follows. (The order in which these are
@@ -18567,14 +18643,16 @@
     title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt; attributes were
     specified. If the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was either nothing or just
-    one number with no denominator punctuation character, then the
+    one number with no &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;, then the
     maximum value is 1; if the result was one number but it had an
-    associated denominator punctuation character, then the maximum
-    value is the &lt;span title=&quot;values associated with denominator
-    punctuation characters&quot;&gt;value associated with that denominator
-    punctuation character&lt;/span&gt;; and finally, if there were two
-    numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then the
-    maximum is the higher of those two numbers.&lt;/p&gt;
+    associated &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;, then the
+    maximum value is the &lt;span title=&quot;values associated with
+    denominator punctuation characters&quot;&gt;value associated with that
+    denominator punctuation character&lt;/span&gt;; and finally, if there
+    were two numbers parsed out of the &lt;code&gt;textContent&lt;/code&gt;, then
+    the maximum is the higher of those two numbers.&lt;/p&gt;
 
     &lt;p&gt;If the above machinations result in a maximum value less than
     the minimum value, then the maximum value is actually the same as
@@ -18594,15 +18672,17 @@
     not specified but the &lt;code title=&quot;attr-meter-max&quot;&gt;max&lt;/code&gt;
     attribute &lt;em&gt;is&lt;/em&gt; specified and the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number with no
-    associated denominator punctuation character, then that number is
-    the actual value.&lt;/p&gt;
+    associated &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;, then that
+    number is the actual value.&lt;/p&gt;
 
     &lt;p&gt;If neither of the &lt;code title=&quot;attr-meter-value&quot;&gt;value&lt;/code&gt;
     and &lt;code title=&quot;attr-meter-max&quot;&gt;max&lt;/code&gt; attributes are
     specified, then, if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was one number (with or
-    without an associated denominator punctuation character), then
-    that is the actual value, and if the result of processing the
+    without an associated &lt;span title=&quot;valid denominator punctuation
+    character&quot;&gt;denominator punctuation character&lt;/span&gt;), then that is
+    the actual value, and if the result of processing the
     &lt;code&gt;textContent&lt;/code&gt; of the element was two numbers, then the
     actual value is the lower of the two numbers found.&lt;/p&gt;
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011034.html">[html5] r4162 - [e] (0) ack for last checkin
</A></li>
	<LI>Next message: <A HREF="011036.html">[html5] r4164 - [e] (0) Mention display:none in more places where	it has no effect.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11035">[ date ]</a>
              <a href="thread.html#11035">[ thread ]</a>
              <a href="subject.html#11035">[ subject ]</a>
              <a href="author.html#11035">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
