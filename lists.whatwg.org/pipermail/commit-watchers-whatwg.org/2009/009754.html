<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2870 - [] (0) Drop &lt;eventsource&gt;. Replace the API with an	EventSource object. Rename on [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2870%20-%20%5B%5D%20%280%29%20Drop%20%3Ceventsource%3E.%20Replace%20the%20API%20with%20an%0A%09EventSource%20object.%20Rename%20on%20%5B...%5D&In-Reply-To=%3C20090226083343.9E9BB38E1B9%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009753.html">
   <LINK REL="Next"  HREF="009755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2870 - [] (0) Drop &lt;eventsource&gt;. Replace the API with an	EventSource object. Rename on [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2870%20-%20%5B%5D%20%280%29%20Drop%20%3Ceventsource%3E.%20Replace%20the%20API%20with%20an%0A%09EventSource%20object.%20Rename%20on%20%5B...%5D&In-Reply-To=%3C20090226083343.9E9BB38E1B9%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2870 - [] (0) Drop &lt;eventsource&gt;. Replace the API with an	EventSource object. Rename on [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Feb 26 00:33:43 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009753.html">[html5] r2869 - [e] (0) Stylistic tweaks;	mention the rendering rules for dim attributes.
</A></li>
        <LI>Next message: <A HREF="009755.html">[html5] r2871 - [e] (0) There were a couple of places where I	forgot that 'load' was also special.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9754">[ date ]</a>
              <a href="thread.html#9754">[ thread ]</a>
              <a href="subject.html#9754">[ subject ]</a>
              <a href="author.html#9754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-02-26 00:33:42 -0800 (Thu, 26 Feb 2009)
New Revision: 2870

Modified:
   index
   source
Log:
[] (0) Drop &lt;eventsource&gt;. Replace the API with an EventSource object. Rename onclosed to onclose on WebSocket. Remove the mostly worthless event definitions. I'll add more useful intro text to replace them later. Defined garbage collection specialness for WebSocket and EventSource.

Modified: index
===================================================================
--- index	2009-02-25 23:37:24 UTC (rev 2869)
+++ index	2009-02-26 08:33:42 UTC (rev 2870)
@@ -34,7 +34,7 @@
   &lt;div class=head&gt;
    &lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG src=/images/logo&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;h1&gt;HTML 5&lt;/h1&gt;
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 25 February 2009&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 26 February 2009&lt;/h2&gt;
    &lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -363,8 +363,7 @@
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#scriptingLanguages&gt;&lt;span class=secno&gt;4.3.1.1 &lt;/span&gt;Scripting languages&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#inline-documentation-for-external-scripts&gt;&lt;span class=secno&gt;4.3.1.2 &lt;/span&gt;Inline documentation for external scripts&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-eventsource-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;code&gt;eventsource&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-noscript-element&gt;&lt;span class=secno&gt;4.3.2 &lt;/span&gt;The &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#the-body-element&gt;&lt;span class=secno&gt;4.4.1 &lt;/span&gt;The &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
@@ -865,39 +864,42 @@
    &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;7.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#server-sent-events&gt;&lt;span class=secno&gt;7.2 &lt;/span&gt;Server-sent events&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#the-remoteeventtarget-interface&gt;&lt;span class=secno&gt;7.2.1 &lt;/span&gt;The &lt;code&gt;RemoteEventTarget&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#connecting-to-an-event-stream&gt;&lt;span class=secno&gt;7.2.2 &lt;/span&gt;Connecting to an event stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;7.2.4 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#notes&gt;&lt;span class=secno&gt;7.2.5 &lt;/span&gt;Notes&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;7.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-eventsource-interface&gt;&lt;span class=secno&gt;7.2.2 &lt;/span&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-3&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;7.2.4 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;7.2.5 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#notes&gt;&lt;span class=secno&gt;7.2.6 &lt;/span&gt;Notes&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#garbage-collection-0&gt;&lt;span class=secno&gt;7.2.7 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#network&gt;&lt;span class=secno&gt;7.3 &lt;/span&gt;Web sockets&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#network-intro&gt;&lt;span class=secno&gt;7.3.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-websocket-interface&gt;&lt;span class=secno&gt;7.3.2 &lt;/span&gt;The &lt;code&gt;WebSocket&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#websocket-events&gt;&lt;span class=secno&gt;7.3.3 &lt;/span&gt;WebSocket Events&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#feedback-from-the-protocol&gt;&lt;span class=secno&gt;7.3.4 &lt;/span&gt;Feedback from the protocol&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#feedback-from-the-protocol&gt;&lt;span class=secno&gt;7.3.3 &lt;/span&gt;Feedback from the protocol&lt;/a&gt;
+      &lt;ol&gt;
+       &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;7.3.3.1 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#websocket-protocol title=&quot;This protocol enables two-way
   communication between a user agent running untrusted code running in
   a controlled environment to a remote host that understands the
   protocol. It is intended to fail to communicate with servers of
   pre-existing protocols like SMTP or HTTP, while allowing HTTP
   servers to opt-in to supporting this protocol if desired. It is
-  designed to be easy to implement on the server side.&quot;&gt;&lt;span class=secno&gt;7.3.5 &lt;/span&gt;The Web Socket
+  designed to be easy to implement on the server side.&quot;&gt;&lt;span class=secno&gt;7.3.4 &lt;/span&gt;The Web Socket
   protocol&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#introduction-5&gt;&lt;span class=secno&gt;7.3.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#client-side-requirements&gt;&lt;span class=secno&gt;7.3.5.2 &lt;/span&gt;Client-side requirements&lt;/a&gt;
+       &lt;li&gt;&lt;a href=#introduction-5&gt;&lt;span class=secno&gt;7.3.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#client-side-requirements&gt;&lt;span class=secno&gt;7.3.4.2 &lt;/span&gt;Client-side requirements&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=#handshake&gt;&lt;span class=secno&gt;7.3.5.2.1 &lt;/span&gt;Handshake&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#data-framing&gt;&lt;span class=secno&gt;7.3.5.2.2 &lt;/span&gt;Data framing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#server-side-requirements&gt;&lt;span class=secno&gt;7.3.5.3 &lt;/span&gt;Server-side requirements&lt;/a&gt;
+         &lt;li&gt;&lt;a href=#handshake&gt;&lt;span class=secno&gt;7.3.4.2.1 &lt;/span&gt;Handshake&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#data-framing&gt;&lt;span class=secno&gt;7.3.4.2.2 &lt;/span&gt;Data framing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#server-side-requirements&gt;&lt;span class=secno&gt;7.3.4.3 &lt;/span&gt;Server-side requirements&lt;/a&gt;
         &lt;ol&gt;
-         &lt;li&gt;&lt;a href=#minimal-handshake&gt;&lt;span class=secno&gt;7.3.5.3.1 &lt;/span&gt;Minimal handshake&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#handshake-details&gt;&lt;span class=secno&gt;7.3.5.3.2 &lt;/span&gt;Handshake details&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#ws-sd-framing&gt;&lt;span class=secno&gt;7.3.5.3.3 &lt;/span&gt;Data framing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#closing-the-connection&gt;&lt;span class=secno&gt;7.3.5.4 &lt;/span&gt;Closing the connection&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#security-considerations&gt;&lt;span class=secno&gt;7.3.5.5 &lt;/span&gt;Security considerations&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#iana-considerations&gt;&lt;span class=secno&gt;7.3.5.6 &lt;/span&gt;IANA considerations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#minimal-handshake&gt;&lt;span class=secno&gt;7.3.4.3.1 &lt;/span&gt;Minimal handshake&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#handshake-details&gt;&lt;span class=secno&gt;7.3.4.3.2 &lt;/span&gt;Handshake details&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#ws-sd-framing&gt;&lt;span class=secno&gt;7.3.4.3.3 &lt;/span&gt;Data framing&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#closing-the-connection&gt;&lt;span class=secno&gt;7.3.4.4 &lt;/span&gt;Closing the connection&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#security-considerations&gt;&lt;span class=secno&gt;7.3.4.5 &lt;/span&gt;Security considerations&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#iana-considerations&gt;&lt;span class=secno&gt;7.3.4.6 &lt;/span&gt;IANA considerations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#crossDocumentMessages&gt;&lt;span class=secno&gt;7.4 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-6&gt;&lt;span class=secno&gt;7.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -7062,7 +7064,6 @@
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onkeypress title=handler-onkeypress&gt;onkeypress&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onkeyup title=handler-onkeyup&gt;onkeyup&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onload title=handler-onload&gt;onload&lt;/a&gt;;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onmessage title=handler-onmessage&gt;onmessage&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onmousedown title=handler-onmousedown&gt;onmousedown&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onmousemove title=handler-onmousemove&gt;onmousemove&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-onmouseout title=handler-onmouseout&gt;onmouseout&lt;/a&gt;;
@@ -7122,7 +7123,6 @@
    &lt;li&gt;&lt;code title=handler-onkeypress&gt;&lt;a href=#handler-onkeypress&gt;onkeypress&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onkeyup&gt;&lt;a href=#handler-onkeyup&gt;onkeyup&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onload&gt;&lt;a href=#handler-onload&gt;onload&lt;/a&gt;&lt;/code&gt;*&lt;/li&gt;
-   &lt;li&gt;&lt;code title=handler-onmessage&gt;&lt;a href=#handler-onmessage&gt;onmessage&lt;/a&gt;&lt;/code&gt;*&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onmousedown&gt;&lt;a href=#handler-onmousedown&gt;onmousedown&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onmousemove&gt;&lt;a href=#handler-onmousemove&gt;onmousemove&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onmouseout&gt;&lt;a href=#handler-onmouseout&gt;onmouseout&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -7132,10 +7132,11 @@
    &lt;li&gt;&lt;code title=handler-onscroll&gt;&lt;a href=#handler-onscroll&gt;onscroll&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onselect&gt;&lt;a href=#handler-onselect&gt;onselect&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=handler-onsubmit&gt;&lt;a href=#handler-onsubmit&gt;onsubmit&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-  &lt;/ul&gt;&lt;p class=note&gt;The attributes marked with an asterisk cannot be
-  specified on &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; elements as those elements expose
-  &lt;a href=#event-handler-attributes-0&gt;event handler attributes&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object with the same names.&lt;/p&gt;
+  &lt;/ul&gt;&lt;p class=note&gt;The attribute&lt;!--s--&gt; marked with an asterisk cannot
+  be specified on &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; elements as those elements expose
+  &lt;!----&gt;an&lt;!----&gt; &lt;a href=#event-handler-attributes-0 title=&quot;event handler attributes&quot;&gt;event
+  handler attribute&lt;!--s--&gt;&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object
+  with the same name&lt;!--s--&gt;.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;Also, &lt;a href=#custom-data-attribute title=&quot;custom data attribute&quot;&gt;custom data
   attributes&lt;/a&gt; (e.g. &lt;code title=&quot;&quot;&gt;data-foldername&lt;/code&gt; or
@@ -10672,104 +10673,6 @@
 
 
 
-  &lt;h4 id=the-eventsource-element&gt;&lt;span class=secno&gt;4.3.3 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;eventsource&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
-
-  &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#metadata-content-0&gt;Metadata content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#flow-content-0&gt;Flow content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;a href=#phrasing-content-0&gt;Phrasing content&lt;/a&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;a href=#metadata-content-0&gt;metadata content&lt;/a&gt; is expected.&lt;/dd&gt;
-   &lt;dd&gt;Where &lt;a href=#phrasing-content-0&gt;phrasing content&lt;/a&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;Empty.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=idl&gt;interface &lt;dfn id=htmleventsourceelement&gt;HTMLEventSourceElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
-           attribute DOMString &lt;a href=#dom-eventsource-src title=dom-eventsource-src&gt;src&lt;/a&gt;;
-};&lt;/pre&gt;
-   &lt;/dd&gt;
-  &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; a
-  target for events generated by a remote server.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=attr-eventsource-src title=attr-eventsource-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if specified, must give a &lt;a href=#valid-url&gt;valid URL&lt;/a&gt;
-  identifying a resource that uses the &lt;code&gt;text/event-stream&lt;/code&gt;
-  format.&lt;/p&gt;
-
-  &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute specified is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into the
-  document&lt;/a&gt;, and when an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element that
-  is already in the document&lt;!--XXX xref--&gt; has a &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute added, the user
-  agent must run the &lt;a href=#add-declared-event-source&gt;add declared event source&lt;/a&gt;
-  algorithm.&lt;/p&gt;
-
-  &lt;p&gt;While an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element is in a document&lt;!--
-  XXX xref --&gt;, if its &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt;
-  attribute is mutated, the user agent must must run the &lt;a href=#remove-declared-event-source&gt;remove
-  declared event source&lt;/a&gt; algorithm followed by the &lt;a href=#add-declared-event-source&gt;add
-  declared event source&lt;/a&gt; algorithm.&lt;/p&gt;
-
-  &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element with a &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute specified is
-  removed from a document&lt;!-- XXX xref --&gt;, and when an
-  &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element that is in a document&lt;!--XXX
-  xref--&gt; with a &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt;
-  attribute specified has its &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute removed, the user
-  agent must run the &lt;a href=#remove-declared-event-source&gt;remove declared event source&lt;/a&gt;
-  algorithm.&lt;/p&gt;
-
-  &lt;!-- changing the base URL doesn't trigger these algorithms --&gt;
-
-  &lt;p&gt;When it is created, an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element must
-  have its &lt;i&gt;current declared event source&lt;/i&gt; set to
-  &quot;undefined&quot;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=add-declared-event-source&gt;add declared event source&lt;/dfn&gt; algorithm is as
-  follows:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt;
-   specified by the &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute, relative to the
-   element.&lt;/li&gt;
-
-   &lt;li&gt;If that fails, then set the element's &lt;i&gt;current declared event
-   source&lt;/i&gt; to &quot;undefined&quot; and abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, add the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; to the
-   &lt;a href=#concept-eventsource-list title=concept-eventsource-list&gt;list of event sources&lt;/a&gt;
-   for the element.&lt;/li&gt;
-
-   &lt;li&gt;Let the element's &lt;i&gt;current declared event source&lt;/i&gt; be that
-   &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=remove-declared-event-source&gt;remove declared event source&lt;/dfn&gt; algorithm is as
-  follows:&lt;/p&gt;
-
-  &lt;ol&gt;&lt;li&gt;If the element's &lt;i&gt;current declared event source&lt;/i&gt; is
-   &quot;undefined&quot;, abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, remove the element's &lt;i&gt;current declared event
-   source&lt;/i&gt; from the &lt;a href=#concept-eventsource-list title=concept-eventsource-list&gt;list of
-   event sources&lt;/a&gt; for the element.&lt;/li&gt;
-
-   &lt;li&gt;Let the element's &lt;i&gt;current declared event source&lt;/i&gt; be
-   &quot;undefined&quot;.&lt;/li&gt;
-
-  &lt;/ol&gt;&lt;p&gt;There can be more than one &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element per
-  document, but authors should take care to avoid opening multiple
-  connections to the same server as HTTP recommends a limit to the
-  number of simultaneous connections that a user agent can open per
-  server.&lt;/p&gt;
-
-  &lt;!-- v2: make 'load', 'error', 'abort' events fire on this element --&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-eventsource-src title=dom-eventsource-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-
-
   &lt;h3 id=sections&gt;&lt;span class=secno&gt;4.4 &lt;/span&gt;Sections&lt;/h3&gt;
 
   &lt;p id=applyToSection&gt;Some elements, for example
@@ -10835,22 +10738,22 @@
   attributes&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. It also mirrors
   their &lt;a href=#event-handler-dom-attributes&gt;event handler DOM attributes&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; and &lt;code title=handler-window-onmessage&gt;&lt;a href=#handler-window-onmessage&gt;onmessage&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-attributes-0&gt;event
-  handler attributes&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, exposed
-  on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, shadow the generic &lt;code title=handler-onerror&gt;&lt;a href=#handler-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; and &lt;code title=handler-onmessage&gt;&lt;a href=#handler-onmessage&gt;onmessage&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-attributes-0&gt;event handler
-  attributes&lt;/a&gt; normally supported by &lt;a href=#html-elements&gt;HTML
-  elements&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-attributes-0 title=&quot;event handler attributes&quot;&gt;event handler
+  attribute&lt;!--s--&gt;&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, exposed
+  on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element, shadow&lt;!----&gt;s&lt;!----&gt; the generic
+  &lt;code title=handler-onerror&gt;&lt;a href=#handler-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-attributes-0 title=&quot;event
+  handler attributes&quot;&gt;event handler attribute&lt;!--s--&gt;&lt;/a&gt; normally
+  supported by &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=example&gt;Thus, for example, a bubbling &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event fired on a child of
-  &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of a &lt;code&gt;Document&lt;/code&gt; would first
-  trigger the &lt;code title=handler-onmessage&gt;&lt;a href=#handler-onmessage&gt;onmessage&lt;/a&gt;&lt;/code&gt;
-  &lt;a href=#event-handler-content-attributes&gt;event handler content attributes&lt;/a&gt; of that element, then
-  that of the root &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, and only &lt;em&gt;then&lt;/em&gt;
-  would it trigger the &lt;code title=handler-window-onmessage&gt;&lt;a href=#handler-window-onmessage&gt;onmessage&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-content-attributes title=&quot;event
-  handler content attributes&quot;&gt;event handler content attribute&lt;/a&gt;
-  on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element. This is because the event would
-  bubble from the target, to the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;, to the
-  &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;, to the &lt;code&gt;Document&lt;/code&gt;, to the
+  &lt;p class=example&gt;Thus, for example, a bubbling &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; event fired on a child of &lt;a href=#the-body-element-0&gt;the
+  body element&lt;/a&gt; of a &lt;code&gt;Document&lt;/code&gt; would first trigger
+  the &lt;code title=handler-onerror&gt;&lt;a href=#handler-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-content-attributes&gt;event handler
+  content attributes&lt;/a&gt; of that element, then that of the root
+  &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element, and only &lt;em&gt;then&lt;/em&gt; would it trigger
+  the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handler-content-attributes title=&quot;event handler content attributes&quot;&gt;event handler content
+  attribute&lt;/a&gt; on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element. This is because
+  the event would bubble from the target, to the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;, to
+  the &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt;, to the &lt;code&gt;Document&lt;/code&gt;, to the
   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;, and the event handler attribute on the
   &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; is watching the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; not the
   &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt;. A regular event listener attached to the
@@ -22768,7 +22671,7 @@
 
   &lt;h4 id=dimension-attributes&gt;&lt;span class=secno&gt;4.8.17 &lt;/span&gt;&lt;dfn&gt;Dimension attributes&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;p&gt;The &lt;dfn id=attr-dim-width title=attr-dim-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=attr-dim-height title=attr-dim-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt; attributes on
+  &lt;p&gt;&lt;strong&gt;Author requirements:&lt;/strong&gt; The &lt;dfn id=attr-dim-width title=attr-dim-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=attr-dim-height title=attr-dim-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt; attributes on
   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt;, and, when their &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#image-button-state title=attr-input-type-image&gt;Image Button&lt;/a&gt; state,
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements may be specified to give the dimensions
@@ -22803,7 +22706,9 @@
   &lt;p class=note&gt;Basically, the dimension attributes can't be used to
   stretch the image.&lt;/p&gt;
 
-  &lt;p&gt;User agents are expected to use these attributes &lt;a href=#dimRendering&gt;as hints for the rendering&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;&lt;strong&gt;User agent requirements:&lt;/strong&gt; User agents are
+  expected to use these attributes &lt;a href=#dimRendering&gt;as hints
+  for the rendering&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-dim-width title=dom-dim-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-dim-height title=dom-dim-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt; DOM attributes on
   the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt;,
@@ -36711,11 +36616,6 @@
    &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; event is targeted at or bubbles
    through the element.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=handler-onmessage title=handler-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt; &lt;!-- new for &lt;eventsource&gt; --&gt;
-
-   &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event is targeted at or bubbles
-   through the element.&lt;/dd&gt;
-
   &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;The following are the event handler attributes that must be
   supported by &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; objects, as DOM attributes on the
   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object, and with corresponding content
@@ -45700,170 +45600,194 @@
   attribute must be null.&lt;/p&gt;
 
 
+
   &lt;h3 id=server-sent-events&gt;&lt;span class=secno&gt;7.2 &lt;/span&gt;&lt;dfn&gt;Server-sent events&lt;/dfn&gt;&lt;/h3&gt;
   &lt;!-- eventsource --&gt;
 
-  &lt;p&gt;This section describes a mechanism for allowing servers to
-  dispatch DOM events into documents that expect it. The
-  &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element provides a simple interface to
-  this mechanism.&lt;/p&gt;
+  &lt;h4 id=server-sent-events-intro&gt;&lt;span class=secno&gt;7.2.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
+  &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;&lt;/p&gt;
 
+  &lt;p&gt;To enable servers to push data to Web pages over HTTP or using
+  dedicated server-push protocols, this specification introduces the
+  &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;h4 id=the-remoteeventtarget-interface&gt;&lt;span class=secno&gt;7.2.1 &lt;/span&gt;The &lt;code&gt;&lt;a href=#remoteeventtarget&gt;RemoteEventTarget&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;p class=XXX&gt;An introduction to the client-side and
+  server-side of using the direct connection APIs.&lt;/p&gt;
 
-  &lt;p&gt;Any object that implements the &lt;code&gt;EventTarget&lt;/code&gt; interface
-  must also implement the &lt;code&gt;&lt;a href=#remoteeventtarget&gt;RemoteEventTarget&lt;/a&gt;&lt;/code&gt;
-  interface.&lt;/p&gt;
+  &lt;!--BOILERPLATE--&gt;
 
-  &lt;pre class=idl&gt;[NoInterfaceObject, ImplementedOn=&lt;span&gt;EventTarget&lt;/span&gt;] interface &lt;dfn id=remoteeventtarget&gt;RemoteEventTarget&lt;/dfn&gt; {
-  void &lt;a href=#dom-remoteeventtarget-addeventsource title=dom-RemoteEventTarget-addEventSource&gt;addEventSource&lt;/a&gt;(in DOMString src);
-  void &lt;a href=#dom-remoteeventtarget-removeeventsource title=dom-RemoteEventTarget-removeEventSource&gt;removeEventSource&lt;/a&gt;(in DOMString src);
+  &lt;h4 id=the-eventsource-interface&gt;&lt;span class=secno&gt;7.2.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
+
+  &lt;pre class=idl&gt;[&lt;a href=#dom-eventsource title=dom-EventSource&gt;Constructor&lt;/a&gt;(in DOMString url)]
+interface &lt;dfn id=eventsource&gt;EventSource&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;a href=#dom-eventsource-url title=dom-EventSource-URL&gt;URL&lt;/a&gt;;
+
+  // ready state
+  const unsigned short &lt;a href=#dom-eventsource-connecting title=dom-EventSource-CONNECTING&gt;CONNECTING&lt;/a&gt; = 0;
+  const unsigned short &lt;a href=#dom-eventsource-open title=dom-EventSource-OPEN&gt;OPEN&lt;/a&gt; = 1;
+  const unsigned short &lt;a href=#dom-eventsource-closed title=dom-EventSource-CLOSED&gt;CLOSED&lt;/a&gt; = 2;
+  readonly attribute long &lt;a href=#dom-eventsource-readystate title=dom-EventSource-readyState&gt;readyState&lt;/a&gt;;
+
+  // networking
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-eventsource-onopen title=handler-EventSource-onopen&gt;onopen&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-eventsource-onmessage title=handler-EventSource-onmessage&gt;onmessage&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-eventsource-onerror title=handler-EventSource-onerror&gt;onerror&lt;/a&gt;;
+  void &lt;a href=#dom-eventsource-disconnect title=dom-EventSource-disconnect&gt;disconnect&lt;/a&gt;();
 };&lt;/pre&gt;
 
-  &lt;p&gt;When the &lt;dfn id=dom-remoteeventtarget-addeventsource title=dom-RemoteEventTarget-addEventSource&gt;&lt;code&gt;addEventSource(&lt;var title=&quot;&quot;&gt;src&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
-  must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt;
-  specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to the &lt;a href=#first-script&gt;first
-  script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base URL&lt;/a&gt;, and
-  if that succeeds, add the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; to the
-  &lt;a href=#concept-eventsource-list title=concept-eventsource-list&gt;list of event sources&lt;/a&gt;
-  for that object. The same URL can be registered multiple times. If
-  the URL fails to resolve, then the user agent must raise a
-  &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;p&gt;&lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; objects must also implement the
+  &lt;code&gt;EventTarget&lt;/code&gt; interface. &lt;a href=#refsDOM3EVENTS&gt;[DOM3EVENTS]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;dfn id=dom-remoteeventtarget-removeeventsource title=dom-RemoteEventTarget-removeEventSource&gt;&lt;code&gt;removeEventSource(&lt;var title=&quot;&quot;&gt;src&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
-  must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the &lt;a href=#url&gt;URL&lt;/a&gt;
-  specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to the &lt;a href=#first-script&gt;first
-  script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base URL&lt;/a&gt;, and
-  if that succeeds, remove the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;
-  from the &lt;a href=#concept-eventsource-list title=concept-eventsource-list&gt;list of event
-  sources&lt;/a&gt; for that object. If the same URL has been registered
-  multiple times, removing it must remove only one instance of that
-  URL for each invocation of the &lt;code title=removeEventSource&gt;removeEventSource()&lt;/code&gt; method. If the
-  URL fails to resolve, the user agent does nothing.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-eventsource title=dom-EventSource&gt;&lt;code&gt;EventSource(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor takes one argument,
+  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, which specifies the &lt;a href=#url&gt;URL&lt;/a&gt; to
+  which to connect. When the &lt;code&gt;EventSource()&lt;/code&gt; constructor is
+  invoked, the UA must run these steps:&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; the
+   &lt;a href=#url&gt;URL&lt;/a&gt; specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to
+   the &lt;a href=#first-script&gt;first script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base
+   URL&quot;&gt;base URL&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;h4 id=connecting-to-an-event-stream&gt;&lt;span class=secno&gt;7.2.2 &lt;/span&gt;Connecting to an event stream&lt;/h4&gt;
+   &lt;li&gt;&lt;p&gt;If the previous step failed, then throw a
+   &lt;code&gt;&lt;a href=#syntax_err&gt;SYNTAX_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/li&gt;
 
-  &lt;p&gt;Each object implementing the &lt;code&gt;EventTarget&lt;/code&gt; and
-  &lt;code&gt;&lt;a href=#remoteeventtarget&gt;RemoteEventTarget&lt;/a&gt;&lt;/code&gt; interfaces has a &lt;dfn id=concept-eventsource-list title=concept-eventsource-list&gt;list of event sources&lt;/dfn&gt; that
-  are registered for that object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Return a new &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object, and continue
+   these steps in the background (without blocking scripts).&lt;/li&gt;
 
-  &lt;p&gt;When a new &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; is added to this list, the
-  user agent should &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the following
-  steps with the new &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource identified by the resulting
+   &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, as described below.&lt;/li&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the entry for the new &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; has been
-   removed from the list, then abort these steps.&lt;/li&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-eventsource-url title=dom-EventSource-URL&gt;&lt;code&gt;URL&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value that was passed to the
+  constructor.&lt;/p&gt;
 
-   &lt;li&gt;
+  &lt;p&gt;The &lt;dfn id=dom-eventsource-readystate title=dom-EventSource-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the state of the connection. It can have the
+  following values:&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource identified by that
-    &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;.&lt;/p&gt;
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-eventsource-connecting title=dom-EventSource-CONNECTING&gt;&lt;code&gt;CONNECTING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-    &lt;p&gt;As data is received, the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; queued by the &lt;a href=#networking-task-source&gt;networking
-    task source&lt;/a&gt; to handle the data must consist of following
-    the rules given in the following sections.&lt;/p&gt;
+   &lt;dd&gt;The connection has not yet been established, or it was closed
+   and the user agent is reconnecting.&lt;/dd&gt;
 
-   &lt;/li&gt;
+   &lt;dt&gt;&lt;dfn id=dom-eventsource-open title=dom-EventSource-OPEN&gt;&lt;code&gt;OPEN&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When an event source is removed from the list of event sources
-  for an object, if that resource is still being fetched, then the
-  relevant connection must be closed.&lt;/p&gt;
+   &lt;dd&gt;The user agent has an open connection and is dispatching events
+   as it receives them.&lt;/dd&gt;
 
-  &lt;p&gt;Since connections established to remote servers for such
-  resources are expected to be long-lived, UAs should ensure that
-  appropriate buffering is used. In particular, while line buffering
-  may be safe if lines are defined to end with a single U+000A LINE
-  FEED character, block buffering or line buffering with different
-  expected line endings can cause delays in event dispatch.&lt;/p&gt;
+   &lt;dt&gt;&lt;dfn id=dom-eventsource-closed title=dom-EventSource-CLOSED&gt;&lt;code&gt;CLOSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-  &lt;p&gt;Each event source in the list must have associated with it the
-  following:&lt;/p&gt;
+   &lt;dd&gt;The connection is not open, and the user agent is not trying to
+   reconnect. Either there was a fatal error or the &lt;code title=dom-EventSource-disconnect&gt;&lt;a href=#dom-eventsource-disconnect&gt;disconnect()&lt;/a&gt;&lt;/code&gt; method was
+   invoked.&lt;/dd&gt;
 
-  &lt;ul&gt;&lt;li&gt;The &lt;dfn id=concept-event-stream-reconnection-time title=concept-event-stream-reconnection-time&gt;reconnection
+  &lt;/dl&gt;&lt;p&gt;When the object is created its &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; must be set to
+  &lt;code title=dom-EventSource-CONNECTING&gt;&lt;a href=#dom-eventsource-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt; (0). The
+  rules given below for handling the connection define when the value
+  changes.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-eventsource-disconnect title=dom-EventSource-disconnect&gt;&lt;code&gt;disconnect()&lt;/code&gt;&lt;/dfn&gt;
+  method must close the connection, if any, and must set the &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to
+  &lt;code title=dom-EventSource-CLOSED&gt;&lt;a href=#dom-eventsource-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt;. If the
+  connection is already closed, the method must do nothing.&lt;/p&gt;
+
+  &lt;p&gt;The following are the &lt;a href=#event-handler-attributes-0&gt;event handler attributes&lt;/a&gt; that
+  must be supported, as DOM attributes, by all objects implementing
+  the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=handler-eventsource-onopen title=handler-EventSource-onopen&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-open&gt;open&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=handler-eventsource-onmessage title=handler-EventSource-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=handler-eventsource-onerror title=handler-EventSource-onerror&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;hr&gt;&lt;p&gt;In addition to the above, each &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object
+  has the following associated with it:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;A &lt;dfn id=concept-event-stream-reconnection-time title=concept-event-stream-reconnection-time&gt;reconnection
    time&lt;/dfn&gt;, in milliseconds. This must initially be a
    user-agent-defined value, probably in the region of a few
    seconds.&lt;/li&gt;
 
-   &lt;li&gt;The &lt;dfn id=concept-event-stream-last-event-id title=concept-event-stream-last-event-id&gt;last event
+   &lt;li&gt;A &lt;dfn id=concept-event-stream-last-event-id title=concept-event-stream-last-event-id&gt;last event
    ID string&lt;/dfn&gt;. This must initially be the empty string.&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;In general, the semantics of the transport protocol specified by
-  the URLs for the event sources must be followed, including HTTP
-  caching rules.&lt;/p&gt;
+  &lt;/ul&gt;&lt;p&gt;These values are not currently exposed on the interface.&lt;/p&gt;
 
+
+  &lt;h4 id=processing-model-3&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+
+  &lt;p&gt;The resource indicated in the argument to the &lt;code title=dom-EventSource&gt;&lt;a href=#dom-eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; constructor is &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; when the constructor is run.&lt;/p&gt;
+
   &lt;p&gt;For HTTP connections, the &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; header may
   be included; if included, it must contain only formats of event
   framing that are supported by the user agent (one of which must be
   &lt;code&gt;text/event-stream&lt;/code&gt;, as described below).&lt;/p&gt;
 
-  &lt;p&gt;Other formats of event framing may also be supported in addition
-  to &lt;code&gt;text/event-stream&lt;/code&gt;, but this specification does not
-  define how they are to be parsed or processed.&lt;/p&gt;
-
-  &lt;p class=note&gt;Such formats could include systems like SMS-push;
-  for example servers could use &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; headers
-  and HTTP redirects to an SMS-push mechanism as a kind of protocol
-  negotiation to reduce network load in GSM environments.&lt;/p&gt;
-
-  &lt;p&gt;User agents should use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt;
-  header in requests to bypass any caches for requests of event
-  sources.&lt;/p&gt;
-
   &lt;p&gt;If the event source's last event ID string is not the empty
   string, then a &lt;code title=&quot;&quot;&gt;Last-Event-ID&lt;/code&gt; HTTP header must
   be included with the request, whose value is the value of the event
   source's last event ID string.&lt;/p&gt;
 
+  &lt;p&gt;User agents should use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt;
+  header in requests to bypass any caches for requests of event
+  sources. User agents should ignore HTTP cache headers in the
+  response, never caching event sources.&lt;/p&gt;
+
   &lt;p class=XXX&gt;Cross-origin loads are expected to follow the
   Access-Control semantics of CORS; without this header, they are
   expected to fail as if the site was down.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;As data is received, the &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt;
+  queued by the &lt;a href=#networking-task-source&gt;networking task source&lt;/a&gt; to handle the data
+  must act as follows.&lt;/p&gt;
+
   &lt;p&gt;HTTP 200 OK responses with a &lt;a href=#content-type-0&gt;Content-Type&lt;/a&gt; header
   specifying the type &lt;code&gt;text/event-stream&lt;/code&gt; must be processed
   line by line &lt;a href=#event-stream-interpretation&gt;as described
   below&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of such successfully opened event streams only,
-  user agents should ignore HTTP cache headers, and instead assume
-  that the resource indicates that it does not wish to be cached.&lt;/p&gt;
+  &lt;p&gt;When a successful response with a supported MIME type is
+  received, such that the user agent begins parsing the contents of
+  the stream, the user agent must &lt;a href=#announce-the-connection&gt;announce the
+  connection&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;If such a resource (with the correct MIME type) completes loading
   (i.e. the entire HTTP response body is received or the connection
-  itself closes), the user agent should request the event source
-  resource again after a delay equal to the reconnection time of the
-  event source. This doesn't apply for the error cases that are listed
-  below.&lt;/p&gt;
+  itself closes), the user agent must &lt;a href=#reset-the-connection&gt;reset the
+  connection&lt;/a&gt;. This doesn't apply for the error cases that are
+  listed below.&lt;/p&gt;
 
   &lt;p&gt;HTTP 200 OK responses that have a &lt;a href=#content-type-0&gt;Content-Type&lt;/a&gt; other
   than &lt;code&gt;text/event-stream&lt;/code&gt; (or some other supported type)
-  must be ignored.&lt;/p&gt;
+  must cause the user agent to &lt;a href=#fail-the-connection&gt;fail the connection&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 204 No Content, and 205 Reset Content responses must be
-  treated as if they were 200 OK responses with the right MIME type
-  but no content, and should therefore cause the user agent to refetch
-  the resource after a delay equal to the reconnection time of the
-  event source.&lt;/p&gt;
+  &lt;p&gt;HTTP 204 No Content, and 205 Reset Content responses are
+  equivalent to 200 OK responses with the right MIME type but no
+  content, and thus must &lt;a href=#reset-the-connection&gt;reset the connection&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Other HTTP response codes in the 2xx range &lt;!--201 Created, 202
   Accepted, 203 Non-Authoritative Information, and 206 Partial
-  Content--&gt;must be treated like HTTP 200 OK responses for the
-  purposes of reopening event source resources. They are, however,
-  likely to indicate an error has occurred somewhere and may cause the
-  user agent to emit a warning.&lt;/p&gt;
+  Content--&gt;must similarly &lt;a href=#reset-the-connection&gt;reset the connection&lt;/a&gt;. They
+  are, however, likely to indicate an error has occurred somewhere and
+  may cause the user agent to emit a warning.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 300 Multiple Choices responses should be handled
-  automatically if possible (treating the responses as if they were
-  302 Found responses pointing to the appropriate resource), and
-  otherwise must be treated as HTTP 404 responses.&lt;/p&gt;
-
   &lt;p&gt;HTTP 301 Moved Permanently responses must cause the user agent to
   reconnect using the new server specified URL instead of the
   previously specified URL for all subsequent requests for this event
-  source. (It doesn't affect other event sources with the same URL
-  unless they also receive 301 responses, and it doesn't affect future
-  sessions, e.g. if the page is reloaded.)&lt;/p&gt;
+  source. (It doesn't affect other &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; objects
+  with the same URL unless they also receive 301 responses, and it
+  doesn't affect future sessions, e.g. if the page is reloaded.)&lt;/p&gt;
 
   &lt;p&gt;HTTP 302 Found, 303 See Other, and 307 Temporary Redirect
   responses must cause the user agent to connect to the new
@@ -45871,33 +45795,52 @@
   the resource at a later point, it must return to the previously
   specified URL for this event source.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 304 Not Modified responses should be handled like HTTP 200
-  OK responses, with the content coming from the user agent cache. A
-  new request should then be made after a delay equal to the
-  reconnection time of the event source.&lt;/p&gt;
-
   &lt;p&gt;HTTP 305 Use Proxy, HTTP 401 Unauthorized, and 407 Proxy
   Authentication Required should be treated transparently as for any
   other subresource.&lt;/p&gt;
 
   &lt;p&gt;Any other HTTP response code not listed here or network error
-  (e.g. DNS errors) must be ignored.&lt;/p&gt; &lt;!-- including: HTTP 400 Bad
-  Request, 403 Forbidden, 404 Not Found, 405 Method Not Allowed, 406
-  Not Acceptable, 408 Request Timeout, 409 Conflict, 410 Gone, 411
-  Length Required, 412 Precondition Failed, 413 Request Entity Too
-  Large, 414 Request-URI Too Long, 415 Unsupported Media Type, 416
-  Requested Range Not Satisfiable, 417 Expectation Failed, 500
-  Internal Server Error, 501 Not Implemented, 502 Bad Gateway, 503
-  Service Unavailable, 504 Gateway Timeout, and 505 HTTP Version Not
-  Supported responses --&gt;
+  (e.g. DNS errors) must cause the user agent to &lt;a href=#fail-the-connection&gt;fail the
+  connection&lt;/a&gt;.&lt;/p&gt; &lt;!-- including: HTTP 300 Multiple Choices,
+  HTTP 304 Not Modified, HTTP 400 Bad Request, 403 Forbidden, 404 Not
+  Found, 405 Method Not Allowed, 406 Not Acceptable, 408 Request
+  Timeout, 409 Conflict, 410 Gone, 411 Length Required, 412
+  Precondition Failed, 413 Request Entity Too Large, 414 Request-URI
+  Too Long, 415 Unsupported Media Type, 416 Requested Range Not
+  Satisfiable, 417 Expectation Failed, 500 Internal Server Error, 501
+  Not Implemented, 502 Bad Gateway, 503 Service Unavailable, 504
+  Gateway Timeout, and 505 HTTP Version Not Supported responses --&gt;
 
   &lt;p&gt;For non-HTTP protocols, UAs should act in equivalent ways.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;When a user agent is to &lt;dfn id=announce-the-connection&gt;announce the connection&lt;/dfn&gt;, the
+  user agent must set the &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to
+  &lt;code title=dom-EventSource-OPEN&gt;&lt;a href=#dom-eventsource-open&gt;OPEN&lt;/a&gt;&lt;/code&gt; and &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-open&gt;open&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;h4 id=parsing-an-event-stream&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=reset-the-connection&gt;reset the connection&lt;/dfn&gt;, the user
+  agent must set the &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to
+  &lt;code title=dom-EventSource-CONNECTING&gt;&lt;a href=#dom-eventsource-connecting&gt;CONNECTING&lt;/a&gt;&lt;/code&gt;,
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named
+  &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object, and then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the
+  event source resource again after a delay equal to the reconnection
+  time of the event source.&lt;/p&gt;
 
-  &lt;!-- XXX Wladimir Palant pointed out problems with HTTP chunking with server-sent-events --&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn id=fail-the-connection&gt;fail the connection&lt;/dfn&gt;, the user
+  agent must set the &lt;code title=dom-EventSource-readyState&gt;&lt;a href=#dom-eventsource-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to
+  &lt;code title=dom-EventSource-CLOSED&gt;&lt;a href=#dom-eventsource-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt; and &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-error&gt;&lt;a href=#event-error&gt;error&lt;/a&gt;&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for any &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that are &lt;a href=#queue-a-task title=&quot;queue a
+  task&quot;&gt;queued&lt;/a&gt; by &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; objects is the
+  &lt;dfn id=remote-event-task-source&gt;remote event task source&lt;/dfn&gt;.&lt;/p&gt;
+
+
+  &lt;h4 id=parsing-an-event-stream&gt;&lt;span class=secno&gt;7.2.4 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
+
   &lt;p&gt;This event stream format's MIME type is
   &lt;code&gt;text/event-stream&lt;/code&gt;.&lt;/p&gt;
 
@@ -45930,9 +45873,15 @@
   LINE FEED (CRLF) character pair, a single U+000A LINE FEED (LF)
   character, or a single U+000D CARRIAGE RETURN (CR) character.&lt;/p&gt;
 
+  &lt;p&gt;Since connections established to remote servers for such
+  resources are expected to be long-lived, UAs should ensure that
+  appropriate buffering is used. In particular, while line buffering
+  with lines are defined to end with a single U+000A LINE FEED
+  character is safe, block buffering or line buffering with different
+  expected line endings can cause delays in event dispatch.&lt;/p&gt;
 
 
-  &lt;h4 id=event-stream-interpretation&gt;&lt;span class=secno&gt;7.2.4 &lt;/span&gt;Interpreting an event stream&lt;/h4&gt;
+  &lt;h4 id=event-stream-interpretation&gt;&lt;span class=secno&gt;7.2.5 &lt;/span&gt;Interpreting an event stream&lt;/h4&gt;
 
   &lt;p&gt;Bytes or sequences of bytes that are not valid UTF-8 sequences
   must be interpreted as the U+FFFD REPLACEMENT CHARACTER.&lt;/p&gt;
@@ -46077,10 +46026,7 @@
    &lt;li&gt;&lt;p&gt;Set the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; buffer and the &lt;var title=&quot;&quot;&gt;event name&lt;/var&gt; buffer to the empty string.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to dispatch the newly created
-   event at the &lt;code&gt;&lt;a href=#remoteeventtarget&gt;RemoteEventTarget&lt;/a&gt;&lt;/code&gt; object to which the
-   event stream is registered. The &lt;a href=#task-source&gt;task source&lt;/a&gt; for this
-   &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is the &lt;dfn id=remote-event-task-source&gt;remote event
-   task source&lt;/dfn&gt;.&lt;/li&gt;
+   event at the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p class=note&gt;If an event doesn't have an &quot;id&quot; field, but an
   earlier event did set the event source's &lt;span&gt;last event ID
@@ -46092,20 +46038,26 @@
 
    &lt;p&gt;The following event stream, once followed by a blank line:&lt;/p&gt;
    &lt;pre&gt;data: YHOO
-data: -2
+data: +2
 data: 10&lt;/pre&gt;
 
    &lt;p&gt;...would cause an event &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; with the interface
    &lt;code&gt;&lt;a href=#messageevent&gt;MessageEvent&lt;/a&gt;&lt;/code&gt; to be dispatched on the
-   &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element, whose &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute would contain
-   the string &lt;code&gt;YHOO\n-2\n10&lt;/code&gt; (where &lt;code&gt;\n&lt;/code&gt;
+   &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object. The event's &lt;code title=dom-MessageEvent-data&gt;&lt;a href=#dom-messageevent-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute would contain
+   the string &lt;code&gt;YHOO\n+2\n10&lt;/code&gt; (where &lt;code&gt;\n&lt;/code&gt;
    represents a newline).&lt;/p&gt;
 
    &lt;p&gt;This could be used as follows:
-   &lt;pre&gt;&lt;eventsource src=&quot;<A HREF="http://stocks.example.com/ticker.php">http://stocks.example.com/ticker.php</A>&quot;
-              onmessage=&quot;var data = event.data.split('\n'); updateStocks(data[0], data[1], data[2]);&quot;&gt;&lt;/pre&gt;
+   &lt;pre&gt;var stocks = new EventSource(&quot;<A HREF="http://stocks.example.com/ticker.php">http://stocks.example.com/ticker.php</A>&quot;);
+stocks.onmessage = function (event) {
+  var data = event.data.split('\n');
+  updateStocks(data[0], data[1], data[2]);
+};&lt;/pre&gt;
+
    &lt;p&gt;...where &lt;code title=&quot;&quot;&gt;updateStocks()&lt;/code&gt; is a function defined as:&lt;/p&gt;
+
    &lt;pre&gt;function updateStocks(symbol, delta, value) { ... }&lt;/pre&gt;
+
    &lt;p&gt;...or some such.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -46169,7 +46121,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=notes&gt;&lt;span class=secno&gt;7.2.5 &lt;/span&gt;Notes&lt;/h4&gt;
+  &lt;h4 id=notes&gt;&lt;span class=secno&gt;7.2.6 &lt;/span&gt;Notes&lt;/h4&gt;
 
   &lt;p&gt;Legacy proxy servers are known to, in certain cases, drop HTTP
   connections after a short timeout. To protect against such proxy
@@ -46183,19 +46135,44 @@
   individual IP addresses can have multiple clients (due to sharing a
   proxy server). It is better to include a unique identifier in the
   document when it is served and then pass that identifier as part of
-  the URL in the &lt;code title=attr-eventsource-src&gt;&lt;a href=#attr-eventsource-src&gt;src&lt;/a&gt;&lt;/code&gt;
-  attribute of the &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+  the URL in the &lt;code title=attr-eventsource-src&gt;src&lt;/code&gt;
+  attribute of the &lt;code&gt;&lt;a href=#eventsource&gt;eventsource&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
+  &lt;p&gt;Authors are also cautioned that HTTP chunking can have unexpected
+  negative effects on the reliability of this protocol. Where
+  possible, chunking should be disabled for serving event streams
+  unless the rate of messages is high enough for this not to
+  matter.&lt;/p&gt; &lt;!-- v2 can we get a better solution? --&gt;
+
   &lt;p&gt;Implementations that support HTTP's per-server connection
   limitation might run into trouble when opening multiple pages from a
-  site if each page has an &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt; to the same
+  site if each page has an &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; to the same
   domain. Authors can avoid this using the relatively complex
   mechanism of using unique domain names per connection, or by
-  allowing the user to enable or disable the &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt;
+  allowing the user to enable or disable the &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt;
   functionality on a per-page basis.&lt;/p&gt;
 
+  &lt;hr&gt;&lt;p&gt;Other formats of event framing may also be supported in addition
+  to &lt;code&gt;text/event-stream&lt;/code&gt;, but this specification does not
+  define how they are to be parsed or processed.&lt;/p&gt;
 
+  &lt;p class=note&gt;Such formats could include systems like SMS-push;
+  for example servers could use &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; headers
+  and HTTP redirects to an SMS-push mechanism as a kind of protocol
+  negotiation to reduce network load in GSM environments.&lt;/p&gt;
 
+
+  &lt;h4 id=garbage-collection-0&gt;&lt;span class=secno&gt;7.2.7 &lt;/span&gt;Garbage collection&lt;/h4&gt;
+
+  &lt;p&gt;An &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object with an open connection must not
+  be garbage collected if there are any event listeners registered for
+  &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events.&lt;/p&gt;
+
+  &lt;p&gt;If an &lt;code&gt;&lt;a href=#eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt; object is garbage collected while
+  its connection is still open, the connection must be closed.&lt;/p&gt;
+
+
+
   &lt;h3 id=network&gt;&lt;span class=secno&gt;7.3 &lt;/span&gt;&lt;dfn&gt;Web sockets&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;h4 id=network-intro&gt;&lt;span class=secno&gt;7.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
@@ -46231,7 +46208,7 @@
   // networking
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onopen title=handler-WebSocket-onopen&gt;onopen&lt;/a&gt;;
            attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onmessage title=handler-WebSocket-onmessage&gt;onmessage&lt;/a&gt;;
-           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onclosed title=handler-WebSocket-onclosed&gt;onclosed&lt;/a&gt;;
+           attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-websocket-onclose title=handler-WebSocket-onclose&gt;onclose&lt;/a&gt;;
   void &lt;a href=#dom-websocket-postmessage title=dom-WebSocket-postMessage&gt;postMessage&lt;/a&gt;(in DOMString data);
   void &lt;a href=#dom-websocket-disconnect title=dom-WebSocket-disconnect&gt;disconnect&lt;/a&gt;();
 };&lt;/pre&gt;
@@ -46320,37 +46297,18 @@
   &lt;p&gt;The &lt;dfn id=dom-websocket-disconnect title=dom-WebSocket-disconnect&gt;&lt;code&gt;disconnect()&lt;/code&gt;&lt;/dfn&gt;
   method must &lt;a href=#close-the-web-socket-connection&gt;close the Web Socket connection&lt;/a&gt; or
   connection attempt, if any. If the connection is already closed, it
-  must do nothing. Closing the connection causes a &lt;code title=event-WebSocket-close&gt;&lt;a href=#event-websocket-close&gt;close&lt;/a&gt;&lt;/code&gt; event to be fired and
+  must do nothing. Closing the connection causes a &lt;code title=event-close&gt;close&lt;/code&gt; event to be fired and
   the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
   attribute's value to change, as &lt;a href=#closeWebSocket&gt;described
   below&lt;/a&gt;.&lt;/p&gt;
 
-
-  &lt;h4 id=websocket-events&gt;&lt;span class=secno&gt;7.3.3 &lt;/span&gt;WebSocket Events&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn id=event-websocket-open title=event-WebSocket-open&gt;&lt;code&gt;open&lt;/code&gt;&lt;/dfn&gt;
-  event is fired when the &lt;a href=#web-socket-connection-is-established&gt;Web Socket connection is
-  established&lt;/a&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=event-websocket-close title=event-WebSocket-close&gt;&lt;code&gt;close&lt;/code&gt;&lt;/dfn&gt;
-  event is fired when the connection is closed (whether by the author,
-  calling the &lt;code title=dom-WebSocket-disconnect&gt;&lt;a href=#dom-websocket-disconnect&gt;disconnect()&lt;/a&gt;&lt;/code&gt; method, or by
-  the server, or by a network error).&lt;/p&gt;
-
-  &lt;p class=note&gt;No information regarding why the connection was
-  closed is passed to the application in this version of this
-  specification.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event is fired
-  when when data is received for a connection.&lt;/p&gt;
-
   &lt;hr&gt;&lt;p&gt;The following are the &lt;a href=#event-handler-attributes-0&gt;event handler attributes&lt;/a&gt; that
   must be supported, as DOM attributes, by all objects implementing
   the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; interface:&lt;/p&gt;
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=handler-websocket-onopen title=handler-WebSocket-onopen&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-WebSocket-open&gt;&lt;a href=#event-websocket-open&gt;open&lt;/a&gt;&lt;/code&gt; event is targeted at or
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-open&gt;open&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn id=handler-websocket-onmessage title=handler-WebSocket-onmessage&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
@@ -46358,12 +46316,12 @@
    &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=handler-websocket-onclosed title=handler-WebSocket-onclosed&gt;&lt;code&gt;onclosed&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=handler-websocket-onclose title=handler-WebSocket-onclose&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-WebSocket-closed&gt;closed&lt;/code&gt; event is targeted at or
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code title=event-close&gt;close&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;7.3.4 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
+  &lt;/dl&gt;&lt;h4 id=feedback-from-the-protocol&gt;&lt;span class=secno&gt;7.3.3 &lt;/span&gt;Feedback from the protocol&lt;/h4&gt;
 
   &lt;p&gt;When the &lt;i&gt;&lt;a href=#web-socket-connection-is-established&gt;Web Socket connection is established&lt;/a&gt;&lt;/i&gt;, the user
   agent must run the following steps:&lt;/p&gt;
@@ -46378,7 +46336,7 @@
    &lt;li&gt;
 
     &lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
-    named &lt;code title=event-WebSocket-open&gt;&lt;a href=#event-websocket-open&gt;open&lt;/a&gt;&lt;/code&gt; at the
+    named &lt;code title=event-open&gt;open&lt;/code&gt; at the
     &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -46392,7 +46350,7 @@
   closed&lt;/a&gt;&lt;/i&gt;, the &lt;code title=dom-WebSocket-readyState&gt;&lt;a href=#dom-websocket-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute's value
   must be changed to &lt;code title=dom-WebSocket-CLOSED&gt;&lt;a href=#dom-websocket-closed&gt;CLOSED&lt;/a&gt;&lt;/code&gt;
   (2), and the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire
-  a simple event&lt;/a&gt; named &lt;code title=event-WebSocket-close&gt;&lt;a href=#event-websocket-close&gt;close&lt;/a&gt;&lt;/code&gt; at the
+  a simple event&lt;/a&gt; named &lt;code title=event-close&gt;close&lt;/code&gt; at the
   &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;a href=#task-source&gt;task source&lt;/a&gt; for all &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; &lt;a href=#queue-a-task title=&quot;queue a
@@ -46400,14 +46358,25 @@
   source&lt;/dfn&gt;.&lt;/p&gt;
 
 
+  &lt;h5 id=garbage-collection-1&gt;&lt;span class=secno&gt;7.3.3.1 &lt;/span&gt;Garbage collection&lt;/h5&gt;
 
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object with an open connection must not
+  be garbage collected if there are any event listeners registered for
+  &lt;code title=event-message&gt;&lt;a href=#event-message&gt;message&lt;/a&gt;&lt;/code&gt; events.&lt;/p&gt;
+
+  &lt;p&gt;If a &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is garbage collected while its
+  connection is still open, the user agent must &lt;a href=#close-the-web-socket-connection&gt;close the Web
+  Socket connection&lt;/a&gt;.&lt;/p&gt;
+
+
+
   &lt;h4 id=websocket-protocol title=&quot;This protocol enables two-way
   communication between a user agent running untrusted code running in
   a controlled environment to a remote host that understands the
   protocol. It is intended to fail to communicate with servers of
   pre-existing protocols like SMTP or HTTP, while allowing HTTP
   servers to opt-in to supporting this protocol if desired. It is
-  designed to be easy to implement on the server side.&quot;&gt;&lt;span class=secno&gt;7.3.5 &lt;/span&gt;The Web Socket
+  designed to be easy to implement on the server side.&quot;&gt;&lt;span class=secno&gt;7.3.4 &lt;/span&gt;The Web Socket
   protocol&lt;/h4&gt;
 
   &lt;div class=no-rfc&gt;
@@ -46415,11 +46384,11 @@
    course.&lt;/p&gt;
   &lt;/div&gt;
 
-  &lt;h5 id=introduction-5&gt;&lt;span class=secno&gt;7.3.5.1 &lt;/span&gt;Introduction&lt;/h5&gt;
+  &lt;h5 id=introduction-5&gt;&lt;span class=secno&gt;7.3.4.1 &lt;/span&gt;Introduction&lt;/h5&gt;
 
   &lt;p class=XXX&gt;...&lt;/p&gt;
 
-  &lt;h5 id=client-side-requirements&gt;&lt;span class=secno&gt;7.3.5.2 &lt;/span&gt;Client-side requirements&lt;/h5&gt;
+  &lt;h5 id=client-side-requirements&gt;&lt;span class=secno&gt;7.3.4.2 &lt;/span&gt;Client-side requirements&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section only applies to user agents, not to
   servers.&lt;/em&gt;&lt;/p&gt;
@@ -46429,7 +46398,7 @@
   establish to a server.&lt;/p&gt;
 
 
-  &lt;h6 id=handshake&gt;&lt;span class=secno&gt;7.3.5.2.1 &lt;/span&gt;Handshake&lt;/h6&gt;
+  &lt;h6 id=handshake&gt;&lt;span class=secno&gt;7.3.4.2.1 &lt;/span&gt;Handshake&lt;/h6&gt;
 
   &lt;p&gt;When the user agent is to &lt;dfn id=establish-a-web-socket-connection&gt;establish a Web Socket
   connection&lt;/dfn&gt; to a host &lt;var title=&quot;&quot;&gt;host&lt;/var&gt;, optionally on
@@ -46826,7 +46795,7 @@
   distinguishable from the Web Socket being closed normally.&lt;/p&gt;
 
 
-  &lt;h6 id=data-framing&gt;&lt;span class=secno&gt;7.3.5.2.2 &lt;/span&gt;Data framing&lt;/h6&gt;
+  &lt;h6 id=data-framing&gt;&lt;span class=secno&gt;7.3.4.2.2 &lt;/span&gt;Data framing&lt;/h6&gt;
 
   &lt;p&gt;Once a &lt;a href=#web-socket-connection-is-established&gt;Web Socket connection is established&lt;/a&gt;, the
   user agent must run through the following state machine for the
@@ -46923,11 +46892,11 @@
   &lt;/ol&gt;&lt;!-- v2: People often request the ability to send binary blobs over
   this API; we should also look into allowing name/value pairs,
   arrays, and numbers using postMessage() instead of just strings and
-  binary data. --&gt;&lt;h5 id=server-side-requirements&gt;&lt;span class=secno&gt;7.3.5.3 &lt;/span&gt;Server-side requirements&lt;/h5&gt;
+  binary data. --&gt;&lt;h5 id=server-side-requirements&gt;&lt;span class=secno&gt;7.3.4.3 &lt;/span&gt;Server-side requirements&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section only applies to servers.&lt;/em&gt;&lt;/p&gt; &lt;!-- XXX that's not a defined conformance class --&gt;
 
-  &lt;h6 id=minimal-handshake&gt;&lt;span class=secno&gt;7.3.5.3.1 &lt;/span&gt;Minimal handshake&lt;/h6&gt;
+  &lt;h6 id=minimal-handshake&gt;&lt;span class=secno&gt;7.3.4.3.1 &lt;/span&gt;Minimal handshake&lt;/h6&gt;
 
   &lt;p class=note&gt;This section describes the minimal requirements for
   a server-side implementation of Web Sockets.&lt;/p&gt;
@@ -46977,7 +46946,7 @@
   &lt;p&gt;If the connection isn't dropped at this point, go to the &lt;a href=#ws-sd-framing&gt;data framing&lt;/a&gt; section.&lt;/p&gt;
 
 
-  &lt;h6 id=handshake-details&gt;&lt;span class=secno&gt;7.3.5.3.2 &lt;/span&gt;Handshake details&lt;/h6&gt;
+  &lt;h6 id=handshake-details&gt;&lt;span class=secno&gt;7.3.4.3.2 &lt;/span&gt;Handshake details&lt;/h6&gt;
 
   &lt;p&gt;The previous section ignores the data that is transmitted by the
   client during the handshake.&lt;/p&gt;
@@ -47040,7 +47009,7 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;h6 id=ws-sd-framing&gt;&lt;span class=secno&gt;7.3.5.3.3 &lt;/span&gt;Data framing&lt;/h6&gt;
+  &lt;/dl&gt;&lt;h6 id=ws-sd-framing&gt;&lt;span class=secno&gt;7.3.4.3.3 &lt;/span&gt;Data framing&lt;/h6&gt;
 
   &lt;p class=note&gt;This section only describes how to handle content
   that this specification allows user agents to send (text). It
@@ -47081,7 +47050,7 @@
    &lt;li&gt;&lt;p&gt;Send a 0xff byte to the client to indicate the end of the
    message.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=closing-the-connection&gt;&lt;span class=secno&gt;7.3.5.4 &lt;/span&gt;Closing the connection&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=closing-the-connection&gt;&lt;span class=secno&gt;7.3.4.4 &lt;/span&gt;Closing the connection&lt;/h5&gt;
 
   &lt;p&gt;To &lt;dfn id=close-the-web-socket-connection&gt;close the Web Socket connection&lt;/dfn&gt;, either the user
   agent or the server closes the TCP/IP connection. There is no
@@ -47096,12 +47065,12 @@
   connection&lt;/a&gt; arbitrarily.&lt;/p&gt;
 
 
-  &lt;h5 id=security-considerations&gt;&lt;span class=secno&gt;7.3.5.5 &lt;/span&gt;Security considerations&lt;/h5&gt;
+  &lt;h5 id=security-considerations&gt;&lt;span class=secno&gt;7.3.4.5 &lt;/span&gt;Security considerations&lt;/h5&gt;
 
   &lt;p class=XXX&gt;...&lt;/p&gt;
 
 
-  &lt;h5 id=iana-considerations&gt;&lt;span class=secno&gt;7.3.5.6 &lt;/span&gt;IANA considerations&lt;/h5&gt;
+  &lt;h5 id=iana-considerations&gt;&lt;span class=secno&gt;7.3.4.6 &lt;/span&gt;IANA considerations&lt;/h5&gt;
 
   &lt;p class=XXX&gt;...(two URI schemes, two ports, HTTP Upgrade keyword)&lt;/p&gt;
 
@@ -47802,11 +47771,11 @@
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=void-elements&gt;Void elements&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code&gt;&lt;a href=#the-base-element&gt;base&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
 
    &lt;dt&gt;CDATA elements&lt;/dt&gt;
 
@@ -49240,24 +49209,24 @@
    &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#datagrid&gt;datagrid&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;dir&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-eventsource-element&gt;eventsource&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;frame&lt;/code&gt;, &lt;code&gt;frameset&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;!-- &lt;code&gt;image&lt;/code&gt;,
-   (commented out because this isn't an element that can end up on the
-   stack, so it doesn't matter) --&gt; &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;isindex&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;listing&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;noembed&lt;/code&gt;,
-   &lt;code&gt;noframes&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;plaintext&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;spacer&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;wbr&lt;/code&gt;.&lt;/dd&gt;
+   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;frame&lt;/code&gt;,
+   &lt;code&gt;frameset&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;!-- &lt;code&gt;image&lt;/code&gt;, (commented out
+   because this isn't an element that can end up on the stack, so it
+   doesn't matter) --&gt; &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;isindex&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-li-element&gt;li&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-link-element&gt;link&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;listing&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;noembed&lt;/code&gt;, &lt;code&gt;noframes&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-noscript-element&gt;noscript&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-param-element&gt;param&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;plaintext&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;spacer&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-style-element&gt;style&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-title-element&gt;title&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;, and
+   &lt;code&gt;wbr&lt;/code&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn id=scoping&gt;Scoping&lt;/dfn&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;p&gt;The following HTML elements introduce new &lt;a href=#has-an-element-in-scope title=&quot;has
@@ -51406,7 +51375,7 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;command&quot;,
-   &quot;eventsource&quot;, &quot;link&quot;&lt;/dt&gt;
+   &quot;link&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token. Immediately
@@ -51726,8 +51695,7 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;command&quot;,
-   &quot;eventsource&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
-   &quot;title&quot;&lt;/dt&gt;
+   &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
     mode&lt;/a&gt;.&lt;/p&gt;
@@ -52803,11 +52771,11 @@
    &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;head&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
    &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
    &lt;!--&lt;dt&gt;An end tag whose tag name is one of: &quot;area&quot;, &quot;base&quot;,
-   &quot;basefont&quot;, &quot;bgsound&quot;, &quot;command&quot;, &quot;embed&quot;, &quot;eventsource&quot;, &quot;hr&quot;,
-   &quot;iframe&quot;, &quot;image&quot;, &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;link&quot;, &quot;meta&quot;,
-   &quot;noembed&quot;, &quot;noframes&quot;, &quot;param&quot;, &quot;script&quot;, &quot;select&quot;, &quot;source&quot;,
-   &quot;spacer&quot;, &quot;style&quot;, &quot;table&quot;, &quot;textarea&quot;, &quot;title&quot;, &quot;wbr&quot;&lt;/dt&gt;--&gt; &lt;!--
-   add keygen if we add the start tag --&gt;
+   &quot;basefont&quot;, &quot;bgsound&quot;, &quot;command&quot;, &quot;embed&quot;, &quot;hr&quot;, &quot;iframe&quot;, &quot;image&quot;,
+   &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noembed&quot;, &quot;noframes&quot;,
+   &quot;param&quot;, &quot;script&quot;, &quot;select&quot;, &quot;source&quot;, &quot;spacer&quot;, &quot;style&quot;, &quot;table&quot;,
+   &quot;textarea&quot;, &quot;title&quot;, &quot;wbr&quot;&lt;/dt&gt;--&gt; &lt;!-- add keygen if we add the
+   start tag --&gt;
    &lt;!--&lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;, if the
    &lt;span&gt;scripting flag&lt;/span&gt; is enabled&lt;/dt&gt;--&gt;
    &lt;dd&gt;
@@ -54513,8 +54481,7 @@
         node at this point.&lt;/p&gt; &lt;!-- also, i guess: image, isindex,
         and keygen, but we don't list those because we don't consider
         those &quot;elements&quot;, more &quot;macros&quot;, and thus we should never
-        serialize them --&gt; &lt;!-- XXX when we get around to it, add
-        eventsource --&gt;
+        serialize them --&gt;
 
         &lt;p&gt;If &lt;var title=&quot;&quot;&gt;current node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
         &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;listing&lt;/code&gt; element, append
@@ -57237,9 +57204,10 @@
   &lt;pre class=css&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
 [hidden], area, audio:not([controls]), base, basefont, command,
-datalist, eventsource, head, input[type=hidden], link,
-menu[type=context], meta, noembed, noframes, param, script, source,
-style, title { display: none; }
+datalist, head, input[type=hidden], link, menu[type=context], meta,
+noembed, noframes, param, script, source, style, title {
+  display: none;
+}
 
 address, article, aside, blockquote, body, center, dd, dialog, dir,
 div, dl, dt, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hr,
@@ -59672,9 +59640,10 @@
   Dutta, Tantek &Ccedil;elik, Terrence Wood, Thomas Broyer, Thomas
   O'Connor, Tim Altman, Tim Johansson, Tommy Thorsen, Travis Leithead,
   Tyler Close, Vladimir Vuki&#263;evi&#263;, Wakaba, Wayne
-  Pollock, Wellington Fernando de Macedo, William Swanson, Wolfram
-  Kriesing, Yi-An Huang, Zhenbin Xu, and &Oslash;istein E. Andersen,
-  for their useful and substantial comments.&lt;/p&gt;
+  Pollock, Wellington Fernando de Macedo, William Swanson, Wladimir
+  Palant, Wolfram Kriesing, Yi-An Huang, Zhenbin Xu, and
+  &Oslash;istein E. Andersen, for their useful and substantial
+  comments.&lt;/p&gt;
 
   &lt;p&gt;Thanks also to everyone who has ever posted about HTML5 to their
   blogs, public mailing lists, or forums, including the &lt;a href=<A HREF="http://lists.w3.org/Archives/Public/public-html/">http://lists.w3.org/Archives/Public/public-html/</A>&gt;W3C

Modified: source
===================================================================
--- source	2009-02-25 23:37:24 UTC (rev 2869)
+++ source	2009-02-26 08:33:42 UTC (rev 2870)
@@ -7156,7 +7156,6 @@
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onkeypress&quot;&gt;onkeypress&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onkeyup&quot;&gt;onkeyup&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onload&quot;&gt;onload&lt;/span&gt;;
-           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onmessage&quot;&gt;onmessage&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onmousedown&quot;&gt;onmousedown&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onmousemove&quot;&gt;onmousemove&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-onmouseout&quot;&gt;onmouseout&lt;/span&gt;;
@@ -7220,7 +7219,6 @@
    &lt;li&gt;&lt;code title=&quot;handler-onkeypress&quot;&gt;onkeypress&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;handler-onkeyup&quot;&gt;onkeyup&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;handler-onload&quot;&gt;onload&lt;/code&gt;*&lt;/li&gt;
-   &lt;li&gt;&lt;code title=&quot;handler-onmessage&quot;&gt;onmessage&lt;/code&gt;*&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;handler-onmousedown&quot;&gt;onmousedown&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;handler-onmousemove&quot;&gt;onmousemove&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code title=&quot;handler-onmouseout&quot;&gt;onmouseout&lt;/code&gt;&lt;/li&gt;
@@ -7232,10 +7230,11 @@
    &lt;li&gt;&lt;code title=&quot;handler-onsubmit&quot;&gt;onsubmit&lt;/code&gt;&lt;/li&gt;
   &lt;/ul&gt;
 
-  &lt;p class=&quot;note&quot;&gt;The attributes marked with an asterisk cannot be
-  specified on &lt;code&gt;body&lt;/code&gt; elements as those elements expose
-  &lt;span&gt;event handler attributes&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt;
-  object with the same names.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;The attribute&lt;!--s--&gt; marked with an asterisk cannot
+  be specified on &lt;code&gt;body&lt;/code&gt; elements as those elements expose
+  &lt;!----&gt;an&lt;!----&gt; &lt;span title=&quot;event handler attributes&quot;&gt;event
+  handler attribute&lt;!--s--&gt;&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object
+  with the same name&lt;!--s--&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -11290,121 +11289,6 @@
 
 
 
-  &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;eventsource&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
-
-  &lt;dl class=&quot;element&quot;&gt;
-   &lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Metadata content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Phrasing content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;metadata content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dd&gt;Where &lt;span&gt;phrasing content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;Empty.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLEventSourceElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-           attribute DOMString &lt;span title=&quot;dom-eventsource-src&quot;&gt;src&lt;/span&gt;;
-};&lt;/pre&gt;
-   &lt;/dd&gt;
-  &lt;/dl&gt;
-
-  &lt;p&gt;The &lt;code&gt;eventsource&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; a
-  target for events generated by a remote server.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;attr-eventsource-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if specified, must give a &lt;span&gt;valid URL&lt;/span&gt;
-  identifying a resource that uses the &lt;code&gt;text/event-stream&lt;/code&gt;
-  format.&lt;/p&gt;
-
-  &lt;p&gt;When an &lt;code&gt;eventsource&lt;/code&gt; element with a &lt;code
-  title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt; attribute specified is &lt;span
-  title=&quot;insert an element into a document&quot;&gt;inserted into the
-  document&lt;/span&gt;, and when an &lt;code&gt;eventsource&lt;/code&gt; element that
-  is already in the document&lt;!--XXX xref--&gt; has a &lt;code
-  title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt; attribute added, the user
-  agent must run the &lt;span&gt;add declared event source&lt;/span&gt;
-  algorithm.&lt;/p&gt;
-
-  &lt;p&gt;While an &lt;code&gt;eventsource&lt;/code&gt; element is in a document&lt;!--
-  XXX xref --&gt;, if its &lt;code title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt;
-  attribute is mutated, the user agent must must run the &lt;span&gt;remove
-  declared event source&lt;/span&gt; algorithm followed by the &lt;span&gt;add
-  declared event source&lt;/span&gt; algorithm.&lt;/p&gt;
-
-  &lt;p&gt;When an &lt;code&gt;eventsource&lt;/code&gt; element with a &lt;code
-  title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt; attribute specified is
-  removed from a document&lt;!-- XXX xref --&gt;, and when an
-  &lt;code&gt;eventsource&lt;/code&gt; element that is in a document&lt;!--XXX
-  xref--&gt; with a &lt;code title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt;
-  attribute specified has its &lt;code
-  title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt; attribute removed, the user
-  agent must run the &lt;span&gt;remove declared event source&lt;/span&gt;
-  algorithm.&lt;/p&gt;
-
-  &lt;!-- changing the base URL doesn't trigger these algorithms --&gt;
-
-  &lt;p&gt;When it is created, an &lt;code&gt;eventsource&lt;/code&gt; element must
-  have its &lt;i&gt;current declared event source&lt;/i&gt; set to
-  &quot;undefined&quot;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;add declared event source&lt;/dfn&gt; algorithm is as
-  follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt;
-   specified by the &lt;code&gt;eventsource&lt;/code&gt; element's &lt;code
-   title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt; attribute, relative to the
-   element.&lt;/li&gt;
-
-   &lt;li&gt;If that fails, then set the element's &lt;i&gt;current declared event
-   source&lt;/i&gt; to &quot;undefined&quot; and abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, add the resulting &lt;span&gt;absolute URL&lt;/span&gt; to the
-   &lt;span title=&quot;concept-eventsource-list&quot;&gt;list of event sources&lt;/span&gt;
-   for the element.&lt;/li&gt;
-
-   &lt;li&gt;Let the element's &lt;i&gt;current declared event source&lt;/i&gt; be that
-   &lt;span&gt;absolute URL&lt;/span&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;remove declared event source&lt;/dfn&gt; algorithm is as
-  follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;If the element's &lt;i&gt;current declared event source&lt;/i&gt; is
-   &quot;undefined&quot;, abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;Otherwise, remove the element's &lt;i&gt;current declared event
-   source&lt;/i&gt; from the &lt;span title=&quot;concept-eventsource-list&quot;&gt;list of
-   event sources&lt;/span&gt; for the element.&lt;/li&gt;
-
-   &lt;li&gt;Let the element's &lt;i&gt;current declared event source&lt;/i&gt; be
-   &quot;undefined&quot;.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;There can be more than one &lt;code&gt;eventsource&lt;/code&gt; element per
-  document, but authors should take care to avoid opening multiple
-  connections to the same server as HTTP recommends a limit to the
-  number of simultaneous connections that a user agent can open per
-  server.&lt;/p&gt;
-
-  &lt;!-- v2: make 'load', 'error', 'abort' events fire on this element --&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-eventsource-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-
-
   &lt;h3&gt;Sections&lt;/h3&gt;
 
   &lt;p id=&quot;applyToSection&quot;&gt;Some elements, for example
@@ -11475,27 +11359,25 @@
   attributes&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object. It also mirrors
   their &lt;span&gt;event handler DOM attributes&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; and &lt;code
-  title=&quot;handler-window-onmessage&quot;&gt;onmessage&lt;/code&gt; &lt;span&gt;event
-  handler attributes&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object, exposed
-  on the &lt;code&gt;body&lt;/code&gt; element, shadow the generic &lt;code
-  title=&quot;handler-onerror&quot;&gt;onerror&lt;/code&gt; and &lt;code
-  title=&quot;handler-onmessage&quot;&gt;onmessage&lt;/code&gt; &lt;span&gt;event handler
-  attributes&lt;/span&gt; normally supported by &lt;span&gt;HTML
-  elements&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span
+  title=&quot;event handler attributes&quot;&gt;event handler
+  attribute&lt;!--s--&gt;&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object, exposed
+  on the &lt;code&gt;body&lt;/code&gt; element, shadow&lt;!----&gt;s&lt;!----&gt; the generic
+  &lt;code title=&quot;handler-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span title=&quot;event
+  handler attributes&quot;&gt;event handler attribute&lt;!--s--&gt;&lt;/span&gt; normally
+  supported by &lt;span&gt;HTML elements&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;Thus, for example, a bubbling &lt;code
-  title=&quot;event-message&quot;&gt;message&lt;/code&gt; event fired on a child of
-  &lt;span&gt;the body element&lt;/span&gt; of a &lt;code&gt;Document&lt;/code&gt; would first
-  trigger the &lt;code title=&quot;handler-onmessage&quot;&gt;onmessage&lt;/code&gt;
-  &lt;span&gt;event handler content attributes&lt;/span&gt; of that element, then
-  that of the root &lt;code&gt;html&lt;/code&gt; element, and only &lt;em&gt;then&lt;/em&gt;
-  would it trigger the &lt;code
-  title=&quot;handler-window-onmessage&quot;&gt;onmessage&lt;/code&gt; &lt;span title=&quot;event
-  handler content attributes&quot;&gt;event handler content attribute&lt;/span&gt;
-  on the &lt;code&gt;body&lt;/code&gt; element. This is because the event would
-  bubble from the target, to the &lt;code&gt;body&lt;/code&gt;, to the
-  &lt;code&gt;html&lt;/code&gt;, to the &lt;code&gt;Document&lt;/code&gt;, to the
+  title=&quot;event-error&quot;&gt;error&lt;/code&gt; event fired on a child of &lt;span&gt;the
+  body element&lt;/span&gt; of a &lt;code&gt;Document&lt;/code&gt; would first trigger
+  the &lt;code title=&quot;handler-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span&gt;event handler
+  content attributes&lt;/span&gt; of that element, then that of the root
+  &lt;code&gt;html&lt;/code&gt; element, and only &lt;em&gt;then&lt;/em&gt; would it trigger
+  the &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span
+  title=&quot;event handler content attributes&quot;&gt;event handler content
+  attribute&lt;/span&gt; on the &lt;code&gt;body&lt;/code&gt; element. This is because
+  the event would bubble from the target, to the &lt;code&gt;body&lt;/code&gt;, to
+  the &lt;code&gt;html&lt;/code&gt;, to the &lt;code&gt;Document&lt;/code&gt;, to the
   &lt;code&gt;Window&lt;/code&gt;, and the event handler attribute on the
   &lt;code&gt;body&lt;/code&gt; is watching the &lt;code&gt;Window&lt;/code&gt; not the
   &lt;code&gt;body&lt;/code&gt;. A regular event listener attached to the
@@ -25081,7 +24963,8 @@
 
   &lt;h4&gt;&lt;dfn&gt;Dimension attributes&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;attr-dim-width&quot;&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
+  &lt;p&gt;&lt;strong&gt;Author requirements:&lt;/strong&gt; The &lt;dfn
+  title=&quot;attr-dim-width&quot;&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
   title=&quot;attr-dim-height&quot;&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt; attributes on
   &lt;code&gt;img&lt;/code&gt;, &lt;code&gt;iframe&lt;/code&gt;, &lt;code&gt;embed&lt;/code&gt;,
   &lt;code&gt;object&lt;/code&gt;, &lt;code&gt;video&lt;/code&gt;, and, when their &lt;code
@@ -25126,8 +25009,9 @@
   &lt;p class=&quot;note&quot;&gt;Basically, the dimension attributes can't be used to
   stretch the image.&lt;/p&gt;
 
-  &lt;p&gt;User agents are expected to use these attributes &lt;a
-  href=&quot;#dimRendering&quot;&gt;as hints for the rendering&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;&lt;strong&gt;User agent requirements:&lt;/strong&gt; User agents are
+  expected to use these attributes &lt;a href=&quot;#dimRendering&quot;&gt;as hints
+  for the rendering&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-dim-width&quot;&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
   title=&quot;dom-dim-height&quot;&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt; DOM attributes on
@@ -41749,12 +41633,6 @@
    title=&quot;event-load&quot;&gt;load&lt;/code&gt; event is targeted at or bubbles
    through the element.&lt;/p&gt;&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;handler-onmessage&quot;&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt; &lt;!-- new for &lt;eventsource&gt; --&gt;
-
-   &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code
-   title=&quot;event-message&quot;&gt;message&lt;/code&gt; event is targeted at or bubbles
-   through the element.&lt;/p&gt;&lt;/dd&gt;
-
   &lt;/dl&gt;
 
   &lt;hr&gt;
@@ -52201,186 +52079,227 @@
   attribute must be null.&lt;/p&gt;
 
 
+
   &lt;h3 id=&quot;server-sent-events&quot;&gt;&lt;dfn&gt;Server-sent events&lt;/dfn&gt;&lt;/h3&gt;
   &lt;!-- eventsource --&gt;
 
-  &lt;p&gt;This section describes a mechanism for allowing servers to
-  dispatch DOM events into documents that expect it. The
-  &lt;code&gt;eventsource&lt;/code&gt; element provides a simple interface to
-  this mechanism.&lt;/p&gt;
+  &lt;h4 id=&quot;server-sent-events-intro&quot;&gt;Introduction&lt;/h4&gt;
 
+  &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;&lt;/p&gt;
 
+  &lt;p&gt;To enable servers to push data to Web pages over HTTP or using
+  dedicated server-push protocols, this specification introduces the
+  &lt;code&gt;EventSource&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;h4&gt;The &lt;code&gt;RemoteEventTarget&lt;/code&gt; interface&lt;/h4&gt;
+  &lt;p class=&quot;XXX&quot;&gt;An introduction to the client-side and
+  server-side of using the direct connection APIs.&lt;/p&gt;
 
-  &lt;p&gt;Any object that implements the &lt;code&gt;EventTarget&lt;/code&gt; interface
-  must also implement the &lt;code&gt;RemoteEventTarget&lt;/code&gt;
-  interface.&lt;/p&gt;
+  &lt;!--BOILERPLATE--&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject, ImplementedOn=&lt;span&gt;EventTarget&lt;/span&gt;] interface &lt;dfn&gt;RemoteEventTarget&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-RemoteEventTarget-addEventSource&quot;&gt;addEventSource&lt;/span&gt;(in DOMString src);
-  void &lt;span title=&quot;dom-RemoteEventTarget-removeEventSource&quot;&gt;removeEventSource&lt;/span&gt;(in DOMString src);
+  &lt;h4&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/h4&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-EventSource&quot;&gt;Constructor&lt;/span&gt;(in DOMString url)]
+interface &lt;dfn&gt;EventSource&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-EventSource-URL&quot;&gt;URL&lt;/span&gt;;
+
+  // ready state
+  const unsigned short &lt;span title=&quot;dom-EventSource-CONNECTING&quot;&gt;CONNECTING&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-EventSource-OPEN&quot;&gt;OPEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-EventSource-CLOSED&quot;&gt;CLOSED&lt;/span&gt; = 2;
+  readonly attribute long &lt;span title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/span&gt;;
+
+  // networking
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-EventSource-onopen&quot;&gt;onopen&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-EventSource-onmessage&quot;&gt;onmessage&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-EventSource-onerror&quot;&gt;onerror&lt;/span&gt;;
+  void &lt;span title=&quot;dom-EventSource-disconnect&quot;&gt;disconnect&lt;/span&gt;();
 };&lt;/pre&gt;
 
-  &lt;p&gt;When the &lt;dfn
-  title=&quot;dom-RemoteEventTarget-addEventSource&quot;&gt;&lt;code&gt;addEventSource(&lt;var
-  title=&quot;&quot;&gt;src&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
-  must &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt;
-  specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to the &lt;span&gt;first
-  script&lt;/span&gt;'s &lt;span title=&quot;script's base URL&quot;&gt;base URL&lt;/span&gt;, and
-  if that succeeds, add the resulting &lt;span&gt;absolute URL&lt;/span&gt; to the
-  &lt;span title=&quot;concept-eventsource-list&quot;&gt;list of event sources&lt;/span&gt;
-  for that object. The same URL can be registered multiple times. If
-  the URL fails to resolve, then the user agent must raise a
-  &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;p&gt;&lt;code&gt;EventSource&lt;/code&gt; objects must also implement the
+  &lt;code&gt;EventTarget&lt;/code&gt; interface. &lt;a
+  href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;dfn
-  title=&quot;dom-RemoteEventTarget-removeEventSource&quot;&gt;&lt;code&gt;removeEventSource(&lt;var
-  title=&quot;&quot;&gt;src&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the user agent
-  must &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt;
-  specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to the &lt;span&gt;first
-  script&lt;/span&gt;'s &lt;span title=&quot;script's base URL&quot;&gt;base URL&lt;/span&gt;, and
-  if that succeeds, remove the resulting &lt;span&gt;absolute URL&lt;/span&gt;
-  from the &lt;span title=&quot;concept-eventsource-list&quot;&gt;list of event
-  sources&lt;/span&gt; for that object. If the same URL has been registered
-  multiple times, removing it must remove only one instance of that
-  URL for each invocation of the &lt;code
-  title=&quot;removeEventSource&quot;&gt;removeEventSource()&lt;/code&gt; method. If the
-  URL fails to resolve, the user agent does nothing.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-EventSource&quot;&gt;&lt;code&gt;EventSource(&lt;var
+  title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor takes one argument,
+  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, which specifies the &lt;span&gt;URL&lt;/span&gt; to
+  which to connect. When the &lt;code&gt;EventSource()&lt;/code&gt; constructor is
+  invoked, the UA must run these steps:&lt;/p&gt;
 
+  &lt;ol&gt;
 
-  &lt;h4&gt;Connecting to an event stream&lt;/h4&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; the
+   &lt;span&gt;URL&lt;/span&gt; specified in &lt;var title=&quot;&quot;&gt;src&lt;/var&gt;, relative to
+   the &lt;span&gt;first script&lt;/span&gt;'s &lt;span title=&quot;script's base
+   URL&quot;&gt;base URL&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;Each object implementing the &lt;code&gt;EventTarget&lt;/code&gt; and
-  &lt;code&gt;RemoteEventTarget&lt;/code&gt; interfaces has a &lt;dfn
-  title=&quot;concept-eventsource-list&quot;&gt;list of event sources&lt;/dfn&gt; that
-  are registered for that object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the previous step failed, then throw a
+   &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;When a new &lt;span&gt;absolute URL&lt;/span&gt; is added to this list, the
-  user agent should &lt;span&gt;queue a task&lt;/span&gt; to run the following
-  steps with the new &lt;span&gt;absolute URL&lt;/span&gt;:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Return a new &lt;code&gt;EventSource&lt;/code&gt; object, and continue
+   these steps in the background (without blocking scripts).&lt;/p&gt;&lt;/li&gt;
 
-  &lt;ol&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fetch&lt;/span&gt; the resource identified by the resulting
+   &lt;span&gt;absolute URL&lt;/span&gt;, as described below.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the entry for the new &lt;span&gt;absolute URL&lt;/span&gt; has been
-   removed from the list, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+  &lt;/ol&gt;
 
-   &lt;li&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-EventSource-URL&quot;&gt;&lt;code&gt;URL&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value that was passed to the
+  constructor.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span&gt;Fetch&lt;/span&gt; the resource identified by that
-    &lt;span&gt;absolute URL&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-EventSource-readyState&quot;&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute represents the state of the connection. It can have the
+  following values:&lt;/p&gt;
 
-    &lt;p&gt;As data is received, the &lt;span
-    title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; queued by the &lt;span&gt;networking
-    task source&lt;/span&gt; to handle the data must consist of following
-    the rules given in the following sections.&lt;/p&gt;
+  &lt;dl&gt;
 
-   &lt;/li&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-EventSource-CONNECTING&quot;&gt;&lt;code&gt;CONNECTING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-  &lt;/ol&gt;
+   &lt;dd&gt;The connection has not yet been established, or it was closed
+   and the user agent is reconnecting.&lt;/dd&gt;
 
-  &lt;p&gt;When an event source is removed from the list of event sources
-  for an object, if that resource is still being fetched, then the
-  relevant connection must be closed.&lt;/p&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-EventSource-OPEN&quot;&gt;&lt;code&gt;OPEN&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-  &lt;p&gt;Since connections established to remote servers for such
-  resources are expected to be long-lived, UAs should ensure that
-  appropriate buffering is used. In particular, while line buffering
-  may be safe if lines are defined to end with a single U+000A LINE
-  FEED character, block buffering or line buffering with different
-  expected line endings can cause delays in event dispatch.&lt;/p&gt;
+   &lt;dd&gt;The user agent has an open connection and is dispatching events
+   as it receives them.&lt;/dd&gt;
 
-  &lt;p&gt;Each event source in the list must have associated with it the
-  following:&lt;/p&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-EventSource-CLOSED&quot;&gt;&lt;code&gt;CLOSED&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
+   &lt;dd&gt;The connection is not open, and the user agent is not trying to
+   reconnect. Either there was a fatal error or the &lt;code
+   title=&quot;dom-EventSource-disconnect&quot;&gt;disconnect()&lt;/code&gt; method was
+   invoked.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;p&gt;When the object is created its &lt;code
+  title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/code&gt; must be set to
+  &lt;code title=&quot;dom-EventSource-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt; (0). The
+  rules given below for handling the connection define when the value
+  changes.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-EventSource-disconnect&quot;&gt;&lt;code&gt;disconnect()&lt;/code&gt;&lt;/dfn&gt;
+  method must close the connection, if any, and must set the &lt;code
+  title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/code&gt; attribute to
+  &lt;code title=&quot;dom-EventSource-CLOSED&quot;&gt;CLOSED&lt;/code&gt;. If the
+  connection is already closed, the method must do nothing.&lt;/p&gt;
+
+  &lt;p&gt;The following are the &lt;span&gt;event handler attributes&lt;/span&gt; that
+  must be supported, as DOM attributes, by all objects implementing
+  the &lt;code&gt;EventSource&lt;/code&gt; interface:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;handler-EventSource-onopen&quot;&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code
+   title=&quot;event-open&quot;&gt;open&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;handler-EventSource-onmessage&quot;&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever a &lt;code
+   title=&quot;event-message&quot;&gt;message&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;handler-EventSource-onerror&quot;&gt;&lt;code&gt;onerror&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code
+   title=&quot;event-error&quot;&gt;error&lt;/code&gt; event is targeted at or
+   bubbles through the &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;In addition to the above, each &lt;code&gt;EventSource&lt;/code&gt; object
+  has the following associated with it:&lt;/p&gt;
+
   &lt;ul&gt;
 
-   &lt;li&gt;The &lt;dfn
+   &lt;li&gt;A &lt;dfn
    title=&quot;concept-event-stream-reconnection-time&quot;&gt;reconnection
    time&lt;/dfn&gt;, in milliseconds. This must initially be a
    user-agent-defined value, probably in the region of a few
    seconds.&lt;/li&gt;
 
-   &lt;li&gt;The &lt;dfn title=&quot;concept-event-stream-last-event-id&quot;&gt;last event
+   &lt;li&gt;A &lt;dfn title=&quot;concept-event-stream-last-event-id&quot;&gt;last event
    ID string&lt;/dfn&gt;. This must initially be the empty string.&lt;/li&gt;
 
   &lt;/ul&gt;
 
-  &lt;p&gt;In general, the semantics of the transport protocol specified by
-  the URLs for the event sources must be followed, including HTTP
-  caching rules.&lt;/p&gt;
+  &lt;p&gt;These values are not currently exposed on the interface.&lt;/p&gt;
 
+
+  &lt;h4&gt;Processing model&lt;/h4&gt;
+
+  &lt;p&gt;The resource indicated in the argument to the &lt;code
+  title=&quot;dom-EventSource&quot;&gt;EventSource&lt;/code&gt; constructor is &lt;span
+  title=&quot;fetch&quot;&gt;fetched&lt;/span&gt; when the constructor is run.&lt;/p&gt;
+
   &lt;p&gt;For HTTP connections, the &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; header may
   be included; if included, it must contain only formats of event
   framing that are supported by the user agent (one of which must be
   &lt;code&gt;text/event-stream&lt;/code&gt;, as described below).&lt;/p&gt;
 
-  &lt;p&gt;Other formats of event framing may also be supported in addition
-  to &lt;code&gt;text/event-stream&lt;/code&gt;, but this specification does not
-  define how they are to be parsed or processed.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;Such formats could include systems like SMS-push;
-  for example servers could use &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; headers
-  and HTTP redirects to an SMS-push mechanism as a kind of protocol
-  negotiation to reduce network load in GSM environments.&lt;/p&gt;
-
-  &lt;p&gt;User agents should use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt;
-  header in requests to bypass any caches for requests of event
-  sources.&lt;/p&gt;
-
   &lt;p&gt;If the event source's last event ID string is not the empty
   string, then a &lt;code title=&quot;&quot;&gt;Last-Event-ID&lt;/code&gt; HTTP header must
   be included with the request, whose value is the value of the event
   source's last event ID string.&lt;/p&gt;
 
+  &lt;p&gt;User agents should use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt;
+  header in requests to bypass any caches for requests of event
+  sources. User agents should ignore HTTP cache headers in the
+  response, never caching event sources.&lt;/p&gt;
+
   &lt;p class=&quot;XXX&quot;&gt;Cross-origin loads are expected to follow the
   Access-Control semantics of CORS; without this header, they are
   expected to fail as if the site was down.&lt;/p&gt;
 
+  &lt;hr&gt;
+
+  &lt;p&gt;As data is received, the &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt;
+  queued by the &lt;span&gt;networking task source&lt;/span&gt; to handle the data
+  must act as follows.&lt;/p&gt;
+
   &lt;p&gt;HTTP 200 OK responses with a &lt;span&gt;Content-Type&lt;/span&gt; header
   specifying the type &lt;code&gt;text/event-stream&lt;/code&gt; must be processed
   line by line &lt;a href=&quot;#event-stream-interpretation&quot;&gt;as described
   below&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;For the purposes of such successfully opened event streams only,
-  user agents should ignore HTTP cache headers, and instead assume
-  that the resource indicates that it does not wish to be cached.&lt;/p&gt;
+  &lt;p&gt;When a successful response with a supported MIME type is
+  received, such that the user agent begins parsing the contents of
+  the stream, the user agent must &lt;span&gt;announce the
+  connection&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;If such a resource (with the correct MIME type) completes loading
   (i.e. the entire HTTP response body is received or the connection
-  itself closes), the user agent should request the event source
-  resource again after a delay equal to the reconnection time of the
-  event source. This doesn't apply for the error cases that are listed
-  below.&lt;/p&gt;
+  itself closes), the user agent must &lt;span&gt;reset the
+  connection&lt;/span&gt;. This doesn't apply for the error cases that are
+  listed below.&lt;/p&gt;
 
   &lt;p&gt;HTTP 200 OK responses that have a &lt;span&gt;Content-Type&lt;/span&gt; other
   than &lt;code&gt;text/event-stream&lt;/code&gt; (or some other supported type)
-  must be ignored.&lt;/p&gt;
+  must cause the user agent to &lt;span&gt;fail the connection&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 204 No Content, and 205 Reset Content responses must be
-  treated as if they were 200 OK responses with the right MIME type
-  but no content, and should therefore cause the user agent to refetch
-  the resource after a delay equal to the reconnection time of the
-  event source.&lt;/p&gt;
+  &lt;p&gt;HTTP 204 No Content, and 205 Reset Content responses are
+  equivalent to 200 OK responses with the right MIME type but no
+  content, and thus must &lt;span&gt;reset the connection&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;Other HTTP response codes in the 2xx range &lt;!--201 Created, 202
   Accepted, 203 Non-Authoritative Information, and 206 Partial
-  Content--&gt;must be treated like HTTP 200 OK responses for the
-  purposes of reopening event source resources. They are, however,
-  likely to indicate an error has occurred somewhere and may cause the
-  user agent to emit a warning.&lt;/p&gt;
+  Content--&gt;must similarly &lt;span&gt;reset the connection&lt;/span&gt;. They
+  are, however, likely to indicate an error has occurred somewhere and
+  may cause the user agent to emit a warning.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 300 Multiple Choices responses should be handled
-  automatically if possible (treating the responses as if they were
-  302 Found responses pointing to the appropriate resource), and
-  otherwise must be treated as HTTP 404 responses.&lt;/p&gt;
-
   &lt;p&gt;HTTP 301 Moved Permanently responses must cause the user agent to
   reconnect using the new server specified URL instead of the
   previously specified URL for all subsequent requests for this event
-  source. (It doesn't affect other event sources with the same URL
-  unless they also receive 301 responses, and it doesn't affect future
-  sessions, e.g. if the page is reloaded.)&lt;/p&gt;
+  source. (It doesn't affect other &lt;code&gt;EventSource&lt;/code&gt; objects
+  with the same URL unless they also receive 301 responses, and it
+  doesn't affect future sessions, e.g. if the page is reloaded.)&lt;/p&gt;
 
   &lt;p&gt;HTTP 302 Found, 303 See Other, and 307 Temporary Redirect
   responses must cause the user agent to connect to the new
@@ -52388,33 +52307,62 @@
   the resource at a later point, it must return to the previously
   specified URL for this event source.&lt;/p&gt;
 
-  &lt;p&gt;HTTP 304 Not Modified responses should be handled like HTTP 200
-  OK responses, with the content coming from the user agent cache. A
-  new request should then be made after a delay equal to the
-  reconnection time of the event source.&lt;/p&gt;
-
   &lt;p&gt;HTTP 305 Use Proxy, HTTP 401 Unauthorized, and 407 Proxy
   Authentication Required should be treated transparently as for any
   other subresource.&lt;/p&gt;
 
   &lt;p&gt;Any other HTTP response code not listed here or network error
-  (e.g. DNS errors) must be ignored.&lt;/p&gt; &lt;!-- including: HTTP 400 Bad
-  Request, 403 Forbidden, 404 Not Found, 405 Method Not Allowed, 406
-  Not Acceptable, 408 Request Timeout, 409 Conflict, 410 Gone, 411
-  Length Required, 412 Precondition Failed, 413 Request Entity Too
-  Large, 414 Request-URI Too Long, 415 Unsupported Media Type, 416
-  Requested Range Not Satisfiable, 417 Expectation Failed, 500
-  Internal Server Error, 501 Not Implemented, 502 Bad Gateway, 503
-  Service Unavailable, 504 Gateway Timeout, and 505 HTTP Version Not
-  Supported responses --&gt;
+  (e.g. DNS errors) must cause the user agent to &lt;span&gt;fail the
+  connection&lt;/span&gt;.&lt;/p&gt; &lt;!-- including: HTTP 300 Multiple Choices,
+  HTTP 304 Not Modified, HTTP 400 Bad Request, 403 Forbidden, 404 Not
+  Found, 405 Method Not Allowed, 406 Not Acceptable, 408 Request
+  Timeout, 409 Conflict, 410 Gone, 411 Length Required, 412
+  Precondition Failed, 413 Request Entity Too Large, 414 Request-URI
+  Too Long, 415 Unsupported Media Type, 416 Requested Range Not
+  Satisfiable, 417 Expectation Failed, 500 Internal Server Error, 501
+  Not Implemented, 502 Bad Gateway, 503 Service Unavailable, 504
+  Gateway Timeout, and 505 HTTP Version Not Supported responses --&gt;
 
   &lt;p&gt;For non-HTTP protocols, UAs should act in equivalent ways.&lt;/p&gt;
 
+  &lt;hr&gt;
 
-  &lt;h4&gt;Parsing an event stream&lt;/h4&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;announce the connection&lt;/dfn&gt;, the
+  user agent must set the &lt;code
+  title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/code&gt; attribute to
+  &lt;code title=&quot;dom-EventSource-OPEN&quot;&gt;OPEN&lt;/code&gt; and &lt;span&gt;queue a
+  task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+  title=&quot;event-open&quot;&gt;open&lt;/code&gt; at the
+  &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;!-- XXX Wladimir Palant pointed out problems with HTTP chunking with server-sent-events --&gt;
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;reset the connection&lt;/dfn&gt;, the user
+  agent must set the &lt;code
+  title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/code&gt; attribute to
+  &lt;code title=&quot;dom-EventSource-CONNECTING&quot;&gt;CONNECTING&lt;/code&gt;,
+  &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named
+  &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the
+  &lt;code&gt;EventSource&lt;/code&gt; object, and then &lt;span&gt;fetch&lt;/span&gt; the
+  event source resource again after a delay equal to the reconnection
+  time of the event source.&lt;/p&gt;
 
+  &lt;p&gt;When a user agent is to &lt;dfn&gt;fail the connection&lt;/dfn&gt;, the user
+  agent must set the &lt;code
+  title=&quot;dom-EventSource-readyState&quot;&gt;readyState&lt;/code&gt; attribute to
+  &lt;code title=&quot;dom-EventSource-CLOSED&quot;&gt;CLOSED&lt;/code&gt; and &lt;span&gt;queue a
+  task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; named &lt;code
+  title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the
+  &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for any &lt;span
+  title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that are &lt;span title=&quot;queue a
+  task&quot;&gt;queued&lt;/span&gt; by &lt;code&gt;EventSource&lt;/code&gt; objects is the
+  &lt;dfn&gt;remote event task source&lt;/dfn&gt;.&lt;/p&gt;
+
+
+  &lt;h4&gt;Parsing an event stream&lt;/h4&gt;
+
   &lt;p&gt;This event stream format's MIME type is
   &lt;code&gt;text/event-stream&lt;/code&gt;.&lt;/p&gt;
 
@@ -52449,6 +52397,12 @@
   LINE FEED (CRLF) character pair, a single U+000A LINE FEED (LF)
   character, or a single U+000D CARRIAGE RETURN (CR) character.&lt;/p&gt;
 
+  &lt;p&gt;Since connections established to remote servers for such
+  resources are expected to be long-lived, UAs should ensure that
+  appropriate buffering is used. In particular, while line buffering
+  with lines are defined to end with a single U+000A LINE FEED
+  character is safe, block buffering or line buffering with different
+  expected line endings can cause delays in event dispatch.&lt;/p&gt;
 
 
   &lt;h4 id=&quot;event-stream-interpretation&quot;&gt;Interpreting an event stream&lt;/h4&gt;
@@ -52618,10 +52572,7 @@
    title=&quot;&quot;&gt;event name&lt;/var&gt; buffer to the empty string.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to dispatch the newly created
-   event at the &lt;code&gt;RemoteEventTarget&lt;/code&gt; object to which the
-   event stream is registered. The &lt;span&gt;task source&lt;/span&gt; for this
-   &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is the &lt;dfn&gt;remote event
-   task source&lt;/dfn&gt;.&lt;/p&gt;&lt;/li&gt;
+   event at the &lt;code&gt;EventSource&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -52636,22 +52587,28 @@
 
    &lt;p&gt;The following event stream, once followed by a blank line:&lt;/p&gt;
    &lt;pre&gt;data: YHOO
-data: -2
+data: +2
 data: 10&lt;/pre&gt;
 
    &lt;p&gt;...would cause an event &lt;code
    title=&quot;event-message&quot;&gt;message&lt;/code&gt; with the interface
    &lt;code&gt;MessageEvent&lt;/code&gt; to be dispatched on the
-   &lt;code&gt;eventsource&lt;/code&gt; element, whose &lt;code
+   &lt;code&gt;EventSource&lt;/code&gt; object. The event's &lt;code
    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute would contain
-   the string &lt;code&gt;YHOO\n-2\n10&lt;/code&gt; (where &lt;code&gt;\n&lt;/code&gt;
+   the string &lt;code&gt;YHOO\n+2\n10&lt;/code&gt; (where &lt;code&gt;\n&lt;/code&gt;
    represents a newline).&lt;/p&gt;
 
    &lt;p&gt;This could be used as follows:
-   &lt;pre&gt;&lt;eventsource src=&quot;<A HREF="http://stocks.example.com/ticker.php">http://stocks.example.com/ticker.php</A>&quot;
-              onmessage=&quot;var data = event.data.split('\n'); updateStocks(data[0], data[1], data[2]);&quot;&gt;&lt;/pre&gt;
+   &lt;pre&gt;var stocks = new EventSource(&quot;<A HREF="http://stocks.example.com/ticker.php">http://stocks.example.com/ticker.php</A>&quot;);
+stocks.onmessage = function (event) {
+  var data = event.data.split('\n');
+  updateStocks(data[0], data[1], data[2]);
+};&lt;/pre&gt;
+
    &lt;p&gt;...where &lt;code title=&quot;&quot;&gt;updateStocks()&lt;/code&gt; is a function defined as:&lt;/p&gt;
+
    &lt;pre&gt;function updateStocks(symbol, delta, value) { ... }&lt;/pre&gt;
+
    &lt;p&gt;...or some such.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -52733,16 +52690,43 @@
   the URL in the &lt;code title=&quot;attr-eventsource-src&quot;&gt;src&lt;/code&gt;
   attribute of the &lt;code&gt;eventsource&lt;/code&gt; element.&lt;/p&gt;
 
+  &lt;p&gt;Authors are also cautioned that HTTP chunking can have unexpected
+  negative effects on the reliability of this protocol. Where
+  possible, chunking should be disabled for serving event streams
+  unless the rate of messages is high enough for this not to
+  matter.&lt;/p&gt; &lt;!-- v2 can we get a better solution? --&gt;
+
   &lt;p&gt;Implementations that support HTTP's per-server connection
   limitation might run into trouble when opening multiple pages from a
-  site if each page has an &lt;code&gt;eventsource&lt;/code&gt; to the same
+  site if each page has an &lt;code&gt;EventSource&lt;/code&gt; to the same
   domain. Authors can avoid this using the relatively complex
   mechanism of using unique domain names per connection, or by
-  allowing the user to enable or disable the &lt;code&gt;eventsource&lt;/code&gt;
+  allowing the user to enable or disable the &lt;code&gt;EventSource&lt;/code&gt;
   functionality on a per-page basis.&lt;/p&gt;
 
+  &lt;hr&gt;
 
+  &lt;p&gt;Other formats of event framing may also be supported in addition
+  to &lt;code&gt;text/event-stream&lt;/code&gt;, but this specification does not
+  define how they are to be parsed or processed.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Such formats could include systems like SMS-push;
+  for example servers could use &lt;code title=&quot;&quot;&gt;Accept&lt;/code&gt; headers
+  and HTTP redirects to an SMS-push mechanism as a kind of protocol
+  negotiation to reduce network load in GSM environments.&lt;/p&gt;
+
+
+  &lt;h4&gt;Garbage collection&lt;/h4&gt;
+
+  &lt;p&gt;An &lt;code&gt;EventSource&lt;/code&gt; object with an open connection must not
+  be garbage collected if there are any event listeners registered for
+  &lt;code title=&quot;event-message&quot;&gt;message&lt;/code&gt; events.&lt;/p&gt;
+
+  &lt;p&gt;If an &lt;code&gt;EventSource&lt;/code&gt; object is garbage collected while
+  its connection is still open, the connection must be closed.&lt;/p&gt;
+
+
+
   &lt;h3 id=&quot;network&quot;&gt;&lt;dfn&gt;Web sockets&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;h4 id=&quot;network-intro&quot;&gt;Introduction&lt;/h4&gt;
@@ -52778,7 +52762,7 @@
   // networking
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onopen&quot;&gt;onopen&lt;/span&gt;;
            attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onmessage&quot;&gt;onmessage&lt;/span&gt;;
-           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onclosed&quot;&gt;onclosed&lt;/span&gt;;
+           attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;handler-WebSocket-onclose&quot;&gt;onclose&lt;/span&gt;;
   void &lt;span title=&quot;dom-WebSocket-postMessage&quot;&gt;postMessage&lt;/span&gt;(in DOMString data);
   void &lt;span title=&quot;dom-WebSocket-disconnect&quot;&gt;disconnect&lt;/span&gt;();
 };&lt;/pre&gt;
@@ -52898,31 +52882,11 @@
   method must &lt;span&gt;close the Web Socket connection&lt;/span&gt; or
   connection attempt, if any. If the connection is already closed, it
   must do nothing. Closing the connection causes a &lt;code
-  title=&quot;event-WebSocket-close&quot;&gt;close&lt;/code&gt; event to be fired and
+  title=&quot;event-close&quot;&gt;close&lt;/code&gt; event to be fired and
   the &lt;code title=&quot;dom-WebSocket-readyState&quot;&gt;readyState&lt;/code&gt;
   attribute's value to change, as &lt;a href=&quot;#closeWebSocket&quot;&gt;described
   below&lt;/a&gt;.&lt;/p&gt;
 
-
-  &lt;h4&gt;WebSocket Events&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;event-WebSocket-open&quot;&gt;&lt;code&gt;open&lt;/code&gt;&lt;/dfn&gt;
-  event is fired when the &lt;span&gt;Web Socket connection is
-  established&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;event-WebSocket-close&quot;&gt;&lt;code&gt;close&lt;/code&gt;&lt;/dfn&gt;
-  event is fired when the connection is closed (whether by the author,
-  calling the &lt;code
-  title=&quot;dom-WebSocket-disconnect&quot;&gt;disconnect()&lt;/code&gt; method, or by
-  the server, or by a network error).&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;No information regarding why the connection was
-  closed is passed to the application in this version of this
-  specification.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;event-message&quot;&gt;message&lt;/code&gt; event is fired
-  when when data is received for a connection.&lt;/p&gt;
-
   &lt;hr&gt;
 
   &lt;p&gt;The following are the &lt;span&gt;event handler attributes&lt;/span&gt; that
@@ -52934,7 +52898,7 @@
    &lt;dt&gt;&lt;dfn title=&quot;handler-WebSocket-onopen&quot;&gt;&lt;code&gt;onopen&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code
-   title=&quot;event-WebSocket-open&quot;&gt;open&lt;/code&gt; event is targeted at or
+   title=&quot;event-open&quot;&gt;open&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;handler-WebSocket-onmessage&quot;&gt;&lt;code&gt;onmessage&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
@@ -52943,10 +52907,10 @@
    title=&quot;event-message&quot;&gt;message&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;handler-WebSocket-onclosed&quot;&gt;&lt;code&gt;onclosed&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;handler-WebSocket-onclose&quot;&gt;&lt;code&gt;onclose&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;Must be invoked whenever an &lt;code
-   title=&quot;event-WebSocket-closed&quot;&gt;closed&lt;/code&gt; event is targeted at or
+   title=&quot;event-close&quot;&gt;close&lt;/code&gt; event is targeted at or
    bubbles through the &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;&lt;/dd&gt;
 
   &lt;/dl&gt;
@@ -52971,7 +52935,7 @@
    &lt;li&gt;
 
     &lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-    named &lt;code title=&quot;event-WebSocket-open&quot;&gt;open&lt;/code&gt; at the
+    named &lt;code title=&quot;event-open&quot;&gt;open&lt;/code&gt; at the
     &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -52997,7 +52961,7 @@
   must be changed to &lt;code title=&quot;dom-WebSocket-CLOSED&quot;&gt;CLOSED&lt;/code&gt;
   (2), and the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire
   a simple event&lt;/span&gt; named &lt;code
-  title=&quot;event-WebSocket-close&quot;&gt;close&lt;/code&gt; at the
+  title=&quot;event-close&quot;&gt;close&lt;/code&gt; at the
   &lt;code&gt;WebSocket&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;hr&gt;
@@ -53008,7 +52972,18 @@
   source&lt;/dfn&gt;.&lt;/p&gt;
 
 
+  &lt;h5&gt;Garbage collection&lt;/h5&gt;
 
+  &lt;p&gt;A &lt;code&gt;WebSocket&lt;/code&gt; object with an open connection must not
+  be garbage collected if there are any event listeners registered for
+  &lt;code title=&quot;event-message&quot;&gt;message&lt;/code&gt; events.&lt;/p&gt;
+
+  &lt;p&gt;If a &lt;code&gt;WebSocket&lt;/code&gt; object is garbage collected while its
+  connection is still open, the user agent must &lt;span&gt;close the Web
+  Socket connection&lt;/span&gt;.&lt;/p&gt;
+
+
+
   &lt;h4 id=&quot;websocket-protocol&quot; title=&quot;This protocol enables two-way
   communication between a user agent running untrusted code running in
   a controlled environment to a remote host that understands the
@@ -54639,11 +54614,11 @@
 
    &lt;dt&gt;&lt;dfn&gt;Void elements&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;code&gt;base&lt;/code&gt;, &lt;code&gt;command&lt;/code&gt;,
-   &lt;code&gt;eventsource&lt;/code&gt;, &lt;code&gt;link&lt;/code&gt;, &lt;code&gt;meta&lt;/code&gt;,
-   &lt;code&gt;hr&lt;/code&gt;, &lt;code&gt;br&lt;/code&gt;, &lt;code&gt;img&lt;/code&gt;,
-   &lt;code&gt;embed&lt;/code&gt;, &lt;code&gt;param&lt;/code&gt;, &lt;code&gt;area&lt;/code&gt;,
-   &lt;code&gt;col&lt;/code&gt;, &lt;code&gt;input&lt;/code&gt;, &lt;code&gt;source&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code&gt;base&lt;/code&gt;, &lt;code&gt;command&lt;/code&gt;, &lt;code&gt;link&lt;/code&gt;,
+   &lt;code&gt;meta&lt;/code&gt;, &lt;code&gt;hr&lt;/code&gt;, &lt;code&gt;br&lt;/code&gt;,
+   &lt;code&gt;img&lt;/code&gt;, &lt;code&gt;embed&lt;/code&gt;, &lt;code&gt;param&lt;/code&gt;,
+   &lt;code&gt;area&lt;/code&gt;, &lt;code&gt;col&lt;/code&gt;, &lt;code&gt;input&lt;/code&gt;,
+   &lt;code&gt;source&lt;/code&gt;&lt;/dd&gt;
 
    &lt;dt&gt;CDATA elements&lt;/dt&gt;
 
@@ -56275,24 +56250,24 @@
    &lt;code&gt;command&lt;/code&gt;, &lt;code&gt;datagrid&lt;/code&gt;, &lt;code&gt;dd&lt;/code&gt;,
    &lt;code&gt;details&lt;/code&gt;, &lt;code&gt;dialog&lt;/code&gt;, &lt;code&gt;dir&lt;/code&gt;,
    &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;dl&lt;/code&gt;, &lt;code&gt;dt&lt;/code&gt;,
-   &lt;code&gt;embed&lt;/code&gt;, &lt;code&gt;eventsource&lt;/code&gt;, &lt;code&gt;fieldset&lt;/code&gt;,
-   &lt;code&gt;figure&lt;/code&gt;, &lt;code&gt;footer&lt;/code&gt;, &lt;code&gt;form&lt;/code&gt;,
-   &lt;code&gt;frame&lt;/code&gt;, &lt;code&gt;frameset&lt;/code&gt;, &lt;code&gt;h1&lt;/code&gt;,
-   &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;,
-   &lt;code&gt;h6&lt;/code&gt;, &lt;code&gt;head&lt;/code&gt;, &lt;code&gt;header&lt;/code&gt;,
-   &lt;code&gt;hr&lt;/code&gt;, &lt;code&gt;iframe&lt;/code&gt;, &lt;!-- &lt;code&gt;image&lt;/code&gt;,
-   (commented out because this isn't an element that can end up on the
-   stack, so it doesn't matter) --&gt; &lt;code&gt;img&lt;/code&gt;,
-   &lt;code&gt;input&lt;/code&gt;, &lt;code&gt;isindex&lt;/code&gt;, &lt;code&gt;li&lt;/code&gt;,
-   &lt;code&gt;link&lt;/code&gt;, &lt;code&gt;listing&lt;/code&gt;, &lt;code&gt;menu&lt;/code&gt;,
-   &lt;code&gt;meta&lt;/code&gt;, &lt;code&gt;nav&lt;/code&gt;, &lt;code&gt;noembed&lt;/code&gt;,
-   &lt;code&gt;noframes&lt;/code&gt;, &lt;code&gt;noscript&lt;/code&gt;, &lt;code&gt;ol&lt;/code&gt;,
-   &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;param&lt;/code&gt;, &lt;code&gt;plaintext&lt;/code&gt;,
-   &lt;code&gt;pre&lt;/code&gt;, &lt;code&gt;script&lt;/code&gt;, &lt;code&gt;section&lt;/code&gt;,
-   &lt;code&gt;select&lt;/code&gt;, &lt;code&gt;spacer&lt;/code&gt;, &lt;code&gt;style&lt;/code&gt;,
-   &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;textarea&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;,
-   &lt;code&gt;thead&lt;/code&gt;, &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;,
-   &lt;code&gt;ul&lt;/code&gt;, and &lt;code&gt;wbr&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
+   &lt;code&gt;embed&lt;/code&gt;, &lt;code&gt;fieldset&lt;/code&gt;, &lt;code&gt;figure&lt;/code&gt;,
+   &lt;code&gt;footer&lt;/code&gt;, &lt;code&gt;form&lt;/code&gt;, &lt;code&gt;frame&lt;/code&gt;,
+   &lt;code&gt;frameset&lt;/code&gt;, &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;,
+   &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;, &lt;code&gt;h6&lt;/code&gt;,
+   &lt;code&gt;head&lt;/code&gt;, &lt;code&gt;header&lt;/code&gt;, &lt;code&gt;hr&lt;/code&gt;,
+   &lt;code&gt;iframe&lt;/code&gt;, &lt;!-- &lt;code&gt;image&lt;/code&gt;, (commented out
+   because this isn't an element that can end up on the stack, so it
+   doesn't matter) --&gt; &lt;code&gt;img&lt;/code&gt;, &lt;code&gt;input&lt;/code&gt;,
+   &lt;code&gt;isindex&lt;/code&gt;, &lt;code&gt;li&lt;/code&gt;, &lt;code&gt;link&lt;/code&gt;,
+   &lt;code&gt;listing&lt;/code&gt;, &lt;code&gt;menu&lt;/code&gt;, &lt;code&gt;meta&lt;/code&gt;,
+   &lt;code&gt;nav&lt;/code&gt;, &lt;code&gt;noembed&lt;/code&gt;, &lt;code&gt;noframes&lt;/code&gt;,
+   &lt;code&gt;noscript&lt;/code&gt;, &lt;code&gt;ol&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;,
+   &lt;code&gt;param&lt;/code&gt;, &lt;code&gt;plaintext&lt;/code&gt;, &lt;code&gt;pre&lt;/code&gt;,
+   &lt;code&gt;script&lt;/code&gt;, &lt;code&gt;section&lt;/code&gt;, &lt;code&gt;select&lt;/code&gt;,
+   &lt;code&gt;spacer&lt;/code&gt;, &lt;code&gt;style&lt;/code&gt;, &lt;code&gt;tbody&lt;/code&gt;,
+   &lt;code&gt;textarea&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;,
+   &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;, &lt;code&gt;ul&lt;/code&gt;, and
+   &lt;code&gt;wbr&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn&gt;Scoping&lt;/dfn&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;p&gt;The following HTML elements introduce new &lt;span title=&quot;has
@@ -58711,7 +58686,7 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;command&quot;,
-   &quot;eventsource&quot;, &quot;link&quot;&lt;/dt&gt;
+   &quot;link&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token. Immediately
@@ -59068,8 +59043,7 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;command&quot;,
-   &quot;eventsource&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
-   &quot;title&quot;&lt;/dt&gt;
+   &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Process the token &lt;span&gt;using the rules for&lt;/span&gt; the &quot;&lt;span
     title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot; &lt;span&gt;insertion
@@ -60221,11 +60195,11 @@
    &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;head&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
    &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
    &lt;!--&lt;dt&gt;An end tag whose tag name is one of: &quot;area&quot;, &quot;base&quot;,
-   &quot;basefont&quot;, &quot;bgsound&quot;, &quot;command&quot;, &quot;embed&quot;, &quot;eventsource&quot;, &quot;hr&quot;,
-   &quot;iframe&quot;, &quot;image&quot;, &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;link&quot;, &quot;meta&quot;,
-   &quot;noembed&quot;, &quot;noframes&quot;, &quot;param&quot;, &quot;script&quot;, &quot;select&quot;, &quot;source&quot;,
-   &quot;spacer&quot;, &quot;style&quot;, &quot;table&quot;, &quot;textarea&quot;, &quot;title&quot;, &quot;wbr&quot;&lt;/dt&gt;--&gt; &lt;!--
-   add keygen if we add the start tag --&gt;
+   &quot;basefont&quot;, &quot;bgsound&quot;, &quot;command&quot;, &quot;embed&quot;, &quot;hr&quot;, &quot;iframe&quot;, &quot;image&quot;,
+   &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noembed&quot;, &quot;noframes&quot;,
+   &quot;param&quot;, &quot;script&quot;, &quot;select&quot;, &quot;source&quot;, &quot;spacer&quot;, &quot;style&quot;, &quot;table&quot;,
+   &quot;textarea&quot;, &quot;title&quot;, &quot;wbr&quot;&lt;/dt&gt;--&gt; &lt;!-- add keygen if we add the
+   start tag --&gt;
    &lt;!--&lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;, if the
    &lt;span&gt;scripting flag&lt;/span&gt; is enabled&lt;/dt&gt;--&gt;
    &lt;dd&gt;
@@ -62096,8 +62070,7 @@
         node at this point.&lt;/p&gt; &lt;!-- also, i guess: image, isindex,
         and keygen, but we don't list those because we don't consider
         those &quot;elements&quot;, more &quot;macros&quot;, and thus we should never
-        serialize them --&gt; &lt;!-- XXX when we get around to it, add
-        eventsource --&gt;
+        serialize them --&gt;
 
         &lt;p&gt;If &lt;var title=&quot;&quot;&gt;current node&lt;/var&gt; is a &lt;code&gt;pre&lt;/code&gt;,
         &lt;code&gt;textarea&lt;/code&gt;, or &lt;code&gt;listing&lt;/code&gt; element, append
@@ -62770,9 +62743,10 @@
   &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
 
 [hidden], area, audio:not([controls]), base, basefont, command,
-datalist, eventsource, head, input[type=hidden], link,
-menu[type=context], meta, noembed, noframes, param, script, source,
-style, title { display: none; }
+datalist, head, input[type=hidden], link, menu[type=context], meta,
+noembed, noframes, param, script, source, style, title {
+  display: none;
+}
 
 address, article, aside, blockquote, body, center, dd, dialog, dir,
 div, dl, dt, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hr,
@@ -65533,9 +65507,10 @@
   Dutta, Tantek &Ccedil;elik, Terrence Wood, Thomas Broyer, Thomas
   O'Connor, Tim Altman, Tim Johansson, Tommy Thorsen, Travis Leithead,
   Tyler Close, Vladimir Vuki&amp;#x0107;evi&amp;#x0107;, Wakaba, Wayne
-  Pollock, Wellington Fernando de Macedo, William Swanson, Wolfram
-  Kriesing, Yi-An Huang, Zhenbin Xu, and &Oslash;istein E. Andersen,
-  for their useful and substantial comments.&lt;/p&gt;
+  Pollock, Wellington Fernando de Macedo, William Swanson, Wladimir
+  Palant, Wolfram Kriesing, Yi-An Huang, Zhenbin Xu, and
+  &Oslash;istein E. Andersen, for their useful and substantial
+  comments.&lt;/p&gt;
 
   &lt;p&gt;Thanks also to everyone who has ever posted about HTML5 to their
   blogs, public mailing lists, or forums, including the &lt;a


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009753.html">[html5] r2869 - [e] (0) Stylistic tweaks;	mention the rendering rules for dim attributes.
</A></li>
	<LI>Next message: <A HREF="009755.html">[html5] r2871 - [e] (0) There were a couple of places where I	forgot that 'load' was also special.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9754">[ date ]</a>
              <a href="thread.html#9754">[ thread ]</a>
              <a href="subject.html#9754">[ subject ]</a>
              <a href="author.html#9754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
