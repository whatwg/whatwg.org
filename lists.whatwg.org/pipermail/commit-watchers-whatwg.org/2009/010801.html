<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r3928 - [gow] (2) Make &lt;canvas&gt; descendants focusable to	enable keyboard accessibility. [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3928%20-%20%5Bgow%5D%20%282%29%20Make%20%3Ccanvas%3E%20descendants%20focusable%20to%0A%09enable%20keyboard%20accessibility.%20%5B...%5D&In-Reply-To=%3C20090921104044.6C48038DE62%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010800.html">
   <LINK REL="Next"  HREF="010802.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r3928 - [gow] (2) Make &lt;canvas&gt; descendants focusable to	enable keyboard accessibility. [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r3928%20-%20%5Bgow%5D%20%282%29%20Make%20%3Ccanvas%3E%20descendants%20focusable%20to%0A%09enable%20keyboard%20accessibility.%20%5B...%5D&In-Reply-To=%3C20090921104044.6C48038DE62%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r3928 - [gow] (2) Make &lt;canvas&gt; descendants focusable to	enable keyboard accessibility. [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Sep 21 03:40:44 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010800.html">[html5] r3927 - [gow] (2) Update the rendering section to handle	media elements' controls='' att [...]
</A></li>
        <LI>Next message: <A HREF="010802.html">[html5] r3929 - [e] (0) xref
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10801">[ date ]</a>
              <a href="thread.html#10801">[ thread ]</a>
              <a href="subject.html#10801">[ subject ]</a>
              <a href="author.html#10801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-09-21 03:40:43 -0700 (Mon, 21 Sep 2009)
New Revision: 3928

Modified:
   index
   source
Log:
[gow] (2) Make &lt;canvas&gt; descendants focusable to enable keyboard accessibility.
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7404">http://www.w3.org/Bugs/Public/show_bug.cgi?id=7404</A>

Modified: index
===================================================================
--- index	2009-09-21 10:22:02 UTC (rev 3927)
+++ index	2009-09-21 10:40:43 UTC (rev 3928)
@@ -23996,7 +23996,7 @@
   Object &lt;a href=#dom-canvas-getcontext title=dom-canvas-getContext&gt;getContext&lt;/a&gt;(in DOMString contextId);
 };&lt;/pre&gt;
    &lt;/dd&gt;
-  &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; a
+  &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element provides scripts with a
   resolution-dependent bitmap canvas, which can be used for rendering
   graphs, game graphics, or other visual images on the fly.&lt;/p&gt;
 
@@ -24017,21 +24017,32 @@
 
   &lt;p&gt;In interactive visual media, if &lt;a href=#concept-n-script title=concept-n-script&gt;scripting is enabled&lt;/a&gt; for the
   &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-  represents an embedded element with a dynamically created image.&lt;/p&gt;
+  &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt; consisting of
+  a dynamically created image.&lt;/p&gt;
 
   &lt;p&gt;In non-interactive, static, visual media, if the
   &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element has been previously painted on (e.g. if
   the page was viewed in an interactive visual medium and is now being
   printed, or if some script that ran during the page layout process
   painted on the element), then the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-  represents &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt; with the current image and
-  size. Otherwise, the element represents its &lt;a href=#fallback-content&gt;fallback
-  content&lt;/a&gt; instead.&lt;/p&gt;
+  &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt; with the
+  current image and size. Otherwise, the element represents its
+  &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt; instead.&lt;/p&gt;
 
   &lt;p&gt;In non-visual media, and in visual media if &lt;a href=#concept-n-noscript title=concept-n-noscript&gt;scripting is disabled&lt;/a&gt; for the
   &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element, the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-  represents its &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt; instead.&lt;/p&gt;
+  &lt;a href=#represents&gt;represents&lt;/a&gt; its &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt;
+  instead.&lt;/p&gt;
 
+  &lt;!-- CANVAS-FOCUS-FALLBACK --&gt;
+  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt;
+  &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;, the user can still focus descendants
+  of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element (in the &lt;a href=#fallback-content&gt;fallback
+  content&lt;/a&gt;). This allows authors to make an interactive canvas
+  keyboard-focusable: authors should have a one-to-one mapping of
+  interactive regions to focusable elements in the &lt;a href=#fallback-content&gt;fallback
+  content&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element has two attributes to control the
   size of the coordinate space: &lt;dfn id=attr-canvas-width title=attr-canvas-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=attr-canvas-height title=attr-canvas-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt;. These
   attributes, when specified, must have values that are &lt;a href=#valid-non-negative-integer title=&quot;valid non-negative integer&quot;&gt;valid non-negative
@@ -56647,10 +56658,24 @@
   to a non-mouse activation (e.g. hitting the &quot;enter&quot; key while the
   element is focused).&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-tabindex title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; content attribute. If the
+  attribute is not present, or parsing its value returns an error,
+  then the IDL attribute must return 0 for elements that are focusable
+  and &minus;1 for elements that are not focusable.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=impl&gt;
+
+  &lt;h4 id=focus-management&gt;&lt;span class=secno&gt;7.4.2 &lt;/span&gt;Focus management&lt;/h4&gt;
+
   &lt;p&gt;An element is &lt;dfn id=focusable&gt;focusable&lt;/dfn&gt; if the user agent's default
   behavior allows it to be focusable or if the element is
-  &lt;a href=#specially-focusable&gt;specially focusable&lt;/a&gt;, but only if the element is
-  &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;.&lt;/p&gt;
+  &lt;a href=#specially-focusable&gt;specially focusable&lt;/a&gt;, but only if the element is either
+  &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; or &lt;!-- CANVAS-FOCUS-FALLBACK --&gt; is a
+  descendant of a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element that
+  &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;User agents should make the following elements
   &lt;a href=#focusable&gt;focusable&lt;/a&gt;, unless platform conventions dictate
@@ -56683,21 +56708,8 @@
   element can correspond to multiple shapes, since image maps can be
   reused with multiple images on a page.)&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-tabindex title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; content attribute. If the
-  attribute is not present, or parsing its value returns an error,
-  then the IDL attribute must return 0 for elements that are focusable
-  and &minus;1 for elements that are not focusable.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
 
-  &lt;/div&gt;
-
-
-  &lt;div class=impl&gt;
-
-  &lt;h4 id=focus-management&gt;&lt;span class=secno&gt;7.4.2 &lt;/span&gt;Focus management&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
-
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another
    element, then run the &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for that
    element.&lt;/li&gt;

Modified: source
===================================================================
--- source	2009-09-21 10:22:02 UTC (rev 3927)
+++ source	2009-09-21 10:40:43 UTC (rev 3928)
@@ -26067,7 +26067,7 @@
    &lt;/dd&gt;
   &lt;/dl&gt;
 
-  &lt;p&gt;The &lt;code&gt;canvas&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; a
+  &lt;p&gt;The &lt;code&gt;canvas&lt;/code&gt; element provides scripts with a
   resolution-dependent bitmap canvas, which can be used for rendering
   graphs, game graphics, or other visual images on the fly.&lt;/p&gt;
 
@@ -26089,22 +26089,33 @@
   &lt;p&gt;In interactive visual media, if &lt;span
   title=&quot;concept-n-script&quot;&gt;scripting is enabled&lt;/span&gt; for the
   &lt;code&gt;canvas&lt;/code&gt; element, the &lt;code&gt;canvas&lt;/code&gt; element
-  represents an embedded element with a dynamically created image.&lt;/p&gt;
+  &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded content&lt;/span&gt; consisting of
+  a dynamically created image.&lt;/p&gt;
 
   &lt;p&gt;In non-interactive, static, visual media, if the
   &lt;code&gt;canvas&lt;/code&gt; element has been previously painted on (e.g. if
   the page was viewed in an interactive visual medium and is now being
   printed, or if some script that ran during the page layout process
   painted on the element), then the &lt;code&gt;canvas&lt;/code&gt; element
-  represents &lt;span&gt;embedded content&lt;/span&gt; with the current image and
-  size. Otherwise, the element represents its &lt;span&gt;fallback
-  content&lt;/span&gt; instead.&lt;/p&gt;
+  &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded content&lt;/span&gt; with the
+  current image and size. Otherwise, the element represents its
+  &lt;span&gt;fallback content&lt;/span&gt; instead.&lt;/p&gt;
 
   &lt;p&gt;In non-visual media, and in visual media if &lt;span
   title=&quot;concept-n-noscript&quot;&gt;scripting is disabled&lt;/span&gt; for the
   &lt;code&gt;canvas&lt;/code&gt; element, the &lt;code&gt;canvas&lt;/code&gt; element
-  represents its &lt;span&gt;fallback content&lt;/span&gt; instead.&lt;/p&gt;
+  &lt;span&gt;represents&lt;/span&gt; its &lt;span&gt;fallback content&lt;/span&gt;
+  instead.&lt;/p&gt;
 
+  &lt;!-- CANVAS-FOCUS-FALLBACK --&gt;
+  &lt;p&gt;When a &lt;code&gt;canvas&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt;
+  &lt;span&gt;embedded content&lt;/span&gt;, the user can still focus descendants
+  of the &lt;code&gt;canvas&lt;/code&gt; element (in the &lt;span&gt;fallback
+  content&lt;/span&gt;). This allows authors to make an interactive canvas
+  keyboard-focusable: authors should have a one-to-one mapping of
+  interactive regions to focusable elements in the &lt;span&gt;fallback
+  content&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;The &lt;code&gt;canvas&lt;/code&gt; element has two attributes to control the
   size of the coordinate space: &lt;dfn
   title=&quot;attr-canvas-width&quot;&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
@@ -66013,10 +66024,25 @@
   to a non-mouse activation (e.g. hitting the &quot;enter&quot; key while the
   element is focused).&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;dom-tabIndex&quot;&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL
+  attribute must &lt;span&gt;reflect&lt;/span&gt; the value of the &lt;code
+  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; content attribute. If the
+  attribute is not present, or parsing its value returns an error,
+  then the IDL attribute must return 0 for elements that are focusable
+  and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;div class=&quot;impl&quot;&gt;
+
+  &lt;h4 id=&quot;focus-management&quot;&gt;Focus management&lt;/h4&gt;
+
   &lt;p&gt;An element is &lt;dfn&gt;focusable&lt;/dfn&gt; if the user agent's default
   behavior allows it to be focusable or if the element is
-  &lt;span&gt;specially focusable&lt;/span&gt;, but only if the element is
-  &lt;span&gt;being rendered&lt;/span&gt;.&lt;/p&gt;
+  &lt;span&gt;specially focusable&lt;/span&gt;, but only if the element is either
+  &lt;span&gt;being rendered&lt;/span&gt; or &lt;!-- CANVAS-FOCUS-FALLBACK --&gt; is a
+  descendant of a &lt;code&gt;canvas&lt;/code&gt; element that
+  &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded content&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;User agents should make the following elements
   &lt;span&gt;focusable&lt;/span&gt;, unless platform conventions dictate
@@ -66060,20 +66086,8 @@
   element can correspond to multiple shapes, since image maps can be
   reused with multiple images on a page.)&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-tabIndex&quot;&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the value of the &lt;code
-  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; content attribute. If the
-  attribute is not present, or parsing its value returns an error,
-  then the IDL attribute must return 0 for elements that are focusable
-  and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
+  &lt;hr&gt;
 
-  &lt;/div&gt;
-
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h4 id=&quot;focus-management&quot;&gt;Focus management&lt;/h4&gt;
-
   &lt;p&gt;The &lt;dfn&gt;focusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
 
   &lt;ol&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010800.html">[html5] r3927 - [gow] (2) Update the rendering section to handle	media elements' controls='' att [...]
</A></li>
	<LI>Next message: <A HREF="010802.html">[html5] r3929 - [e] (0) xref
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10801">[ date ]</a>
              <a href="thread.html#10801">[ thread ]</a>
              <a href="subject.html#10801">[ subject ]</a>
              <a href="author.html#10801">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
