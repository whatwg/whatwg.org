<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4140 - [giow] (0) Microdata: Rename .content to .itemValue	and make it more useful.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4140%20-%20%5Bgiow%5D%20%280%29%20Microdata%3A%20Rename%20.content%20to%20.itemValue%0A%09and%20make%20it%20more%20useful.&In-Reply-To=%3C20091014113536.D09E21389D7%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011011.html">
   <LINK REL="Next"  HREF="011013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4140 - [giow] (0) Microdata: Rename .content to .itemValue	and make it more useful.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4140%20-%20%5Bgiow%5D%20%280%29%20Microdata%3A%20Rename%20.content%20to%20.itemValue%0A%09and%20make%20it%20more%20useful.&In-Reply-To=%3C20091014113536.D09E21389D7%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r4140 - [giow] (0) Microdata: Rename .content to .itemValue	and make it more useful.">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct 14 04:35:36 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011011.html">[html5] r4139 - [agiow] (2) Make the microdata DOM API more	consistent with other APIs. (camelCase)
</A></li>
        <LI>Next message: <A HREF="011013.html">[html5] r4141 - [e] (0) Fix scripted examples for microdata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11012">[ date ]</a>
              <a href="thread.html#11012">[ thread ]</a>
              <a href="subject.html#11012">[ subject ]</a>
              <a href="author.html#11012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2009-10-14 04:35:35 -0700 (Wed, 14 Oct 2009)
New Revision: 4140

Modified:
   complete.html
   index
   source
   vocabs-index
Log:
[giow] (0) Microdata: Rename .content to .itemValue and make it more useful.

Modified: complete.html
===================================================================
--- complete.html	2009-10-14 11:05:03 UTC (rev 4139)
+++ complete.html	2009-10-14 11:35:35 UTC (rev 4140)
@@ -6166,7 +6166,7 @@
 typedef sequence&lt;any&gt; &lt;dfn id=propertyvaluearray&gt;PropertyValueArray&lt;/dfn&gt;;
 
 interface &lt;dfn id=propertynodelist&gt;PropertyNodeList&lt;/dfn&gt; : &lt;span&gt;NodeList&lt;/span&gt; {
-  readonly attribute &lt;a href=#propertyvaluearray&gt;PropertyValueArray&lt;/a&gt; &lt;a href=#dom-propertynodelist-contents title=dom-PropertyNodeList-contents&gt;contents&lt;/a&gt;;
+  readonly attribute &lt;a href=#propertyvaluearray&gt;PropertyValueArray&lt;/a&gt; &lt;a href=#dom-propertynodelist-values title=dom-PropertyNodeList-values&gt;values&lt;/a&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;collection&lt;/var&gt; . &lt;code title=dom-HTMLPropertyCollection-length&gt;&lt;a href=#dom-htmlpropertycollection-length&gt;length&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -6194,7 +6194,7 @@
     &lt;p&gt;Returns a &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object containing any elements that add a property named &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=dom-PropertyNodeList-contents&gt;&lt;a href=#dom-propertynodelist-contents&gt;contents&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=dom-PropertyNodeList-values&gt;&lt;a href=#dom-propertynodelist-values&gt;values&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns an array of the various values that the relevant elements have.&lt;/p&gt;
    &lt;/dd&gt;
@@ -6240,12 +6240,11 @@
   from the &lt;code&gt;NodeList&lt;/code&gt; interface must behave as they would
   on a &lt;code&gt;NodeList&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-propertynodelist-contents title=dom-PropertyNodeList-contents&gt;&lt;code&gt;contents&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-propertynodelist-values title=dom-PropertyNodeList-values&gt;&lt;code&gt;values&lt;/code&gt;&lt;/dfn&gt;
   IDL attribute on the &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object, on
   getting, must return a newly constructed array whose values are the
-  values obtained from the &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt;
-  DOM property of each of the elements represented by the object, in
-  &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
+  values obtained from the &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; DOM property of each of the
+  elements represented by the object, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -7726,7 +7725,7 @@
            attribute DOMString &lt;a href=#dom-itemid title=dom-itemId&gt;itemId&lt;/a&gt;;
   [PutForwards=&lt;a href=#dom-domsettabletokenlist-value title=dom-DOMSettableTokenList-value&gt;value&lt;/a&gt;] readonly attribute &lt;a href=#domsettabletokenlist&gt;DOMSettableTokenList&lt;/a&gt; &lt;a href=#dom-itemprop title=dom-itemProp&gt;itemProp&lt;/a&gt;;
   readonly attribute &lt;a href=#htmlpropertycollection&gt;HTMLPropertyCollection&lt;/a&gt; &lt;a href=#dom-properties title=dom-properties&gt;properties&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-content title=dom-content&gt;content&lt;/a&gt;;
+           attribute any &lt;a href=#dom-itemvalue title=dom-itemValue&gt;itemValue&lt;/a&gt;;
 
   // &lt;a href=#editing&gt;user interaction&lt;/a&gt;
            attribute boolean &lt;a href=#dom-hidden title=dom-hidden&gt;hidden&lt;/a&gt;;
@@ -11080,6 +11079,7 @@
 &lt;pre class=idl&gt;interface &lt;dfn id=htmlmetaelement&gt;HTMLMetaElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=#dom-meta-name title=dom-meta-name&gt;name&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-meta-httpequiv title=dom-meta-httpEquiv&gt;httpEquiv&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-meta-content title=dom-meta-content&gt;content&lt;/a&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; various
@@ -11138,8 +11138,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-meta-name title=dom-meta-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the content attribute of the
+  &lt;p&gt;The &lt;dfn id=dom-meta-name title=dom-meta-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-meta-content title=dom-meta-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attributes
+  must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the
   same name. The IDL attribute &lt;dfn id=dom-meta-httpequiv title=dom-meta-httpEquiv&gt;&lt;code&gt;httpEquiv&lt;/code&gt;&lt;/dfn&gt; must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the content attribute &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
@@ -44453,8 +44453,8 @@
   return an object with a list of the elements that add properties
   with that name.&lt;/p&gt;
 
-  &lt;p&gt;Each element that adds a property also has a &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt; IDL attribute that returns its
-  value.
+  &lt;p&gt;Each element that adds a property also has a &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; IDL attribute that returns
+  its value.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -44471,8 +44471,8 @@
   name in this way, actually returns a &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt;
   object with all the matching properties. The
   &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object can be used to obtained all the
-  values at once using &lt;em&gt;its&lt;/em&gt; &lt;code title=dom-PropertyNodeList-contents&gt;&lt;a href=#dom-propertynodelist-contents&gt;contents&lt;/a&gt;&lt;/code&gt; attribute,
-  which returns an array of all the values.&lt;/p&gt;
+  values at once using &lt;em&gt;its&lt;/em&gt; &lt;code title=dom-PropertyNodeList-values&gt;&lt;a href=#dom-propertynodelist-values&gt;values&lt;/a&gt;&lt;/code&gt; attribute, which
+  returns an array of all the values.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -44481,7 +44481,7 @@
    item and then lists all its values.&lt;/p&gt;
 
    &lt;pre&gt;var cat = document.getItems('org.example.animals.cat')[0];
-var colors = cat.properties['com.example.color'].contents;
+var colors = cat.properties['com.example.color'].values;
 var result;
 if (colors.length == 0) {
   result = 'Color unknown.';
@@ -44910,13 +44910,16 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;Returns the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Can be set, to change the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;. Setting the &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt; when the element has
+    no &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute or when
+    the element's value is an &lt;a href=#concept-item title=concept-item&gt;item&lt;/a&gt;
+    throws an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -44948,11 +44951,24 @@
   on which the attribute was invoked, while that element is an &lt;a href=#concept-item title=concept-item&gt;item&lt;/a&gt;, and matches nothing the rest of
   the time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-content title=dom-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL
+  &lt;p&gt;The &lt;dfn id=dom-itemvalue title=dom-itemValue&gt;&lt;code&gt;itemValue&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute's behavior depends on the element, as follows:&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;If the element is a &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+  &lt;dl&gt;&lt;dt&gt;If the element has no &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
+   &lt;dd&gt;&lt;p&gt;The attribute must return null on getting and must throw an
+   &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception on setting.&lt;/p&gt;
+
+
+   &lt;dt&gt;If the element has an &lt;code title=attr-itemscope&gt;&lt;a href=#attr-itemscope&gt;itemscope&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The attribute must return the element itself on getting and
+   must throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception on
+   setting.&lt;/p&gt;
+
+
+   &lt;dt&gt;If the element is a &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+
    &lt;dd&gt;&lt;p&gt;The attribute must act as it would if it was &lt;a href=#reflect title=reflect&gt;reflecting&lt;/a&gt; the element's &lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; content
    attribute.&lt;/dd&gt;
 
@@ -44985,11 +45001,18 @@
    &lt;dd&gt;&lt;p&gt;The attribute must act the same as the element's
    &lt;code&gt;textContent&lt;/code&gt; attribute.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;/div&gt;
+  &lt;/dl&gt;&lt;p&gt;When the &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; IDL
+  attribute is &lt;a href=#reflect title=reflect&gt;reflecting&lt;/a&gt; a content
+  attribute or acting like the element's &lt;code&gt;textContent&lt;/code&gt;
+  attribute, the user agent must, on setting, convert the new value to
+  the IDL &lt;code title=&quot;&quot;&gt;DOMString&lt;/code&gt; value before using it
+  according to the mappings described above.&lt;/p&gt;
 
+  &lt;/div&gt;
 
 
 
+
   &lt;h3 id=microdata-vocabularies&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Microdata vocabularies&lt;/h3&gt;
 
 
@@ -47498,7 +47521,7 @@
     calendar += 'UID:' + node.itemId + '\r\n';
   for (var propIndex = 0; propIndex &lt; node.properties.length; propIndex += 1) {
     var prop = node.properties[propIndex];
-    var value = prop.contents;
+    var value = prop.itemValue;
     var parameters = '';
     if (prop.localName == 'time') {
       value = value.replace(/[:-]/g, '');

Modified: index
===================================================================
--- index	2009-10-14 11:05:03 UTC (rev 4139)
+++ index	2009-10-14 11:35:35 UTC (rev 4140)
@@ -5995,7 +5995,7 @@
 typedef sequence&lt;any&gt; &lt;dfn id=propertyvaluearray&gt;PropertyValueArray&lt;/dfn&gt;;
 
 interface &lt;dfn id=propertynodelist&gt;PropertyNodeList&lt;/dfn&gt; : &lt;span&gt;NodeList&lt;/span&gt; {
-  readonly attribute &lt;a href=#propertyvaluearray&gt;PropertyValueArray&lt;/a&gt; &lt;a href=#dom-propertynodelist-contents title=dom-PropertyNodeList-contents&gt;contents&lt;/a&gt;;
+  readonly attribute &lt;a href=#propertyvaluearray&gt;PropertyValueArray&lt;/a&gt; &lt;a href=#dom-propertynodelist-values title=dom-PropertyNodeList-values&gt;values&lt;/a&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;collection&lt;/var&gt; . &lt;code title=dom-HTMLPropertyCollection-length&gt;&lt;a href=#dom-htmlpropertycollection-length&gt;length&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -6023,7 +6023,7 @@
     &lt;p&gt;Returns a &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object containing any elements that add a property named &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=dom-PropertyNodeList-contents&gt;&lt;a href=#dom-propertynodelist-contents&gt;contents&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=dom-PropertyNodeList-values&gt;&lt;a href=#dom-propertynodelist-values&gt;values&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns an array of the various values that the relevant elements have.&lt;/p&gt;
    &lt;/dd&gt;
@@ -6069,12 +6069,11 @@
   from the &lt;code&gt;NodeList&lt;/code&gt; interface must behave as they would
   on a &lt;code&gt;NodeList&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-propertynodelist-contents title=dom-PropertyNodeList-contents&gt;&lt;code&gt;contents&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-propertynodelist-values title=dom-PropertyNodeList-values&gt;&lt;code&gt;values&lt;/code&gt;&lt;/dfn&gt;
   IDL attribute on the &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object, on
   getting, must return a newly constructed array whose values are the
-  values obtained from the &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt;
-  DOM property of each of the elements represented by the object, in
-  &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
+  values obtained from the &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; DOM property of each of the
+  elements represented by the object, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -7555,7 +7554,7 @@
            attribute DOMString &lt;a href=#dom-itemid title=dom-itemId&gt;itemId&lt;/a&gt;;
   [PutForwards=&lt;a href=#dom-domsettabletokenlist-value title=dom-DOMSettableTokenList-value&gt;value&lt;/a&gt;] readonly attribute &lt;a href=#domsettabletokenlist&gt;DOMSettableTokenList&lt;/a&gt; &lt;a href=#dom-itemprop title=dom-itemProp&gt;itemProp&lt;/a&gt;;
   readonly attribute &lt;a href=#htmlpropertycollection&gt;HTMLPropertyCollection&lt;/a&gt; &lt;a href=#dom-properties title=dom-properties&gt;properties&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-content title=dom-content&gt;content&lt;/a&gt;;
+           attribute any &lt;a href=#dom-itemvalue title=dom-itemValue&gt;itemValue&lt;/a&gt;;
 
   // &lt;a href=#editing&gt;user interaction&lt;/a&gt;
            attribute boolean &lt;a href=#dom-hidden title=dom-hidden&gt;hidden&lt;/a&gt;;
@@ -10909,6 +10908,7 @@
 &lt;pre class=idl&gt;interface &lt;dfn id=htmlmetaelement&gt;HTMLMetaElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=#dom-meta-name title=dom-meta-name&gt;name&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-meta-httpequiv title=dom-meta-httpEquiv&gt;httpEquiv&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-meta-content title=dom-meta-content&gt;content&lt;/a&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; various
@@ -10967,8 +10967,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-meta-name title=dom-meta-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the content attribute of the
+  &lt;p&gt;The &lt;dfn id=dom-meta-name title=dom-meta-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-meta-content title=dom-meta-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attributes
+  must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the
   same name. The IDL attribute &lt;dfn id=dom-meta-httpequiv title=dom-meta-httpEquiv&gt;&lt;code&gt;httpEquiv&lt;/code&gt;&lt;/dfn&gt; must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the content attribute &lt;code title=attr-meta-http-equiv&gt;&lt;a href=#attr-meta-http-equiv&gt;http-equiv&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
@@ -44282,8 +44282,8 @@
   return an object with a list of the elements that add properties
   with that name.&lt;/p&gt;
 
-  &lt;p&gt;Each element that adds a property also has a &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt; IDL attribute that returns its
-  value.
+  &lt;p&gt;Each element that adds a property also has a &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; IDL attribute that returns
+  its value.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -44300,8 +44300,8 @@
   name in this way, actually returns a &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt;
   object with all the matching properties. The
   &lt;code&gt;&lt;a href=#propertynodelist&gt;PropertyNodeList&lt;/a&gt;&lt;/code&gt; object can be used to obtained all the
-  values at once using &lt;em&gt;its&lt;/em&gt; &lt;code title=dom-PropertyNodeList-contents&gt;&lt;a href=#dom-propertynodelist-contents&gt;contents&lt;/a&gt;&lt;/code&gt; attribute,
-  which returns an array of all the values.&lt;/p&gt;
+  values at once using &lt;em&gt;its&lt;/em&gt; &lt;code title=dom-PropertyNodeList-values&gt;&lt;a href=#dom-propertynodelist-values&gt;values&lt;/a&gt;&lt;/code&gt; attribute, which
+  returns an array of all the values.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -44310,7 +44310,7 @@
    item and then lists all its values.&lt;/p&gt;
 
    &lt;pre&gt;var cat = document.getItems('org.example.animals.cat')[0];
-var colors = cat.properties['com.example.color'].contents;
+var colors = cat.properties['com.example.color'].values;
 var result;
 if (colors.length == 0) {
   result = 'Color unknown.';
@@ -44739,13 +44739,16 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-content&gt;&lt;a href=#dom-content&gt;content&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;Returns the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Can be set, to change the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Can be set, to change the element's &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt;. Setting the &lt;a href=#concept-property-value title=concept-property-value&gt;value&lt;/a&gt; when the element has
+    no &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute or when
+    the element's value is an &lt;a href=#concept-item title=concept-item&gt;item&lt;/a&gt;
+    throws an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -44777,11 +44780,24 @@
   on which the attribute was invoked, while that element is an &lt;a href=#concept-item title=concept-item&gt;item&lt;/a&gt;, and matches nothing the rest of
   the time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-content title=dom-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL
+  &lt;p&gt;The &lt;dfn id=dom-itemvalue title=dom-itemValue&gt;&lt;code&gt;itemValue&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute's behavior depends on the element, as follows:&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;If the element is a &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+  &lt;dl&gt;&lt;dt&gt;If the element has no &lt;code title=attr-itemprop&gt;&lt;a href=#names:-the-itemprop-attribute&gt;itemprop&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
+   &lt;dd&gt;&lt;p&gt;The attribute must return null on getting and must throw an
+   &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception on setting.&lt;/p&gt;
+
+
+   &lt;dt&gt;If the element has an &lt;code title=attr-itemscope&gt;&lt;a href=#attr-itemscope&gt;itemscope&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The attribute must return the element itself on getting and
+   must throw an &lt;code&gt;&lt;a href=#invalid_access_err&gt;INVALID_ACCESS_ERR&lt;/a&gt;&lt;/code&gt; exception on
+   setting.&lt;/p&gt;
+
+
+   &lt;dt&gt;If the element is a &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element&lt;/dt&gt;
+
    &lt;dd&gt;&lt;p&gt;The attribute must act as it would if it was &lt;a href=#reflect title=reflect&gt;reflecting&lt;/a&gt; the element's &lt;code title=attr-meta-content&gt;&lt;a href=#attr-meta-content&gt;content&lt;/a&gt;&lt;/code&gt; content
    attribute.&lt;/dd&gt;
 
@@ -44814,10 +44830,17 @@
    &lt;dd&gt;&lt;p&gt;The attribute must act the same as the element's
    &lt;code&gt;textContent&lt;/code&gt; attribute.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;/div&gt;
+  &lt;/dl&gt;&lt;p&gt;When the &lt;code title=dom-itemValue&gt;&lt;a href=#dom-itemvalue&gt;itemValue&lt;/a&gt;&lt;/code&gt; IDL
+  attribute is &lt;a href=#reflect title=reflect&gt;reflecting&lt;/a&gt; a content
+  attribute or acting like the element's &lt;code&gt;textContent&lt;/code&gt;
+  attribute, the user agent must, on setting, convert the new value to
+  the IDL &lt;code title=&quot;&quot;&gt;DOMString&lt;/code&gt; value before using it
+  according to the mappings described above.&lt;/p&gt;
 
+  &lt;/div&gt;
 
 
+
   &lt;div class=impl&gt;
 
   &lt;h3 id=converting-html-to-other-formats&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Converting HTML to other formats&lt;/h3&gt;

Modified: source
===================================================================
--- source	2009-10-14 11:05:03 UTC (rev 4139)
+++ source	2009-10-14 11:35:35 UTC (rev 4140)
@@ -5838,7 +5838,7 @@
 typedef sequence&lt;any&gt; &lt;dfn&gt;PropertyValueArray&lt;/dfn&gt;;
 
 interface &lt;dfn&gt;PropertyNodeList&lt;/dfn&gt; : &lt;span&gt;NodeList&lt;/span&gt; {
-  readonly attribute &lt;span&gt;PropertyValueArray&lt;/span&gt; &lt;span title=&quot;dom-PropertyNodeList-contents&quot;&gt;contents&lt;/span&gt;;
+  readonly attribute &lt;span&gt;PropertyValueArray&lt;/span&gt; &lt;span title=&quot;dom-PropertyNodeList-values&quot;&gt;values&lt;/span&gt;;
 };&lt;/pre&gt;
 
   &lt;dl class=&quot;domintro&quot;&gt;
@@ -5868,7 +5868,7 @@
     &lt;p&gt;Returns a &lt;code&gt;PropertyNodeList&lt;/code&gt; object containing any elements that add a property named &lt;var title=&quot;&quot;&gt;name&lt;/var&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=&quot;dom-PropertyNodeList-contents&quot;&gt;contents&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;propertyNodeList&lt;/var&gt; . &lt;code title=&quot;dom-PropertyNodeList-values&quot;&gt;values&lt;/code&gt;&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns an array of the various values that the relevant elements have.&lt;/p&gt;
    &lt;/dd&gt;
@@ -5929,12 +5929,12 @@
   on a &lt;code&gt;NodeList&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
-  title=&quot;dom-PropertyNodeList-contents&quot;&gt;&lt;code&gt;contents&lt;/code&gt;&lt;/dfn&gt;
+  title=&quot;dom-PropertyNodeList-values&quot;&gt;&lt;code&gt;values&lt;/code&gt;&lt;/dfn&gt;
   IDL attribute on the &lt;code&gt;PropertyNodeList&lt;/code&gt; object, on
   getting, must return a newly constructed array whose values are the
-  values obtained from the &lt;code title=&quot;dom-content&quot;&gt;content&lt;/code&gt;
-  DOM property of each of the elements represented by the object, in
-  &lt;span&gt;tree order&lt;/span&gt;.&lt;/p&gt;
+  values obtained from the &lt;code
+  title=&quot;dom-itemValue&quot;&gt;itemValue&lt;/code&gt; DOM property of each of the
+  elements represented by the object, in &lt;span&gt;tree order&lt;/span&gt;.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -7639,7 +7639,7 @@
            attribute DOMString &lt;span title=&quot;dom-itemId&quot;&gt;itemId&lt;/span&gt;;
   [PutForwards=&lt;span title=&quot;dom-DOMSettableTokenList-value&quot;&gt;value&lt;/span&gt;] readonly attribute &lt;span&gt;DOMSettableTokenList&lt;/span&gt; &lt;span title=&quot;dom-itemProp&quot;&gt;itemProp&lt;/span&gt;;
   readonly attribute &lt;span&gt;HTMLPropertyCollection&lt;/span&gt; &lt;span title=&quot;dom-properties&quot;&gt;properties&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-content&quot;&gt;content&lt;/span&gt;;
+           attribute any &lt;span title=&quot;dom-itemValue&quot;&gt;itemValue&lt;/span&gt;;
 
   // &lt;span&gt;user interaction&lt;/span&gt;
            attribute boolean &lt;span title=&quot;dom-hidden&quot;&gt;hidden&lt;/span&gt;;
@@ -11454,6 +11454,7 @@
 &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLMetaElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
            attribute DOMString &lt;span title=&quot;dom-meta-name&quot;&gt;name&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-meta-httpEquiv&quot;&gt;httpEquiv&lt;/span&gt;;
+           attribute DOMString &lt;span title=&quot;dom-meta-content&quot;&gt;content&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;
@@ -11523,8 +11524,9 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-meta-name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
+  &lt;p&gt;The &lt;dfn title=&quot;dom-meta-name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
+  title=&quot;dom-meta-content&quot;&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL attributes
+  must &lt;span&gt;reflect&lt;/span&gt; the respective content attributes of the
   same name. The IDL attribute &lt;dfn
   title=&quot;dom-meta-httpEquiv&quot;&gt;&lt;code&gt;httpEquiv&lt;/code&gt;&lt;/dfn&gt; must
   &lt;span&gt;reflect&lt;/span&gt; the content attribute &lt;code
@@ -49468,8 +49470,8 @@
   with that name.&lt;/p&gt;
 
   &lt;p&gt;Each element that adds a property also has a &lt;code
-  title=&quot;dom-content&quot;&gt;content&lt;/code&gt; IDL attribute that returns its
-  value.
+  title=&quot;dom-itemValue&quot;&gt;itemValue&lt;/code&gt; IDL attribute that returns
+  its value.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
@@ -49487,8 +49489,8 @@
   object with all the matching properties. The
   &lt;code&gt;PropertyNodeList&lt;/code&gt; object can be used to obtained all the
   values at once using &lt;em&gt;its&lt;/em&gt; &lt;code
-  title=&quot;dom-PropertyNodeList-contents&quot;&gt;contents&lt;/code&gt; attribute,
-  which returns an array of all the values.&lt;/p&gt;
+  title=&quot;dom-PropertyNodeList-values&quot;&gt;values&lt;/code&gt; attribute, which
+  returns an array of all the values.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
@@ -49497,7 +49499,7 @@
    item and then lists all its values.&lt;/p&gt;
 
    &lt;pre&gt;var cat = document.getItems('org.example.animals.cat')[0];
-var colors = cat.properties['com.example.color'].contents;
+var colors = cat.properties['com.example.color'].values;
 var result;
 if (colors.length == 0) {
   result = 'Color unknown.';
@@ -50008,7 +50010,7 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-content&quot;&gt;content&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=&quot;dom-itemValue&quot;&gt;itemValue&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -50016,7 +50018,11 @@
     title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p&gt;Can be set, to change the element's &lt;span
-    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
+    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt;. Setting the &lt;span
+    title=&quot;concept-property-value&quot;&gt;value&lt;/span&gt; when the element has
+    no &lt;code title=&quot;attr-itemprop&quot;&gt;itemprop&lt;/code&gt; attribute or when
+    the element's value is an &lt;span title=&quot;concept-item&quot;&gt;item&lt;/span&gt;
+    throws an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -50057,11 +50063,24 @@
   title=&quot;concept-item&quot;&gt;item&lt;/span&gt;, and matches nothing the rest of
   the time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-content&quot;&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; IDL
+  &lt;p&gt;The &lt;dfn title=&quot;dom-itemValue&quot;&gt;&lt;code&gt;itemValue&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute's behavior depends on the element, as follows:&lt;/p&gt;
 
   &lt;dl&gt;
 
+   &lt;dt&gt;If the element has no &lt;code title=&quot;attr-itemprop&quot;&gt;itemprop&lt;/code&gt; attribute&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The attribute must return null on getting and must throw an
+   &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception on setting.&lt;/p&gt;
+
+
+   &lt;dt&gt;If the element has an &lt;code title=&quot;attr-itemscope&quot;&gt;itemscope&lt;/code&gt; attribute&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The attribute must return the element itself on getting and
+   must throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception on
+   setting.&lt;/p&gt;
+
+
    &lt;dt&gt;If the element is a &lt;code&gt;meta&lt;/code&gt; element&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;The attribute must act as it would if it was &lt;span
@@ -50109,6 +50128,13 @@
 
   &lt;/dl&gt; 
 
+  &lt;p&gt;When the &lt;code title=&quot;dom-itemValue&quot;&gt;itemValue&lt;/code&gt; IDL
+  attribute is &lt;span title=&quot;reflect&quot;&gt;reflecting&lt;/span&gt; a content
+  attribute or acting like the element's &lt;code&gt;textContent&lt;/code&gt;
+  attribute, the user agent must, on setting, convert the new value to
+  the IDL &lt;code title=&quot;&quot;&gt;DOMString&lt;/code&gt; value before using it
+  according to the mappings described above.&lt;/p&gt;
+
   &lt;/div&gt;
 
 
@@ -53313,7 +53339,7 @@
     calendar += 'UID:' + node.itemId + '\r\n';
   for (var propIndex = 0; propIndex &lt; node.properties.length; propIndex += 1) {
     var prop = node.properties[propIndex];
-    var value = prop.contents;
+    var value = prop.itemValue;
     var parameters = '';
     if (prop.localName == 'time') {
       value = value.replace(/[:-]/g, '');

Modified: vocabs-index
===================================================================
--- vocabs-index	2009-10-14 11:05:03 UTC (rev 4139)
+++ vocabs-index	2009-10-14 11:35:35 UTC (rev 4140)
@@ -47,7 +47,7 @@
 
   &lt;header class=&quot;head&quot;&gt;&lt;p&gt;&lt;a class=&quot;logo&quot; href=&quot;<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&quot; rel=&quot;home&quot;&gt;&lt;img alt=&quot;WHATWG&quot; src=&quot;/images/logo&quot;&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Microdata Vocabularies: vCard, vEvent, and works&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 9 October 2009&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 14 October 2009&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&quot;&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;dl&gt;&lt;dt&gt;This specification:&lt;/dt&gt;
     &lt;dd&gt;&lt;a href=&quot;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/">http://www.whatwg.org/specs/web-apps/current-work/</A>&quot;&gt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/&lt;/a">http://www.whatwg.org/specs/web-apps/current-work/&lt;/a</A>&gt;&lt;/dd&gt;
@@ -2627,7 +2627,7 @@
     calendar += 'UID:' + node.itemId + '\r\n';
   for (var propIndex = 0; propIndex &lt; node.properties.length; propIndex += 1) {
     var prop = node.properties[propIndex];
-    var value = prop.contents;
+    var value = prop.itemValue;
     var parameters = '';
     if (prop.localName == 'time') {
       value = value.replace(/[:-]/g, '');


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011011.html">[html5] r4139 - [agiow] (2) Make the microdata DOM API more	consistent with other APIs. (camelCase)
</A></li>
	<LI>Next message: <A HREF="011013.html">[html5] r4141 - [e] (0) Fix scripted examples for microdata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11012">[ date ]</a>
              <a href="thread.html#11012">[ thread ]</a>
              <a href="subject.html#11012">[ subject ]</a>
              <a href="author.html#11012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
