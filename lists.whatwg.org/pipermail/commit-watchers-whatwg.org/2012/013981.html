<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7116 - [giow] (0) Expose the controller state,	since implementing it is apparently easy [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7116%20-%20%5Bgiow%5D%20%280%29%20Expose%20the%20controller%20state%2C%0A%09since%20implementing%20it%20is%20apparently%20easy%20%5B...%5D&In-Reply-To=%3C20120605001331.8A85511C7C041%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013980.html">
   <LINK REL="Next"  HREF="013982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7116 - [giow] (0) Expose the controller state,	since implementing it is apparently easy [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7116%20-%20%5Bgiow%5D%20%280%29%20Expose%20the%20controller%20state%2C%0A%09since%20implementing%20it%20is%20apparently%20easy%20%5B...%5D&In-Reply-To=%3C20120605001331.8A85511C7C041%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7116 - [giow] (0) Expose the controller state,	since implementing it is apparently easy [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Jun  4 17:13:31 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="013980.html">[html5] r7115 - [giow] (0) Update the controller state when the	current media controller changes [...]
</A></li>
        <LI>Next message: <A HREF="013982.html">[html5] r7117 - [e] (0) Make the spec not appear to contradict	itself. Affected topics: Video an [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13981">[ date ]</a>
              <a href="thread.html#13981">[ thread ]</a>
              <a href="subject.html#13981">[ subject ]</a>
              <a href="author.html#13981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-06-04 17:13:30 -0700 (Mon, 04 Jun 2012)
New Revision: 7116

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Expose the controller state, since implementing it is apparently easy and it can be a bit more subtle than it looks.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=12547">https://www.w3.org/Bugs/Public/show_bug.cgi?id=12547</A>
Affected topics: Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2012-06-04 23:40:30 UTC (rev 7115)
+++ complete.html	2012-06-05 00:13:30 UTC (rev 7116)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 4 June 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 5 June 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -31737,14 +31737,18 @@
 
   &lt;h6 id=media-controllers&gt;&lt;span class=secno&gt;4.8.10.11.2 &lt;/span&gt;Media controllers&lt;/h6&gt;
 
-  &lt;pre class=idl&gt;[&lt;a href=#dom-mediacontroller title=dom-MediaController&gt;Constructor&lt;/a&gt;]
+  &lt;pre class=idl&gt;enum &lt;dfn id=mediacontrollerplaybackstate&gt;MediaControllerPlaybackState&lt;/dfn&gt; { &quot;&lt;a href=#dom-mediacontroller-waiting title=dom-MediaController-waiting&gt;waiting&lt;/a&gt;&quot;, &quot;&lt;a href=#dom-mediacontroller-playing title=dom-MediaController-playing&gt;playing&lt;/a&gt;&quot;, &quot;&lt;a href=#dom-mediacontroller-ended title=dom-MediaController-ended&gt;ended&lt;/a&gt;&quot; };
+[&lt;a href=#dom-mediacontroller title=dom-MediaController&gt;Constructor&lt;/a&gt;]
 interface &lt;dfn id=mediacontroller&gt;MediaController&lt;/dfn&gt; {
+  readonly attribute unsigned short &lt;a href=#dom-mediacontroller-readystate title=dom-MediaController-readyState&gt;readyState&lt;/a&gt;; // uses &lt;a href=#htmlmediaelement&gt;HTMLMediaElement&lt;/a&gt;.&lt;a href=#dom-media-readystate title=dom-media-readyState&gt;readyState&lt;/a&gt;'s values
+
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-buffered title=dom-MediaController-buffered&gt;buffered&lt;/a&gt;;
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;seekable&lt;/a&gt;;
   readonly attribute double &lt;a href=#dom-mediacontroller-duration title=dom-MediaController-duration&gt;duration&lt;/a&gt;;
            attribute double &lt;a href=#dom-mediacontroller-currenttime title=dom-MediaController-currentTime&gt;currentTime&lt;/a&gt;;
 
   readonly attribute boolean &lt;a href=#dom-mediacontroller-paused title=dom-MediaController-paused&gt;paused&lt;/a&gt;;
+  readonly attribute &lt;a href=#mediacontrollerplaybackstate&gt;MediaControllerPlaybackState&lt;/a&gt; &lt;a href=#dom-mediacontroller-playbackstate title=dom-MediaController-playbackState&gt;playbackState&lt;/a&gt;;
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-played title=dom-MediaController-played&gt;played&lt;/a&gt;;
   void &lt;a href=#dom-mediacontroller-play title=dom-MediaController-play&gt;play&lt;/a&gt;();
   void &lt;a href=#dom-mediacontroller-pause title=dom-MediaController-pause&gt;pause&lt;/a&gt;();
@@ -31792,6 +31796,17 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-readyState&gt;&lt;a href=#dom-mediacontroller-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;a href=#report-the-controller-state title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/a&gt;. The
+    values of this attribute are the same as for the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute of &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-buffered&gt;&lt;a href=#dom-mediacontroller-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -31847,6 +31862,22 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;a href=#report-the-controller-state title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/a&gt;. The
+    value of this attribute is either &quot;&lt;code title=dom-MediaController-playing&gt;&lt;a href=#dom-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt;&quot;, indicating
+    that the media is actively playing, &quot;&lt;code title=dom-MediaController-ended&gt;&lt;a href=#dom-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt;&quot;, indicating that
+    the media is not playing because playback has reached the end of
+    all the &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, or &quot;&lt;code title=dom-MediaController-waiting&gt;&lt;a href=#dom-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;&quot;, indicating
+    that the media is not playing for some other reason (e.g. the
+    &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; is paused).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-play&gt;&lt;a href=#dom-mediacontroller-play&gt;play&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -31994,7 +32025,14 @@
   constructor, when invoked, must return a newly created
   &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;&lt;code&gt;seekable&lt;/code&gt;&lt;/dfn&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-mediacontroller-readystate title=dom-MediaController-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object is created, the
+  attribute must be set to the value 0 (&lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;). The value is
+  updated by the &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; algorithm
+  below.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;&lt;code&gt;seekable&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;a href=#normalized-timeranges-object&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/a&gt; that represents the
   intersection of the ranges of the &lt;a href=#media-resource title=&quot;media resource&quot;&gt;media
@@ -32070,6 +32108,13 @@
   &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, and then &lt;a href=#report-the-controller-state&gt;report the controller
   state&lt;/a&gt; of the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-mediacontroller-playbackstate title=dom-MediaController-playbackState&gt;&lt;code&gt;playbackState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object is created, the
+  attribute must be set to the value &quot;&lt;code title=dom-MediaController-waiting&gt;&lt;a href=#dom-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;&quot;. The value is
+  updated by the &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; algorithm
+  below.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-mediacontroller-played title=dom-MediaController-played&gt;&lt;code&gt;played&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;a href=#normalized-timeranges-object&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/a&gt; that represents the union of
@@ -32286,10 +32331,20 @@
      &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Increment &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; by
      one.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-     event&lt;/a&gt; at the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose
-     name is the event name corresponding to the value of &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; given in the table below.&lt;/li&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to run the following steps:&lt;/p&gt;
+
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;code title=dom-MediaController-readyState&gt;&lt;a href=#dom-mediacontroller-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+       attribute to the value &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; at the
+       &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose name is the event
+       name corresponding to the value of &lt;var title=&quot;&quot;&gt;next
+       state&lt;/var&gt; given in the table below.&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;new readiness state&lt;/var&gt;, then return to the step
      labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
 
@@ -32367,13 +32422,37 @@
    a simple event&lt;/a&gt; named &lt;code title=event-MediaController-pause&gt;&lt;a href=#event-mediacontroller-pause&gt;pause&lt;/a&gt;&lt;/code&gt; at the
    &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
-   reported playback state&lt;/a&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
-   playback state&lt;/var&gt; then &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
-   simple event&lt;/a&gt; at the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object,
-   whose name is &lt;code title=event-MediaController-playing&gt;&lt;a href=#event-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt; if &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;playing&lt;/i&gt;, &lt;code title=event-MediaController-ended&gt;&lt;a href=#event-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt; if &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;ended&lt;/i&gt;, and &lt;code title=event-MediaController-waiting&gt;&lt;a href=#event-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
-   otherwise.&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
+    reported playback state&lt;/a&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
+    playback state&lt;/var&gt; then &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the
+    following steps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;
+     attribute to the value given in the second column of the row of
+     the following table whose first column contains the &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; at the
+     &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose name is the value
+     given in the third column of the row of the following table whose
+     first column contains the &lt;var title=&quot;&quot;&gt;new playback
+     state&lt;/var&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;New playback state
+       &lt;th&gt;New value for &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;
+       &lt;th&gt;Event name
+     &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;i&gt;playing&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-playing title=dom-MediaController-playing&gt;&lt;code&gt;playing&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-playing&gt;&lt;a href=#event-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt;
+      &lt;tr&gt;&lt;td&gt;&lt;i&gt;waiting&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-waiting title=dom-MediaController-waiting&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-waiting&gt;&lt;a href=#event-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
+      &lt;tr&gt;&lt;td&gt;&lt;i&gt;ended&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-ended title=dom-MediaController-ended&gt;&lt;code&gt;ended&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-ended&gt;&lt;a href=#event-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt;
+    &lt;/table&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Let the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
    reported playback state&lt;/a&gt; be &lt;var title=&quot;&quot;&gt;new playback
    state&lt;/var&gt;.&lt;/li&gt;

Modified: index
===================================================================
--- index	2012-06-04 23:40:30 UTC (rev 7115)
+++ index	2012-06-05 00:13:30 UTC (rev 7116)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 4 June 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 5 June 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -31737,14 +31737,18 @@
 
   &lt;h6 id=media-controllers&gt;&lt;span class=secno&gt;4.8.10.11.2 &lt;/span&gt;Media controllers&lt;/h6&gt;
 
-  &lt;pre class=idl&gt;[&lt;a href=#dom-mediacontroller title=dom-MediaController&gt;Constructor&lt;/a&gt;]
+  &lt;pre class=idl&gt;enum &lt;dfn id=mediacontrollerplaybackstate&gt;MediaControllerPlaybackState&lt;/dfn&gt; { &quot;&lt;a href=#dom-mediacontroller-waiting title=dom-MediaController-waiting&gt;waiting&lt;/a&gt;&quot;, &quot;&lt;a href=#dom-mediacontroller-playing title=dom-MediaController-playing&gt;playing&lt;/a&gt;&quot;, &quot;&lt;a href=#dom-mediacontroller-ended title=dom-MediaController-ended&gt;ended&lt;/a&gt;&quot; };
+[&lt;a href=#dom-mediacontroller title=dom-MediaController&gt;Constructor&lt;/a&gt;]
 interface &lt;dfn id=mediacontroller&gt;MediaController&lt;/dfn&gt; {
+  readonly attribute unsigned short &lt;a href=#dom-mediacontroller-readystate title=dom-MediaController-readyState&gt;readyState&lt;/a&gt;; // uses &lt;a href=#htmlmediaelement&gt;HTMLMediaElement&lt;/a&gt;.&lt;a href=#dom-media-readystate title=dom-media-readyState&gt;readyState&lt;/a&gt;'s values
+
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-buffered title=dom-MediaController-buffered&gt;buffered&lt;/a&gt;;
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;seekable&lt;/a&gt;;
   readonly attribute double &lt;a href=#dom-mediacontroller-duration title=dom-MediaController-duration&gt;duration&lt;/a&gt;;
            attribute double &lt;a href=#dom-mediacontroller-currenttime title=dom-MediaController-currentTime&gt;currentTime&lt;/a&gt;;
 
   readonly attribute boolean &lt;a href=#dom-mediacontroller-paused title=dom-MediaController-paused&gt;paused&lt;/a&gt;;
+  readonly attribute &lt;a href=#mediacontrollerplaybackstate&gt;MediaControllerPlaybackState&lt;/a&gt; &lt;a href=#dom-mediacontroller-playbackstate title=dom-MediaController-playbackState&gt;playbackState&lt;/a&gt;;
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-mediacontroller-played title=dom-MediaController-played&gt;played&lt;/a&gt;;
   void &lt;a href=#dom-mediacontroller-play title=dom-MediaController-play&gt;play&lt;/a&gt;();
   void &lt;a href=#dom-mediacontroller-pause title=dom-MediaController-pause&gt;pause&lt;/a&gt;();
@@ -31792,6 +31796,17 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-readyState&gt;&lt;a href=#dom-mediacontroller-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;a href=#report-the-controller-state title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/a&gt;. The
+    values of this attribute are the same as for the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute of &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-buffered&gt;&lt;a href=#dom-mediacontroller-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -31847,6 +31862,22 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;a href=#report-the-controller-state title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/a&gt;. The
+    value of this attribute is either &quot;&lt;code title=dom-MediaController-playing&gt;&lt;a href=#dom-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt;&quot;, indicating
+    that the media is actively playing, &quot;&lt;code title=dom-MediaController-ended&gt;&lt;a href=#dom-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt;&quot;, indicating that
+    the media is not playing because playback has reached the end of
+    all the &lt;a href=#slaved-media-elements&gt;slaved media elements&lt;/a&gt;, or &quot;&lt;code title=dom-MediaController-waiting&gt;&lt;a href=#dom-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;&quot;, indicating
+    that the media is not playing for some other reason (e.g. the
+    &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; is paused).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=dom-MediaController-play&gt;&lt;a href=#dom-mediacontroller-play&gt;play&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -31994,7 +32025,14 @@
   constructor, when invoked, must return a newly created
   &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;&lt;code&gt;seekable&lt;/code&gt;&lt;/dfn&gt;
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-mediacontroller-readystate title=dom-MediaController-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object is created, the
+  attribute must be set to the value 0 (&lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;). The value is
+  updated by the &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; algorithm
+  below.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-mediacontroller-seekable title=dom-MediaController-seekable&gt;&lt;code&gt;seekable&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;a href=#normalized-timeranges-object&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/a&gt; that represents the
   intersection of the ranges of the &lt;a href=#media-resource title=&quot;media resource&quot;&gt;media
@@ -32070,6 +32108,13 @@
   &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;, and then &lt;a href=#report-the-controller-state&gt;report the controller
   state&lt;/a&gt; of the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-mediacontroller-playbackstate title=dom-MediaController-playbackState&gt;&lt;code&gt;playbackState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object is created, the
+  attribute must be set to the value &quot;&lt;code title=dom-MediaController-waiting&gt;&lt;a href=#dom-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;&quot;. The value is
+  updated by the &lt;a href=#report-the-controller-state&gt;report the controller state&lt;/a&gt; algorithm
+  below.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-mediacontroller-played title=dom-MediaController-played&gt;&lt;code&gt;played&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;a href=#normalized-timeranges-object&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/a&gt; that represents the union of
@@ -32286,10 +32331,20 @@
      &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Increment &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; by
      one.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-     event&lt;/a&gt; at the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose
-     name is the event name corresponding to the value of &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; given in the table below.&lt;/li&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to run the following steps:&lt;/p&gt;
+
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;code title=dom-MediaController-readyState&gt;&lt;a href=#dom-mediacontroller-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+       attribute to the value &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt;.&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; at the
+       &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose name is the event
+       name corresponding to the value of &lt;var title=&quot;&quot;&gt;next
+       state&lt;/var&gt; given in the table below.&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;new readiness state&lt;/var&gt;, then return to the step
      labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/li&gt;
 
@@ -32367,13 +32422,37 @@
    a simple event&lt;/a&gt; named &lt;code title=event-MediaController-pause&gt;&lt;a href=#event-mediacontroller-pause&gt;pause&lt;/a&gt;&lt;/code&gt; at the
    &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
-   reported playback state&lt;/a&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
-   playback state&lt;/var&gt; then &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
-   simple event&lt;/a&gt; at the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object,
-   whose name is &lt;code title=event-MediaController-playing&gt;&lt;a href=#event-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt; if &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;playing&lt;/i&gt;, &lt;code title=event-MediaController-ended&gt;&lt;a href=#event-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt; if &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;ended&lt;/i&gt;, and &lt;code title=event-MediaController-waiting&gt;&lt;a href=#event-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
-   otherwise.&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
+    reported playback state&lt;/a&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
+    playback state&lt;/var&gt; then &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to run the
+    following steps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;
+     attribute to the value given in the second column of the row of
+     the following table whose first column contains the &lt;var title=&quot;&quot;&gt;new playback state&lt;/var&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; at the
+     &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt; object, whose name is the value
+     given in the third column of the row of the following table whose
+     first column contains the &lt;var title=&quot;&quot;&gt;new playback
+     state&lt;/var&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;New playback state
+       &lt;th&gt;New value for &lt;code title=dom-MediaController-playbackState&gt;&lt;a href=#dom-mediacontroller-playbackstate&gt;playbackState&lt;/a&gt;&lt;/code&gt;
+       &lt;th&gt;Event name
+     &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;i&gt;playing&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-playing title=dom-MediaController-playing&gt;&lt;code&gt;playing&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-playing&gt;&lt;a href=#event-mediacontroller-playing&gt;playing&lt;/a&gt;&lt;/code&gt;
+      &lt;tr&gt;&lt;td&gt;&lt;i&gt;waiting&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-waiting title=dom-MediaController-waiting&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-waiting&gt;&lt;a href=#event-mediacontroller-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt;
+      &lt;tr&gt;&lt;td&gt;&lt;i&gt;ended&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn id=dom-mediacontroller-ended title=dom-MediaController-ended&gt;&lt;code&gt;ended&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=event-MediaController-ended&gt;&lt;a href=#event-mediacontroller-ended&gt;ended&lt;/a&gt;&lt;/code&gt;
+    &lt;/table&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Let the &lt;code&gt;&lt;a href=#mediacontroller&gt;MediaController&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#most-recently-reported-playback-state&gt;most recently
    reported playback state&lt;/a&gt; be &lt;var title=&quot;&quot;&gt;new playback
    state&lt;/var&gt;.&lt;/li&gt;

Modified: source
===================================================================
--- source	2012-06-04 23:40:30 UTC (rev 7115)
+++ source	2012-06-05 00:13:30 UTC (rev 7116)
@@ -34647,14 +34647,18 @@
 
   &lt;h6&gt;Media controllers&lt;/h6&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-MediaController&quot;&gt;Constructor&lt;/span&gt;]
+  &lt;pre class=&quot;idl&quot;&gt;enum &lt;dfn&gt;MediaControllerPlaybackState&lt;/dfn&gt; { &quot;&lt;span title=&quot;dom-MediaController-waiting&quot;&gt;waiting&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;dom-MediaController-playing&quot;&gt;playing&lt;/span&gt;&quot;, &quot;&lt;span title=&quot;dom-MediaController-ended&quot;&gt;ended&lt;/span&gt;&quot; };
+[&lt;span title=&quot;dom-MediaController&quot;&gt;Constructor&lt;/span&gt;]
 interface &lt;dfn&gt;MediaController&lt;/dfn&gt; {
+  readonly attribute unsigned short &lt;span title=&quot;dom-MediaController-readyState&quot;&gt;readyState&lt;/span&gt;; // uses &lt;span&gt;HTMLMediaElement&lt;/span&gt;.&lt;span title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/span&gt;'s values
+
   readonly attribute &lt;span&gt;TimeRanges&lt;/span&gt; &lt;span title=&quot;dom-MediaController-buffered&quot;&gt;buffered&lt;/span&gt;;
   readonly attribute &lt;span&gt;TimeRanges&lt;/span&gt; &lt;span title=&quot;dom-MediaController-seekable&quot;&gt;seekable&lt;/span&gt;;
   readonly attribute double &lt;span title=&quot;dom-MediaController-duration&quot;&gt;duration&lt;/span&gt;;
            attribute double &lt;span title=&quot;dom-MediaController-currentTime&quot;&gt;currentTime&lt;/span&gt;;
 
   readonly attribute boolean &lt;span title=&quot;dom-MediaController-paused&quot;&gt;paused&lt;/span&gt;;
+  readonly attribute &lt;span&gt;MediaControllerPlaybackState&lt;/span&gt; &lt;span title=&quot;dom-MediaController-playbackState&quot;&gt;playbackState&lt;/span&gt;;
   readonly attribute &lt;span&gt;TimeRanges&lt;/span&gt; &lt;span title=&quot;dom-MediaController-played&quot;&gt;played&lt;/span&gt;;
   void &lt;span title=&quot;dom-MediaController-play&quot;&gt;play&lt;/span&gt;();
   void &lt;span title=&quot;dom-MediaController-pause&quot;&gt;pause&lt;/span&gt;();
@@ -34705,6 +34709,19 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=&quot;dom-MediaController-readyState&quot;&gt;readyState&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;MediaController&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;span title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/span&gt;. The
+    values of this attribute are the same as for the &lt;code
+    title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute of &lt;span
+    title=&quot;media element&quot;&gt;media elements&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=&quot;dom-MediaController-buffered&quot;&gt;buffered&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -34761,6 +34778,25 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=&quot;dom-MediaController-playbackState&quot;&gt;playbackState&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the state that the &lt;code&gt;MediaController&lt;/code&gt; was in
+    the last time it fired events as a result of &lt;span title=&quot;report
+    the controller state&quot;&gt;reporting teh controller state&lt;/span&gt;. The
+    value of this attribute is either &quot;&lt;code
+    title=&quot;dom-MediaController-playing&quot;&gt;playing&lt;/code&gt;&quot;, indicating
+    that the media is actively playing, &quot;&lt;code
+    title=&quot;dom-MediaController-ended&quot;&gt;ended&lt;/code&gt;&quot;, indicating that
+    the media is not playing because playback has reached the end of
+    all the &lt;span&gt;slaved media elements&lt;/span&gt;, or &quot;&lt;code
+    title=&quot;dom-MediaController-waiting&quot;&gt;waiting&lt;/code&gt;&quot;, indicating
+    that the media is not playing for some other reason (e.g. the
+    &lt;code&gt;MediaController&lt;/code&gt; is paused).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;controller&lt;/var&gt; . &lt;code title=&quot;dom-MediaController-play&quot;&gt;play&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -34928,6 +34964,15 @@
   &lt;hr&gt;
 
   &lt;p&gt;The &lt;dfn
+  title=&quot;dom-MediaController-readyState&quot;&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;MediaController&lt;/code&gt; object is created, the
+  attribute must be set to the value 0 (&lt;code
+  title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;). The value is
+  updated by the &lt;span&gt;report the controller state&lt;/span&gt; algorithm
+  below.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
   title=&quot;dom-MediaController-seekable&quot;&gt;&lt;code&gt;seekable&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;span&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/span&gt; that represents the
@@ -35017,6 +35062,15 @@
   state&lt;/span&gt; of the &lt;code&gt;MediaController&lt;/code&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
+  title=&quot;dom-MediaController-playbackState&quot;&gt;&lt;code&gt;playbackState&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value to which it was most recently set.
+  When the &lt;code&gt;MediaController&lt;/code&gt; object is created, the
+  attribute must be set to the value &quot;&lt;code
+  title=&quot;dom-MediaController-waiting&quot;&gt;waiting&lt;/code&gt;&quot;. The value is
+  updated by the &lt;span&gt;report the controller state&lt;/span&gt; algorithm
+  below.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
   title=&quot;dom-MediaController-played&quot;&gt;&lt;code&gt;played&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a new static &lt;span&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/span&gt; that represents the union of
@@ -35265,11 +35319,25 @@
      &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Increment &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; by
      one.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-     event&lt;/span&gt; at the &lt;code&gt;MediaController&lt;/code&gt; object, whose
-     name is the event name corresponding to the value of &lt;var
-     title=&quot;&quot;&gt;next state&lt;/var&gt; given in the table below.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to run the following steps:&lt;/p&gt;
+
+      &lt;ol&gt;
+
+       &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;MediaController&lt;/code&gt;'s &lt;code
+       title=&quot;dom-MediaController-readyState&quot;&gt;readyState&lt;/code&gt;
+       attribute to the value &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+       &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; at the
+       &lt;code&gt;MediaController&lt;/code&gt; object, whose name is the event
+       name corresponding to the value of &lt;var title=&quot;&quot;&gt;next
+       state&lt;/var&gt; given in the table below.&lt;/p&gt;&lt;/li&gt;
+
+      &lt;/ol&gt;
+
+     &lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;next state&lt;/var&gt; is less than &lt;var
      title=&quot;&quot;&gt;new readiness state&lt;/var&gt;, then return to the step
      labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
@@ -35367,18 +35435,52 @@
    title=&quot;event-MediaController-pause&quot;&gt;pause&lt;/code&gt; at the
    &lt;code&gt;MediaController&lt;/code&gt; object.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;MediaController&lt;/code&gt;'s &lt;span&gt;most recently
-   reported playback state&lt;/span&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
-   playback state&lt;/var&gt; then &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
-   simple event&lt;/span&gt; at the &lt;code&gt;MediaController&lt;/code&gt; object,
-   whose name is &lt;code
-   title=&quot;event-MediaController-playing&quot;&gt;playing&lt;/code&gt; if &lt;var
-   title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;playing&lt;/i&gt;, &lt;code
-   title=&quot;event-MediaController-ended&quot;&gt;ended&lt;/code&gt; if &lt;var
-   title=&quot;&quot;&gt;new playback state&lt;/var&gt; is &lt;i&gt;ended&lt;/i&gt;, and &lt;code
-   title=&quot;event-MediaController-waiting&quot;&gt;waiting&lt;/code&gt;
-   otherwise.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;code&gt;MediaController&lt;/code&gt;'s &lt;span&gt;most recently
+    reported playback state&lt;/span&gt; is not equal to &lt;var title=&quot;&quot;&gt;new
+    playback state&lt;/var&gt; then &lt;span&gt;queue a task&lt;/span&gt; to run the
+    following steps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;MediaController&lt;/code&gt;'s &lt;code
+     title=&quot;dom-MediaController-playbackState&quot;&gt;playbackState&lt;/code&gt;
+     attribute to the value given in the second column of the row of
+     the following table whose first column contains the &lt;var
+     title=&quot;&quot;&gt;new playback state&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; at the
+     &lt;code&gt;MediaController&lt;/code&gt; object, whose name is the value
+     given in the third column of the row of the following table whose
+     first column contains the &lt;var title=&quot;&quot;&gt;new playback
+     state&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+    &lt;table&gt;
+     &lt;thead&gt;
+      &lt;tr&gt;
+       &lt;th&gt;New playback state
+       &lt;th&gt;New value for &lt;code title=&quot;dom-MediaController-playbackState&quot;&gt;playbackState&lt;/code&gt;
+       &lt;th&gt;Event name
+     &lt;tbody&gt;
+      &lt;tr&gt;
+       &lt;td&gt;&lt;i&gt;playing&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn title=&quot;dom-MediaController-playing&quot;&gt;&lt;code&gt;playing&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=&quot;event-MediaController-playing&quot;&gt;playing&lt;/code&gt;
+      &lt;tr&gt;
+       &lt;td&gt;&lt;i&gt;waiting&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn title=&quot;dom-MediaController-waiting&quot;&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=&quot;event-MediaController-waiting&quot;&gt;waiting&lt;/code&gt;
+      &lt;tr&gt;
+       &lt;td&gt;&lt;i&gt;ended&lt;/i&gt;
+       &lt;td&gt;&quot;&lt;dfn title=&quot;dom-MediaController-ended&quot;&gt;&lt;code&gt;ended&lt;/code&gt;&lt;/dfn&gt;&quot;
+       &lt;td&gt;&lt;code title=&quot;event-MediaController-ended&quot;&gt;ended&lt;/code&gt;
+    &lt;/table&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Let the &lt;code&gt;MediaController&lt;/code&gt;'s &lt;span&gt;most recently
    reported playback state&lt;/span&gt; be &lt;var title=&quot;&quot;&gt;new playback
    state&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013980.html">[html5] r7115 - [giow] (0) Update the controller state when the	current media controller changes [...]
</A></li>
	<LI>Next message: <A HREF="013982.html">[html5] r7117 - [e] (0) Make the spec not appear to contradict	itself. Affected topics: Video an [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13981">[ date ]</a>
              <a href="thread.html#13981">[ thread ]</a>
              <a href="subject.html#13981">[ subject ]</a>
              <a href="author.html#13981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
