<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7025 - [giow] (0) Add ellipse support to canvas. Affected	topics: Canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7025%20-%20%5Bgiow%5D%20%280%29%20Add%20ellipse%20support%20to%20canvas.%20Affected%0A%09topics%3A%20Canvas&In-Reply-To=%3C20120313193357.CE3F1805C0DB%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013889.html">
   <LINK REL="Next"  HREF="013891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7025 - [giow] (0) Add ellipse support to canvas. Affected	topics: Canvas</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7025%20-%20%5Bgiow%5D%20%280%29%20Add%20ellipse%20support%20to%20canvas.%20Affected%0A%09topics%3A%20Canvas&In-Reply-To=%3C20120313193357.CE3F1805C0DB%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7025 - [giow] (0) Add ellipse support to canvas. Affected	topics: Canvas">whatwg at whatwg.org
       </A><BR>
    <I>Tue Mar 13 12:33:57 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="013889.html">[html5] r7024 - [giow] (0) Make it possible to draw Path primitives	to the canvas. Affected topi [...]
</A></li>
        <LI>Next message: <A HREF="013891.html">[html5] r7026 - [giow] (0) Add SVG paths to Path objects in canvas.	Affected topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13890">[ date ]</a>
              <a href="thread.html#13890">[ thread ]</a>
              <a href="subject.html#13890">[ subject ]</a>
              <a href="author.html#13890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-03-13 12:33:56 -0700 (Tue, 13 Mar 2012)
New Revision: 7025

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Add ellipse support to canvas.
Affected topics: Canvas

Modified: complete.html
===================================================================
--- complete.html	2012-03-10 00:31:27 UTC (rev 7024)
+++ complete.html	2012-03-13 19:33:56 UTC (rev 7025)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 March 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 13 March 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -34988,8 +34988,10 @@
   void &lt;a href=#dom-context-2d-quadraticcurveto title=dom-context-2d-quadraticCurveTo&gt;quadraticCurveTo&lt;/a&gt;(double cpx, double cpy, double x, double y);
   void &lt;a href=#dom-context-2d-beziercurveto title=dom-context-2d-bezierCurveTo&gt;bezierCurveTo&lt;/a&gt;(double cp1x, double cp1y, double cp2x, double cp2y, double x, double y);
   void &lt;a href=#dom-context-2d-arcto title=dom-context-2d-arcTo&gt;arcTo&lt;/a&gt;(double x1, double y1, double x2, double y2, double radius); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-arcto title=dom-context-2d-arcTo&gt;arcTo&lt;/a&gt;(double x1, double y1, double x2, double y2, double radiusX, double radiusY, double rotation); &lt;!-- see ARC-ORDER note below --&gt;
   void &lt;a href=#dom-context-2d-rect title=dom-context-2d-rect&gt;rect&lt;/a&gt;(double x, double y, double w, double h);
-  void &lt;a href=#dom-context-2d-arc title=dom-context-2d-arc&gt;arc&lt;/a&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-arc title=dom-context-2d-arc&gt;arc&lt;/a&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise = false); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-ellipse title=dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;(double x, double y, double radiusX, double radiusY, double rotation, double startAngle, double endAngle, boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
 };
 
 interface &lt;dfn id=canvasgradient&gt;CanvasGradient&lt;/dfn&gt; {
@@ -35862,8 +35864,8 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -35871,11 +35873,154 @@
     current subpath, connected to the previous point by a straight
     line.&lt;/p&gt;
 
+    &lt;p&gt;If two radii are provided, the first controls the width of the
+    arc's ellipse, and the second controls the height. If only one is
+    provided, or if they are the same, the arc is from a circle. In
+    the case of an ellipse, the rotation argument controls the
+    anti-clockwise inclination of the ellipse relative to the x-axis.&lt;/p&gt;
+
     &lt;p&gt;Throws an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception if the given
     radius is negative.&lt;/p&gt;
 
-   &lt;/dd&gt;
+    &lt;figure class=diagrams&gt;&lt;!-- if anyone wants to try writing alternative text for these,
+     be my guest. I can't work out how to describe them. --&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo1.png">http://images.whatwg.org/arcTo1.png</A>&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo2.png">http://images.whatwg.org/arcTo2.png</A>&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo3.png">http://images.whatwg.org/arcTo3.png</A>&gt;&lt;/figure&gt;&lt;!--
 
+c.clearRect(0, 0, 640, 480);
+c.save();
+try {
+  var x0 = 150;
+  var y0 = 100;
+  var x1 = 375;
+  var y1 = 100;
+  var x2 = x1;
+  var y2 = 250;
+  var r = 50;
+
+  var bottom = 210;
+  var center = 100;
+
+  var fontSize = 16;
+  var margin = 50;
+  var dotHalfSize = 5;
+
+  // (also update the label positions at the bottom)
+
+
+  // ========
+
+  function extendLine(xa,ya,xb,yb) {
+    var dx = xb-xa;
+    var dy = yb-ya;
+    var theta = Math.atan2(dx,dy);
+    var extX = margin * Math.sin(theta);
+    var extY = margin * Math.cos(theta);
+    c.beginPath();
+    c.moveTo(xa-extX,ya-extY);
+    c.lineTo(xb+extX,yb+extY);
+    c.stroke();
+  }
+
+  function dot(x,y,s) {
+    c.beginPath();
+    c.arc(x,y,dotHalfSize,0,Math.PI*2);
+    c.fill();
+    c.textAlign = 'left';
+    c.textBaseline = 'top';
+    c.fillText(s,x+dotHalfSize,y);
+  }
+
+  c.font = fontSize + 'px Gill Sans';
+  c.fillStyle = 'black';
+  c.lineWidth = 1;
+  c.strokeStyle = 'red';
+  extendLine(x0,y0,x1,y1);
+  extendLine(x1,y1,x2,y2);
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'silver';
+  c.beginPath();
+  c.moveTo(x0,y0);
+
+  // based on <A HREF="http://lists.freedesktop.org/archives/cairo/2005-August/004801.html">http://lists.freedesktop.org/archives/cairo/2005-August/004801.html</A>
+  var angle0, angle1, angle2, angled;
+  var xc, yc, dc;
+  angle0 = Math.atan2(y0 - y1, x0 - x1);
+  angle2 = Math.atan2(y2 - y1, x2 - x1);
+  angle1 = (angle0 + angle2) / 2;
+  angled = angle2 - angle0;
+  if (angled &gt; Math.PI || (angled &lt; 0 &amp;&amp; angled &gt; -Math.PI)) {
+    angle1 += Math.PI;
+    angled = 2 * Math.PI - angled;
+    angle0 += Math.PI*2;
+    angle2 -= Math.PI*2;
+  } else {
+    angle0 -= Math.PI*2;
+    angle2 += Math.PI*2;
+  }
+  dc = r / Math.sin (angled / 2);
+  yc = Math.sin(angle1);
+  xc = Math.cos(angle1);
+  xc = x1 + xc * dc;
+  yc = y1 + yc * dc;
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'blue';
+  c.beginPath();
+  c.moveTo(xc,yc);
+  c.arc(xc,yc,r, Math.PI*3/4, Math.PI*(3/4));
+  c.stroke();
+  c.beginPath();
+  c.strokeStyle = 'silver';
+  c.arc(xc,yc,r, Math.PI*3/4,Math.PI*(2+3/4));
+  c.stroke();
+  c.save();
+  try {
+    c.translate(xc, yc);
+    c.rotate(-Math.PI/4);
+    c.textAlign = 'center';
+    c.textBaseline = 'top';
+    c.fillText(&quot;radius&quot;, -r/2, 0);
+  } finally {
+    c.restore();
+  }
+
+  c.lineWidth = 15;
+  c.lineCap = 'round';
+  c.strokeStyle = 'rgba(20,200,40,0.8)';
+  c.beginPath();
+  c.moveTo(x0,y0);
+  c.arcTo(x1,y1,x2,y2,r);
+  c.stroke();
+
+  dot(x0,y0, &quot;x\u2080,y\u2080&quot;);
+  dot(x1,y1, &quot;x\u2081,y\u2081&quot;);
+  dot(x2,y2, &quot;x\u2082,y\u2082&quot;);
+  dot(xc,yc, '');
+
+  c.textAlign = 'left';
+  c.textBaseline = 'alphabetic';
+  var L = 0;
+
+  function print(s) {
+    c.fillText(s, center, bottom+L*fontSize*1.3);
+    L += 1;
+  }
+  print('// the thick line corresponds to:');
+  print('context.moveTo(x\u2080, y\u2080)');
+  print('context.arcTo(x\u2081, y\u2081, x\u2082, y\u2082, radius)');
+  print('context.stroke()');
+
+  c.fillStyle = 'green';
+  c.fillText(&quot;\u25be initial line&quot;, 160, 70);
+  c.textAlign = 'right';
+  c.fillText(&quot;arc \u25b8&quot;, x1-25, 115);
+
+} finally {
+  c.restore();
+}
+
+--&gt;&lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; ] )&lt;/dt&gt;
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; ] )&lt;/dt&gt;
 
@@ -35892,6 +36037,22 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Adds points to the subpath such that the arc described by the
+    circumference of the ellipse described by the arguments, starting
+    at the given start angle and ending at the given end angle, going
+    in the given direction (defaulting to clockwise), is added to the
+    path, connected to the previous point by a straight line.&lt;/p&gt;
+
+    &lt;p&gt;Throws an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception if the given
+    radius is negative.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-rect&gt;&lt;a href=#dom-context-2d-rect&gt;rect&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-rect&gt;&lt;a href=#dom-context-2d-rect&gt;rect&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
 
@@ -35972,13 +36133,14 @@
   curve with control points (&lt;var title=&quot;&quot;&gt;cp1x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;cp1y&lt;/var&gt;) and (&lt;var title=&quot;&quot;&gt;cp2x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;cp2y&lt;/var&gt;). Then, it must add the point (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) to the subpath. &lt;a href=#refsBEZIER&gt;[BEZIER]&lt;/a&gt;&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-arcto title=dom-context-2d-arcTo&gt;&lt;code&gt;arcTo(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must first &lt;a href=#ensure-there-is-a-subpath&gt;ensure there is a subpath&lt;/a&gt; for &lt;span title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;. Then, the behavior depends on the
-  arguments and the last point in the subpath, as described below.&lt;/p&gt;
+  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must first &lt;a href=#ensure-there-is-a-subpath&gt;ensure there is a subpath&lt;/a&gt; for &lt;span title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;.
+  Then, the behavior depends on the arguments and the last point in
+  the subpath, as described below.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception. If &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; is omitted, user agents must act as if it had
+  the same value as &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;.&lt;/p&gt;
 
   &lt;p&gt;Let the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) be
   the last point in the subpath.&lt;/p&gt;
@@ -35987,9 +36149,10 @@
   equal to the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;),
   or if the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) is
   equal to the point (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;),
-  or if the radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; is zero, then the method
-  must add the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)
-  to the subpath, and connect that point to the previous point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
+  or if both &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; are zero, then the method must add the point
+  (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) to the subpath, and
+  connect that point to the previous point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, if the points (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;), (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;), and (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;) all lie on a single straight line, then the
   method must add the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) to the subpath, and connect that point to the
@@ -35997,12 +36160,14 @@
   straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;The Arc&lt;/var&gt; be the shortest arc
-  given by circumference of the circle that has radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, and that has one point tangent to the
+  given by circumference of the ellipse that has radius &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; on the major axis and radius &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; on the minor axis, and whose semi-major axis
+  is rotated &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; radians anti-clockwise from
+  the positive x-axis, and that has one point tangent to the
   half-infinite line that crosses the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) and ends at the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;), and that has a different
   point tangent to the half-infinite line that ends at the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) and crosses the point
   (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;). The points at
-  which this circle touches these two lines are called the start and
+  which this ellipse touches these two lines are called the start and
   end tangent points respectively. The method must connect the point
   (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) to the start
   tangent point by a straight line, adding the start tangent point to
@@ -36011,38 +36176,48 @@
   tangent point to the subpath.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-arc title=dom-context-2d-arc&gt;&lt;code&gt;arc(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method draws an arc. If
-  the object's path has any subpaths, then the method must add a
-  straight line from the last point in the subpath to the start point
-  of the arc. In any case, it must draw the arc between the start
-  point of the arc and the end point of the arc, and add the start and
-  end points of the arc to the subpath. The arc and its start and end
+  &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-context-2d-ellipse title=dom-context-2d-ellipse&gt;&lt;code&gt;ellipse(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; methods draw arcs.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method is
+  equivalent to the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt; method in the case
+  where the two radii are equal. When the &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method is invoked, it must
+  act as if the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt;
+  method had been invoked with the &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and
+  &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; arguments set to the value of the &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; argument, the &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;
+  argument set to zero, and the other arguments set to the same values
+  as their identically named arguments on the &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt;
+  method is invoked, it must proceed as follows. First, if the
+  object's path has any subpaths, then the method must add a straight
+  line from the last point in the subpath to the start point of the
+  arc. Then, it must add the start and end points of the arc to the
+  subpath, and connect them with an arc. The arc and its start and end
   points are defined as follows:&lt;/p&gt;
 
-  &lt;p&gt;Consider a circle that has its origin at (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) and that has radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;. The points at &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;
-  and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along this circle's circumference,
-  measured in radians clockwise from the positive x-axis, are the
-  start and end points respectively.&lt;/p&gt;
+  &lt;p&gt;Consider an ellipse that has its origin at (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;), that has a major-axis
+  radius &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and a minor-axis radius &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, and that is rotated about its origin such
+  that its semi-major axis is inclined &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;
+  radians anti-clockwise from the x-axis. The points at &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along
+  this circle's circumference, measured in radians clockwise from the
+  ellipse's semi-major axis, are the start and end points
+  respectively.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is omitted or
-  false and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;&lt;/span&gt; is equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, or, if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument false and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;&lt;/span&gt; is equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, or, if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;
   argument is &lt;em&gt;true&lt;/em&gt; and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;&lt;/span&gt; is
   equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, then the arc
-  is the whole circumference of this circle.&lt;/p&gt;
+  is the whole circumference of this ellipse.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, the arc is the path along the circumference of this
-  circle from the start point to the end point, going anti-clockwise
+  ellipse from the start point to the end point, going anti-clockwise
   if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is true, and
-  clockwise otherwise. Since the points are on the circle, as opposed
+  clockwise otherwise. Since the points are on the ellipse, as opposed
   to being simply angles from zero, the arc can never cover an angle
-  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians. If the two points
-  are the same, or if the radius is zero, then the arc is defined as
-  being of zero length in both directions.&lt;/p&gt;
+  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-rect title=dom-context-2d-rect&gt;&lt;code&gt;rect(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must create a new subpath
   containing just the four points (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;), (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;w&lt;/var&gt;,

Modified: index
===================================================================
--- index	2012-03-10 00:31:27 UTC (rev 7024)
+++ index	2012-03-13 19:33:56 UTC (rev 7025)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 March 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 13 March 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -34988,8 +34988,10 @@
   void &lt;a href=#dom-context-2d-quadraticcurveto title=dom-context-2d-quadraticCurveTo&gt;quadraticCurveTo&lt;/a&gt;(double cpx, double cpy, double x, double y);
   void &lt;a href=#dom-context-2d-beziercurveto title=dom-context-2d-bezierCurveTo&gt;bezierCurveTo&lt;/a&gt;(double cp1x, double cp1y, double cp2x, double cp2y, double x, double y);
   void &lt;a href=#dom-context-2d-arcto title=dom-context-2d-arcTo&gt;arcTo&lt;/a&gt;(double x1, double y1, double x2, double y2, double radius); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-arcto title=dom-context-2d-arcTo&gt;arcTo&lt;/a&gt;(double x1, double y1, double x2, double y2, double radiusX, double radiusY, double rotation); &lt;!-- see ARC-ORDER note below --&gt;
   void &lt;a href=#dom-context-2d-rect title=dom-context-2d-rect&gt;rect&lt;/a&gt;(double x, double y, double w, double h);
-  void &lt;a href=#dom-context-2d-arc title=dom-context-2d-arc&gt;arc&lt;/a&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-arc title=dom-context-2d-arc&gt;arc&lt;/a&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise = false); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;a href=#dom-context-2d-ellipse title=dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;(double x, double y, double radiusX, double radiusY, double rotation, double startAngle, double endAngle, boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
 };
 
 interface &lt;dfn id=canvasgradient&gt;CanvasGradient&lt;/dfn&gt; {
@@ -35862,8 +35864,8 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arcTo&gt;&lt;a href=#dom-context-2d-arcto&gt;arcTo&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -35871,11 +35873,154 @@
     current subpath, connected to the previous point by a straight
     line.&lt;/p&gt;
 
+    &lt;p&gt;If two radii are provided, the first controls the width of the
+    arc's ellipse, and the second controls the height. If only one is
+    provided, or if they are the same, the arc is from a circle. In
+    the case of an ellipse, the rotation argument controls the
+    anti-clockwise inclination of the ellipse relative to the x-axis.&lt;/p&gt;
+
     &lt;p&gt;Throws an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception if the given
     radius is negative.&lt;/p&gt;
 
-   &lt;/dd&gt;
+    &lt;figure class=diagrams&gt;&lt;!-- if anyone wants to try writing alternative text for these,
+     be my guest. I can't work out how to describe them. --&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo1.png">http://images.whatwg.org/arcTo1.png</A>&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo2.png">http://images.whatwg.org/arcTo2.png</A>&gt;&lt;img alt=&quot;&quot; src=<A HREF="http://images.whatwg.org/arcTo3.png">http://images.whatwg.org/arcTo3.png</A>&gt;&lt;/figure&gt;&lt;!--
 
+c.clearRect(0, 0, 640, 480);
+c.save();
+try {
+  var x0 = 150;
+  var y0 = 100;
+  var x1 = 375;
+  var y1 = 100;
+  var x2 = x1;
+  var y2 = 250;
+  var r = 50;
+
+  var bottom = 210;
+  var center = 100;
+
+  var fontSize = 16;
+  var margin = 50;
+  var dotHalfSize = 5;
+
+  // (also update the label positions at the bottom)
+
+
+  // ========
+
+  function extendLine(xa,ya,xb,yb) {
+    var dx = xb-xa;
+    var dy = yb-ya;
+    var theta = Math.atan2(dx,dy);
+    var extX = margin * Math.sin(theta);
+    var extY = margin * Math.cos(theta);
+    c.beginPath();
+    c.moveTo(xa-extX,ya-extY);
+    c.lineTo(xb+extX,yb+extY);
+    c.stroke();
+  }
+
+  function dot(x,y,s) {
+    c.beginPath();
+    c.arc(x,y,dotHalfSize,0,Math.PI*2);
+    c.fill();
+    c.textAlign = 'left';
+    c.textBaseline = 'top';
+    c.fillText(s,x+dotHalfSize,y);
+  }
+
+  c.font = fontSize + 'px Gill Sans';
+  c.fillStyle = 'black';
+  c.lineWidth = 1;
+  c.strokeStyle = 'red';
+  extendLine(x0,y0,x1,y1);
+  extendLine(x1,y1,x2,y2);
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'silver';
+  c.beginPath();
+  c.moveTo(x0,y0);
+
+  // based on <A HREF="http://lists.freedesktop.org/archives/cairo/2005-August/004801.html">http://lists.freedesktop.org/archives/cairo/2005-August/004801.html</A>
+  var angle0, angle1, angle2, angled;
+  var xc, yc, dc;
+  angle0 = Math.atan2(y0 - y1, x0 - x1);
+  angle2 = Math.atan2(y2 - y1, x2 - x1);
+  angle1 = (angle0 + angle2) / 2;
+  angled = angle2 - angle0;
+  if (angled &gt; Math.PI || (angled &lt; 0 &amp;&amp; angled &gt; -Math.PI)) {
+    angle1 += Math.PI;
+    angled = 2 * Math.PI - angled;
+    angle0 += Math.PI*2;
+    angle2 -= Math.PI*2;
+  } else {
+    angle0 -= Math.PI*2;
+    angle2 += Math.PI*2;
+  }
+  dc = r / Math.sin (angled / 2);
+  yc = Math.sin(angle1);
+  xc = Math.cos(angle1);
+  xc = x1 + xc * dc;
+  yc = y1 + yc * dc;
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'blue';
+  c.beginPath();
+  c.moveTo(xc,yc);
+  c.arc(xc,yc,r, Math.PI*3/4, Math.PI*(3/4));
+  c.stroke();
+  c.beginPath();
+  c.strokeStyle = 'silver';
+  c.arc(xc,yc,r, Math.PI*3/4,Math.PI*(2+3/4));
+  c.stroke();
+  c.save();
+  try {
+    c.translate(xc, yc);
+    c.rotate(-Math.PI/4);
+    c.textAlign = 'center';
+    c.textBaseline = 'top';
+    c.fillText(&quot;radius&quot;, -r/2, 0);
+  } finally {
+    c.restore();
+  }
+
+  c.lineWidth = 15;
+  c.lineCap = 'round';
+  c.strokeStyle = 'rgba(20,200,40,0.8)';
+  c.beginPath();
+  c.moveTo(x0,y0);
+  c.arcTo(x1,y1,x2,y2,r);
+  c.stroke();
+
+  dot(x0,y0, &quot;x\u2080,y\u2080&quot;);
+  dot(x1,y1, &quot;x\u2081,y\u2081&quot;);
+  dot(x2,y2, &quot;x\u2082,y\u2082&quot;);
+  dot(xc,yc, '');
+
+  c.textAlign = 'left';
+  c.textBaseline = 'alphabetic';
+  var L = 0;
+
+  function print(s) {
+    c.fillText(s, center, bottom+L*fontSize*1.3);
+    L += 1;
+  }
+  print('// the thick line corresponds to:');
+  print('context.moveTo(x\u2080, y\u2080)');
+  print('context.arcTo(x\u2081, y\u2081, x\u2082, y\u2082, radius)');
+  print('context.stroke()');
+
+  c.fillStyle = 'green';
+  c.fillText(&quot;\u25be initial line&quot;, 160, 70);
+  c.textAlign = 'right';
+  c.fillText(&quot;arc \u25b8&quot;, x1-25, 115);
+
+} finally {
+  c.restore();
+}
+
+--&gt;&lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; ] )&lt;/dt&gt;
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; ] )&lt;/dt&gt;
 
@@ -35892,6 +36037,22 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Adds points to the subpath such that the arc described by the
+    circumference of the ellipse described by the arguments, starting
+    at the given start angle and ending at the given end angle, going
+    in the given direction (defaulting to clockwise), is added to the
+    path, connected to the previous point by a straight line.&lt;/p&gt;
+
+    &lt;p&gt;Throws an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception if the given
+    radius is negative.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-rect&gt;&lt;a href=#dom-context-2d-rect&gt;rect&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=dom-context-2d-rect&gt;&lt;a href=#dom-context-2d-rect&gt;rect&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
 
@@ -35972,13 +36133,14 @@
   curve with control points (&lt;var title=&quot;&quot;&gt;cp1x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;cp1y&lt;/var&gt;) and (&lt;var title=&quot;&quot;&gt;cp2x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;cp2y&lt;/var&gt;). Then, it must add the point (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) to the subpath. &lt;a href=#refsBEZIER&gt;[BEZIER]&lt;/a&gt;&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-arcto title=dom-context-2d-arcTo&gt;&lt;code&gt;arcTo(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must first &lt;a href=#ensure-there-is-a-subpath&gt;ensure there is a subpath&lt;/a&gt; for &lt;span title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;. Then, the behavior depends on the
-  arguments and the last point in the subpath, as described below.&lt;/p&gt;
+  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must first &lt;a href=#ensure-there-is-a-subpath&gt;ensure there is a subpath&lt;/a&gt; for &lt;span title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;.
+  Then, the behavior depends on the arguments and the last point in
+  the subpath, as described below.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception. If &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; is omitted, user agents must act as if it had
+  the same value as &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;.&lt;/p&gt;
 
   &lt;p&gt;Let the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) be
   the last point in the subpath.&lt;/p&gt;
@@ -35987,9 +36149,10 @@
   equal to the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;),
   or if the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) is
   equal to the point (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;),
-  or if the radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; is zero, then the method
-  must add the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)
-  to the subpath, and connect that point to the previous point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
+  or if both &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; are zero, then the method must add the point
+  (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) to the subpath, and
+  connect that point to the previous point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, if the points (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;), (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;), and (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;) all lie on a single straight line, then the
   method must add the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) to the subpath, and connect that point to the
@@ -35997,12 +36160,14 @@
   straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;The Arc&lt;/var&gt; be the shortest arc
-  given by circumference of the circle that has radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, and that has one point tangent to the
+  given by circumference of the ellipse that has radius &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; on the major axis and radius &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; on the minor axis, and whose semi-major axis
+  is rotated &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; radians anti-clockwise from
+  the positive x-axis, and that has one point tangent to the
   half-infinite line that crosses the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) and ends at the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;), and that has a different
   point tangent to the half-infinite line that ends at the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) and crosses the point
   (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;). The points at
-  which this circle touches these two lines are called the start and
+  which this ellipse touches these two lines are called the start and
   end tangent points respectively. The method must connect the point
   (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) to the start
   tangent point by a straight line, adding the start tangent point to
@@ -36011,38 +36176,48 @@
   tangent point to the subpath.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-arc title=dom-context-2d-arc&gt;&lt;code&gt;arc(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method draws an arc. If
-  the object's path has any subpaths, then the method must add a
-  straight line from the last point in the subpath to the start point
-  of the arc. In any case, it must draw the arc between the start
-  point of the arc and the end point of the arc, and add the start and
-  end points of the arc to the subpath. The arc and its start and end
+  &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-context-2d-ellipse title=dom-context-2d-ellipse&gt;&lt;code&gt;ellipse(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; methods draw arcs.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method is
+  equivalent to the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt; method in the case
+  where the two radii are equal. When the &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method is invoked, it must
+  act as if the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt;
+  method had been invoked with the &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and
+  &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; arguments set to the value of the &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; argument, the &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;
+  argument set to zero, and the other arguments set to the same values
+  as their identically named arguments on the &lt;code title=dom-context-2d-arc&gt;&lt;a href=#dom-context-2d-arc&gt;arc()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;code title=dom-context-2d-ellipse&gt;&lt;a href=#dom-context-2d-ellipse&gt;ellipse()&lt;/a&gt;&lt;/code&gt;
+  method is invoked, it must proceed as follows. First, if the
+  object's path has any subpaths, then the method must add a straight
+  line from the last point in the subpath to the start point of the
+  arc. Then, it must add the start and end points of the arc to the
+  subpath, and connect them with an arc. The arc and its start and end
   points are defined as follows:&lt;/p&gt;
 
-  &lt;p&gt;Consider a circle that has its origin at (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) and that has radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;. The points at &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;
-  and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along this circle's circumference,
-  measured in radians clockwise from the positive x-axis, are the
-  start and end points respectively.&lt;/p&gt;
+  &lt;p&gt;Consider an ellipse that has its origin at (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;), that has a major-axis
+  radius &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and a minor-axis radius &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, and that is rotated about its origin such
+  that its semi-major axis is inclined &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;
+  radians anti-clockwise from the x-axis. The points at &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along
+  this circle's circumference, measured in radians clockwise from the
+  ellipse's semi-major axis, are the start and end points
+  respectively.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is omitted or
-  false and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;&lt;/span&gt; is equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, or, if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument false and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;&lt;/span&gt; is equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, or, if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;
   argument is &lt;em&gt;true&lt;/em&gt; and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;&lt;/span&gt; is
   equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, then the arc
-  is the whole circumference of this circle.&lt;/p&gt;
+  is the whole circumference of this ellipse.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, the arc is the path along the circumference of this
-  circle from the start point to the end point, going anti-clockwise
+  ellipse from the start point to the end point, going anti-clockwise
   if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is true, and
-  clockwise otherwise. Since the points are on the circle, as opposed
+  clockwise otherwise. Since the points are on the ellipse, as opposed
   to being simply angles from zero, the arc can never cover an angle
-  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians. If the two points
-  are the same, or if the radius is zero, then the arc is defined as
-  being of zero length in both directions.&lt;/p&gt;
+  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;&lt;a href=#indexsizeerror&gt;IndexSizeError&lt;/a&gt;&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-rect title=dom-context-2d-rect&gt;&lt;code&gt;rect(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must create a new subpath
   containing just the four points (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;), (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;w&lt;/var&gt;,

Modified: source
===================================================================
--- source	2012-03-10 00:31:27 UTC (rev 7024)
+++ source	2012-03-13 19:33:56 UTC (rev 7025)
@@ -40667,8 +40667,10 @@
   void &lt;span title=&quot;dom-context-2d-quadraticCurveTo&quot;&gt;quadraticCurveTo&lt;/span&gt;(double cpx, double cpy, double x, double y);
   void &lt;span title=&quot;dom-context-2d-bezierCurveTo&quot;&gt;bezierCurveTo&lt;/span&gt;(double cp1x, double cp1y, double cp2x, double cp2y, double x, double y);
   void &lt;span title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/span&gt;(double x1, double y1, double x2, double y2, double radius); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;span title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/span&gt;(double x1, double y1, double x2, double y2, double radiusX, double radiusY, double rotation); &lt;!-- see ARC-ORDER note below --&gt;
   void &lt;span title=&quot;dom-context-2d-rect&quot;&gt;rect&lt;/span&gt;(double x, double y, double w, double h);
-  void &lt;span title=&quot;dom-context-2d-arc&quot;&gt;arc&lt;/span&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;span title=&quot;dom-context-2d-arc&quot;&gt;arc&lt;/span&gt;(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise = false); &lt;!-- see ARC-ORDER note below --&gt;
+  void &lt;span title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse&lt;/span&gt;(double x, double y, double radiusX, double radiusY, double rotation, double startAngle, double endAngle, boolean anticlockwise); &lt;!-- see ARC-ORDER note below --&gt;
 };
 
 interface &lt;dfn&gt;CanvasGradient&lt;/dfn&gt; {
@@ -41692,8 +41694,8 @@
 
    &lt;/dd&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-arcTo&quot;&gt;arcTo&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; ])&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -41701,9 +41703,161 @@
     current subpath, connected to the previous point by a straight
     line.&lt;/p&gt;
 
+    &lt;p&gt;If two radii are provided, the first controls the width of the
+    arc's ellipse, and the second controls the height. If only one is
+    provided, or if they are the same, the arc is from a circle. In
+    the case of an ellipse, the rotation argument controls the
+    anti-clockwise inclination of the ellipse relative to the x-axis.&lt;/p&gt;
+
     &lt;p&gt;Throws an &lt;code&gt;IndexSizeError&lt;/code&gt; exception if the given
     radius is negative.&lt;/p&gt;
 
+    &lt;figure class=&quot;diagrams&quot;&gt;
+     &lt;!-- if anyone wants to try writing alternative text for these,
+     be my guest. I can't work out how to describe them. --&gt;
+     &lt;img src=&quot;images/arcTo1.png&quot; alt=&quot;&quot;&gt;
+     &lt;img src=&quot;images/arcTo2.png&quot; alt=&quot;&quot;&gt;
+     &lt;img src=&quot;images/arcTo3.png&quot; alt=&quot;&quot;&gt;
+    &lt;/figure&gt;
+
+&lt;!--
+
+c.clearRect(0, 0, 640, 480);
+c.save();
+try {
+  var x0 = 150;
+  var y0 = 100;
+  var x1 = 375;
+  var y1 = 100;
+  var x2 = x1;
+  var y2 = 250;
+  var r = 50;
+
+  var bottom = 210;
+  var center = 100;
+
+  var fontSize = 16;
+  var margin = 50;
+  var dotHalfSize = 5;
+
+  // (also update the label positions at the bottom)
+
+
+  // ========
+
+  function extendLine(xa,ya,xb,yb) {
+    var dx = xb-xa;
+    var dy = yb-ya;
+    var theta = Math.atan2(dx,dy);
+    var extX = margin * Math.sin(theta);
+    var extY = margin * Math.cos(theta);
+    c.beginPath();
+    c.moveTo(xa-extX,ya-extY);
+    c.lineTo(xb+extX,yb+extY);
+    c.stroke();
+  }
+
+  function dot(x,y,s) {
+    c.beginPath();
+    c.arc(x,y,dotHalfSize,0,Math.PI*2);
+    c.fill();
+    c.textAlign = 'left';
+    c.textBaseline = 'top';
+    c.fillText(s,x+dotHalfSize,y);
+  }
+
+  c.font = fontSize + 'px Gill Sans';
+  c.fillStyle = 'black';
+  c.lineWidth = 1;
+  c.strokeStyle = 'red';
+  extendLine(x0,y0,x1,y1);
+  extendLine(x1,y1,x2,y2);
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'silver';
+  c.beginPath();
+  c.moveTo(x0,y0);
+
+  // based on <A HREF="http://lists.freedesktop.org/archives/cairo/2005-August/004801.html">http://lists.freedesktop.org/archives/cairo/2005-August/004801.html</A>
+  var angle0, angle1, angle2, angled;
+  var xc, yc, dc;
+  angle0 = Math.atan2(y0 - y1, x0 - x1);
+  angle2 = Math.atan2(y2 - y1, x2 - x1);
+  angle1 = (angle0 + angle2) / 2;
+  angled = angle2 - angle0;
+  if (angled &gt; Math.PI || (angled &lt; 0 &amp;&amp; angled &gt; -Math.PI)) {
+    angle1 += Math.PI;
+    angled = 2 * Math.PI - angled;
+    angle0 += Math.PI*2;
+    angle2 -= Math.PI*2;
+  } else {
+    angle0 -= Math.PI*2;
+    angle2 += Math.PI*2;
+  }
+  dc = r / Math.sin (angled / 2);
+  yc = Math.sin(angle1);
+  xc = Math.cos(angle1);
+  xc = x1 + xc * dc;
+  yc = y1 + yc * dc;
+
+  c.lineWidth = 1;
+  c.strokeStyle = 'blue';
+  c.beginPath();
+  c.moveTo(xc,yc);
+  c.arc(xc,yc,r, Math.PI*3/4, Math.PI*(3/4));
+  c.stroke();
+  c.beginPath();
+  c.strokeStyle = 'silver';
+  c.arc(xc,yc,r, Math.PI*3/4,Math.PI*(2+3/4));
+  c.stroke();
+  c.save();
+  try {
+    c.translate(xc, yc);
+    c.rotate(-Math.PI/4);
+    c.textAlign = 'center';
+    c.textBaseline = 'top';
+    c.fillText(&quot;radius&quot;, -r/2, 0);
+  } finally {
+    c.restore();
+  }
+
+  c.lineWidth = 15;
+  c.lineCap = 'round';
+  c.strokeStyle = 'rgba(20,200,40,0.8)';
+  c.beginPath();
+  c.moveTo(x0,y0);
+  c.arcTo(x1,y1,x2,y2,r);
+  c.stroke();
+
+  dot(x0,y0, &quot;x\u2080,y\u2080&quot;);
+  dot(x1,y1, &quot;x\u2081,y\u2081&quot;);
+  dot(x2,y2, &quot;x\u2082,y\u2082&quot;);
+  dot(xc,yc, '');
+
+  c.textAlign = 'left';
+  c.textBaseline = 'alphabetic';
+  var L = 0;
+
+  function print(s) {
+    c.fillText(s, center, bottom+L*fontSize*1.3);
+    L += 1;
+  }
+  print('// the thick line corresponds to:');
+  print('context.moveTo(x\u2080, y\u2080)');
+  print('context.arcTo(x\u2081, y\u2081, x\u2082, y\u2082, radius)');
+  print('context.stroke()');
+
+  c.fillStyle = 'green';
+  c.fillText(&quot;\u25be initial line&quot;, 160, 70);
+  c.textAlign = 'right';
+  c.fillText(&quot;arc \u25b8&quot;, x1-25, 115);
+
+} finally {
+  c.restore();
+}
+
+--&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-arc&quot;&gt;arc&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; ] )&lt;/dt&gt;
@@ -41722,6 +41876,22 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Adds points to the subpath such that the arc described by the
+    circumference of the ellipse described by the arguments, starting
+    at the given start angle and ending at the given end angle, going
+    in the given direction (defaulting to clockwise), is added to the
+    path, connected to the previous point by a straight line.&lt;/p&gt;
+
+    &lt;p&gt;Throws an &lt;code&gt;IndexSizeError&lt;/code&gt; exception if the given
+    radius is negative.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-rect&quot;&gt;rect&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;path&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-rect&quot;&gt;rect&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/dt&gt;
 
@@ -41833,15 +42003,18 @@
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-arcTo&quot;&gt;&lt;code&gt;arcTo(&lt;var
   title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
   method must first &lt;span&gt;ensure there is a subpath&lt;/span&gt; for &lt;span
-  title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;. Then, the behavior depends on the
-  arguments and the last point in the subpath, as described below.&lt;/p&gt;
+  title=&quot;&quot;&gt;(&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)&lt;/span&gt;.
+  Then, the behavior depends on the arguments and the last point in
+  the subpath, as described below.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;IndexSizeError&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;IndexSizeError&lt;/code&gt; exception. If &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt; is omitted, user agents must act as if it had
+  the same value as &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;.&lt;/p&gt;
 
   &lt;p&gt;Let the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) be
   the last point in the subpath.&lt;/p&gt;
@@ -41850,10 +42023,11 @@
   equal to the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;),
   or if the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) is
   equal to the point (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;),
-  or if the radius &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; is zero, then the method
-  must add the point (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;)
-  to the subpath, and connect that point to the previous point (&lt;var
-  title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
+  or if both &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt; are zero, then the method must add the point
+  (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) to the subpath, and
+  connect that point to the previous point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) by a straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, if the points (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var
   title=&quot;&quot;&gt;y0&lt;/var&gt;), (&lt;var title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var
@@ -41865,15 +42039,18 @@
   straight line.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;The Arc&lt;/var&gt; be the shortest arc
-  given by circumference of the circle that has radius &lt;var
-  title=&quot;&quot;&gt;radius&lt;/var&gt;, and that has one point tangent to the
+  given by circumference of the ellipse that has radius &lt;var
+  title=&quot;&quot;&gt;radiusX&lt;/var&gt; on the major axis and radius &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt; on the minor axis, and whose semi-major axis
+  is rotated &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt; radians anti-clockwise from
+  the positive x-axis, and that has one point tangent to the
   half-infinite line that crosses the point (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) and ends at the point (&lt;var
   title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;), and that has a different
   point tangent to the half-infinite line that ends at the point (&lt;var
   title=&quot;&quot;&gt;x1&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y1&lt;/var&gt;) and crosses the point
   (&lt;var title=&quot;&quot;&gt;x2&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y2&lt;/var&gt;). The points at
-  which this circle touches these two lines are called the start and
+  which this ellipse touches these two lines are called the start and
   end tangent points respectively. The method must connect the point
   (&lt;var title=&quot;&quot;&gt;x0&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y0&lt;/var&gt;) to the start
   tangent point by a straight line, adding the start tangent point to
@@ -41886,42 +42063,64 @@
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-arc&quot;&gt;&lt;code&gt;arc(&lt;var
   title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method draws an arc. If
-  the object's path has any subpaths, then the method must add a
-  straight line from the last point in the subpath to the start point
-  of the arc. In any case, it must draw the arc between the start
-  point of the arc and the end point of the arc, and add the start and
-  end points of the arc to the subpath. The arc and its start and end
+  title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
+  title=&quot;dom-context-2d-ellipse&quot;&gt;&lt;code&gt;ellipse(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;startAngle&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; methods draw arcs.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;dom-context-2d-arc&quot;&gt;arc()&lt;/code&gt; method is
+  equivalent to the &lt;code
+  title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse()&lt;/code&gt; method in the case
+  where the two radii are equal. When the &lt;code
+  title=&quot;dom-context-2d-arc&quot;&gt;arc()&lt;/code&gt; method is invoked, it must
+  act as if the &lt;code title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse()&lt;/code&gt;
+  method had been invoked with the &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and
+  &lt;var title=&quot;&quot;&gt;radiusY&lt;/var&gt; arguments set to the value of the &lt;var
+  title=&quot;&quot;&gt;radius&lt;/var&gt; argument, the &lt;var title=&quot;&quot;&gt;rotation&lt;/var&gt;
+  argument set to zero, and the other arguments set to the same values
+  as their identically named arguments on the &lt;code
+  title=&quot;dom-context-2d-arc&quot;&gt;arc()&lt;/code&gt; method.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;code title=&quot;dom-context-2d-ellipse&quot;&gt;ellipse()&lt;/code&gt;
+  method is invoked, it must proceed as follows. First, if the
+  object's path has any subpaths, then the method must add a straight
+  line from the last point in the subpath to the start point of the
+  arc. Then, it must add the start and end points of the arc to the
+  subpath, and connect them with an arc. The arc and its start and end
   points are defined as follows:&lt;/p&gt;
 
-  &lt;p&gt;Consider a circle that has its origin at (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) and that has radius &lt;var
-  title=&quot;&quot;&gt;radius&lt;/var&gt;. The points at &lt;var title=&quot;&quot;&gt;startAngle&lt;/var&gt;
-  and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along this circle's circumference,
-  measured in radians clockwise from the positive x-axis, are the
-  start and end points respectively.&lt;/p&gt;
+  &lt;p&gt;Consider an ellipse that has its origin at (&lt;var
+  title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;), that has a major-axis
+  radius &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; and a minor-axis radius &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt;, and that is rotated about its origin such
+  that its semi-major axis is inclined &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt;
+  radians anti-clockwise from the x-axis. The points at &lt;var
+  title=&quot;&quot;&gt;startAngle&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt; along
+  this circle's circumference, measured in radians clockwise from the
+  ellipse's semi-major axis, are the start and end points
+  respectively.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is omitted or
-  false and &lt;span title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument false and &lt;span
+  title=&quot;&quot;&gt;&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;-&lt;var
   title=&quot;&quot;&gt;startAngle&lt;/var&gt;&lt;/span&gt; is equal to or greater than &lt;span
   title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, or, if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt;
   argument is &lt;em&gt;true&lt;/em&gt; and &lt;span title=&quot;&quot;&gt;&lt;var
   title=&quot;&quot;&gt;startAngle&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;endAngle&lt;/var&gt;&lt;/span&gt; is
   equal to or greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt;, then the arc
-  is the whole circumference of this circle.&lt;/p&gt;
+  is the whole circumference of this ellipse.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, the arc is the path along the circumference of this
-  circle from the start point to the end point, going anti-clockwise
+  ellipse from the start point to the end point, going anti-clockwise
   if the &lt;var title=&quot;&quot;&gt;anticlockwise&lt;/var&gt; argument is true, and
-  clockwise otherwise. Since the points are on the circle, as opposed
+  clockwise otherwise. Since the points are on the ellipse, as opposed
   to being simply angles from zero, the arc can never cover an angle
-  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians. If the two points
-  are the same, or if the radius is zero, then the arc is defined as
-  being of zero length in both directions.&lt;/p&gt;
+  greater than &lt;span title=&quot;&quot;&gt;2&pi;&lt;/span&gt; radians.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radius&lt;/var&gt; must cause the
-  implementation to throw an &lt;code&gt;IndexSizeError&lt;/code&gt;
-  exception.&lt;/p&gt;
+  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;radiusX&lt;/var&gt; or &lt;var
+  title=&quot;&quot;&gt;radiusY&lt;/var&gt; must cause the implementation to throw an
+  &lt;code&gt;IndexSizeError&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;hr&gt;
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013889.html">[html5] r7024 - [giow] (0) Make it possible to draw Path primitives	to the canvas. Affected topi [...]
</A></li>
	<LI>Next message: <A HREF="013891.html">[html5] r7026 - [giow] (0) Add SVG paths to Path objects in canvas.	Affected topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13890">[ date ]</a>
              <a href="thread.html#13890">[ thread ]</a>
              <a href="subject.html#13890">[ subject ]</a>
              <a href="author.html#13890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
