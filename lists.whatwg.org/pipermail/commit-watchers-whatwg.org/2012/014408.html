<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7548 - [giow] (2) Support &lt;script crossorigin&gt;. Affected	topics: DOM APIs, HTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7548%20-%20%5Bgiow%5D%20%282%29%20Support%20%3Cscript%20crossorigin%3E.%20Affected%0A%09topics%3A%20DOM%20APIs%2C%20HTML&In-Reply-To=%3C20121129002310.9E77E247C007%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014407.html">
   <LINK REL="Next"  HREF="014409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7548 - [giow] (2) Support &lt;script crossorigin&gt;. Affected	topics: DOM APIs, HTML</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7548%20-%20%5Bgiow%5D%20%282%29%20Support%20%3Cscript%20crossorigin%3E.%20Affected%0A%09topics%3A%20DOM%20APIs%2C%20HTML&In-Reply-To=%3C20121129002310.9E77E247C007%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7548 - [giow] (2) Support &lt;script crossorigin&gt;. Affected	topics: DOM APIs, HTML">whatwg at whatwg.org
       </A><BR>
    <I>Wed Nov 28 16:23:10 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014407.html">[html5] r7547 - [e] (0) Lists are ordered,	people. Things that aren't ordered are called sets or [...]
</A></li>
        <LI>Next message: <A HREF="014409.html">[html5] r7549 - [giow] (2) Support &lt;link crossorigin&gt;. Affected	topics: DOM APIs, HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14408">[ date ]</a>
              <a href="thread.html#14408">[ thread ]</a>
              <a href="subject.html#14408">[ subject ]</a>
              <a href="author.html#14408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-11-28 16:23:09 -0800 (Wed, 28 Nov 2012)
New Revision: 7548

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Support &lt;script crossorigin&gt;.
Affected topics: DOM APIs, HTML

Modified: complete.html
===================================================================
--- complete.html	2012-11-28 00:27:51 UTC (rev 7547)
+++ complete.html	2012-11-29 00:23:09 UTC (rev 7548)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 November 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 29 November 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -15998,18 +15998,20 @@
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
    &lt;dd&gt;
 &lt;pre class=idl&gt;interface &lt;dfn id=htmlscriptelement&gt;HTMLScriptElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=#dom-script-src title=dom-script-src&gt;src&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-type title=dom-script-type&gt;type&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-charset title=dom-script-charset&gt;charset&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-script-async title=dom-script-async&gt;async&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-script-defer title=dom-script-defer&gt;defer&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-script-type title=dom-script-type&gt;type&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-script-charset title=dom-script-charset&gt;charset&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-crossorigin title=dom-script-crossorigin&gt;crossOrigin&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-script-text title=dom-script-text&gt;text&lt;/a&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
@@ -16093,11 +16095,13 @@
   support &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; (and not &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;) to fall back to the &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; behavior instead of the
   synchronous blocking behavior that is the default.&lt;/p&gt;
 
-  &lt;p&gt;Changing the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; attributes dynamically has no
-  direct effect; these attribute are only used at specific times
-  described below.&lt;/p&gt; &lt;!-- by implication, changes to the base URL
-  also have no effect --&gt;
+  &lt;p&gt;The &lt;dfn id=attr-script-crossorigin title=attr-script-crossorigin&gt;&lt;code&gt;crossorigin&lt;/code&gt;&lt;/dfn&gt; attribute is a
+  &lt;a href=#cors-settings-attribute&gt;CORS settings attribute&lt;/a&gt;. It controls, for scripts that are obtained from other &lt;a href=#origin title=origin&gt;origins&lt;/a&gt;, whether error information will be exposed.&lt;/p&gt;
 
+  &lt;p&gt;Changing the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attributes dynamically has no direct effect;
+  these attribute are only used at specific times described below.&lt;/p&gt; &lt;!-- by implication, changes
+  to the base URL also have no effect --&gt;
+
   &lt;div class=impl&gt;
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element has several associated pieces of
@@ -16349,39 +16353,51 @@
    &lt;li id=script-processing-src-prepare&gt;
 
     &lt;p&gt;If the element has a &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;
-    attribute whose value is not the empty string, then the value of
-    that attribute must be &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolved&lt;/a&gt;
-    relative to the element, and if that is successful, the specified
-    resource must then be &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt;&lt;!--FETCH--&gt;, from the
-    &lt;a href=#origin&gt;origin&lt;/a&gt; of the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
-    &lt;!-- not http-origin privacy sensitive --&gt;
+    content attribute, run these substeps:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute's
-    value is the empty string or if it could not be resolved, then the
-    user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-    event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the
-    element, and abort these steps.&lt;/p&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; be the value of the element's &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/li&gt;
 
-    &lt;p&gt;For historical reasons, if the &lt;a href=#url&gt;URL&lt;/a&gt; is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
-    URL&lt;/a&gt;, then the user agent must not, despite the requirements
-    in the definition of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt;
-    algorithm, actually execute the script in the URL; instead the
-    user agent must act as if it had received an empty HTTP 400
-    response.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; is the empty string, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire
+     a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, and abort
+     these steps.&lt;/li&gt;
 
-    &lt;p&gt;For performance reasons, user agents may start fetching the
-    script as soon as the attribute is set, instead, in the hope that
-    the element will be inserted into the document. Either way, once
-    the element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
-    document&quot;&gt;inserted into the document&lt;/a&gt;, the load must have
-    started. If the UA performs such prefetching, but the element is
-    never inserted in the document, or the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is dynamically
-    changed,&lt;!-- or the base URL is dynamically changed,--&gt; then the
-    user agent will not execute the script, and the fetching process
-    will have been effectively wasted.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; relative to the
+     element.&lt;/li&gt;
 
-   &lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the previous step failed, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+     event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, and abort these
+     steps.&lt;/li&gt;
 
+     &lt;li&gt;
+
+      &lt;p&gt;Do a &lt;a href=#potentially-cors-enabled-fetch&gt;potentially CORS-enabled fetch&lt;/a&gt;&lt;!--FETCH--&gt; of the resulting
+      &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the &lt;i&gt;mode&lt;/i&gt; being the state of the element's &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; content attribute, the &lt;i title=&quot;&quot;&gt;origin&lt;/i&gt; being the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element's
+      &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and the &lt;i&gt;default origin behaviour&lt;/i&gt; set to &lt;i&gt;taint&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p&gt;The resource obtained in this fashion can be either &lt;a href=#cors-same-origin&gt;CORS-same-origin&lt;/a&gt; or
+      &lt;a href=#cors-cross-origin&gt;CORS-cross-origin&lt;/a&gt;. This only affects how error reporting happens.&lt;/p&gt;
+
+      &lt;p&gt;For historical reasons, if the &lt;a href=#url&gt;URL&lt;/a&gt; is a &lt;a href=#javascript-protocol title=&quot;javascript
+      protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt;, then the user agent must not, despite
+      the requirements in the definition of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm,
+      actually execute the script in the URL; instead the user agent must act as if it had received
+      an empty HTTP 400 response.&lt;/p&gt;
+
+      &lt;p&gt;For performance reasons, user agents may start fetching the script (as defined above) as
+      soon as the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is set, instead, in the hope
+      that the element will be inserted into the document (and that the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attribute won't change value in the
+      meantime). Either way, once the element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
+      document&quot;&gt;inserted into the document&lt;/a&gt;, the load must have started as described in this
+      step. If the UA performs such prefetching, but the element is never inserted in the document,
+      or the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is dynamically changed,&lt;!-- or the
+      base URL is dynamically changed,--&gt; or the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attribute is dynamically changed, then the
+      user agent will not execute the script so obtained, and the fetching process will have been
+      effectively wasted.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;!-- at this point if the element is &quot;parser-inserted&quot; then we know
    it is not &quot;force-async&quot;. --&gt;
 
@@ -16723,6 +16739,10 @@
         from which the script was obtained, and &lt;var&gt;&lt;a href=&quot;#the-script-block's-type&quot;&gt;the script
         block's type&lt;/a&gt;&lt;/var&gt;.&lt;/p&gt;
 
+        &lt;p&gt;If the script came from a resource that was &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; in the
+        steps above, and the resource was &lt;a href=#cors-cross-origin&gt;CORS-cross-origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt;
+        algorithm.&lt;/p&gt;
+
         &lt;p class=note&gt;This is where the script is compiled and
         actually executed.&lt;/p&gt;
 
@@ -16760,10 +16780,14 @@
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The IDL attributes &lt;dfn id=dom-script-src title=dom-script-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-type title=dom-script-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-charset title=dom-script-charset&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-script-defer title=dom-script-defer&gt;&lt;code&gt;defer&lt;/code&gt;&lt;/dfn&gt;, each must
+  &lt;/ol&gt;&lt;p&gt;The IDL attributes &lt;dfn id=dom-script-src title=dom-script-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-type title=dom-script-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-charset title=dom-script-charset&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-defer title=dom-script-defer&gt;&lt;code&gt;defer&lt;/code&gt;&lt;/dfn&gt;, each must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the same
   name.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-script-crossorigin title=dom-script-crossOrigin&gt;&lt;code&gt;crossOrigin&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; content
+  attribute.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-script-async title=dom-script-async&gt;&lt;code&gt;async&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute controls whether the element will execute asynchronously
   or not. If the element's &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag is set,
@@ -72745,6 +72769,16 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;Optionally, a &lt;dfn id=muted-errors&gt;muted errors&lt;/dfn&gt; flag&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;A flag which, if set, means that error information will not be provided for errors in this
+    script (used to mute errors for cross-origin scripts, since that can leak private
+    information).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
   &lt;/dl&gt;&lt;/div&gt;
 
 
@@ -72813,11 +72847,10 @@
 
   &lt;h5 id=creating-scripts&gt;&lt;span class=secno&gt;7.1.3.3 &lt;/span&gt;Creating scripts&lt;/h5&gt;
 
-  &lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script title=&quot;create a
-  script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source
-  URL, its scripting language, a global object, a browsing context, a
-  document, a referrer source, a URL character encoding, and a base
-  URL, the user agent must run the following steps:&lt;/p&gt;
+  &lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script title=&quot;create a script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source URL, its
+  scripting language, a global object, a browsing context, a document, a referrer source, a URL
+  character encoding, a base URL, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag, the user
+  agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;a href=#concept-bc-noscript title=concept-bc-noscript&gt;scripting is
    disabled&lt;/a&gt; for &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; passed to this
@@ -72842,6 +72875,9 @@
    &lt;a href=&quot;#script's-base-url&quot;&gt;script's base URL&lt;/a&gt; from the settings passed to this
    algorithm.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set, then set the script's &lt;a href=#muted-errors&gt;muted
+   errors&lt;/a&gt; flag also.&lt;/li&gt;
+
    &lt;li&gt;
  
     &lt;p&gt;If all the steps above succeeded (in particular, if the script
@@ -72849,12 +72885,11 @@
     entry-point&quot;&gt;Jump&lt;/a&gt; to the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code
     entry-point&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the script source
-    URL, with the problematic position (line number and column
-    number), in the script's &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
-    handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-    object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then
-    the error may be reported to the user.&lt;/p&gt;
+    &lt;p&gt;Otherwise, &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;,
+    with the problematic position (line number and column number), in the script's
+    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;. If the
+    error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then the error
+    may be reported to the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -72867,12 +72902,11 @@
   encoding, and base URL for the resulting &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; are not important as no APIs
   are exposed to the script.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script-from-a-node title=&quot;create a
-  script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, given some script source, its URL, and its
-  scripting language, the user agent must &lt;a href=#create-a-script&gt;create a
-  script&lt;/a&gt;, using the given script source, URL, and scripting
-  language, and using &lt;a href=#the-script-settings-determined-from-the-node&gt;the script settings determined from the
-  node&lt;/a&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script-from-a-node title=&quot;create a script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, given some
+  script source, its URL, its scripting language, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt;
+  flag, the user agent must &lt;a href=#create-a-script&gt;create a script&lt;/a&gt;, using the given script source, URL, and
+  scripting language, &lt;a href=#the-script-settings-determined-from-the-node&gt;the script settings determined from the node&lt;/a&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, and, if the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set in the call to this
+  algorithm, the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=the-script-settings-determined-from-the-node&gt;The script settings determined from the node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; are computed as follows:&lt;/p&gt;
 
@@ -72944,10 +72978,11 @@
 
   &lt;h5 id=runtime-script-errors&gt;&lt;span class=secno&gt;7.1.3.5 &lt;/span&gt;Runtime script errors&lt;/h5&gt;
 
-  &lt;p&gt;When the user agent is required to &lt;dfn id=report-the-error title=&quot;report the
-  error&quot;&gt;report an error&lt;/dfn&gt; at a particular &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; with a particular position &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt; in a particular origin &lt;var title=&quot;&quot;&gt;origin&lt;/var&gt;, using the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event
-  handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps,
-  after which the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
+  &lt;p&gt;When the user agent is required to &lt;dfn id=report-the-error title=&quot;report the error&quot;&gt;report an error&lt;/dfn&gt; for a
+  particular &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; with a particular
+  position &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt;, using the &lt;a href=#event-handlers title=&quot;event
+  handlers&quot;&gt;event handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps, after which
+  the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is an
    &lt;code&gt;&lt;a href=#onerroreventhandler&gt;OnErrorEventHandler&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -72957,12 +72992,7 @@
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a user-agent-defined
      string describing the error in a helpful manner.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; &lt;a href=#url&gt;URL&lt;/a&gt; does
-     not have a &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt;
-     &lt;a href=#origin&gt;origin&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;origin&lt;/var&gt;, then set
-     &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script
-     error.&lt;/code&gt;&quot;, set &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; to the empty
-     string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;col&lt;/var&gt; to 0.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; has &lt;a href=#muted-errors&gt;muted errors&lt;/a&gt;, then set &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script error.&lt;/code&gt;&quot;, set &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; to the empty string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;col&lt;/var&gt; to 0.&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -72991,16 +73021,11 @@
 
   &lt;/dl&gt;&lt;h6 id=runtime-script-errors-in-documents&gt;&lt;span class=secno&gt;7.1.3.5.1 &lt;/span&gt;Runtime script errors in documents&lt;/h6&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  scripts associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the user agent must
-  &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the URL of the resource containing
-  the script (as established when the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; was &lt;a href=#create-a-script title=&quot;create a
-  script&quot;&gt;created&lt;/a&gt;), with the problematic position (line number
-  and column number) in that resource, in the script's
-  &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
-  handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-  object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then
-  the error may be reported to the user.&lt;/p&gt;
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the scripts associated with a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the user agent must &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the relevant &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, with the problematic position (line number and column
+  number) in the resource containing the script, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of
+  the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then the error may be reported to the
+  user.&lt;/p&gt;
 
   &lt;p&gt;The resource containing the script will typically be the file
   from which the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was parsed, e.g. for inline
@@ -73764,16 +73789,13 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is null, then abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;a href=#concept-handler-error title=concept-handler-error&gt;internal error value&lt;/a&gt;, then set
-   the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; to null and
-   then &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the appropriate URL and with
-   the appropriate position (line number and column number), as
-   established when the error was detected, in the &lt;a href=#origin&gt;origin&lt;/a&gt;
-   of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the node of the &lt;a href=#event-handler-content-attributes title=&quot;event
-   handler content attributes&quot;&gt;event handler content attribute&lt;/a&gt;,
-   using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and abort
-   these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;a href=#concept-handler-error title=concept-handler-error&gt;internal error
+   value&lt;/a&gt;, then set the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; to null and then
+   &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the appropriate &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; and
+   with the appropriate position (line number and column number), as established when the error was
+   detected, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
+   handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;,
+   and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s
    value, the callback that the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event
@@ -81590,14 +81612,11 @@
 
   &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  worker's scripts, if the error did not occur while handling a
-  previous script error, the user agent must &lt;a href=#report-the-error&gt;report the
-  error&lt;/a&gt; at the &lt;a href=#url&gt;URL&lt;/a&gt; of the resource that contained
-  the script, with the position (line number and column number) where
-  the error occurred, in the &lt;a href=#origin&gt;origin&lt;/a&gt; of the scripts
-  running in the worker, using the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
-  object's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the worker's scripts, if the error
+  did not occur while handling a previous script error, the user agent must &lt;a href=#report-the-error&gt;report the
+  error&lt;/a&gt; for that &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, with the position (line number
+  and column number) where the error occurred, using the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
+  &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
   &lt;/p&gt;
 
   &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; afterwards, or if
@@ -82175,6 +82194,10 @@
       URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the
       worker's &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
+      &lt;p&gt;If the script came from a resource whose &lt;a href=#url&gt;URL&lt;/a&gt; does not have the &lt;a href=#same-origin&gt;same
+      origin&lt;/a&gt; as the &lt;a href=#worker-origin&gt;worker origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
+      errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt; algorithm.&lt;/p&gt;
+
       &lt;p&gt;Let the newly created &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; run until it either
       returns, fails to parse, fails to catch an exception, or gets
       prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or

Modified: index
===================================================================
--- index	2012-11-28 00:27:51 UTC (rev 7547)
+++ index	2012-11-29 00:23:09 UTC (rev 7548)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 November 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 29 November 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -15998,18 +15998,20 @@
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
    &lt;dd&gt;
 &lt;pre class=idl&gt;interface &lt;dfn id=htmlscriptelement&gt;HTMLScriptElement&lt;/dfn&gt; : &lt;a href=#htmlelement&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=#dom-script-src title=dom-script-src&gt;src&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-type title=dom-script-type&gt;type&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-charset title=dom-script-charset&gt;charset&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-script-async title=dom-script-async&gt;async&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-script-defer title=dom-script-defer&gt;defer&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-script-type title=dom-script-type&gt;type&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-script-charset title=dom-script-charset&gt;charset&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-script-crossorigin title=dom-script-crossorigin&gt;crossOrigin&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-script-text title=dom-script-text&gt;text&lt;/a&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
@@ -16093,11 +16095,13 @@
   support &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; (and not &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;) to fall back to the &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; behavior instead of the
   synchronous blocking behavior that is the default.&lt;/p&gt;
 
-  &lt;p&gt;Changing the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt; attributes dynamically has no
-  direct effect; these attribute are only used at specific times
-  described below.&lt;/p&gt; &lt;!-- by implication, changes to the base URL
-  also have no effect --&gt;
+  &lt;p&gt;The &lt;dfn id=attr-script-crossorigin title=attr-script-crossorigin&gt;&lt;code&gt;crossorigin&lt;/code&gt;&lt;/dfn&gt; attribute is a
+  &lt;a href=#cors-settings-attribute&gt;CORS settings attribute&lt;/a&gt;. It controls, for scripts that are obtained from other &lt;a href=#origin title=origin&gt;origins&lt;/a&gt;, whether error information will be exposed.&lt;/p&gt;
 
+  &lt;p&gt;Changing the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-type&gt;&lt;a href=#attr-script-type&gt;type&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-charset&gt;&lt;a href=#attr-script-charset&gt;charset&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-async&gt;&lt;a href=#attr-script-async&gt;async&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-script-defer&gt;&lt;a href=#attr-script-defer&gt;defer&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attributes dynamically has no direct effect;
+  these attribute are only used at specific times described below.&lt;/p&gt; &lt;!-- by implication, changes
+  to the base URL also have no effect --&gt;
+
   &lt;div class=impl&gt;
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element has several associated pieces of
@@ -16349,39 +16353,51 @@
    &lt;li id=script-processing-src-prepare&gt;
 
     &lt;p&gt;If the element has a &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt;
-    attribute whose value is not the empty string, then the value of
-    that attribute must be &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolved&lt;/a&gt;
-    relative to the element, and if that is successful, the specified
-    resource must then be &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt;&lt;!--FETCH--&gt;, from the
-    &lt;a href=#origin&gt;origin&lt;/a&gt; of the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
-    &lt;!-- not http-origin privacy sensitive --&gt;
+    content attribute, run these substeps:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute's
-    value is the empty string or if it could not be resolved, then the
-    user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-    event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the
-    element, and abort these steps.&lt;/p&gt;
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; be the value of the element's &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/li&gt;
 
-    &lt;p&gt;For historical reasons, if the &lt;a href=#url&gt;URL&lt;/a&gt; is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
-    URL&lt;/a&gt;, then the user agent must not, despite the requirements
-    in the definition of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt;
-    algorithm, actually execute the script in the URL; instead the
-    user agent must act as if it had received an empty HTTP 400
-    response.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; is the empty string, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire
+     a simple event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, and abort
+     these steps.&lt;/li&gt;
 
-    &lt;p&gt;For performance reasons, user agents may start fetching the
-    script as soon as the attribute is set, instead, in the hope that
-    the element will be inserted into the document. Either way, once
-    the element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
-    document&quot;&gt;inserted into the document&lt;/a&gt;, the load must have
-    started. If the UA performs such prefetching, but the element is
-    never inserted in the document, or the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is dynamically
-    changed,&lt;!-- or the base URL is dynamically changed,--&gt; then the
-    user agent will not execute the script, and the fetching process
-    will have been effectively wasted.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;&lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;Resolve&lt;/a&gt; &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; relative to the
+     element.&lt;/li&gt;
 
-   &lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the previous step failed, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+     event&lt;/a&gt; named &lt;code title=event-error&gt;error&lt;/code&gt; at the element, and abort these
+     steps.&lt;/li&gt;
 
+     &lt;li&gt;
+
+      &lt;p&gt;Do a &lt;a href=#potentially-cors-enabled-fetch&gt;potentially CORS-enabled fetch&lt;/a&gt;&lt;!--FETCH--&gt; of the resulting
+      &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the &lt;i&gt;mode&lt;/i&gt; being the state of the element's &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; content attribute, the &lt;i title=&quot;&quot;&gt;origin&lt;/i&gt; being the &lt;a href=#origin&gt;origin&lt;/a&gt; of the &lt;code&gt;&lt;a href=#the-script-element&gt;script&lt;/a&gt;&lt;/code&gt; element's
+      &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and the &lt;i&gt;default origin behaviour&lt;/i&gt; set to &lt;i&gt;taint&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p&gt;The resource obtained in this fashion can be either &lt;a href=#cors-same-origin&gt;CORS-same-origin&lt;/a&gt; or
+      &lt;a href=#cors-cross-origin&gt;CORS-cross-origin&lt;/a&gt;. This only affects how error reporting happens.&lt;/p&gt;
+
+      &lt;p&gt;For historical reasons, if the &lt;a href=#url&gt;URL&lt;/a&gt; is a &lt;a href=#javascript-protocol title=&quot;javascript
+      protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt;, then the user agent must not, despite
+      the requirements in the definition of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm,
+      actually execute the script in the URL; instead the user agent must act as if it had received
+      an empty HTTP 400 response.&lt;/p&gt;
+
+      &lt;p&gt;For performance reasons, user agents may start fetching the script (as defined above) as
+      soon as the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is set, instead, in the hope
+      that the element will be inserted into the document (and that the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attribute won't change value in the
+      meantime). Either way, once the element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a
+      document&quot;&gt;inserted into the document&lt;/a&gt;, the load must have started as described in this
+      step. If the UA performs such prefetching, but the element is never inserted in the document,
+      or the &lt;code title=attr-script-src&gt;&lt;a href=#attr-script-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute is dynamically changed,&lt;!-- or the
+      base URL is dynamically changed,--&gt; or the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; attribute is dynamically changed, then the
+      user agent will not execute the script so obtained, and the fetching process will have been
+      effectively wasted.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;!-- at this point if the element is &quot;parser-inserted&quot; then we know
    it is not &quot;force-async&quot;. --&gt;
 
@@ -16723,6 +16739,10 @@
         from which the script was obtained, and &lt;var&gt;&lt;a href=&quot;#the-script-block's-type&quot;&gt;the script
         block's type&lt;/a&gt;&lt;/var&gt;.&lt;/p&gt;
 
+        &lt;p&gt;If the script came from a resource that was &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; in the
+        steps above, and the resource was &lt;a href=#cors-cross-origin&gt;CORS-cross-origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt;
+        algorithm.&lt;/p&gt;
+
         &lt;p class=note&gt;This is where the script is compiled and
         actually executed.&lt;/p&gt;
 
@@ -16760,10 +16780,14 @@
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The IDL attributes &lt;dfn id=dom-script-src title=dom-script-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-type title=dom-script-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-charset title=dom-script-charset&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-script-defer title=dom-script-defer&gt;&lt;code&gt;defer&lt;/code&gt;&lt;/dfn&gt;, each must
+  &lt;/ol&gt;&lt;p&gt;The IDL attributes &lt;dfn id=dom-script-src title=dom-script-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-type title=dom-script-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-charset title=dom-script-charset&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-script-defer title=dom-script-defer&gt;&lt;code&gt;defer&lt;/code&gt;&lt;/dfn&gt;, each must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the same
   name.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-script-crossorigin title=dom-script-crossOrigin&gt;&lt;code&gt;crossOrigin&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-script-crossorigin&gt;&lt;a href=#attr-script-crossorigin&gt;crossorigin&lt;/a&gt;&lt;/code&gt; content
+  attribute.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-script-async title=dom-script-async&gt;&lt;code&gt;async&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute controls whether the element will execute asynchronously
   or not. If the element's &lt;a href=#force-async&gt;&quot;force-async&quot;&lt;/a&gt; flag is set,
@@ -72745,6 +72769,16 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;Optionally, a &lt;dfn id=muted-errors&gt;muted errors&lt;/dfn&gt; flag&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;A flag which, if set, means that error information will not be provided for errors in this
+    script (used to mute errors for cross-origin scripts, since that can leak private
+    information).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
   &lt;/dl&gt;&lt;/div&gt;
 
 
@@ -72813,11 +72847,10 @@
 
   &lt;h5 id=creating-scripts&gt;&lt;span class=secno&gt;7.1.3.3 &lt;/span&gt;Creating scripts&lt;/h5&gt;
 
-  &lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script title=&quot;create a
-  script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source
-  URL, its scripting language, a global object, a browsing context, a
-  document, a referrer source, a URL character encoding, and a base
-  URL, the user agent must run the following steps:&lt;/p&gt;
+  &lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script title=&quot;create a script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source URL, its
+  scripting language, a global object, a browsing context, a document, a referrer source, a URL
+  character encoding, a base URL, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag, the user
+  agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;a href=#concept-bc-noscript title=concept-bc-noscript&gt;scripting is
    disabled&lt;/a&gt; for &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; passed to this
@@ -72842,6 +72875,9 @@
    &lt;a href=&quot;#script's-base-url&quot;&gt;script's base URL&lt;/a&gt; from the settings passed to this
    algorithm.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set, then set the script's &lt;a href=#muted-errors&gt;muted
+   errors&lt;/a&gt; flag also.&lt;/li&gt;
+
    &lt;li&gt;
  
     &lt;p&gt;If all the steps above succeeded (in particular, if the script
@@ -72849,12 +72885,11 @@
     entry-point&quot;&gt;Jump&lt;/a&gt; to the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;'s &lt;i&gt;&lt;a href=#initial-code-entry-point&gt;initial code
     entry-point&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the script source
-    URL, with the problematic position (line number and column
-    number), in the script's &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
-    handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-    object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then
-    the error may be reported to the user.&lt;/p&gt;
+    &lt;p&gt;Otherwise, &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;,
+    with the problematic position (line number and column number), in the script's
+    &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;. If the
+    error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then the error
+    may be reported to the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -72867,12 +72902,11 @@
   encoding, and base URL for the resulting &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; are not important as no APIs
   are exposed to the script.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script-from-a-node title=&quot;create a
-  script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, given some script source, its URL, and its
-  scripting language, the user agent must &lt;a href=#create-a-script&gt;create a
-  script&lt;/a&gt;, using the given script source, URL, and scripting
-  language, and using &lt;a href=#the-script-settings-determined-from-the-node&gt;the script settings determined from the
-  node&lt;/a&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When the specification says that a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is to be &lt;dfn id=create-a-script-from-a-node title=&quot;create a script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, given some
+  script source, its URL, its scripting language, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt;
+  flag, the user agent must &lt;a href=#create-a-script&gt;create a script&lt;/a&gt;, using the given script source, URL, and
+  scripting language, &lt;a href=#the-script-settings-determined-from-the-node&gt;the script settings determined from the node&lt;/a&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, and, if the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set in the call to this
+  algorithm, the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=the-script-settings-determined-from-the-node&gt;The script settings determined from the node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; are computed as follows:&lt;/p&gt;
 
@@ -72944,10 +72978,11 @@
 
   &lt;h5 id=runtime-script-errors&gt;&lt;span class=secno&gt;7.1.3.5 &lt;/span&gt;Runtime script errors&lt;/h5&gt;
 
-  &lt;p&gt;When the user agent is required to &lt;dfn id=report-the-error title=&quot;report the
-  error&quot;&gt;report an error&lt;/dfn&gt; at a particular &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; with a particular position &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt; in a particular origin &lt;var title=&quot;&quot;&gt;origin&lt;/var&gt;, using the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event
-  handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps,
-  after which the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
+  &lt;p&gt;When the user agent is required to &lt;dfn id=report-the-error title=&quot;report the error&quot;&gt;report an error&lt;/dfn&gt; for a
+  particular &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; with a particular
+  position &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt;, using the &lt;a href=#event-handlers title=&quot;event
+  handlers&quot;&gt;event handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps, after which
+  the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is an
    &lt;code&gt;&lt;a href=#onerroreventhandler&gt;OnErrorEventHandler&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
@@ -72957,12 +72992,7 @@
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a user-agent-defined
      string describing the error in a helpful manner.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; &lt;a href=#url&gt;URL&lt;/a&gt; does
-     not have a &lt;a href=#same-origin title=&quot;same origin&quot;&gt;same&lt;/a&gt;
-     &lt;a href=#origin&gt;origin&lt;/a&gt; as the &lt;var title=&quot;&quot;&gt;origin&lt;/var&gt;, then set
-     &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script
-     error.&lt;/code&gt;&quot;, set &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; to the empty
-     string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;col&lt;/var&gt; to 0.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; has &lt;a href=#muted-errors&gt;muted errors&lt;/a&gt;, then set &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script error.&lt;/code&gt;&quot;, set &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; to the empty string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;col&lt;/var&gt; to 0.&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -72991,16 +73021,11 @@
 
   &lt;/dl&gt;&lt;h6 id=runtime-script-errors-in-documents&gt;&lt;span class=secno&gt;7.1.3.5.1 &lt;/span&gt;Runtime script errors in documents&lt;/h6&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  scripts associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the user agent must
-  &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the URL of the resource containing
-  the script (as established when the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; was &lt;a href=#create-a-script title=&quot;create a
-  script&quot;&gt;created&lt;/a&gt;), with the problematic position (line number
-  and column number) in that resource, in the script's
-  &lt;a href=#origin&gt;origin&lt;/a&gt;, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
-  handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-  object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then
-  the error may be reported to the user.&lt;/p&gt;
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the scripts associated with a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the user agent must &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the relevant &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, with the problematic position (line number and column
+  number) in the resource containing the script, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of
+  the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global object&lt;/a&gt;. If the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; after this, then the error may be reported to the
+  user.&lt;/p&gt;
 
   &lt;p&gt;The resource containing the script will typically be the file
   from which the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was parsed, e.g. for inline
@@ -73764,16 +73789,13 @@
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is null, then abort these
    steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;a href=#concept-handler-error title=concept-handler-error&gt;internal error value&lt;/a&gt;, then set
-   the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; to null and
-   then &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; at the appropriate URL and with
-   the appropriate position (line number and column number), as
-   established when the error was detected, in the &lt;a href=#origin&gt;origin&lt;/a&gt;
-   of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the node of the &lt;a href=#event-handler-content-attributes title=&quot;event
-   handler content attributes&quot;&gt;event handler content attribute&lt;/a&gt;,
-   using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; of the
-   &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and abort
-   these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;a href=#concept-handler-error title=concept-handler-error&gt;internal error
+   value&lt;/a&gt;, then set the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event handler&lt;/a&gt; to null and then
+   &lt;a href=#report-the-error&gt;report the error&lt;/a&gt; for the appropriate &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; and
+   with the appropriate position (line number and column number), as established when the error was
+   detected, using the &lt;code title=handler-window-onerror&gt;&lt;a href=#handler-window-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; &lt;a href=#event-handlers title=&quot;event
+   handlers&quot;&gt;event handler&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;,
+   and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s
    value, the callback that the &lt;a href=#event-handlers title=&quot;event handlers&quot;&gt;event
@@ -81590,14 +81612,11 @@
 
   &lt;h4 id=runtime-script-errors-0&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Runtime script errors&lt;/h4&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  worker's scripts, if the error did not occur while handling a
-  previous script error, the user agent must &lt;a href=#report-the-error&gt;report the
-  error&lt;/a&gt; at the &lt;a href=#url&gt;URL&lt;/a&gt; of the resource that contained
-  the script, with the position (line number and column number) where
-  the error occurred, in the &lt;a href=#origin&gt;origin&lt;/a&gt; of the scripts
-  running in the worker, using the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt;
-  object's &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the worker's scripts, if the error
+  did not occur while handling a previous script error, the user agent must &lt;a href=#report-the-error&gt;report the
+  error&lt;/a&gt; for that &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt;, with the position (line number
+  and column number) where the error occurred, using the &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object's
+  &lt;code title=handler-WorkerGlobalScope-onerror&gt;&lt;a href=#handler-workerglobalscope-onerror&gt;onerror&lt;/a&gt;&lt;/code&gt; attribute.
   &lt;/p&gt;
 
   &lt;p&gt;For shared workers, if the error is still &lt;i title=concept-error-nothandled&gt;&lt;a href=#concept-error-nothandled&gt;not handled&lt;/a&gt;&lt;/i&gt; afterwards, or if
@@ -82175,6 +82194,10 @@
       URL character encoding, and base URL as the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that was created by the
       worker's &lt;a href=#run-a-worker&gt;run a worker&lt;/a&gt; algorithm.&lt;/p&gt;
 
+      &lt;p&gt;If the script came from a resource whose &lt;a href=#url&gt;URL&lt;/a&gt; does not have the &lt;a href=#same-origin&gt;same
+      origin&lt;/a&gt; as the &lt;a href=#worker-origin&gt;worker origin&lt;/a&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
+      errors&lt;/var&gt; flag to the &lt;a href=#create-a-script-from-a-node&gt;create a script from a node&lt;/a&gt; algorithm.&lt;/p&gt;
+
       &lt;p&gt;Let the newly created &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; run until it either
       returns, fails to parse, fails to catch an exception, or gets
       prematurely aborted by the &quot;&lt;a href=#kill-a-worker&gt;kill a worker&lt;/a&gt;&quot; or

Modified: source
===================================================================
--- source	2012-11-28 00:27:51 UTC (rev 7547)
+++ source	2012-11-29 00:23:09 UTC (rev 7548)
@@ -16834,18 +16834,20 @@
    &lt;dt&gt;&lt;span title=&quot;element-dfn-attributes&quot;&gt;Content attributes&lt;/span&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=&quot;attr-script-type&quot;&gt;type&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=&quot;attr-script-charset&quot;&gt;charset&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-script-async&quot;&gt;async&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-script-defer&quot;&gt;defer&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-script-type&quot;&gt;type&lt;/code&gt;&lt;/dd&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-script-charset&quot;&gt;charset&lt;/code&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;span title=&quot;element-dfn-dom&quot;&gt;DOM interface&lt;/span&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
    &lt;dd&gt;
 &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLScriptElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
            attribute DOMString &lt;span title=&quot;dom-script-src&quot;&gt;src&lt;/span&gt;;
+           attribute DOMString &lt;span title=&quot;dom-script-type&quot;&gt;type&lt;/span&gt;;
+           attribute DOMString &lt;span title=&quot;dom-script-charset&quot;&gt;charset&lt;/span&gt;;
            attribute boolean &lt;span title=&quot;dom-script-async&quot;&gt;async&lt;/span&gt;;
            attribute boolean &lt;span title=&quot;dom-script-defer&quot;&gt;defer&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-script-type&quot;&gt;type&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-script-charset&quot;&gt;charset&lt;/span&gt;;
+           attribute DOMString &lt;span title=&quot;dom-script-crossorigin&quot;&gt;crossOrigin&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-script-text&quot;&gt;text&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
@@ -16942,14 +16944,16 @@
   title=&quot;attr-script-defer&quot;&gt;defer&lt;/code&gt; behavior instead of the
   synchronous blocking behavior that is the default.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;attr-script-crossorigin&quot;&gt;&lt;code&gt;crossorigin&lt;/code&gt;&lt;/dfn&gt; attribute is a
+  &lt;span&gt;CORS settings attribute&lt;/span&gt;. It controls, for scripts that are obtained from other &lt;span
+  title=&quot;origin&quot;&gt;origins&lt;/span&gt;, whether error information will be exposed.&lt;/p&gt;
+
   &lt;p&gt;Changing the &lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt;, &lt;code
-  title=&quot;attr-script-type&quot;&gt;type&lt;/code&gt;, &lt;code
-  title=&quot;attr-script-charset&quot;&gt;charset&lt;/code&gt;, &lt;code
-  title=&quot;attr-script-async&quot;&gt;async&lt;/code&gt;, and &lt;code
-  title=&quot;attr-script-defer&quot;&gt;defer&lt;/code&gt; attributes dynamically has no
-  direct effect; these attribute are only used at specific times
-  described below.&lt;/p&gt; &lt;!-- by implication, changes to the base URL
-  also have no effect --&gt;
+  title=&quot;attr-script-type&quot;&gt;type&lt;/code&gt;, &lt;code title=&quot;attr-script-charset&quot;&gt;charset&lt;/code&gt;, &lt;code
+  title=&quot;attr-script-async&quot;&gt;async&lt;/code&gt;, &lt;code title=&quot;attr-script-defer&quot;&gt;defer&lt;/code&gt;, and &lt;code
+  title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt; attributes dynamically has no direct effect;
+  these attribute are only used at specific times described below.&lt;/p&gt; &lt;!-- by implication, changes
+  to the base URL also have no effect --&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
 
@@ -17249,40 +17253,58 @@
    &lt;li id=&quot;script-processing-src-prepare&quot;&gt;
 
     &lt;p&gt;If the element has a &lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt;
-    attribute whose value is not the empty string, then the value of
-    that attribute must be &lt;span title=&quot;resolve a url&quot;&gt;resolved&lt;/span&gt;
-    relative to the element, and if that is successful, the specified
-    resource must then be &lt;span
-    title=&quot;fetch&quot;&gt;fetched&lt;/span&gt;&lt;!--FETCH--&gt;, from the
-    &lt;span&gt;origin&lt;/span&gt; of the element's &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
-    &lt;!-- not http-origin privacy sensitive --&gt;
+    content attribute, run these substeps:&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt; attribute's
-    value is the empty string or if it could not be resolved, then the
-    user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-    event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the
-    element, and abort these steps.&lt;/p&gt;
+    &lt;ol&gt;
 
-    &lt;p&gt;For historical reasons, if the &lt;span&gt;URL&lt;/span&gt; is a &lt;span
-    title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt;
-    URL&lt;/span&gt;, then the user agent must not, despite the requirements
-    in the definition of the &lt;span title=&quot;fetch&quot;&gt;fetching&lt;/span&gt;
-    algorithm, actually execute the script in the URL; instead the
-    user agent must act as if it had received an empty HTTP 400
-    response.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; be the value of the element's &lt;code
+     title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;For performance reasons, user agents may start fetching the
-    script as soon as the attribute is set, instead, in the hope that
-    the element will be inserted into the document. Either way, once
-    the element is &lt;span title=&quot;insert an element into a
-    document&quot;&gt;inserted into the document&lt;/span&gt;, the load must have
-    started. If the UA performs such prefetching, but the element is
-    never inserted in the document, or the &lt;code
-    title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt; attribute is dynamically
-    changed,&lt;!-- or the base URL is dynamically changed,--&gt; then the
-    user agent will not execute the script, and the fetching process
-    will have been effectively wasted.&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; is the empty string, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire
+     a simple event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the element, and abort
+     these steps.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;li&gt;&lt;p&gt;&lt;span title=&quot;resolve a url&quot;&gt;Resolve&lt;/span&gt; &lt;var title=&quot;&quot;&gt;src&lt;/var&gt; relative to the
+     element.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the previous step failed, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+     event&lt;/span&gt; named &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; at the element, and abort these
+     steps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Do a &lt;span&gt;potentially CORS-enabled fetch&lt;/span&gt;&lt;!--FETCH--&gt; of the resulting
+      &lt;span&gt;absolute URL&lt;/span&gt;, with the &lt;i&gt;mode&lt;/i&gt; being the state of the element's &lt;code
+      title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt; content attribute, the &lt;i
+      title=&quot;&quot;&gt;origin&lt;/i&gt; being the &lt;span&gt;origin&lt;/span&gt; of the &lt;code&gt;script&lt;/code&gt; element's
+      &lt;code&gt;Document&lt;/code&gt;, and the &lt;i&gt;default origin behaviour&lt;/i&gt; set to &lt;i&gt;taint&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p&gt;The resource obtained in this fashion can be either &lt;span&gt;CORS-same-origin&lt;/span&gt; or
+      &lt;span&gt;CORS-cross-origin&lt;/span&gt;. This only affects how error reporting happens.&lt;/p&gt;
+
+      &lt;p&gt;For historical reasons, if the &lt;span&gt;URL&lt;/span&gt; is a &lt;span title=&quot;javascript
+      protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/span&gt;, then the user agent must not, despite
+      the requirements in the definition of the &lt;span title=&quot;fetch&quot;&gt;fetching&lt;/span&gt; algorithm,
+      actually execute the script in the URL; instead the user agent must act as if it had received
+      an empty HTTP 400 response.&lt;/p&gt;
+
+      &lt;p&gt;For performance reasons, user agents may start fetching the script (as defined above) as
+      soon as the &lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt; attribute is set, instead, in the hope
+      that the element will be inserted into the document (and that the &lt;code
+      title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt; attribute won't change value in the
+      meantime). Either way, once the element is &lt;span title=&quot;insert an element into a
+      document&quot;&gt;inserted into the document&lt;/span&gt;, the load must have started as described in this
+      step. If the UA performs such prefetching, but the element is never inserted in the document,
+      or the &lt;code title=&quot;attr-script-src&quot;&gt;src&lt;/code&gt; attribute is dynamically changed,&lt;!-- or the
+      base URL is dynamically changed,--&gt; or the &lt;code
+      title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt; attribute is dynamically changed, then the
+      user agent will not execute the script so obtained, and the fetching process will have been
+      effectively wasted.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
    &lt;/li&gt;
 
    &lt;!-- at this point if the element is &quot;parser-inserted&quot; then we know
@@ -17673,6 +17695,11 @@
         from which the script was obtained, and &lt;var&gt;the script
         block's type&lt;/var&gt;.&lt;/p&gt;
 
+        &lt;p&gt;If the script came from a resource that was &lt;span title=&quot;fetch&quot;&gt;fetched&lt;/span&gt; in the
+        steps above, and the resource was &lt;span&gt;CORS-cross-origin&lt;/span&gt;, then pass the &lt;var
+        title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag to the &lt;span&gt;create a script from a node&lt;/span&gt;
+        algorithm.&lt;/p&gt;
+
         &lt;p class=&quot;note&quot;&gt;This is where the script is compiled and
         actually executed.&lt;/p&gt;
 
@@ -17721,11 +17748,15 @@
   &lt;p&gt;The IDL attributes &lt;dfn
   title=&quot;dom-script-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
   title=&quot;dom-script-type&quot;&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
-  title=&quot;dom-script-charset&quot;&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn
+  title=&quot;dom-script-charset&quot;&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
   title=&quot;dom-script-defer&quot;&gt;&lt;code&gt;defer&lt;/code&gt;&lt;/dfn&gt;, each must
   &lt;span&gt;reflect&lt;/span&gt; the respective content attributes of the same
   name.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;dom-script-crossOrigin&quot;&gt;&lt;code&gt;crossOrigin&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
+  &lt;span&gt;reflect&lt;/span&gt; the &lt;code title=&quot;attr-script-crossorigin&quot;&gt;crossorigin&lt;/code&gt; content
+  attribute.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-script-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/dfn&gt; IDL
   attribute controls whether the element will execute asynchronously
   or not. If the element's &lt;span&gt;&quot;force-async&quot;&lt;/span&gt; flag is set,
@@ -85134,6 +85165,16 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;Optionally, a &lt;dfn&gt;muted errors&lt;/dfn&gt; flag&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;A flag which, if set, means that error information will not be provided for errors in this
+    script (used to mute errors for cross-origin scripts, since that can leak private
+    information).&lt;/p&gt;
+
+   &lt;/dd&gt;
+
   &lt;/dl&gt;
 
   &lt;/div&gt;
@@ -85213,12 +85254,11 @@
 
   &lt;h5 id=&quot;creating-scripts&quot;&gt;Creating scripts&lt;/h5&gt;
 
-  &lt;p&gt;When the specification says that a &lt;span
-  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is to be &lt;dfn title=&quot;create a
-  script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source
-  URL, its scripting language, a global object, a browsing context, a
-  document, a referrer source, a URL character encoding, and a base
-  URL, the user agent must run the following steps:&lt;/p&gt;
+  &lt;p&gt;When the specification says that a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is to be &lt;dfn
+  title=&quot;create a script&quot;&gt;created&lt;/dfn&gt;, given some script source, a script source URL, its
+  scripting language, a global object, a browsing context, a document, a referrer source, a URL
+  character encoding, a base URL, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag, the user
+  agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;
 
@@ -85245,6 +85285,9 @@
    &lt;span&gt;script's base URL&lt;/span&gt; from the settings passed to this
    algorithm.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set, then set the script's &lt;span&gt;muted
+   errors&lt;/span&gt; flag also.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;
  
     &lt;p&gt;If all the steps above succeeded (in particular, if the script
@@ -85253,14 +85296,12 @@
     title=&quot;concept-script&quot;&gt;script&lt;/span&gt;'s &lt;i&gt;initial code
     entry-point&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, &lt;span&gt;report the error&lt;/span&gt; at the script source
-    URL, with the problematic position (line number and column
-    number), in the script's &lt;span&gt;origin&lt;/span&gt;, using the &lt;code
-    title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span title=&quot;event
-    handlers&quot;&gt;event handler&lt;/span&gt; of the &lt;span&gt;script's global
-    object&lt;/span&gt;. If the error is still &lt;i
-    title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt; after this, then
-    the error may be reported to the user.&lt;/p&gt;
+    &lt;p&gt;Otherwise, &lt;span&gt;report the error&lt;/span&gt; for the &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;,
+    with the problematic position (line number and column number), in the script's
+    &lt;span&gt;origin&lt;/span&gt;, using the &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span
+    title=&quot;event handlers&quot;&gt;event handler&lt;/span&gt; of the &lt;span&gt;script's global object&lt;/span&gt;. If the
+    error is still &lt;i title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt; after this, then the error
+    may be reported to the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -85280,14 +85321,13 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;When the specification says that a &lt;span
-  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is to be &lt;dfn title=&quot;create a
-  script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var
-  title=&quot;&quot;&gt;node&lt;/var&gt;, given some script source, its URL, and its
-  scripting language, the user agent must &lt;span&gt;create a
-  script&lt;/span&gt;, using the given script source, URL, and scripting
-  language, and using &lt;span&gt;the script settings determined from the
-  node&lt;/span&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/p&gt;
+  &lt;p&gt;When the specification says that a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is to be &lt;dfn
+  title=&quot;create a script from a node&quot;&gt;created from a node&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, given some
+  script source, its URL, its scripting language, and optionally a &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt;
+  flag, the user agent must &lt;span&gt;create a script&lt;/span&gt;, using the given script source, URL, and
+  scripting language, &lt;span&gt;the script settings determined from the node&lt;/span&gt; &lt;var
+  title=&quot;&quot;&gt;node&lt;/var&gt;, and, if the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag was set in the call to this
+  algorithm, the &lt;var title=&quot;&quot;&gt;muted errors&lt;/var&gt; flag.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn&gt;The script settings determined from the node&lt;/dfn&gt; &lt;var
   title=&quot;&quot;&gt;node&lt;/var&gt; are computed as follows:&lt;/p&gt;
@@ -85369,14 +85409,11 @@
 
   &lt;h5 id=&quot;runtime-script-errors&quot;&gt;Runtime script errors&lt;/h5&gt;
 
-  &lt;p&gt;When the user agent is required to &lt;dfn title=&quot;report the
-  error&quot;&gt;report an error&lt;/dfn&gt; at a particular &lt;span&gt;URL&lt;/span&gt; &lt;var
-  title=&quot;&quot;&gt;location&lt;/var&gt; with a particular position &lt;var
-  title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt; in a particular origin &lt;var
-  title=&quot;&quot;&gt;origin&lt;/var&gt;, using the &lt;span title=&quot;event handlers&quot;&gt;event
-  handler&lt;/span&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps,
-  after which the error is either &lt;dfn
-  title=&quot;concept-error-handled&quot;&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn
+  &lt;p&gt;When the user agent is required to &lt;dfn title=&quot;report the error&quot;&gt;report an error&lt;/dfn&gt; for a
+  particular &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; with a particular
+  position &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;:&lt;var title=&quot;&quot;&gt;col&lt;/var&gt;, using the &lt;span title=&quot;event
+  handlers&quot;&gt;event handler&lt;/span&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps, after which
+  the error is either &lt;dfn title=&quot;concept-error-handled&quot;&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn
   title=&quot;concept-error-nothandled&quot;&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
 
   &lt;dl class=&quot;switch&quot;&gt;
@@ -85391,12 +85428,9 @@
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; be a user-agent-defined
      string describing the error in a helpful manner.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; &lt;span&gt;URL&lt;/span&gt; does
-     not have a &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt;
-     &lt;span&gt;origin&lt;/span&gt; as the &lt;var title=&quot;&quot;&gt;origin&lt;/var&gt;, then set
-     &lt;var title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script
-     error.&lt;/code&gt;&quot;, set &lt;var title=&quot;&quot;&gt;location&lt;/var&gt; to the empty
-     string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;script&lt;/var&gt; has &lt;span&gt;muted errors&lt;/span&gt;, then set &lt;var
+     title=&quot;&quot;&gt;message&lt;/var&gt; to &quot;&lt;code title=&quot;&quot;&gt;Script error.&lt;/code&gt;&quot;, set &lt;var
+     title=&quot;&quot;&gt;location&lt;/var&gt; to the empty string, and set &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; and &lt;var
      title=&quot;&quot;&gt;col&lt;/var&gt; to 0.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;
@@ -85434,19 +85468,14 @@
 
   &lt;h6&gt;Runtime script errors in documents&lt;/h6&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  scripts associated with a &lt;code&gt;Document&lt;/code&gt;, the user agent must
-  &lt;span&gt;report the error&lt;/span&gt; at the URL of the resource containing
-  the script (as established when the &lt;span
-  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; was &lt;span title=&quot;create a
-  script&quot;&gt;created&lt;/span&gt;), with the problematic position (line number
-  and column number) in that resource, in the script's
-  &lt;span&gt;origin&lt;/span&gt;, using the &lt;code
-  title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span title=&quot;event
-  handlers&quot;&gt;event handler&lt;/span&gt; of the &lt;span&gt;script's global
-  object&lt;/span&gt;. If the error is still &lt;i
-  title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt; after this, then
-  the error may be reported to the user.&lt;/p&gt;
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the scripts associated with a
+  &lt;code&gt;Document&lt;/code&gt;, the user agent must &lt;span&gt;report the error&lt;/span&gt; for the relevant &lt;span
+  title=&quot;concept-script&quot;&gt;script&lt;/span&gt;, with the problematic position (line number and column
+  number) in the resource containing the script, using the &lt;code
+  title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span title=&quot;event handlers&quot;&gt;event handler&lt;/span&gt; of
+  the &lt;span&gt;script's global object&lt;/span&gt;. If the error is still &lt;i
+  title=&quot;concept-error-nothandled&quot;&gt;not handled&lt;/i&gt; after this, then the error may be reported to the
+  user.&lt;/p&gt;
 
   &lt;p&gt;The resource containing the script will typically be the file
   from which the &lt;code&gt;Document&lt;/code&gt; was parsed, e.g. for inline
@@ -86340,18 +86369,13 @@
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is null, then abort these
    steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;span
-   title=&quot;concept-handler-error&quot;&gt;internal error value&lt;/span&gt;, then set
-   the &lt;span title=&quot;event handlers&quot;&gt;event handler&lt;/span&gt; to null and
-   then &lt;span&gt;report the error&lt;/span&gt; at the appropriate URL and with
-   the appropriate position (line number and column number), as
-   established when the error was detected, in the &lt;span&gt;origin&lt;/span&gt;
-   of the &lt;code&gt;Document&lt;/code&gt; of the node of the &lt;span title=&quot;event
-   handler content attributes&quot;&gt;event handler content attribute&lt;/span&gt;,
-   using the &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span
-   title=&quot;event handlers&quot;&gt;event handler&lt;/span&gt; of the
-   &lt;code&gt;Window&lt;/code&gt; object of that &lt;code&gt;Document&lt;/code&gt;, and abort
-   these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s value is an &lt;span title=&quot;concept-handler-error&quot;&gt;internal error
+   value&lt;/span&gt;, then set the &lt;span title=&quot;event handlers&quot;&gt;event handler&lt;/span&gt; to null and then
+   &lt;span&gt;report the error&lt;/span&gt; for the appropriate &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; and
+   with the appropriate position (line number and column number), as established when the error was
+   detected, using the &lt;code title=&quot;handler-window-onerror&quot;&gt;onerror&lt;/code&gt; &lt;span title=&quot;event
+   handlers&quot;&gt;event handler&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object of that &lt;code&gt;Document&lt;/code&gt;,
+   and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;callback&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;H&lt;/var&gt;'s
    value, the callback that the &lt;span title=&quot;event handlers&quot;&gt;event
@@ -94733,15 +94757,11 @@
 
   &lt;h4&gt;Runtime script errors&lt;/h4&gt;
 
-  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the
-  worker's scripts, if the error did not occur while handling a
-  previous script error, the user agent must &lt;span&gt;report the
-  error&lt;/span&gt; at the &lt;span&gt;URL&lt;/span&gt; of the resource that contained
-  the script, with the position (line number and column number) where
-  the error occurred, in the &lt;span&gt;origin&lt;/span&gt; of the scripts
-  running in the worker, using the &lt;code&gt;WorkerGlobalScope&lt;/code&gt;
-  object's &lt;code
-  title=&quot;handler-WorkerGlobalScope-onerror&quot;&gt;onerror&lt;/code&gt; attribute.
+  &lt;p&gt;Whenever an uncaught runtime script error occurs in one of the worker's scripts, if the error
+  did not occur while handling a previous script error, the user agent must &lt;span&gt;report the
+  error&lt;/span&gt; for that &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt;, with the position (line number
+  and column number) where the error occurred, using the &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object's
+  &lt;code title=&quot;handler-WorkerGlobalScope-onerror&quot;&gt;onerror&lt;/code&gt; attribute.
   &lt;!--END complete--&gt;
   &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;
   &lt;!--START complete--&gt;
@@ -95427,6 +95447,10 @@
       title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that was created by the
       worker's &lt;span&gt;run a worker&lt;/span&gt; algorithm.&lt;/p&gt;
 
+      &lt;p&gt;If the script came from a resource whose &lt;span&gt;URL&lt;/span&gt; does not have the &lt;span&gt;same
+      origin&lt;/span&gt; as the &lt;span&gt;worker origin&lt;/span&gt;, then pass the &lt;var title=&quot;&quot;&gt;muted
+      errors&lt;/var&gt; flag to the &lt;span&gt;create a script from a node&lt;/span&gt; algorithm.&lt;/p&gt;
+
       &lt;p&gt;Let the newly created &lt;span
       title=&quot;concept-script&quot;&gt;script&lt;/span&gt; run until it either
       returns, fails to parse, fails to catch an exception, or gets


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014407.html">[html5] r7547 - [e] (0) Lists are ordered,	people. Things that aren't ordered are called sets or [...]
</A></li>
	<LI>Next message: <A HREF="014409.html">[html5] r7549 - [giow] (2) Support &lt;link crossorigin&gt;. Affected	topics: DOM APIs, HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14408">[ date ]</a>
              <a href="thread.html#14408">[ thread ]</a>
              <a href="subject.html#14408">[ subject ]</a>
              <a href="author.html#14408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
