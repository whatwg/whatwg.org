<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7446 - [giow] (1) Step one: Make snap-to-line cues not	overlap the overscan area in the [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7446%20-%20%5Bgiow%5D%20%281%29%20Step%20one%3A%20Make%20snap-to-line%20cues%20not%0A%09overlap%20the%20overscan%20area%20in%20the%20%5B...%5D&In-Reply-To=%3C20121009213023.81170805C0DF%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014308.html">
   <LINK REL="Next"  HREF="014310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7446 - [giow] (1) Step one: Make snap-to-line cues not	overlap the overscan area in the [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7446%20-%20%5Bgiow%5D%20%281%29%20Step%20one%3A%20Make%20snap-to-line%20cues%20not%0A%09overlap%20the%20overscan%20area%20in%20the%20%5B...%5D&In-Reply-To=%3C20121009213023.81170805C0DF%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7446 - [giow] (1) Step one: Make snap-to-line cues not	overlap the overscan area in the [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Oct  9 14:30:23 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014308.html">[html5] r7445 - [e] (0) Fix some cross-reference issues. Fixing	https://www.w3.org/Bugs/Public/s [...]
</A></li>
        <LI>Next message: <A HREF="014310.html">[html5] r7447 - [giow] (1) Step two: Make snap-to-line cues not	overlap the overscan area in the [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14309">[ date ]</a>
              <a href="thread.html#14309">[ thread ]</a>
              <a href="subject.html#14309">[ subject ]</a>
              <a href="author.html#14309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-10-09 14:30:22 -0700 (Tue, 09 Oct 2012)
New Revision: 7446

Modified:
   source
Log:
[giow] (1) Step one: Make snap-to-line cues not overlap the overscan area in the direction of the line stacking (i.e. vertically for english captions).
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16864">https://www.w3.org/Bugs/Public/show_bug.cgi?id=16864</A>
Affected topics: Video Text Tracks

Modified: source
===================================================================
--- source	2012-10-09 19:10:12 UTC (rev 7445)
+++ source	2012-10-09 21:30:22 UTC (rev 7446)
@@ -114440,6 +114440,45 @@
 
          &lt;li&gt;
 
+          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt; be a user-agent-defined
+          vertical length which will be used to define a margin at the top and bottom edges of the
+          video into which cues will not be placed. In situations with overscan, this margin should
+          be sufficient to place all cues within the title-safe area. In the absence of overscan,
+          this value should be picked for aesthetics (to avoid text being aligned precisely on the
+          bottom edge of the video, which can be ugly).&lt;/p&gt;
+
+          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt; be a user-agent-defined
+          horizontal length which will be used to define a margin at the left and right edges of the
+          video into which cues will not be placed. In situations with overscan, this margin should
+          be sufficient to place all cues within the title-safe area. In the absence of overscan,
+          this value should be picked for aesthetics (to avoid text being aligned precisely on the
+          left or right edges of the video, which can be ugly).&lt;/p&gt;
+
+         &lt;/li&gt;
+
+         &lt;li&gt;
+
+          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;full dimension&lt;/var&gt; be the height of
+          &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area.&lt;/p&gt;
+
+          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;full dimension&lt;/var&gt; be the width of &lt;var
+          title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area.&lt;/p&gt;
+
+          &lt;p&gt;These dimensions must not be adjusted for overscan. (The algorithm does that
+          separately.)&lt;/p&gt;
+
+         &lt;/li&gt;
+
+         &lt;li&gt;
+
+          &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;max dimension&lt;/var&gt; be &lt;span title=&quot;&quot;&gt;&lt;var
+          title=&quot;&quot;&gt;full&nbsp;dimension&lt;/var&gt;&nbsp;-&nbsp;(2&nbsp;&times;&nbsp;&lt;var
+          title=&quot;&quot;&gt;margin&lt;/var&gt;)&lt;/span&gt;.&lt;/p&gt;
+
+         &lt;/li&gt;
+
+         &lt;li&gt;
+
           &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;
           be the height of the first line box in &lt;var
           title=&quot;&quot;&gt;boxes&lt;/var&gt;.&lt;/p&gt;
@@ -114470,19 +114509,12 @@
 
          &lt;li&gt;
 
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;line
-          position&lt;/var&gt; is less than zero then increase &lt;var
-          title=&quot;&quot;&gt;position&lt;/var&gt; by the height of the &lt;var
-          title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, and negate &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt; (so its value is now minus the height of
-          the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;).&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;line
-          position&lt;/var&gt; is less than zero then increase &lt;var
-          title=&quot;&quot;&gt;position&lt;/var&gt; by the width of the &lt;var
-          title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, and negate &lt;var
+          &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line position&lt;/var&gt; is less than zero then increase &lt;var
+          title=&quot;&quot;&gt;position&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;max dimension&lt;/var&gt;, and negate &lt;var
           title=&quot;&quot;&gt;step&lt;/var&gt;.&lt;/p&gt;
 
+          &lt;p&gt;Otherwise, increase &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt;.&lt;/p&gt;
+
          &lt;/li&gt;
 
          &lt;li&gt;
@@ -114503,32 +114535,38 @@
 
          &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;switched&lt;/var&gt; be false.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;&lt;i&gt;Step loop&lt;/i&gt;: If none of the boxes in &lt;var
-         title=&quot;&quot;&gt;boxes&lt;/var&gt; would overlap any of the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt;, and all the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt; are within the &lt;var
-         title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, then jump to the step
-         labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
+         &lt;li&gt;
 
+          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; be a box that covers
+          all of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area except for a height of &lt;var
+          title=&quot;&quot;&gt;margin&lt;/var&gt; at the top of the rendering area and a height of &lt;var
+          title=&quot;&quot;&gt;margin&lt;/var&gt; at the bottom of the rendering area.&lt;/p&gt;
+
+          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; be a box that covers all
+          of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area except for a width of &lt;var
+          title=&quot;&quot;&gt;margin&lt;/var&gt; at the left of the rendering area and a width of &lt;var
+          title=&quot;&quot;&gt;margin&lt;/var&gt; at the right of the rendering area.&lt;/p&gt;
+
+         &lt;/li&gt;
+
+         &lt;li&gt;&lt;p&gt;&lt;i&gt;Step loop&lt;/i&gt;: If none of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; would overlap
+         any of the boxes in &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, and all of the boxes in &lt;var
+         title=&quot;&quot;&gt;output&lt;/var&gt; are entirely within the &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; box, then jump
+         to the step labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
+
          &lt;li&gt;
 
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;
-          is negative and the top of the first line box in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; is now above the top of the &lt;var
-          title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, or if &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the bottom of the first
-          line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now below the
-          bottom of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area,
-          jump to the step labeled &lt;i&gt;switch direction&lt;/i&gt;.&lt;/p&gt;
+          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is negative and the top of the
+          first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now above the top of the &lt;var
+          title=&quot;&quot;&gt;title area&lt;/var&gt;, or if &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the bottom of
+          the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now below the bottom of the &lt;var
+          title=&quot;&quot;&gt;title area&lt;/var&gt;, jump to the step labeled &lt;i&gt;switch direction&lt;/i&gt;.&lt;/p&gt;
 
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is
-          negative and the left edge of the first line box in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the left of the left edge of
-          the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, or if &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the right edge of the
-          first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the
-          right of the right edge of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s
-          rendering area, jump to the step labeled &lt;i&gt;switch
+          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is negative and the left edge of
+          the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the left of the left edge of the
+          &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt;, or if &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the right
+          edge of the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the right of the right
+          edge of the &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt;, jump to the step labeled &lt;i&gt;switch
           direction&lt;/i&gt;.&lt;/p&gt;
 
          &lt;/li&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014308.html">[html5] r7445 - [e] (0) Fix some cross-reference issues. Fixing	https://www.w3.org/Bugs/Public/s [...]
</A></li>
	<LI>Next message: <A HREF="014310.html">[html5] r7447 - [giow] (1) Step two: Make snap-to-line cues not	overlap the overscan area in the [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14309">[ date ]</a>
              <a href="thread.html#14309">[ thread ]</a>
              <a href="subject.html#14309">[ subject ]</a>
              <a href="author.html#14309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
