<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7226 - [e] (0) Upgrade Web IDL terminology. Fixing	https://www.w3.org/Bugs/Public/show_ [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7226%20-%20%5Be%5D%20%280%29%20Upgrade%20Web%20IDL%20terminology.%20Fixing%0A%09https%3A//www.w3.org/Bugs/Public/show_%20%5B...%5D&In-Reply-To=%3C20120809002155.6AF141C8C08D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014090.html">
   <LINK REL="Next"  HREF="014092.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7226 - [e] (0) Upgrade Web IDL terminology. Fixing	https://www.w3.org/Bugs/Public/show_ [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7226%20-%20%5Be%5D%20%280%29%20Upgrade%20Web%20IDL%20terminology.%20Fixing%0A%09https%3A//www.w3.org/Bugs/Public/show_%20%5B...%5D&In-Reply-To=%3C20120809002155.6AF141C8C08D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7226 - [e] (0) Upgrade Web IDL terminology. Fixing	https://www.w3.org/Bugs/Public/show_ [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Aug  8 17:21:55 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014090.html">[html5] r7225 - [giow] (0) Update the srcset='' algorithm to fix	bugs; add more non-normative ma [...]
</A></li>
        <LI>Next message: <A HREF="014092.html">[html5] r7227 - [e] (0) Fix some typos or copypasta. Affected	topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14091">[ date ]</a>
              <a href="thread.html#14091">[ thread ]</a>
              <a href="subject.html#14091">[ subject ]</a>
              <a href="author.html#14091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-08-08 17:21:53 -0700 (Wed, 08 Aug 2012)
New Revision: 7226

Modified:
   complete.html
   index
   source
Log:
[e] (0) Upgrade Web IDL terminology.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15158">https://www.w3.org/Bugs/Public/show_bug.cgi?id=15158</A>
Affected topics: DOM APIs, HTML, Web Workers

Modified: complete.html
===================================================================
--- complete.html	2012-08-07 19:09:45 UTC (rev 7225)
+++ complete.html	2012-08-09 00:21:53 UTC (rev 7226)
@@ -246,7 +246,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 7 August 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 August 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -4095,8 +4095,8 @@
     required for conforming IDL fragments, as described in the Web IDL
     specification. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;The terms &lt;dfn id=relevant-namespace-object&gt;relevant namespace object&lt;/dfn&gt;, &lt;dfn id=supported-property-indices&gt;supported
-    property indices&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-an-indexed-property&gt;determine the value of an indexed
+    &lt;p&gt;The terms &lt;dfn id=expose&gt;expose&lt;/dfn&gt;, &lt;dfn id=supported-property-indices&gt;supported property
+    indices&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-an-indexed-property&gt;determine the value of an indexed
     property&lt;/dfn&gt;, &lt;dfn id=support-named-properties&gt;support named properties&lt;/dfn&gt;,
     &lt;dfn id=supported-property-names&gt;supported property names&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-a-named-property&gt;determine the value of a
     named property&lt;/dfn&gt;, &lt;dfn id=platform-array-objects&gt;platform array objects&lt;/dfn&gt;, and &lt;dfn id=dfn-read-only-array title=dfn-read-only-array&gt;read only&lt;/dfn&gt; (when applied to
@@ -4150,6 +4150,10 @@
     being an officially obsoleted type&lt;/a&gt; according to RFC
     4329. &lt;a href=#refsRFC4329&gt;[RFC4329]&lt;/a&gt;&lt;/p&gt;
 
+    &lt;p&gt;The term &lt;dfn id=javascript-global-environment&gt;JavaScript global environment&lt;/dfn&gt; refers to the
+    &lt;i title=&quot;&quot;&gt;global environment&lt;/i&gt; concept defined in the
+    ECMAScript specification.&lt;/p&gt;
+
    &lt;/dd&gt;
 
 &lt;!--TOPIC:HTML--&gt;
@@ -67218,9 +67222,8 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is not a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#document-environment&gt;document environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-window title=dom-window&gt;&lt;code&gt;window&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-frames title=dom-frames&gt;&lt;code&gt;frames&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-self title=dom-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; IDL attributes must all
   return the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#browsing-context&gt;browsing
@@ -73563,8 +73566,18 @@
 
   &lt;h5 id=definitions-0&gt;&lt;span class=secno&gt;7.1.3.1 &lt;/span&gt;Definitions&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=concept-script title=concept-script&gt;script&lt;/dfn&gt; has:&lt;/p&gt;
+  &lt;p&gt;This specification describes three kinds of &lt;a href=#javascript-global-environment title=&quot;JavaScript global environment&quot;&gt;JavaScript global
+  environments&lt;/a&gt;: the &lt;dfn id=document-environment&gt;document environment&lt;/dfn&gt;, the
+  &lt;dfn id=dedicated-worker-environment&gt;dedicated worker environment&lt;/dfn&gt;, and the &lt;dfn id=shared-worker-environment&gt;shared worker
+  environment&lt;/dfn&gt;. The &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt; and
+  the &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt; are both types of &lt;dfn id=worker-environment title=&quot;worker environment&quot;&gt;worker environments&lt;/dfn&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Except where otherwise specified, a &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#document-environment&gt;document environment&lt;/a&gt;.&lt;/p&gt; &lt;!--
+  note that we never actually say where one of these is created... --&gt;
+
+  &lt;hr&gt;&lt;p&gt;A &lt;dfn id=concept-script title=concept-script&gt;script&lt;/dfn&gt; has:&lt;/p&gt;
+
   &lt;dl&gt;&lt;dt&gt;A &lt;dfn id=script-execution-environment&gt;script execution environment&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -73848,7 +73861,7 @@
   handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps,
   after which the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
 
-  &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is a
+  &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is an
    &lt;code&gt;&lt;a href=#onerroreventhandler&gt;OnErrorEventHandler&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -81772,9 +81785,10 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-dedicatedworkerglobalscope-onmessage title=handler-DedicatedWorkerGlobalScope-onmessage&gt;onmessage&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must not
-  exist if the interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is
-  not a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must only
+  be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript
+  global environment&lt;/a&gt; is a &lt;a href=#dedicated-worker-environment&gt;dedicated worker
+  environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; objects act as if they
   had an implicit &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; associated with them. This
@@ -81816,9 +81830,9 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-sharedworkerglobalscope-onconnect title=handler-SharedWorkerGlobalScope-onconnect&gt;onconnect&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must not
-  exist if the interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is
-  not a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must only be
+  &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Shared workers receive message ports through &lt;code title=event-WorkerGlobalScope-connect&gt;connect&lt;/code&gt; events on
   their global object for each connection.&lt;/p&gt;
@@ -82018,6 +82032,15 @@
 
    &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
+   &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; whose &lt;i&gt;global
+   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this is a
+   &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a
+   &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;. (In either case, by
+   definition, it is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.)&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now
@@ -82859,19 +82882,17 @@
   &lt;code&gt;&lt;a href=#navigatoronline&gt;NavigatorOnLine&lt;/a&gt;&lt;/code&gt; interfaces.
   &lt;/p&gt;
 
-  &lt;p&gt;This &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.&lt;/p&gt;
 
 
 
 
   &lt;h4 id=interface-objects-and-constructors&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Interface objects and constructors&lt;/h4&gt;
 
-  &lt;p&gt;There must be no interface objects and constructors available in
-  the global scope of scripts whose &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-  object&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object except for
-  the following:&lt;/p&gt;
+  &lt;p&gt;Nothing must be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; when the
+  &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker
+  environment&lt;/a&gt; except for the following:&lt;/p&gt;
 
   &lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;XMLHttpRequest&lt;/code&gt; and all interface objects and
    constructors defined by the XMLHttpRequest specifications, except
@@ -82882,19 +82903,12 @@
    &lt;a href=#origin&gt;origin&lt;/a&gt;. &lt;a href=#refsXHR&gt;[XHR]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The interface objects and constructors defined by this
-   specification.&lt;/li&gt;
+   specification, except where is further restricted by explicit
+   requirements in this specification.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Constructors defined by specifications that explicitly say
-   that they should be visible when the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-   object&lt;/a&gt; is a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt;, a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt;, or an object implementing the
-   &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt; interface; the interfaces of any objects
-   with such constructors; and the interfaces of any objects made
-   accessible through APIs exposed by those constructors or made
-   accessible through interfaces to be implemented by any objects that
-   are themselves accessible to scripts whose &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-   object&lt;/a&gt; implements the &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt;
-   interface.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The interface objects of any objects made accessible through
+   interfaces implemented by any objects that are themselves &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; (i.e. this requirement is
+   transitive).&lt;/li&gt;
 
   &lt;/ul&gt;&lt;p class=note&gt;These requirements do not override the requirements
   defined by the Web IDL specification, in particular concerning the
@@ -82935,9 +82949,8 @@
   no-op, since the attributes are defined to be readonly.
   &lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.&lt;/p&gt;
 
 
 

Modified: index
===================================================================
--- index	2012-08-07 19:09:45 UTC (rev 7225)
+++ index	2012-08-09 00:21:53 UTC (rev 7226)
@@ -246,7 +246,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 7 August 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 August 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -4095,8 +4095,8 @@
     required for conforming IDL fragments, as described in the Web IDL
     specification. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;The terms &lt;dfn id=relevant-namespace-object&gt;relevant namespace object&lt;/dfn&gt;, &lt;dfn id=supported-property-indices&gt;supported
-    property indices&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-an-indexed-property&gt;determine the value of an indexed
+    &lt;p&gt;The terms &lt;dfn id=expose&gt;expose&lt;/dfn&gt;, &lt;dfn id=supported-property-indices&gt;supported property
+    indices&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-an-indexed-property&gt;determine the value of an indexed
     property&lt;/dfn&gt;, &lt;dfn id=support-named-properties&gt;support named properties&lt;/dfn&gt;,
     &lt;dfn id=supported-property-names&gt;supported property names&lt;/dfn&gt;, &lt;dfn id=determine-the-value-of-a-named-property&gt;determine the value of a
     named property&lt;/dfn&gt;, &lt;dfn id=platform-array-objects&gt;platform array objects&lt;/dfn&gt;, and &lt;dfn id=dfn-read-only-array title=dfn-read-only-array&gt;read only&lt;/dfn&gt; (when applied to
@@ -4150,6 +4150,10 @@
     being an officially obsoleted type&lt;/a&gt; according to RFC
     4329. &lt;a href=#refsRFC4329&gt;[RFC4329]&lt;/a&gt;&lt;/p&gt;
 
+    &lt;p&gt;The term &lt;dfn id=javascript-global-environment&gt;JavaScript global environment&lt;/dfn&gt; refers to the
+    &lt;i title=&quot;&quot;&gt;global environment&lt;/i&gt; concept defined in the
+    ECMAScript specification.&lt;/p&gt;
+
    &lt;/dd&gt;
 
 &lt;!--TOPIC:HTML--&gt;
@@ -67218,9 +67222,8 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is not a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#document-environment&gt;document environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-window title=dom-window&gt;&lt;code&gt;window&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-frames title=dom-frames&gt;&lt;code&gt;frames&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-self title=dom-self&gt;&lt;code&gt;self&lt;/code&gt;&lt;/dfn&gt; IDL attributes must all
   return the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#browsing-context&gt;browsing
@@ -73563,8 +73566,18 @@
 
   &lt;h5 id=definitions-0&gt;&lt;span class=secno&gt;7.1.3.1 &lt;/span&gt;Definitions&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=concept-script title=concept-script&gt;script&lt;/dfn&gt; has:&lt;/p&gt;
+  &lt;p&gt;This specification describes three kinds of &lt;a href=#javascript-global-environment title=&quot;JavaScript global environment&quot;&gt;JavaScript global
+  environments&lt;/a&gt;: the &lt;dfn id=document-environment&gt;document environment&lt;/dfn&gt;, the
+  &lt;dfn id=dedicated-worker-environment&gt;dedicated worker environment&lt;/dfn&gt;, and the &lt;dfn id=shared-worker-environment&gt;shared worker
+  environment&lt;/dfn&gt;. The &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt; and
+  the &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt; are both types of &lt;dfn id=worker-environment title=&quot;worker environment&quot;&gt;worker environments&lt;/dfn&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Except where otherwise specified, a &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#document-environment&gt;document environment&lt;/a&gt;.&lt;/p&gt; &lt;!--
+  note that we never actually say where one of these is created... --&gt;
+
+  &lt;hr&gt;&lt;p&gt;A &lt;dfn id=concept-script title=concept-script&gt;script&lt;/dfn&gt; has:&lt;/p&gt;
+
   &lt;dl&gt;&lt;dt&gt;A &lt;dfn id=script-execution-environment&gt;script execution environment&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -73848,7 +73861,7 @@
   handler&lt;/a&gt; &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt;, it must run these steps,
   after which the error is either &lt;dfn id=concept-error-handled title=concept-error-handled&gt;&lt;i&gt;handled&lt;/i&gt;&lt;/dfn&gt; or &lt;dfn id=concept-error-nothandled title=concept-error-nothandled&gt;&lt;i&gt;not handled&lt;/i&gt;&lt;/dfn&gt;:&lt;/p&gt;
 
-  &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is a
+  &lt;dl class=switch&gt;&lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is an
    &lt;code&gt;&lt;a href=#onerroreventhandler&gt;OnErrorEventHandler&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -81772,9 +81785,10 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-dedicatedworkerglobalscope-onmessage title=handler-DedicatedWorkerGlobalScope-onmessage&gt;onmessage&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must not
-  exist if the interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is
-  not a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must only
+  be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript
+  global environment&lt;/a&gt; is a &lt;a href=#dedicated-worker-environment&gt;dedicated worker
+  environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; objects act as if they
   had an implicit &lt;code&gt;&lt;a href=#messageport&gt;MessagePort&lt;/a&gt;&lt;/code&gt; associated with them. This
@@ -81816,9 +81830,9 @@
            attribute &lt;a href=#eventhandler&gt;EventHandler&lt;/a&gt; &lt;a href=#handler-sharedworkerglobalscope-onconnect title=handler-SharedWorkerGlobalScope-onconnect&gt;onconnect&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must not
-  exist if the interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is
-  not a &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; interface must only be
+  &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Shared workers receive message ports through &lt;code title=event-WorkerGlobalScope-connect&gt;connect&lt;/code&gt; events on
   their global object for each connection.&lt;/p&gt;
@@ -82018,6 +82032,15 @@
 
    &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
+   &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; whose &lt;i&gt;global
+   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, then this is a
+   &lt;a href=#dedicated-worker-environment&gt;dedicated worker environment&lt;/a&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object, and this is a
+   &lt;a href=#shared-worker-environment&gt;shared worker environment&lt;/a&gt;. (In either case, by
+   definition, it is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.)&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;A new &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; is now
@@ -82859,19 +82882,17 @@
   &lt;code&gt;&lt;a href=#navigatoronline&gt;NavigatorOnLine&lt;/a&gt;&lt;/code&gt; interfaces.
   &lt;/p&gt;
 
-  &lt;p&gt;This &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#workernavigator&gt;WorkerNavigator&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.&lt;/p&gt;
 
 
 
 
   &lt;h4 id=interface-objects-and-constructors&gt;&lt;span class=secno&gt;9.3.3 &lt;/span&gt;Interface objects and constructors&lt;/h4&gt;
 
-  &lt;p&gt;There must be no interface objects and constructors available in
-  the global scope of scripts whose &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-  object&lt;/a&gt; is a &lt;code&gt;&lt;a href=#workerglobalscope&gt;WorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object except for
-  the following:&lt;/p&gt;
+  &lt;p&gt;Nothing must be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; when the
+  &lt;a href=#javascript-global-environment&gt;JavaScript global environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker
+  environment&lt;/a&gt; except for the following:&lt;/p&gt;
 
   &lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;XMLHttpRequest&lt;/code&gt; and all interface objects and
    constructors defined by the XMLHttpRequest specifications, except
@@ -82882,19 +82903,12 @@
    &lt;a href=#origin&gt;origin&lt;/a&gt;. &lt;a href=#refsXHR&gt;[XHR]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The interface objects and constructors defined by this
-   specification.&lt;/li&gt;
+   specification, except where is further restricted by explicit
+   requirements in this specification.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Constructors defined by specifications that explicitly say
-   that they should be visible when the &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-   object&lt;/a&gt; is a &lt;code&gt;&lt;a href=#dedicatedworkerglobalscope&gt;DedicatedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt;, a
-   &lt;code&gt;&lt;a href=#sharedworkerglobalscope&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt;, or an object implementing the
-   &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt; interface; the interfaces of any objects
-   with such constructors; and the interfaces of any objects made
-   accessible through APIs exposed by those constructors or made
-   accessible through interfaces to be implemented by any objects that
-   are themselves accessible to scripts whose &lt;a href=&quot;#script's-global-object&quot;&gt;script's global
-   object&lt;/a&gt; implements the &lt;code&gt;&lt;a href=#workerutils&gt;WorkerUtils&lt;/a&gt;&lt;/code&gt;
-   interface.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The interface objects of any objects made accessible through
+   interfaces implemented by any objects that are themselves &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; (i.e. this requirement is
+   transitive).&lt;/li&gt;
 
   &lt;/ul&gt;&lt;p class=note&gt;These requirements do not override the requirements
   defined by the Web IDL specification, in particular concerning the
@@ -82935,9 +82949,8 @@
   no-op, since the attributes are defined to be readonly.
   &lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; interface must not exist if the
-  interface's &lt;a href=#relevant-namespace-object&gt;relevant namespace object&lt;/a&gt; is a
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object. &lt;a href=#refsWEBIDL&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#workerlocation&gt;WorkerLocation&lt;/a&gt;&lt;/code&gt; interface must only be &lt;a href=#expose title=expose&gt;exposed&lt;/a&gt; if the &lt;a href=#javascript-global-environment&gt;JavaScript global
+  environment&lt;/a&gt; is a &lt;a href=#worker-environment&gt;worker environment&lt;/a&gt;.&lt;/p&gt;
 
 
 

Modified: source
===================================================================
--- source	2012-08-07 19:09:45 UTC (rev 7225)
+++ source	2012-08-09 00:21:53 UTC (rev 7226)
@@ -1,4 +1,4 @@
-&lt;!-- EDITOR NOTES
+&lt;&lt;!-- EDITOR NOTES
  !
  !   Adding a new element involves editing the following sections:
  !    - section for the element itself
@@ -3053,8 +3053,8 @@
     required for conforming IDL fragments, as described in the Web IDL
     specification. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-    &lt;p&gt;The terms &lt;dfn&gt;relevant namespace object&lt;/dfn&gt;, &lt;dfn&gt;supported
-    property indices&lt;/dfn&gt;, &lt;dfn&gt;determine the value of an indexed
+    &lt;p&gt;The terms &lt;dfn&gt;expose&lt;/dfn&gt;, &lt;dfn&gt;supported property
+    indices&lt;/dfn&gt;, &lt;dfn&gt;determine the value of an indexed
     property&lt;/dfn&gt;, &lt;dfn&gt;support named properties&lt;/dfn&gt;,
     &lt;dfn&gt;supported property names&lt;/dfn&gt;, &lt;dfn&gt;determine the value of a
     named property&lt;/dfn&gt;, &lt;dfn&gt;platform array objects&lt;/dfn&gt;, and &lt;dfn
@@ -3110,6 +3110,10 @@
     being an officially obsoleted type&lt;/span&gt; according to RFC
     4329. &lt;a href=&quot;#refsRFC4329&quot;&gt;[RFC4329]&lt;/a&gt;&lt;/p&gt;
 
+    &lt;p&gt;The term &lt;dfn&gt;JavaScript global environment&lt;/dfn&gt; refers to the
+    &lt;i title=&quot;&quot;&gt;global environment&lt;/i&gt; concept defined in the
+    ECMAScript specification.&lt;/p&gt;
+
    &lt;/dd&gt;
 
 &lt;!--TOPIC:HTML--&gt;
@@ -78790,9 +78794,9 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;The &lt;code&gt;Window&lt;/code&gt; interface must not exist if the
-  interface's &lt;span&gt;relevant namespace object&lt;/span&gt; is not a
-  &lt;code&gt;Window&lt;/code&gt; object. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;Window&lt;/code&gt; interface must only be &lt;span
+  title=&quot;expose&quot;&gt;exposed&lt;/span&gt; if the &lt;span&gt;JavaScript global
+  environment&lt;/span&gt; is a &lt;span&gt;document environment&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-window&quot;&gt;&lt;code&gt;window&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
   title=&quot;dom-frames&quot;&gt;&lt;code&gt;frames&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn
@@ -86137,6 +86141,20 @@
 
   &lt;h5&gt;Definitions&lt;/h5&gt;
 
+  &lt;p&gt;This specification describes three kinds of &lt;span
+  title=&quot;JavaScript global environment&quot;&gt;JavaScript global
+  environments&lt;/span&gt;: the &lt;dfn&gt;document environment&lt;/dfn&gt;, the
+  &lt;dfn&gt;dedicated worker environment&lt;/dfn&gt;, and the &lt;dfn&gt;shared worker
+  environment&lt;/dfn&gt;. The &lt;span&gt;dedicated worker environment&lt;/span&gt; and
+  the &lt;span&gt;shared worker environment&lt;/span&gt; are both types of &lt;dfn
+  title=&quot;worker environment&quot;&gt;worker environments&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Except where otherwise specified, a &lt;span&gt;JavaScript global
+  environment&lt;/span&gt; is a &lt;span&gt;document environment&lt;/span&gt;.&lt;/p&gt; &lt;!--
+  note that we never actually say where one of these is created... --&gt;
+
+  &lt;hr&gt;
+
   &lt;p&gt;A &lt;dfn title=&quot;concept-script&quot;&gt;script&lt;/dfn&gt; has:&lt;/p&gt;
 
   &lt;dl&gt;
@@ -86466,7 +86484,7 @@
 
   &lt;dl class=&quot;switch&quot;&gt;
 
-   &lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is a
+   &lt;dt&gt;If the value of &lt;var title=&quot;&quot;&gt;onerror&lt;/var&gt; is an
    &lt;code&gt;OnErrorEventHandler&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -95021,10 +95039,10 @@
            attribute &lt;span&gt;EventHandler&lt;/span&gt; &lt;span title=&quot;handler-DedicatedWorkerGlobalScope-onmessage&quot;&gt;onmessage&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; interface must not
-  exist if the interface's &lt;span&gt;relevant namespace object&lt;/span&gt; is
-  not a &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object. &lt;a
-  href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; interface must only
+  be &lt;span title=&quot;expose&quot;&gt;exposed&lt;/span&gt; if the &lt;span&gt;JavaScript
+  global environment&lt;/span&gt; is a &lt;span&gt;dedicated worker
+  environment&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; objects act as if they
   had an implicit &lt;code&gt;MessagePort&lt;/code&gt; associated with them. This
@@ -95072,10 +95090,9 @@
            attribute &lt;span&gt;EventHandler&lt;/span&gt; &lt;span title=&quot;handler-SharedWorkerGlobalScope-onconnect&quot;&gt;onconnect&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface must not
-  exist if the interface's &lt;span&gt;relevant namespace object&lt;/span&gt; is
-  not a &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object. &lt;a
-  href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface must only be
+  &lt;span title=&quot;expose&quot;&gt;exposed&lt;/span&gt; if the &lt;span&gt;JavaScript global
+  environment&lt;/span&gt; is a &lt;span&gt;shared worker environment&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;Shared workers receive message ports through &lt;code
   title=&quot;event-WorkerGlobalScope-connect&quot;&gt;connect&lt;/code&gt; events on
@@ -95311,6 +95328,17 @@
 
    &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;In the newly created execution environment, create a
+   &lt;span&gt;JavaScript global environment&lt;/span&gt; whose &lt;i&gt;global
+   object&lt;/i&gt; is &lt;var title=&quot;&quot;&gt;worker global scope&lt;/var&gt;. If &lt;var
+   title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt; object, then this is a
+   &lt;span&gt;dedicated worker environment&lt;/span&gt;. Otherwise, &lt;var
+   title=&quot;&quot;&gt;worker global scope&lt;/var&gt; is a
+   &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; object, and this is a
+   &lt;span&gt;shared worker environment&lt;/span&gt;. (In either case, by
+   definition, it is a &lt;span&gt;worker environment&lt;/span&gt;.)&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;A new &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; is now
@@ -96309,19 +96337,18 @@
   &lt;!--START complete--&gt;
   &lt;/p&gt;
 
-  &lt;p&gt;This &lt;code&gt;WorkerNavigator&lt;/code&gt; interface must not exist if the
-  interface's &lt;span&gt;relevant namespace object&lt;/span&gt; is a
-  &lt;code&gt;Window&lt;/code&gt; object. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;WorkerNavigator&lt;/code&gt; interface must only be &lt;span
+  title=&quot;expose&quot;&gt;exposed&lt;/span&gt; if the &lt;span&gt;JavaScript global
+  environment&lt;/span&gt; is a &lt;span&gt;worker environment&lt;/span&gt;.&lt;/p&gt;
 
 
 
 
   &lt;h4&gt;Interface objects and constructors&lt;/h4&gt;
 
-  &lt;p&gt;There must be no interface objects and constructors available in
-  the global scope of scripts whose &lt;span&gt;script's global
-  object&lt;/span&gt; is a &lt;code&gt;WorkerGlobalScope&lt;/code&gt; object except for
-  the following:&lt;/p&gt;
+  &lt;p&gt;Nothing must be &lt;span title=&quot;expose&quot;&gt;exposed&lt;/span&gt; when the
+  &lt;span&gt;JavaScript global environment&lt;/span&gt; is a &lt;span&gt;worker
+  environment&lt;/span&gt; except for the following:&lt;/p&gt;
 
   &lt;ul&gt;
 
@@ -96334,19 +96361,13 @@
    &lt;span&gt;origin&lt;/span&gt;. &lt;a href=&quot;#refsXHR&quot;&gt;[XHR]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The interface objects and constructors defined by this
-   specification.&lt;/p&gt;&lt;/li&gt;
+   specification, except where is further restricted by explicit
+   requirements in this specification.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Constructors defined by specifications that explicitly say
-   that they should be visible when the &lt;span&gt;script's global
-   object&lt;/span&gt; is a &lt;code&gt;DedicatedWorkerGlobalScope&lt;/code&gt;, a
-   &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt;, or an object implementing the
-   &lt;code&gt;WorkerUtils&lt;/code&gt; interface; the interfaces of any objects
-   with such constructors; and the interfaces of any objects made
-   accessible through APIs exposed by those constructors or made
-   accessible through interfaces to be implemented by any objects that
-   are themselves accessible to scripts whose &lt;span&gt;script's global
-   object&lt;/span&gt; implements the &lt;code&gt;WorkerUtils&lt;/code&gt;
-   interface.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The interface objects of any objects made accessible through
+   interfaces implemented by any objects that are themselves &lt;span
+   title=&quot;expose&quot;&gt;exposed&lt;/span&gt; (i.e. this requirement is
+   transitive).&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ul&gt;
 
@@ -96399,9 +96420,9 @@
   &lt;!--START complete--&gt;
   &lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;WorkerLocation&lt;/code&gt; interface must not exist if the
-  interface's &lt;span&gt;relevant namespace object&lt;/span&gt; is a
-  &lt;code&gt;Window&lt;/code&gt; object. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;WorkerLocation&lt;/code&gt; interface must only be &lt;span
+  title=&quot;expose&quot;&gt;exposed&lt;/span&gt; if the &lt;span&gt;JavaScript global
+  environment&lt;/span&gt; is a &lt;span&gt;worker environment&lt;/span&gt;.&lt;/p&gt;
 
 
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014090.html">[html5] r7225 - [giow] (0) Update the srcset='' algorithm to fix	bugs; add more non-normative ma [...]
</A></li>
	<LI>Next message: <A HREF="014092.html">[html5] r7227 - [e] (0) Fix some typos or copypasta. Affected	topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14091">[ date ]</a>
              <a href="thread.html#14091">[ thread ]</a>
              <a href="subject.html#14091">[ subject ]</a>
              <a href="author.html#14091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
