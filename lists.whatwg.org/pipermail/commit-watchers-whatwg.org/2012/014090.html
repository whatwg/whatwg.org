<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7225 - [giow] (0) Update the srcset='' algorithm to fix	bugs; add more non-normative ma [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7225%20-%20%5Bgiow%5D%20%280%29%20Update%20the%20srcset%3D%27%27%20algorithm%20to%20fix%0A%09bugs%3B%20add%20more%20non-normative%20ma%20%5B...%5D&In-Reply-To=%3C20120807190947.BB34E1C8C08D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014089.html">
   <LINK REL="Next"  HREF="014091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7225 - [giow] (0) Update the srcset='' algorithm to fix	bugs; add more non-normative ma [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7225%20-%20%5Bgiow%5D%20%280%29%20Update%20the%20srcset%3D%27%27%20algorithm%20to%20fix%0A%09bugs%3B%20add%20more%20non-normative%20ma%20%5B...%5D&In-Reply-To=%3C20120807190947.BB34E1C8C08D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7225 - [giow] (0) Update the srcset='' algorithm to fix	bugs; add more non-normative ma [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Aug  7 12:09:47 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014089.html">[html5] r7224 - [e] (0) Try to explain the difference between the	inputmode, type, and autocompl [...]
</A></li>
        <LI>Next message: <A HREF="014091.html">[html5] r7226 - [e] (0) Upgrade Web IDL terminology. Fixing	https://www.w3.org/Bugs/Public/show_ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14090">[ date ]</a>
              <a href="thread.html#14090">[ thread ]</a>
              <a href="subject.html#14090">[ subject ]</a>
              <a href="author.html#14090">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-08-07 12:09:45 -0700 (Tue, 07 Aug 2012)
New Revision: 7225

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Update the srcset='' algorithm to fix bugs; add more non-normative material; unrelated CLDR update
Affected topics: HTML

Modified: complete.html
===================================================================
--- complete.html	2012-08-02 18:03:20 UTC (rev 7224)
+++ complete.html	2012-08-07 19:09:45 UTC (rev 7225)
@@ -246,7 +246,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 2 August 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 7 August 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -555,7 +555,8 @@
          &lt;li&gt;&lt;a href=#an-image-not-intended-for-the-user&gt;&lt;span class=secno&gt;4.8.1.1.11 &lt;/span&gt;An image not intended for the user&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#an-image-in-an-e-mail-or-private-document-intended-for-a-specific-person-who-is-known-to-be-able-to-view-images&gt;&lt;span class=secno&gt;4.8.1.1.12 &lt;/span&gt;An image in an e-mail or private document intended for a specific person who is known to be able to view images&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#guidance-for-markup-generators&gt;&lt;span class=secno&gt;4.8.1.1.13 &lt;/span&gt;Guidance for markup generators&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#guidance-for-conformance-checkers&gt;&lt;span class=secno&gt;4.8.1.1.14 &lt;/span&gt;Guidance for conformance checkers&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#guidance-for-conformance-checkers&gt;&lt;span class=secno&gt;4.8.1.1.14 &lt;/span&gt;Guidance for conformance checkers&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#adaptive-images&gt;&lt;span class=secno&gt;4.8.1.2 &lt;/span&gt;Adaptive images&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-iframe-element&gt;&lt;span class=secno&gt;4.8.2 &lt;/span&gt;The &lt;code&gt;iframe&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-embed-element&gt;&lt;span class=secno&gt;4.8.3 &lt;/span&gt;The &lt;code&gt;embed&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-object-element&gt;&lt;span class=secno&gt;4.8.4 &lt;/span&gt;The &lt;code&gt;object&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
@@ -24127,6 +24128,8 @@
    in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; (skipping past the U+002C COMMA
    character (,) separating this candidate from the next).&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Return to the step labeled &lt;i&gt;splitting loop&lt;/i&gt;.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Descriptor parser&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    be an initially empty ordered list of &lt;a href=#url title=URL&gt;URLs&lt;/a&gt;
    each with an associated pixel density, and optionally an associated
@@ -24270,31 +24273,29 @@
    the viewport. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is greater than &lt;var title=&quot;&quot;&gt;max width&lt;/var&gt;, then remove them, unless that would
+   that have an associated width that is less than &lt;var title=&quot;&quot;&gt;max width&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated width is greater than the smallest such width.&lt;/li&gt;
+   associated width is less than the greatest such width.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is greater than &lt;var title=&quot;&quot;&gt;max height&lt;/var&gt;, then remove them, unless that would
+   that have an associated height that is less than &lt;var title=&quot;&quot;&gt;max height&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated height is greater than the smallest such
-   height.&lt;/li&gt;
+   associated height is less than the greatest such height.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is less than a
    user-agent-defined value giving the nominal pixel density of the
    display, then remove them, unless that would remove all the
    entries, in which case remove only the entries whose associated
-   pixel density is less than the greatest such pixel
-   density.&lt;/li&gt;
+   pixel density is less than the greatest such pixel density.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is less than the greatest such
-   width.&lt;/li&gt;
+   that have an associated width that is greater than the smallest
+   such width.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is less than the greatest such
-   height.&lt;/li&gt;
+   that have an associated height that is greater than the smallest
+   such height.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is greater than the
@@ -25662,7 +25663,110 @@
   &lt;/ul&gt;&lt;/div&gt;
 
 
+  &lt;h5 id=adaptive-images&gt;&lt;span class=secno&gt;4.8.1.2 &lt;/span&gt;Adaptive images&lt;/h5&gt;
 
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;CSS and media queries can be used to construct graphical page
+  layouts that adapt dynamically to the user's environment, in
+  particular to different viewport dimensions and pixel densities. For
+  content, however, CSS does not help; instead, we have the
+  &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute. This section walks
+  through a sample case showing how to use this attribute.&lt;/p&gt;
+
+  &lt;p&gt;Consider a situation where on wide screens (wider than 600 CSS
+  pixels) a 300&times;150 image named &lt;code title=&quot;&quot;&gt;a-rectangle.png&lt;/code&gt; is to be used, but on smaller
+  screens (600 CSS pixels and less), a smaller 100&times;100 image
+  called &lt;code title=&quot;&quot;&gt;a-square.png&lt;/code&gt; is to be used. The markup
+  for this would look like this:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p class=note&gt;For details on what to put in the &lt;code title=attr-img-alt&gt;&lt;a href=#attr-img-alt&gt;alt&lt;/a&gt;&lt;/code&gt; attribute, see the earlier
+  sections.&lt;/p&gt;
+
+  &lt;p&gt;The problem with this is that the user agent does not necessarily
+  know what dimensions to use for the image when the image is loading.
+  To avoid the layout having to be reflowed multiple times as the page
+  is loading, CSS and CSS media queries can be used to provide the
+  dimensions:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped&gt;
+  #a { width: 300px; height: 150px; }
+  @media all and (max-width: 600px) { #a { width: 100px; height: 100px; } }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot; id=&quot;a&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Alternatively, the &lt;code title=attr-dim-width&gt;&lt;a href=#attr-dim-width&gt;width&lt;/a&gt;&lt;/code&gt; and
+  &lt;code title=attr-dim-height&gt;&lt;a href=#attr-dim-height&gt;height&lt;/a&gt;&lt;/code&gt; attributes can be used
+  to provide the width for legacy user agents, using CSS just for the
+  user agents that support &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped media=&quot;all and (max-width: 600px)&quot;&gt;
+  #a { width: 100px; height: 100px; }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; width=&quot;300&quot; height=&quot;100&quot;
+      srcset=&quot;a-square.png 600w&quot; id=a
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute is used
+  with the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute, which
+  gives the URL of the image to use for legacy user agents that do not
+  support the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute.
+  This leads to a question of which image to provide in the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+
+  &lt;p&gt;The answer that results in the least duplication is to provide
+  the image suitable for an infinite width and infinite height
+  viewport with a pixel density of 1 CSS pixel per device pixel:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-desktop.jpeg&quot; srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;However, if legacy mobile user agents are more important, one can
+  list all three images in the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute, overriding the
+  &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute entirely. To do
+  this, the widest image has to have the pixel density descriptor
+  instead of the width, since there is no way to specify an infinite
+  width explicitly:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-mobile.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Since at this point the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt;
+  attribute is actually being ignored entirely by &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;-supporting user agents, the
+  &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute can default to any
+  image, including one that is neither the smallest nor biggest:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;&lt;p&gt;The dimensions in the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;
+  attribute are the maximum (viewport) dimensions that an image is
+  intended for. It is possible to think of the numbers as minimums,
+  though... if the images are listed in order, then the minimum for an
+  image is the dimension given for the previous image. This example
+  attempts to demonstrate this by using the file names to show the
+  minimum values for each image:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-min0.jpeg 720w, pear-min721.jpeg 1280w, pear-min1281.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+
+
   &lt;h4 id=the-iframe-element&gt;&lt;span class=secno&gt;4.8.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;&lt;a href=#element-dfn-categories title=element-dfn-categories&gt;Categories&lt;/a&gt;:&lt;/dt&gt;
@@ -96552,7 +96656,7 @@
 :root:lang(cgg),      :not(:lang(cgg)) &gt; :lang(cgg)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(chr),      :not(:lang(chr)) &gt; :lang(chr)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(cs),       :not(:lang(cs)) &gt; :lang(cs)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
-:root:lang(da),       :not(:lang(da)) &gt; :lang(da)             { quotes: '\00bb' '\00ab' '\203a' '\2039' } /* &raquo; &laquo; &rsaquo; &lsaquo; */
+:root:lang(da),       :not(:lang(da)) &gt; :lang(da)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(dav),      :not(:lang(dav)) &gt; :lang(dav)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(de),       :not(:lang(de)) &gt; :lang(de)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(de-CH),    :not(:lang(de-CH)) &gt; :lang(de-CH)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
@@ -96564,7 +96668,7 @@
 :root:lang(ee),       :not(:lang(ee)) &gt; :lang(ee)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(el),       :not(:lang(el)) &gt; :lang(el)             { quotes: '\00ab' '\00bb' '\201c' '\201d' } /* &laquo; &raquo; &ldquo; &rdquo; */
 :root:lang(en),       :not(:lang(en)) &gt; :lang(en)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(en-GB),    :not(:lang(en-GB)) &gt; :lang(en-GB)       { quotes: '\2018' '\2019' '\201c' '\201d' } /* &lsquo; &rsquo; &ldquo; &rdquo; */
+:root:lang(en-GB),    :not(:lang(en-GB)) &gt; :lang(en-GB)       { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(es),       :not(:lang(es)) &gt; :lang(es)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
 :root:lang(et),       :not(:lang(et)) &gt; :lang(et)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(eu),       :not(:lang(eu)) &gt; :lang(eu)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
@@ -96572,14 +96676,14 @@
 :root:lang(fa),       :not(:lang(fa)) &gt; :lang(fa)             { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(ff),       :not(:lang(ff)) &gt; :lang(ff)             { quotes: '\201e' '\201d' '\201a' '\2019' } /* &bdquo; &rdquo; &sbquo; &rsquo; */
 :root:lang(fi),       :not(:lang(fi)) &gt; :lang(fi)             { quotes: '\201d' '\201d' '\2019' '\2019' } /* &rdquo; &rdquo; &rsquo; &rsquo; */
-:root:lang(fr),       :not(:lang(fr)) &gt; :lang(fr)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
+:root:lang(fr),       :not(:lang(fr)) &gt; :lang(fr)             { quotes: '\00ab' '\00bb' '\00ab' '\00bb' } /* &laquo; &raquo; &laquo; &raquo; */
 :root:lang(fr-CA),    :not(:lang(fr-CA)) &gt; :lang(fr-CA)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(fr-CH),    :not(:lang(fr-CH)) &gt; :lang(fr-CH)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(gsw),      :not(:lang(gsw)) &gt; :lang(gsw)           { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(gu),       :not(:lang(gu)) &gt; :lang(gu)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(guz),      :not(:lang(guz)) &gt; :lang(guz)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(ha),       :not(:lang(ha)) &gt; :lang(ha)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(he),       :not(:lang(he)) &gt; :lang(he)             { quotes: '\201c' '\201d' '\0027' '\0027' } /* &ldquo; &rdquo; ' ' */
+:root:lang(he),       :not(:lang(he)) &gt; :lang(he)             { quotes: '\0022' '\0022' '\0027' '\0027' } /* &quot; &quot; ' ' */
 :root:lang(hi),       :not(:lang(hi)) &gt; :lang(hi)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(hr),       :not(:lang(hr)) &gt; :lang(hr)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(hu),       :not(:lang(hu)) &gt; :lang(hu)             { quotes: '\201e' '\201d' '\00bb' '\00ab' } /* &bdquo; &rdquo; &raquo; &laquo; */
@@ -96604,11 +96708,11 @@
 :root:lang(lg),       :not(:lang(lg)) &gt; :lang(lg)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(ln),       :not(:lang(ln)) &gt; :lang(ln)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(lo),       :not(:lang(lo)) &gt; :lang(lo)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(lt),       :not(:lang(lt)) &gt; :lang(lt)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
+:root:lang(lt),       :not(:lang(lt)) &gt; :lang(lt)             { quotes: '\201e' '\201c' '\201e' '\201c' } /* &bdquo; &ldquo; &bdquo; &ldquo; */
 :root:lang(lu),       :not(:lang(lu)) &gt; :lang(lu)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(luo),      :not(:lang(luo)) &gt; :lang(luo)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(luy),      :not(:lang(luy)) &gt; :lang(luy)           { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
-:root:lang(lv),       :not(:lang(lv)) &gt; :lang(lv)             { quotes: '\00ab' '\00bb' '\201e' '\201c' } /* &laquo; &raquo; &bdquo; &ldquo; */
+:root:lang(lv),       :not(:lang(lv)) &gt; :lang(lv)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mas),      :not(:lang(mas)) &gt; :lang(mas)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mer),      :not(:lang(mer)) &gt; :lang(mer)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mfe),      :not(:lang(mfe)) &gt; :lang(mfe)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */

Modified: index
===================================================================
--- index	2012-08-02 18:03:20 UTC (rev 7224)
+++ index	2012-08-07 19:09:45 UTC (rev 7225)
@@ -246,7 +246,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 2 August 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 7 August 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -555,7 +555,8 @@
          &lt;li&gt;&lt;a href=#an-image-not-intended-for-the-user&gt;&lt;span class=secno&gt;4.8.1.1.11 &lt;/span&gt;An image not intended for the user&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#an-image-in-an-e-mail-or-private-document-intended-for-a-specific-person-who-is-known-to-be-able-to-view-images&gt;&lt;span class=secno&gt;4.8.1.1.12 &lt;/span&gt;An image in an e-mail or private document intended for a specific person who is known to be able to view images&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#guidance-for-markup-generators&gt;&lt;span class=secno&gt;4.8.1.1.13 &lt;/span&gt;Guidance for markup generators&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#guidance-for-conformance-checkers&gt;&lt;span class=secno&gt;4.8.1.1.14 &lt;/span&gt;Guidance for conformance checkers&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#guidance-for-conformance-checkers&gt;&lt;span class=secno&gt;4.8.1.1.14 &lt;/span&gt;Guidance for conformance checkers&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#adaptive-images&gt;&lt;span class=secno&gt;4.8.1.2 &lt;/span&gt;Adaptive images&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-iframe-element&gt;&lt;span class=secno&gt;4.8.2 &lt;/span&gt;The &lt;code&gt;iframe&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-embed-element&gt;&lt;span class=secno&gt;4.8.3 &lt;/span&gt;The &lt;code&gt;embed&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-object-element&gt;&lt;span class=secno&gt;4.8.4 &lt;/span&gt;The &lt;code&gt;object&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
@@ -24127,6 +24128,8 @@
    in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; (skipping past the U+002C COMMA
    character (,) separating this candidate from the next).&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Return to the step labeled &lt;i&gt;splitting loop&lt;/i&gt;.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Descriptor parser&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    be an initially empty ordered list of &lt;a href=#url title=URL&gt;URLs&lt;/a&gt;
    each with an associated pixel density, and optionally an associated
@@ -24270,31 +24273,29 @@
    the viewport. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is greater than &lt;var title=&quot;&quot;&gt;max width&lt;/var&gt;, then remove them, unless that would
+   that have an associated width that is less than &lt;var title=&quot;&quot;&gt;max width&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated width is greater than the smallest such width.&lt;/li&gt;
+   associated width is less than the greatest such width.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is greater than &lt;var title=&quot;&quot;&gt;max height&lt;/var&gt;, then remove them, unless that would
+   that have an associated height that is less than &lt;var title=&quot;&quot;&gt;max height&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated height is greater than the smallest such
-   height.&lt;/li&gt;
+   associated height is less than the greatest such height.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is less than a
    user-agent-defined value giving the nominal pixel density of the
    display, then remove them, unless that would remove all the
    entries, in which case remove only the entries whose associated
-   pixel density is less than the greatest such pixel
-   density.&lt;/li&gt;
+   pixel density is less than the greatest such pixel density.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is less than the greatest such
-   width.&lt;/li&gt;
+   that have an associated width that is greater than the smallest
+   such width.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is less than the greatest such
-   height.&lt;/li&gt;
+   that have an associated height that is greater than the smallest
+   such height.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is greater than the
@@ -25662,7 +25663,110 @@
   &lt;/ul&gt;&lt;/div&gt;
 
 
+  &lt;h5 id=adaptive-images&gt;&lt;span class=secno&gt;4.8.1.2 &lt;/span&gt;Adaptive images&lt;/h5&gt;
 
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;CSS and media queries can be used to construct graphical page
+  layouts that adapt dynamically to the user's environment, in
+  particular to different viewport dimensions and pixel densities. For
+  content, however, CSS does not help; instead, we have the
+  &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute. This section walks
+  through a sample case showing how to use this attribute.&lt;/p&gt;
+
+  &lt;p&gt;Consider a situation where on wide screens (wider than 600 CSS
+  pixels) a 300&times;150 image named &lt;code title=&quot;&quot;&gt;a-rectangle.png&lt;/code&gt; is to be used, but on smaller
+  screens (600 CSS pixels and less), a smaller 100&times;100 image
+  called &lt;code title=&quot;&quot;&gt;a-square.png&lt;/code&gt; is to be used. The markup
+  for this would look like this:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p class=note&gt;For details on what to put in the &lt;code title=attr-img-alt&gt;&lt;a href=#attr-img-alt&gt;alt&lt;/a&gt;&lt;/code&gt; attribute, see the earlier
+  sections.&lt;/p&gt;
+
+  &lt;p&gt;The problem with this is that the user agent does not necessarily
+  know what dimensions to use for the image when the image is loading.
+  To avoid the layout having to be reflowed multiple times as the page
+  is loading, CSS and CSS media queries can be used to provide the
+  dimensions:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped&gt;
+  #a { width: 300px; height: 150px; }
+  @media all and (max-width: 600px) { #a { width: 100px; height: 100px; } }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot; id=&quot;a&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Alternatively, the &lt;code title=attr-dim-width&gt;&lt;a href=#attr-dim-width&gt;width&lt;/a&gt;&lt;/code&gt; and
+  &lt;code title=attr-dim-height&gt;&lt;a href=#attr-dim-height&gt;height&lt;/a&gt;&lt;/code&gt; attributes can be used
+  to provide the width for legacy user agents, using CSS just for the
+  user agents that support &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped media=&quot;all and (max-width: 600px)&quot;&gt;
+  #a { width: 100px; height: 100px; }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; width=&quot;300&quot; height=&quot;100&quot;
+      srcset=&quot;a-square.png 600w&quot; id=a
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute is used
+  with the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute, which
+  gives the URL of the image to use for legacy user agents that do not
+  support the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute.
+  This leads to a question of which image to provide in the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+
+  &lt;p&gt;The answer that results in the least duplication is to provide
+  the image suitable for an infinite width and infinite height
+  viewport with a pixel density of 1 CSS pixel per device pixel:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-desktop.jpeg&quot; srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;However, if legacy mobile user agents are more important, one can
+  list all three images in the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt; attribute, overriding the
+  &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute entirely. To do
+  this, the widest image has to have the pixel density descriptor
+  instead of the width, since there is no way to specify an infinite
+  width explicitly:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-mobile.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Since at this point the &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt;
+  attribute is actually being ignored entirely by &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;-supporting user agents, the
+  &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute can default to any
+  image, including one that is neither the smallest nor biggest:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;&lt;p&gt;The dimensions in the &lt;code title=attr-img-srcset&gt;&lt;a href=#attr-img-srcset&gt;srcset&lt;/a&gt;&lt;/code&gt;
+  attribute are the maximum (viewport) dimensions that an image is
+  intended for. It is possible to think of the numbers as minimums,
+  though... if the images are listed in order, then the minimum for an
+  image is the dimension given for the previous image. This example
+  attempts to demonstrate this by using the file names to show the
+  minimum values for each image:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-min0.jpeg 720w, pear-min721.jpeg 1280w, pear-min1281.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+
+
   &lt;h4 id=the-iframe-element&gt;&lt;span class=secno&gt;4.8.2 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;&lt;a href=#element-dfn-categories title=element-dfn-categories&gt;Categories&lt;/a&gt;:&lt;/dt&gt;
@@ -96552,7 +96656,7 @@
 :root:lang(cgg),      :not(:lang(cgg)) &gt; :lang(cgg)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(chr),      :not(:lang(chr)) &gt; :lang(chr)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(cs),       :not(:lang(cs)) &gt; :lang(cs)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
-:root:lang(da),       :not(:lang(da)) &gt; :lang(da)             { quotes: '\00bb' '\00ab' '\203a' '\2039' } /* &raquo; &laquo; &rsaquo; &lsaquo; */
+:root:lang(da),       :not(:lang(da)) &gt; :lang(da)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(dav),      :not(:lang(dav)) &gt; :lang(dav)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(de),       :not(:lang(de)) &gt; :lang(de)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(de-CH),    :not(:lang(de-CH)) &gt; :lang(de-CH)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
@@ -96564,7 +96668,7 @@
 :root:lang(ee),       :not(:lang(ee)) &gt; :lang(ee)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(el),       :not(:lang(el)) &gt; :lang(el)             { quotes: '\00ab' '\00bb' '\201c' '\201d' } /* &laquo; &raquo; &ldquo; &rdquo; */
 :root:lang(en),       :not(:lang(en)) &gt; :lang(en)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(en-GB),    :not(:lang(en-GB)) &gt; :lang(en-GB)       { quotes: '\2018' '\2019' '\201c' '\201d' } /* &lsquo; &rsquo; &ldquo; &rdquo; */
+:root:lang(en-GB),    :not(:lang(en-GB)) &gt; :lang(en-GB)       { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(es),       :not(:lang(es)) &gt; :lang(es)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
 :root:lang(et),       :not(:lang(et)) &gt; :lang(et)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(eu),       :not(:lang(eu)) &gt; :lang(eu)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
@@ -96572,14 +96676,14 @@
 :root:lang(fa),       :not(:lang(fa)) &gt; :lang(fa)             { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(ff),       :not(:lang(ff)) &gt; :lang(ff)             { quotes: '\201e' '\201d' '\201a' '\2019' } /* &bdquo; &rdquo; &sbquo; &rsquo; */
 :root:lang(fi),       :not(:lang(fi)) &gt; :lang(fi)             { quotes: '\201d' '\201d' '\2019' '\2019' } /* &rdquo; &rdquo; &rsquo; &rsquo; */
-:root:lang(fr),       :not(:lang(fr)) &gt; :lang(fr)             { quotes: '\201c' '\201d' '\00ab' '\00bb' } /* &ldquo; &rdquo; &laquo; &raquo; */
+:root:lang(fr),       :not(:lang(fr)) &gt; :lang(fr)             { quotes: '\00ab' '\00bb' '\00ab' '\00bb' } /* &laquo; &raquo; &laquo; &raquo; */
 :root:lang(fr-CA),    :not(:lang(fr-CA)) &gt; :lang(fr-CA)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(fr-CH),    :not(:lang(fr-CH)) &gt; :lang(fr-CH)       { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(gsw),      :not(:lang(gsw)) &gt; :lang(gsw)           { quotes: '\00ab' '\00bb' '\2039' '\203a' } /* &laquo; &raquo; &lsaquo; &rsaquo; */
 :root:lang(gu),       :not(:lang(gu)) &gt; :lang(gu)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(guz),      :not(:lang(guz)) &gt; :lang(guz)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(ha),       :not(:lang(ha)) &gt; :lang(ha)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(he),       :not(:lang(he)) &gt; :lang(he)             { quotes: '\201c' '\201d' '\0027' '\0027' } /* &ldquo; &rdquo; ' ' */
+:root:lang(he),       :not(:lang(he)) &gt; :lang(he)             { quotes: '\0022' '\0022' '\0027' '\0027' } /* &quot; &quot; ' ' */
 :root:lang(hi),       :not(:lang(hi)) &gt; :lang(hi)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(hr),       :not(:lang(hr)) &gt; :lang(hr)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
 :root:lang(hu),       :not(:lang(hu)) &gt; :lang(hu)             { quotes: '\201e' '\201d' '\00bb' '\00ab' } /* &bdquo; &rdquo; &raquo; &laquo; */
@@ -96604,11 +96708,11 @@
 :root:lang(lg),       :not(:lang(lg)) &gt; :lang(lg)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(ln),       :not(:lang(ln)) &gt; :lang(ln)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(lo),       :not(:lang(lo)) &gt; :lang(lo)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
-:root:lang(lt),       :not(:lang(lt)) &gt; :lang(lt)             { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
+:root:lang(lt),       :not(:lang(lt)) &gt; :lang(lt)             { quotes: '\201e' '\201c' '\201e' '\201c' } /* &bdquo; &ldquo; &bdquo; &ldquo; */
 :root:lang(lu),       :not(:lang(lu)) &gt; :lang(lu)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(luo),      :not(:lang(luo)) &gt; :lang(luo)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(luy),      :not(:lang(luy)) &gt; :lang(luy)           { quotes: '\201e' '\201c' '\201a' '\2018' } /* &bdquo; &ldquo; &sbquo; &lsquo; */
-:root:lang(lv),       :not(:lang(lv)) &gt; :lang(lv)             { quotes: '\00ab' '\00bb' '\201e' '\201c' } /* &laquo; &raquo; &bdquo; &ldquo; */
+:root:lang(lv),       :not(:lang(lv)) &gt; :lang(lv)             { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mas),      :not(:lang(mas)) &gt; :lang(mas)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mer),      :not(:lang(mer)) &gt; :lang(mer)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */
 :root:lang(mfe),      :not(:lang(mfe)) &gt; :lang(mfe)           { quotes: '\201c' '\201d' '\2018' '\2019' } /* &ldquo; &rdquo; &lsquo; &rsquo; */

Modified: source
===================================================================
--- source	2012-08-02 18:03:20 UTC (rev 7224)
+++ source	2012-08-07 19:09:45 UTC (rev 7225)
@@ -25902,6 +25902,8 @@
    in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; (skipping past the U+002C COMMA
    character (,) separating this candidate from the next).&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Return to the step labeled &lt;i&gt;splitting loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Descriptor parser&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    be an initially empty ordered list of &lt;span title=&quot;URL&quot;&gt;URLs&lt;/span&gt;
    each with an associated pixel density, and optionally an associated
@@ -26077,33 +26079,31 @@
    the viewport. &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is greater than &lt;var
+   that have an associated width that is less than &lt;var
    title=&quot;&quot;&gt;max width&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated width is greater than the smallest such width.&lt;/p&gt;&lt;/li&gt;
+   associated width is less than the greatest such width.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is greater than &lt;var
+   that have an associated height that is less than &lt;var
    title=&quot;&quot;&gt;max height&lt;/var&gt;, then remove them, unless that would
    remove all the entries, in which case remove only the entries whose
-   associated height is greater than the smallest such
-   height.&lt;/p&gt;&lt;/li&gt;
+   associated height is less than the greatest such height.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If there are any entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is less than a
    user-agent-defined value giving the nominal pixel density of the
    display, then remove them, unless that would remove all the
    entries, in which case remove only the entries whose associated
-   pixel density is less than the greatest such pixel
-   density.&lt;/p&gt;&lt;/li&gt;
+   pixel density is less than the greatest such pixel density.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated width that is less than the greatest such
-   width.&lt;/p&gt;&lt;/li&gt;
+   that have an associated width that is greater than the smallest
+   such width.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
-   that have an associated height that is less than the greatest such
-   height.&lt;/p&gt;&lt;/li&gt;
+   that have an associated height that is greater than the smallest
+   such height.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Remove all the entries in &lt;var title=&quot;&quot;&gt;candidates&lt;/var&gt;
    that have an associated pixel density that is greater than the
@@ -27591,7 +27591,121 @@
   &lt;/div&gt;
 
 
+  &lt;h5&gt;Adaptive images&lt;/h5&gt;
 
+  &lt;!--END dev-html--&gt;&lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;&lt;!--START dev-html--&gt;
+
+  &lt;p&gt;CSS and media queries can be used to construct graphical page
+  layouts that adapt dynamically to the user's environment, in
+  particular to different viewport dimensions and pixel densities. For
+  content, however, CSS does not help; instead, we have the
+  &lt;code&gt;img&lt;/code&gt; element's &lt;code
+  title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt; attribute. This section walks
+  through a sample case showing how to use this attribute.&lt;/p&gt;
+
+  &lt;p&gt;Consider a situation where on wide screens (wider than 600 CSS
+  pixels) a 300&times;150 image named &lt;code
+  title=&quot;&quot;&gt;a-rectangle.png&lt;/code&gt; is to be used, but on smaller
+  screens (600 CSS pixels and less), a smaller 100&times;100 image
+  called &lt;code title=&quot;&quot;&gt;a-square.png&lt;/code&gt; is to be used. The markup
+  for this would look like this:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p class=&quot;note&quot;&gt;For details on what to put in the &lt;code
+  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute, see the earlier
+  sections.&lt;/p&gt;
+
+  &lt;p&gt;The problem with this is that the user agent does not necessarily
+  know what dimensions to use for the image when the image is loading.
+  To avoid the layout having to be reflowed multiple times as the page
+  is loading, CSS and CSS media queries can be used to provide the
+  dimensions:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped&gt;
+  #a { width: 300px; height: 150px; }
+  @media all and (max-width: 600px) { #a { width: 100px; height: 100px; } }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; srcset=&quot;a-square.png 600w&quot; id=&quot;a&quot;
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Alternatively, the &lt;code title=&quot;attr-dim-width&quot;&gt;width&lt;/code&gt; and
+  &lt;code title=&quot;attr-dim-height&quot;&gt;height&lt;/code&gt; attributes can be used
+  to provide the width for legacy user agents, using CSS just for the
+  user agents that support &lt;code
+  title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt;:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;figure&gt;
+ &lt;style scoped media=&quot;all and (max-width: 600px)&quot;&gt;
+  #a { width: 100px; height: 100px; }
+ &lt;/style&gt;
+ &lt;img src=&quot;a-rectangle.png&quot; width=&quot;300&quot; height=&quot;100&quot;
+      srcset=&quot;a-square.png 600w&quot; id=a
+      alt=&quot;Barney Frank wears a suit and glasses.&quot;&gt;
+ &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt; attribute is used
+  with the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute, which
+  gives the URL of the image to use for legacy user agents that do not
+  support the &lt;code title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt; attribute.
+  This leads to a question of which image to provide in the &lt;code
+  title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;
+
+  &lt;p&gt;The answer that results in the least duplication is to provide
+  the image suitable for an infinite width and infinite height
+  viewport with a pixel density of 1 CSS pixel per device pixel:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-desktop.jpeg&quot; srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;However, if legacy mobile user agents are more important, one can
+  list all three images in the &lt;code
+  title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt; attribute, overriding the
+  &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute entirely. To do
+  this, the widest image has to have the pixel density descriptor
+  instead of the width, since there is no way to specify an infinite
+  width explicitly:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-mobile.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;p&gt;Since at this point the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
+  attribute is actually being ignored entirely by &lt;code
+  title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt;-supporting user agents, the
+  &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute can default to any
+  image, including one that is neither the smallest nor biggest:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-mobile.jpeg 720w, pear-tablet.jpeg 1280w, pear-desktop.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The dimensions in the &lt;code title=&quot;attr-img-srcset&quot;&gt;srcset&lt;/code&gt;
+  attribute are the maximum (viewport) dimensions that an image is
+  intended for. It is possible to think of the numbers as minimums,
+  though... if the images are listed in order, then the minimum for an
+  image is the dimension given for the previous image. This example
+  attempts to demonstrate this by using the file names to show the
+  minimum values for each image:&lt;/p&gt;
+
+  &lt;pre&gt;&lt;img src=&quot;pear-tablet.jpeg&quot;
+     srcset=&quot;pear-min0.jpeg 720w, pear-min721.jpeg 1280w, pear-min1281.jpeg 1x&quot;
+     alt=&quot;The pear is juicy.&quot;&gt;&lt;/pre&gt;
+
+
+
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014089.html">[html5] r7224 - [e] (0) Try to explain the difference between the	inputmode, type, and autocompl [...]
</A></li>
	<LI>Next message: <A HREF="014091.html">[html5] r7226 - [e] (0) Upgrade Web IDL terminology. Fixing	https://www.w3.org/Bugs/Public/show_ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14090">[ date ]</a>
              <a href="thread.html#14090">[ thread ]</a>
              <a href="subject.html#14090">[ subject ]</a>
              <a href="author.html#14090">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
