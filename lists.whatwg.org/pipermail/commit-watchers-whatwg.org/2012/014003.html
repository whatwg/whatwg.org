<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7138 - [giow] (2) Allow UAs that have downloaded at least	two frames of video to go int [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7138%20-%20%5Bgiow%5D%20%282%29%20Allow%20UAs%20that%20have%20downloaded%20at%20least%0A%09two%20frames%20of%20video%20to%20go%20int%20%5B...%5D&In-Reply-To=%3C20120615223112.A1CB21C8C08D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014002.html">
   <LINK REL="Next"  HREF="014004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7138 - [giow] (2) Allow UAs that have downloaded at least	two frames of video to go int [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7138%20-%20%5Bgiow%5D%20%282%29%20Allow%20UAs%20that%20have%20downloaded%20at%20least%0A%09two%20frames%20of%20video%20to%20go%20int%20%5B...%5D&In-Reply-To=%3C20120615223112.A1CB21C8C08D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7138 - [giow] (2) Allow UAs that have downloaded at least	two frames of video to go int [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Jun 15 15:31:12 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014002.html">[html5] r7137 - [e] (0) fix json error Affected topics: HTML
</A></li>
        <LI>Next message: <A HREF="014004.html">[html5] r7139 - [giow] (2) Remove the 'magic iframe' feature.	Affected topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14003">[ date ]</a>
              <a href="thread.html#14003">[ thread ]</a>
              <a href="subject.html#14003">[ subject ]</a>
              <a href="author.html#14003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-06-15 15:31:11 -0700 (Fri, 15 Jun 2012)
New Revision: 7138

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Allow UAs that have downloaded at least two frames of video to go into the canplaythrough mode if they aren't going to bother getting any more however long the app and user wait.
Affected topics: Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2012-06-15 20:54:56 UTC (rev 7137)
+++ complete.html	2012-06-15 22:31:11 UTC (rev 7138)
@@ -30130,7 +30130,7 @@
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-have_nothing title=dom-media-HAVE_NOTHING&gt;&lt;code&gt;HAVE_NOTHING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-   &lt;dd&gt;No information regarding the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
+   &lt;dd&gt;&lt;p&gt;No information regarding the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
    available. No data for the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available. &lt;a href=#media-element title=&quot;media element&quot;&gt;Media elements&lt;/a&gt;
    whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
@@ -30140,7 +30140,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_metadata title=dom-media-HAVE_METADATA&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the duration of
+   &lt;dd&gt;&lt;p&gt;Enough of the resource has been obtained that the duration of
    the resource is available. In the case of a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;
    element, the dimensions of the video are also available. The API
    will no longer throw an exception when seeking. No &lt;a href=#media-data&gt;media
@@ -30149,7 +30149,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_current_data title=dom-media-HAVE_CURRENT_DATA&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, but either not enough data is available that the user
    agent could successfully advance the &lt;a href=#current-playback-position&gt;current playback
    position&lt;/a&gt; in the &lt;a href=#direction-of-playback&gt;direction of playback&lt;/a&gt; at all
@@ -30163,7 +30163,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_future_data title=dom-media-HAVE_FUTURE_DATA&gt;&lt;code&gt;HAVE_FUTURE_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; in the &lt;a href=#direction-of-playback&gt;direction
    of playback&lt;/a&gt; at least a little without immediately reverting
@@ -30181,13 +30181,25 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_enough_data title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;code&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
 
-   &lt;dd&gt;All the conditions described for the &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; state
-   are met, and, in addition, the user agent estimates that data is
-   being fetched at a rate where the &lt;a href=#current-playback-position&gt;current playback
-   position&lt;/a&gt;, if it were to advance at the &lt;a href=#effective-playback-rate&gt;effective
-   playback rate&lt;/a&gt;, would not overtake the available data before
-   playback reaches the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;
 
+   &lt;p&gt;All the conditions described for the &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; state
+    are met, and, in addition, either of the following conditions is
+    also true:&lt;/p&gt;
+
+    &lt;ul&gt;&lt;li&gt;The user agent estimates that data is being fetched at a rate
+     where the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;, if it were to
+     advance at the &lt;a href=#effective-playback-rate&gt;effective playback rate&lt;/a&gt;, would not
+     overtake the available data before playback reaches the end of
+     the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;The user agent has entered a state where waiting longer will
+     not result in further data being obtained, and therefore nothing
+     would be gained by delaying playback any further. (For example,
+     the buffer might be full.)&lt;/li&gt;
+
+    &lt;/ul&gt;&lt;/dd&gt;
+
   &lt;/dl&gt;&lt;p class=note&gt;In practice, the difference between &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; is
   negligible. Really the only time the difference is relevant is when
   painting a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element onto a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt;,

Modified: index
===================================================================
--- index	2012-06-15 20:54:56 UTC (rev 7137)
+++ index	2012-06-15 22:31:11 UTC (rev 7138)
@@ -30130,7 +30130,7 @@
 
   &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-have_nothing title=dom-media-HAVE_NOTHING&gt;&lt;code&gt;HAVE_NOTHING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-   &lt;dd&gt;No information regarding the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
+   &lt;dd&gt;&lt;p&gt;No information regarding the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
    available. No data for the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available. &lt;a href=#media-element title=&quot;media element&quot;&gt;Media elements&lt;/a&gt;
    whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
@@ -30140,7 +30140,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_metadata title=dom-media-HAVE_METADATA&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the duration of
+   &lt;dd&gt;&lt;p&gt;Enough of the resource has been obtained that the duration of
    the resource is available. In the case of a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt;
    element, the dimensions of the video are also available. The API
    will no longer throw an exception when seeking. No &lt;a href=#media-data&gt;media
@@ -30149,7 +30149,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_current_data title=dom-media-HAVE_CURRENT_DATA&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, but either not enough data is available that the user
    agent could successfully advance the &lt;a href=#current-playback-position&gt;current playback
    position&lt;/a&gt; in the &lt;a href=#direction-of-playback&gt;direction of playback&lt;/a&gt; at all
@@ -30163,7 +30163,7 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_future_data title=dom-media-HAVE_FUTURE_DATA&gt;&lt;code&gt;HAVE_FUTURE_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; in the &lt;a href=#direction-of-playback&gt;direction
    of playback&lt;/a&gt; at least a little without immediately reverting
@@ -30181,13 +30181,25 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_enough_data title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;code&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
 
-   &lt;dd&gt;All the conditions described for the &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; state
-   are met, and, in addition, the user agent estimates that data is
-   being fetched at a rate where the &lt;a href=#current-playback-position&gt;current playback
-   position&lt;/a&gt;, if it were to advance at the &lt;a href=#effective-playback-rate&gt;effective
-   playback rate&lt;/a&gt;, would not overtake the available data before
-   playback reaches the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;
 
+   &lt;p&gt;All the conditions described for the &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; state
+    are met, and, in addition, either of the following conditions is
+    also true:&lt;/p&gt;
+
+    &lt;ul&gt;&lt;li&gt;The user agent estimates that data is being fetched at a rate
+     where the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;, if it were to
+     advance at the &lt;a href=#effective-playback-rate&gt;effective playback rate&lt;/a&gt;, would not
+     overtake the available data before playback reaches the end of
+     the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;The user agent has entered a state where waiting longer will
+     not result in further data being obtained, and therefore nothing
+     would be gained by delaying playback any further. (For example,
+     the buffer might be full.)&lt;/li&gt;
+
+    &lt;/ul&gt;&lt;/dd&gt;
+
   &lt;/dl&gt;&lt;p class=note&gt;In practice, the difference between &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; is
   negligible. Really the only time the difference is relevant is when
   painting a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element onto a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt;,

Modified: source
===================================================================
--- source	2012-06-15 20:54:56 UTC (rev 7137)
+++ source	2012-06-15 22:31:11 UTC (rev 7138)
@@ -32752,27 +32752,27 @@
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_NOTHING&quot;&gt;&lt;code&gt;HAVE_NOTHING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-   &lt;dd&gt;No information regarding the &lt;span&gt;media resource&lt;/span&gt; is
+   &lt;dd&gt;&lt;p&gt;No information regarding the &lt;span&gt;media resource&lt;/span&gt; is
    available. No data for the &lt;span&gt;current playback position&lt;/span&gt;
    is available. &lt;span title=&quot;media element&quot;&gt;Media elements&lt;/span&gt;
    whose &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
    attribute are set to &lt;code
    title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; are always in
    the &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;
-   state.&lt;/dd&gt;
+   state.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_METADATA&quot;&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the duration of
+   &lt;dd&gt;&lt;p&gt;Enough of the resource has been obtained that the duration of
    the resource is available. In the case of a &lt;code&gt;video&lt;/code&gt;
    element, the dimensions of the video are also available. The API
    will no longer throw an exception when seeking. No &lt;span&gt;media
    data&lt;/span&gt; is available for the immediate &lt;span&gt;current playback
-   position&lt;/span&gt;.&lt;/dd&gt;
+   position&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
    is available, but either not enough data is available that the user
    agent could successfully advance the &lt;span&gt;current playback
    position&lt;/span&gt; in the &lt;span&gt;direction of playback&lt;/span&gt; at all
@@ -32783,11 +32783,11 @@
    agent having data from the current frame, but not the next frame,
    when the &lt;span&gt;current playback position&lt;/span&gt; is at the end of
    the current frame; and to when &lt;span title=&quot;ended
-   playback&quot;&gt;playback has ended&lt;/span&gt;.&lt;/dd&gt;
+   playback&quot;&gt;playback has ended&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;&lt;code&gt;HAVE_FUTURE_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
 
-   &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
+   &lt;dd&gt;&lt;p&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;span&gt;current playback position&lt;/span&gt; in the &lt;span&gt;direction
    of playback&lt;/span&gt; at least a little without immediately reverting
@@ -32801,18 +32801,34 @@
    &lt;span&gt;current playback position&lt;/span&gt; is in the middle of a frame.
    The user agent cannot be in this state if &lt;span title=&quot;ended
    playback&quot;&gt;playback has ended&lt;/span&gt;, as the &lt;span&gt;current playback
-   position&lt;/span&gt; can never advance in this case.&lt;/dd&gt;
+   position&lt;/span&gt; can never advance in this case.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;&lt;code&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
 
-   &lt;dd&gt;All the conditions described for the &lt;code
-   title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; state
-   are met, and, in addition, the user agent estimates that data is
-   being fetched at a rate where the &lt;span&gt;current playback
-   position&lt;/span&gt;, if it were to advance at the &lt;span&gt;effective
-   playback rate&lt;/span&gt;, would not overtake the available data before
-   playback reaches the end of the &lt;span&gt;media resource&lt;/span&gt;.&lt;/dd&gt;
+   &lt;dd&gt;
 
+   &lt;p&gt;All the conditions described for the &lt;code
+    title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; state
+    are met, and, in addition, either of the following conditions is
+    also true:&lt;/p&gt;
+
+    &lt;ul&gt; 
+
+     &lt;li&gt;The user agent estimates that data is being fetched at a rate
+     where the &lt;span&gt;current playback position&lt;/span&gt;, if it were to
+     advance at the &lt;span&gt;effective playback rate&lt;/span&gt;, would not
+     overtake the available data before playback reaches the end of
+     the &lt;span&gt;media resource&lt;/span&gt;.&lt;/li&gt;
+
+     &lt;li&gt;The user agent has entered a state where waiting longer will
+     not result in further data being obtained, and therefore nothing
+     would be gained by delaying playback any further. (For example,
+     the buffer might be full.)&lt;/li&gt;
+
+    &lt;/ul&gt;
+
+   &lt;/dd&gt;
+
   &lt;/dl&gt;
 
   &lt;p class=&quot;note&quot;&gt;In practice, the difference between &lt;code


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014002.html">[html5] r7137 - [e] (0) fix json error Affected topics: HTML
</A></li>
	<LI>Next message: <A HREF="014004.html">[html5] r7139 - [giow] (2) Remove the 'magic iframe' feature.	Affected topics: HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14003">[ date ]</a>
              <a href="thread.html#14003">[ thread ]</a>
              <a href="subject.html#14003">[ subject ]</a>
              <a href="author.html#14003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
