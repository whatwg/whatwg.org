<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7544 - [giow] (3) More detail on the inheritance of	encodings from parent browsing cont [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7544%20-%20%5Bgiow%5D%20%283%29%20More%20detail%20on%20the%20inheritance%20of%0A%09encodings%20from%20parent%20browsing%20cont%20%5B...%5D&In-Reply-To=%3C20121125053344.A9D8A805C0E3%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014404.html">
   <LINK REL="Next"  HREF="014406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7544 - [giow] (3) More detail on the inheritance of	encodings from parent browsing cont [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7544%20-%20%5Bgiow%5D%20%283%29%20More%20detail%20on%20the%20inheritance%20of%0A%09encodings%20from%20parent%20browsing%20cont%20%5B...%5D&In-Reply-To=%3C20121125053344.A9D8A805C0E3%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7544 - [giow] (3) More detail on the inheritance of	encodings from parent browsing cont [...]">whatwg at whatwg.org
       </A><BR>
    <I>Sat Nov 24 21:33:44 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014404.html">[html5] r7543 - [e] (0) Fix some typos or copypasta. Affected	topics: Canvas
</A></li>
        <LI>Next message: <A HREF="014406.html">[html5] r7545 - [e] (0) Fix some typos or copypasta. Affected	topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14405">[ date ]</a>
              <a href="thread.html#14405">[ thread ]</a>
              <a href="subject.html#14405">[ subject ]</a>
              <a href="author.html#14405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-11-24 21:33:43 -0800 (Sat, 24 Nov 2012)
New Revision: 7544

Modified:
   complete.html
   index
   source
Log:
[giow] (3) More detail on the inheritance of encodings from parent browsing contexts.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=18474">https://www.w3.org/Bugs/Public/show_bug.cgi?id=18474</A>
Affected topics: HTML Syntax and Parsing

Modified: complete.html
===================================================================
--- complete.html	2012-11-25 05:16:39 UTC (rev 7543)
+++ complete.html	2012-11-25 05:33:43 UTC (rev 7544)
@@ -87095,13 +87095,33 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, if the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a &lt;a href=#nested-browsing-context&gt;nested
-   browsing context&lt;/a&gt;, return the encoding of the &lt;a href=#browsing-context-container&gt;browsing
-   context container&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character encoding&quot;&gt;character encoding&lt;/a&gt;,
-   with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt;
-   &lt;i&gt;tentative&lt;/i&gt;, and abort these steps.&lt;/li&gt; &lt;!-- not
-   carefully tested --&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; for which this algorithm is being run is associated with a
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is itself in a &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, run these
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; with which the
+     &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; is associated.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#browsing-context-nested-through title=&quot;browsing context nested through&quot;&gt;through which &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; is
+     nested&lt;/a&gt; (the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; of
+     &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;).&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is not the &lt;a href=#same-origin&gt;same
+     origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt;, then abort these
+     substeps.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/a&gt; is not an &lt;a href=#ascii-compatible-character-encoding&gt;ASCII-compatible character encoding&lt;/a&gt;,
+     then abort these substeps.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/a&gt;, with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; &lt;i&gt;tentative&lt;/i&gt;, and abort the
+     &lt;a href=#encoding-sniffing-algorithm&gt;encoding sniffing algorithm&lt;/a&gt;'s steps.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Otherwise, if the user agent has information on the likely
    encoding for this page, e.g. based on the encoding of the page when
    it was last visited, then return that encoding, with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt;

Modified: index
===================================================================
--- index	2012-11-25 05:16:39 UTC (rev 7543)
+++ index	2012-11-25 05:33:43 UTC (rev 7544)
@@ -87095,13 +87095,33 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, if the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is in a &lt;a href=#nested-browsing-context&gt;nested
-   browsing context&lt;/a&gt;, return the encoding of the &lt;a href=#browsing-context-container&gt;browsing
-   context container&lt;/a&gt;'s &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character encoding&quot;&gt;character encoding&lt;/a&gt;,
-   with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt;
-   &lt;i&gt;tentative&lt;/i&gt;, and abort these steps.&lt;/li&gt; &lt;!-- not
-   carefully tested --&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; for which this algorithm is being run is associated with a
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is itself in a &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, run these
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; with which the
+     &lt;a href=#html-parser&gt;HTML parser&lt;/a&gt; is associated.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; &lt;a href=#browsing-context-nested-through title=&quot;browsing context nested through&quot;&gt;through which &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; is
+     nested&lt;/a&gt; (the &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt; of
+     &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;).&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is not the &lt;a href=#same-origin&gt;same
+     origin&lt;/a&gt; as &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt;, then abort these
+     substeps.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/a&gt; is not an &lt;a href=#ascii-compatible-character-encoding&gt;ASCII-compatible character encoding&lt;/a&gt;,
+     then abort these substeps.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;a href=&quot;#document's-character-encoding&quot; title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/a&gt;, with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; &lt;i&gt;tentative&lt;/i&gt;, and abort the
+     &lt;a href=#encoding-sniffing-algorithm&gt;encoding sniffing algorithm&lt;/a&gt;'s steps.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Otherwise, if the user agent has information on the likely
    encoding for this page, e.g. based on the encoding of the page when
    it was last visited, then return that encoding, with the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt;

Modified: source
===================================================================
--- source	2012-11-25 05:16:39 UTC (rev 7543)
+++ source	2012-11-25 05:33:43 UTC (rev 7544)
@@ -101143,15 +101143,39 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Otherwise, if the &lt;code&gt;Document&lt;/code&gt; is in a &lt;span&gt;nested
-   browsing context&lt;/span&gt;, return the encoding of the &lt;span&gt;browsing
-   context container&lt;/span&gt;'s &lt;code&gt;Document&lt;/code&gt;'s &lt;span
-   title=&quot;document's character encoding&quot;&gt;character encoding&lt;/span&gt;,
-   with the &lt;span
-   title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt;
-   &lt;i&gt;tentative&lt;/i&gt;, and abort these steps.&lt;/p&gt;&lt;/li&gt; &lt;!-- not
-   carefully tested --&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If the &lt;span&gt;HTML parser&lt;/span&gt; for which this algorithm is being run is associated with a
+    &lt;code&gt;Document&lt;/code&gt; that is itself in a &lt;span&gt;nested browsing context&lt;/span&gt;, run these
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; with which the
+     &lt;span&gt;HTML parser&lt;/span&gt; is associated.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; &lt;span
+     title=&quot;browsing context nested through&quot;&gt;through which &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt; is
+     nested&lt;/span&gt; (the &lt;span&gt;active document&lt;/span&gt; of the &lt;span&gt;parent browsing context&lt;/span&gt; of
+     &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;).&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;span&gt;origin&lt;/span&gt; is not the &lt;span&gt;same
+     origin&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;new document&lt;/var&gt;'s &lt;span&gt;origin&lt;/span&gt;, then abort these
+     substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;span title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/span&gt; is not an &lt;span&gt;ASCII-compatible character encoding&lt;/span&gt;,
+     then abort these substeps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;parent document&lt;/var&gt;'s &lt;span title=&quot;document's character
+     encoding&quot;&gt;character encoding&lt;/span&gt;, with the &lt;span
+     title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; &lt;i&gt;tentative&lt;/i&gt;, and abort the
+     &lt;span&gt;encoding sniffing algorithm&lt;/span&gt;'s steps.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Otherwise, if the user agent has information on the likely
    encoding for this page, e.g. based on the encoding of the page when
    it was last visited, then return that encoding, with the &lt;span


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014404.html">[html5] r7543 - [e] (0) Fix some typos or copypasta. Affected	topics: Canvas
</A></li>
	<LI>Next message: <A HREF="014406.html">[html5] r7545 - [e] (0) Fix some typos or copypasta. Affected	topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14405">[ date ]</a>
              <a href="thread.html#14405">[ thread ]</a>
              <a href="subject.html#14405">[ subject ]</a>
              <a href="author.html#14405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
