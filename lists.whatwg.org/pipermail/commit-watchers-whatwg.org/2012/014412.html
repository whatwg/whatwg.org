<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7552 - [giow] (1) Try to be clearer about when the poster	frame is shown. Better matche [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7552%20-%20%5Bgiow%5D%20%281%29%20Try%20to%20be%20clearer%20about%20when%20the%20poster%0A%09frame%20is%20shown.%20Better%20matche%20%5B...%5D&In-Reply-To=%3C20121130214520.EAE9F805C0EE%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014411.html">
   <LINK REL="Next"  HREF="014413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7552 - [giow] (1) Try to be clearer about when the poster	frame is shown. Better matche [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7552%20-%20%5Bgiow%5D%20%281%29%20Try%20to%20be%20clearer%20about%20when%20the%20poster%0A%09frame%20is%20shown.%20Better%20matche%20%5B...%5D&In-Reply-To=%3C20121130214520.EAE9F805C0EE%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7552 - [giow] (1) Try to be clearer about when the poster	frame is shown. Better matche [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Nov 30 13:45:20 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014411.html">[html5] r7551 - [giow] (1) Add document.currentScript,	as implemented by Mozilla. Affected topic [...]
</A></li>
        <LI>Next message: <A HREF="014413.html">[html5] r7553 - [giow] (1) Match implementations better regarding	intrinsic size of &lt;video&gt; with [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14412">[ date ]</a>
              <a href="thread.html#14412">[ thread ]</a>
              <a href="subject.html#14412">[ subject ]</a>
              <a href="author.html#14412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-11-30 13:45:19 -0800 (Fri, 30 Nov 2012)
New Revision: 7552

Modified:
   complete.html
   index
   source
Log:
[giow] (1) Try to be clearer about when the poster frame is shown. Better matches implementations (see first part of #10 in the bug).
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=17979">https://www.w3.org/Bugs/Public/show_bug.cgi?id=17979</A>
Affected topics: HTML, Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2012-11-29 01:32:53 UTC (rev 7551)
+++ complete.html	2012-11-30 21:45:19 UTC (rev 7552)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 29 November 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 30 November 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -27714,12 +27714,10 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;If the specified resource is to be used, then, when the element
-  is created or when the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt;
-  attribute is set, changed, or removed, the user agent must run the
-  following steps to determine the element's &lt;dfn id=poster-frame&gt;poster
-  frame&lt;/dfn&gt;:&lt;/p&gt; &lt;!-- thus it is unaffected by changes to the base
-  URL. --&gt;
+  &lt;p&gt;If the specified resource is to be used, then, when the element is created or when the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt; attribute is set, changed, or removed, the user agent must
+  run the following steps to determine the element's &lt;dfn id=poster-frame&gt;poster frame&lt;/dfn&gt; (regardless of the
+  value of the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt;):&lt;/p&gt; &lt;!-- thus it is unaffected by changes
+  to the base URL. --&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there is an existing instance of this algorithm running
    for this &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element, abort that instance of this
@@ -27754,59 +27752,54 @@
 
   &lt;div class=impl&gt;
 
-  &lt;hr&gt;&lt;p&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
-  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; but no video
-  data has yet been obtained at all, or the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is any
-  subsequent value but the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; does not have a
-  video channel), the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element
-  &lt;a href=#represents&gt;represents&lt;/a&gt; the &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;A &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element represents what is given for the first matching condition in the
+  list below:&lt;/p&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; and the &lt;a href=#current-playback-position title=&quot;current
-  playback position&quot;&gt;current playback position&lt;/a&gt; is the first
-  frame of video, the element &lt;a href=#represents&gt;represents&lt;/a&gt; the &lt;a href=#poster-frame&gt;poster
-  frame&lt;/a&gt;, unless a frame of video has already been shown, in
-  which case the element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video
-  corresponding to the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current
-  playback position&lt;/a&gt;.&lt;/p&gt;
+  &lt;dl class=switch&gt;&lt;dt&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; but no video data has yet been obtained at
+   all, or the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is any
+   subsequent value but the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; does not have a video channel)&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; at any other position, and
-  the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; has a video channel, the element
-  &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video corresponding to the
-  &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback
-  position&lt;/a&gt;, or, if that is not yet available (e.g. because the
-  video is seeking or buffering), the last frame of the video to have
-  been rendered.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;, the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback position&lt;/a&gt; is the first frame of video,
+   and the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; is set&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element whose &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt; has a video channel is &lt;a href=#potentially-playing&gt;potentially
-  playing&lt;/a&gt;, it &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video at the
-  continuously increasing &lt;a href=#current-playback-position title=&quot;current playback
-  position&quot;&gt;&quot;current&quot; position&lt;/a&gt;. When the &lt;a href=#current-playback-position&gt;current playback
-  position&lt;/a&gt; changes such that the last frame rendered is no
-  longer the frame corresponding to the &lt;a href=#current-playback-position&gt;current playback
-  position&lt;/a&gt; in the video, the new frame must be rendered.
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; its &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;.&lt;/dd&gt;
 
-  Similarly, any audio associated with the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;
-  must, if played, be played synchronized with the &lt;a href=#current-playback-position&gt;current
-  playback position&lt;/a&gt;, at the element's &lt;a href=#effective-media-volume&gt;effective media
-  volume&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;, and the
+   frame of video corresponding to the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback
+   position&lt;/a&gt; is not available (e.g. because the video is seeking or buffering)&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element whose &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt; has a video channel is neither &lt;a href=#potentially-playing&gt;potentially
-  playing&lt;/a&gt; nor &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;
-  (e.g. when seeking or stalled), the element &lt;a href=#represents&gt;represents&lt;/a&gt;
-  the last frame of the video to have been rendered.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is neither &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt; nor &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; (e.g. when seeking or stalled)&lt;/dt&gt;
 
-  &lt;p class=note&gt;Which frame in a video stream corresponds to a
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the last frame of the video to have
+   been rendered.&lt;/dd&gt;
+
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video corresponding to
+   the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback position&lt;/a&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise (the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element has a video channel and is &lt;a href=#potentially-playing&gt;potentially
+   playing&lt;/a&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video at the continuously
+   increasing &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;&quot;current&quot; position&lt;/a&gt;. When the
+   &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; changes such that the last frame rendered is no longer the
+   frame corresponding to the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; in the video, the new frame
+   must be rendered.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p class=note&gt;Which frame in a video stream corresponds to a
   particular playback position is defined by the video stream's
   format.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element also &lt;a href=#represents&gt;represents&lt;/a&gt; any
-  &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track cues&lt;/a&gt; whose &lt;a href=#text-track-cue-active-flag&gt;text
-  track cue active flag&lt;/a&gt; is set and whose &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; is in the &lt;a href=#text-track-showing title=&quot;text track
-  showing&quot;&gt;showing&lt;/a&gt; mode.&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element also &lt;a href=#represents&gt;represents&lt;/a&gt; any &lt;a href=#text-track-cue title=&quot;text track
+  cue&quot;&gt;text track cues&lt;/a&gt; whose &lt;a href=#text-track-cue-active-flag&gt;text track cue active flag&lt;/a&gt; is set and whose
+  &lt;a href=#text-track&gt;text track&lt;/a&gt; is in the &lt;a href=#text-track-showing title=&quot;text track showing&quot;&gt;showing&lt;/a&gt; mode, and any
+  audio from the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, at the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Any audio associated with the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; must, if played, be played
+  synchronized with the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;, at the element's &lt;a href=#effective-media-volume&gt;effective
+  media volume&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;In addition to the above, the user agent may provide messages to
   the user (such as &quot;buffering&quot;, &quot;no video loaded&quot;, &quot;error&quot;, or more
   detailed information) by overlaying text or icons on the video or
@@ -28976,7 +28969,12 @@
      &lt;li&gt;&lt;p&gt;If a fetching process is in progress for the &lt;a href=#media-element&gt;media
      element&lt;/a&gt;, the user agent should stop it.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+     &lt;!--(no point doing this, since we always call the resource selection algorithm synchronously
+     at the end of this algorithm, and that switches it to NETWORK_NO_SOURCE and sets the flag)
+     &lt;li&gt;&lt;p&gt;Set the &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to &lt;code
+     title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+     --&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=&quot;#forget-the-media-element's-media-resource-specific-text-tracks&quot;&gt;Forget the media element's media-resource-specific text tracks&lt;/a&gt;.&lt;/li&gt;
 
@@ -29039,8 +29037,12 @@
   section&quot;&gt;synchronous sections&lt;/a&gt; (which are triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
   algorithm). Steps in such sections are marked with &#8987;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY at this point --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
+                      (where setting it to empty is commented out) --&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
+   the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Asynchronously &lt;a href=#await-a-stable-state&gt;await a stable state&lt;/a&gt;, allowing the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that invoked this algorithm to continue. The &lt;a href=#synchronous-section&gt;synchronous
    section&lt;/a&gt; consists of all the remaining steps of this algorithm until the algorithm says the
    &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; has ended. (Steps in &lt;a href=#synchronous-section title=&quot;synchronous
@@ -29063,7 +29065,8 @@
     be the first such &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element child in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&#8987; Otherwise the &lt;a href=#media-element&gt;media element&lt;/a&gt; has neither a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute nor a &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element child: set the
-    &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, and abort these steps; the
+    &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;&lt;!-- no need to set the &lt;span&gt;show poster
+    flag&lt;/span&gt; to true since we set it up there already --&gt;, and abort these steps; the
     &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; ends.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -29110,8 +29113,10 @@
        &lt;li&gt;&lt;p&gt;&lt;a href=&quot;#forget-the-media-element's-media-resource-specific-text-tracks&quot;&gt;Forget the media element's media-resource-specific text tracks&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       to the &lt;a href=#dom-media-network_no_source title=dom-media-NETWORK_NO_SOURCE&gt;NETWORK_NO_SOURCE&lt;/a&gt; value.&lt;/li&gt;
+       to the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
       &lt;/ol&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-error&gt;&lt;a href=#event-media-error&gt;error&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#media-element&gt;media element&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM
@@ -29217,8 +29222,10 @@
      &lt;li&gt;&lt;p&gt;&#8987; If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is null, jump back to the &lt;i title=&quot;&quot;&gt;search
      loop&lt;/i&gt; step. Otherwise, jump back to the &lt;i title=&quot;&quot;&gt;process candidate&lt;/i&gt; step.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&#8987; &lt;i title=&quot;&quot;&gt;Waiting&lt;/i&gt;: Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to the &lt;a href=#dom-media-network_no_source title=dom-media-NETWORK_NO_SOURCE&gt;NETWORK_NO_SOURCE&lt;/a&gt; value.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&#8987; &lt;i title=&quot;&quot;&gt;Waiting&lt;/i&gt;: Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+     &lt;li&gt;&lt;p&gt;&#8987; Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;&#8987; Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This
      stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
@@ -29585,6 +29592,8 @@
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;a href=#concept-media-load-algorithm title=concept-media-load-algorithm&gt;resource selection
        algorithm&lt;/a&gt;.&lt;/li&gt;
 
@@ -29616,6 +29625,8 @@
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;a href=#concept-media-load-algorithm title=concept-media-load-algorithm&gt;resource selection
        algorithm&lt;/a&gt;.&lt;/li&gt;
 
@@ -29898,6 +29909,11 @@
   position&lt;/dfn&gt;, which must initially be set to zero seconds. This time is used to allow the
   element to be seeked even before the media is loaded.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;dfn id=show-poster-flag&gt;show poster flag&lt;/dfn&gt;. When a &lt;a href=#media-element&gt;media
+  element&lt;/a&gt; is created, this flag must be set to true. This flag is used to control when the
+  user agent is to show a poster frame for a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element instead of showing the video
+  contents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-media-currenttime title=dom-media-currentTime&gt;&lt;code&gt;currentTime&lt;/code&gt;&lt;/dfn&gt; attribute must, on
   getting, return the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#default-playback-start-position&gt;default playback start position&lt;/a&gt;,
   unless that is zero, in which case it must return the element's &lt;a href=#official-playback-position&gt;official playback
@@ -29963,8 +29979,7 @@
   user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-durationchange&gt;&lt;a href=#event-media-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (The
   event is not fired when the duration is reset as part of loading a new media resource.) If the
   duration is changed such that the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; ends up being greater
-  than the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, then the user agent must also &lt;a href=#dom-media-seek title=dom-media-seek&gt;seek&lt;/a&gt; the to the time of the end of the &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt;.&lt;/p&gt;
+  than the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, then the user agent must also &lt;a href=#dom-media-seek title=dom-media-seek&gt;seek&lt;/a&gt; to the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;If an &quot;infinite&quot; stream ends for some reason, then the duration would change
   from positive Infinity to the time of the last frame or sample in the stream, and the &lt;code title=event-media-durationchange&gt;&lt;a href=#event-media-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; event would be fired. Similarly, if the
@@ -30559,6 +30574,10 @@
   rate, so that (except for the period between when the rate is changed and when the server updates
   the stream's playback rate) the client doesn't actually have to drop or interpolate any
   frames.&lt;/p&gt;
+ 
+  &lt;p&gt;Any time a &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; changes due to
+  the monotonic increase required above, the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; must be set to
+  false.&lt;/p&gt;
 
   &lt;p&gt;Any time the user agent &lt;a href=#provide-a-stable-state title=&quot;provide a stable state&quot;&gt;provides a stable state&lt;/a&gt;,
   the &lt;a href=#official-playback-position&gt;official playback position&lt;/a&gt; must be set to the &lt;a href=#current-playback-position&gt;current playback
@@ -30808,7 +30827,9 @@
   a &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; (which is triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
   algorithm). Steps in that section are marked with &#8987;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
    is &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the element's &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; IDL attribute is true,

Modified: index
===================================================================
--- index	2012-11-29 01:32:53 UTC (rev 7551)
+++ index	2012-11-30 21:45:19 UTC (rev 7552)
@@ -248,7 +248,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 29 November 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 30 November 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -27714,12 +27714,10 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;If the specified resource is to be used, then, when the element
-  is created or when the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt;
-  attribute is set, changed, or removed, the user agent must run the
-  following steps to determine the element's &lt;dfn id=poster-frame&gt;poster
-  frame&lt;/dfn&gt;:&lt;/p&gt; &lt;!-- thus it is unaffected by changes to the base
-  URL. --&gt;
+  &lt;p&gt;If the specified resource is to be used, then, when the element is created or when the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt; attribute is set, changed, or removed, the user agent must
+  run the following steps to determine the element's &lt;dfn id=poster-frame&gt;poster frame&lt;/dfn&gt; (regardless of the
+  value of the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt;):&lt;/p&gt; &lt;!-- thus it is unaffected by changes
+  to the base URL. --&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there is an existing instance of this algorithm running
    for this &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element, abort that instance of this
@@ -27754,59 +27752,54 @@
 
   &lt;div class=impl&gt;
 
-  &lt;hr&gt;&lt;p&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
-  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; but no video
-  data has yet been obtained at all, or the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is any
-  subsequent value but the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; does not have a
-  video channel), the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element
-  &lt;a href=#represents&gt;represents&lt;/a&gt; the &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;A &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element represents what is given for the first matching condition in the
+  list below:&lt;/p&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; and the &lt;a href=#current-playback-position title=&quot;current
-  playback position&quot;&gt;current playback position&lt;/a&gt; is the first
-  frame of video, the element &lt;a href=#represents&gt;represents&lt;/a&gt; the &lt;a href=#poster-frame&gt;poster
-  frame&lt;/a&gt;, unless a frame of video has already been shown, in
-  which case the element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video
-  corresponding to the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current
-  playback position&lt;/a&gt;.&lt;/p&gt;
+  &lt;dl class=switch&gt;&lt;dt&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; but no video data has yet been obtained at
+   all, or the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is any
+   subsequent value but the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; does not have a video channel)&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; at any other position, and
-  the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; has a video channel, the element
-  &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video corresponding to the
-  &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback
-  position&lt;/a&gt;, or, if that is not yet available (e.g. because the
-  video is seeking or buffering), the last frame of the video to have
-  been rendered.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;, the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback position&lt;/a&gt; is the first frame of video,
+   and the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; is set&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element whose &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt; has a video channel is &lt;a href=#potentially-playing&gt;potentially
-  playing&lt;/a&gt;, it &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video at the
-  continuously increasing &lt;a href=#current-playback-position title=&quot;current playback
-  position&quot;&gt;&quot;current&quot; position&lt;/a&gt;. When the &lt;a href=#current-playback-position&gt;current playback
-  position&lt;/a&gt; changes such that the last frame rendered is no
-  longer the frame corresponding to the &lt;a href=#current-playback-position&gt;current playback
-  position&lt;/a&gt; in the video, the new frame must be rendered.
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; its &lt;a href=#poster-frame&gt;poster frame&lt;/a&gt;.&lt;/dd&gt;
 
-  Similarly, any audio associated with the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;
-  must, if played, be played synchronized with the &lt;a href=#current-playback-position&gt;current
-  playback position&lt;/a&gt;, at the element's &lt;a href=#effective-media-volume&gt;effective media
-  volume&lt;/a&gt;.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;, and the
+   frame of video corresponding to the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback
+   position&lt;/a&gt; is not available (e.g. because the video is seeking or buffering)&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element whose &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt; has a video channel is neither &lt;a href=#potentially-playing&gt;potentially
-  playing&lt;/a&gt; nor &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;
-  (e.g. when seeking or stalled), the element &lt;a href=#represents&gt;represents&lt;/a&gt;
-  the last frame of the video to have been rendered.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is neither &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt; nor &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt; (e.g. when seeking or stalled)&lt;/dt&gt;
 
-  &lt;p class=note&gt;Which frame in a video stream corresponds to a
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the last frame of the video to have
+   been rendered.&lt;/dd&gt;
+
+   &lt;dt&gt;When the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#dom-media-paused title=dom-media-paused&gt;paused&lt;/a&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video corresponding to
+   the &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;current playback position&lt;/a&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise (the &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element has a video channel and is &lt;a href=#potentially-playing&gt;potentially
+   playing&lt;/a&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; the frame of video at the continuously
+   increasing &lt;a href=#current-playback-position title=&quot;current playback position&quot;&gt;&quot;current&quot; position&lt;/a&gt;. When the
+   &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; changes such that the last frame rendered is no longer the
+   frame corresponding to the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; in the video, the new frame
+   must be rendered.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p class=note&gt;Which frame in a video stream corresponds to a
   particular playback position is defined by the video stream's
   format.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element also &lt;a href=#represents&gt;represents&lt;/a&gt; any
-  &lt;a href=#text-track-cue title=&quot;text track cue&quot;&gt;text track cues&lt;/a&gt; whose &lt;a href=#text-track-cue-active-flag&gt;text
-  track cue active flag&lt;/a&gt; is set and whose &lt;a href=#text-track&gt;text
-  track&lt;/a&gt; is in the &lt;a href=#text-track-showing title=&quot;text track
-  showing&quot;&gt;showing&lt;/a&gt; mode.&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element also &lt;a href=#represents&gt;represents&lt;/a&gt; any &lt;a href=#text-track-cue title=&quot;text track
+  cue&quot;&gt;text track cues&lt;/a&gt; whose &lt;a href=#text-track-cue-active-flag&gt;text track cue active flag&lt;/a&gt; is set and whose
+  &lt;a href=#text-track&gt;text track&lt;/a&gt; is in the &lt;a href=#text-track-showing title=&quot;text track showing&quot;&gt;showing&lt;/a&gt; mode, and any
+  audio from the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, at the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Any audio associated with the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; must, if played, be played
+  synchronized with the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;, at the element's &lt;a href=#effective-media-volume&gt;effective
+  media volume&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p&gt;In addition to the above, the user agent may provide messages to
   the user (such as &quot;buffering&quot;, &quot;no video loaded&quot;, &quot;error&quot;, or more
   detailed information) by overlaying text or icons on the video or
@@ -28976,7 +28969,12 @@
      &lt;li&gt;&lt;p&gt;If a fetching process is in progress for the &lt;a href=#media-element&gt;media
      element&lt;/a&gt;, the user agent should stop it.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+     &lt;!--(no point doing this, since we always call the resource selection algorithm synchronously
+     at the end of this algorithm, and that switches it to NETWORK_NO_SOURCE and sets the flag)
+     &lt;li&gt;&lt;p&gt;Set the &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to &lt;code
+     title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+     --&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=&quot;#forget-the-media-element's-media-resource-specific-text-tracks&quot;&gt;Forget the media element's media-resource-specific text tracks&lt;/a&gt;.&lt;/li&gt;
 
@@ -29039,8 +29037,12 @@
   section&quot;&gt;synchronous sections&lt;/a&gt; (which are triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
   algorithm). Steps in such sections are marked with &#8987;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY at this point --&gt;&lt;li&gt;&lt;p&gt;Set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+  &lt;ol&gt;&lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
+                      (where setting it to empty is commented out) --&gt;&lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to
+   the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Asynchronously &lt;a href=#await-a-stable-state&gt;await a stable state&lt;/a&gt;, allowing the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that invoked this algorithm to continue. The &lt;a href=#synchronous-section&gt;synchronous
    section&lt;/a&gt; consists of all the remaining steps of this algorithm until the algorithm says the
    &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; has ended. (Steps in &lt;a href=#synchronous-section title=&quot;synchronous
@@ -29063,7 +29065,8 @@
     be the first such &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element child in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&#8987; Otherwise the &lt;a href=#media-element&gt;media element&lt;/a&gt; has neither a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute nor a &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element child: set the
-    &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, and abort these steps; the
+    &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;&lt;!-- no need to set the &lt;span&gt;show poster
+    flag&lt;/span&gt; to true since we set it up there already --&gt;, and abort these steps; the
     &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; ends.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -29110,8 +29113,10 @@
        &lt;li&gt;&lt;p&gt;&lt;a href=&quot;#forget-the-media-element's-media-resource-specific-text-tracks&quot;&gt;Forget the media element's media-resource-specific text tracks&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       to the &lt;a href=#dom-media-network_no_source title=dom-media-NETWORK_NO_SOURCE&gt;NETWORK_NO_SOURCE&lt;/a&gt; value.&lt;/li&gt;
+       to the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
       &lt;/ol&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-error&gt;&lt;a href=#event-media-error&gt;error&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#media-element&gt;media element&lt;/a&gt;, using the &lt;a href=#dom-manipulation-task-source&gt;DOM
@@ -29217,8 +29222,10 @@
      &lt;li&gt;&lt;p&gt;&#8987; If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is null, jump back to the &lt;i title=&quot;&quot;&gt;search
      loop&lt;/i&gt; step. Otherwise, jump back to the &lt;i title=&quot;&quot;&gt;process candidate&lt;/i&gt; step.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&#8987; &lt;i title=&quot;&quot;&gt;Waiting&lt;/i&gt;: Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to the &lt;a href=#dom-media-network_no_source title=dom-media-NETWORK_NO_SOURCE&gt;NETWORK_NO_SOURCE&lt;/a&gt; value.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;&#8987; &lt;i title=&quot;&quot;&gt;Waiting&lt;/i&gt;: Set the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute to the &lt;code title=dom-media-NETWORK_NO_SOURCE&gt;&lt;a href=#dom-media-network_no_source&gt;NETWORK_NO_SOURCE&lt;/a&gt;&lt;/code&gt; value.&lt;/li&gt;
 
+     &lt;li&gt;&lt;p&gt;&#8987; Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;&#8987; Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This
      stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
@@ -29585,6 +29592,8 @@
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;a href=#concept-media-load-algorithm title=concept-media-load-algorithm&gt;resource selection
        algorithm&lt;/a&gt;.&lt;/li&gt;
 
@@ -29616,6 +29625,8 @@
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#delaying-the-load-event-flag&gt;delaying-the-load-event flag&lt;/a&gt; to false. This stops &lt;a href=#delay-the-load-event title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/a&gt;.&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to true.&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;a href=#concept-media-load-algorithm title=concept-media-load-algorithm&gt;resource selection
        algorithm&lt;/a&gt;.&lt;/li&gt;
 
@@ -29898,6 +29909,11 @@
   position&lt;/dfn&gt;, which must initially be set to zero seconds. This time is used to allow the
   element to be seeked even before the media is loaded.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;a href=#media-element&gt;media element&lt;/a&gt; has a &lt;dfn id=show-poster-flag&gt;show poster flag&lt;/dfn&gt;. When a &lt;a href=#media-element&gt;media
+  element&lt;/a&gt; is created, this flag must be set to true. This flag is used to control when the
+  user agent is to show a poster frame for a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element instead of showing the video
+  contents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-media-currenttime title=dom-media-currentTime&gt;&lt;code&gt;currentTime&lt;/code&gt;&lt;/dfn&gt; attribute must, on
   getting, return the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#default-playback-start-position&gt;default playback start position&lt;/a&gt;,
   unless that is zero, in which case it must return the element's &lt;a href=#official-playback-position&gt;official playback
@@ -29963,8 +29979,7 @@
   user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; named &lt;code title=event-media-durationchange&gt;&lt;a href=#event-media-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#media-element&gt;media element&lt;/a&gt;. (The
   event is not fired when the duration is reset as part of loading a new media resource.) If the
   duration is changed such that the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; ends up being greater
-  than the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, then the user agent must also &lt;a href=#dom-media-seek title=dom-media-seek&gt;seek&lt;/a&gt; the to the time of the end of the &lt;a href=#media-resource&gt;media
-  resource&lt;/a&gt;.&lt;/p&gt;
+  than the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, then the user agent must also &lt;a href=#dom-media-seek title=dom-media-seek&gt;seek&lt;/a&gt; to the time of the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;If an &quot;infinite&quot; stream ends for some reason, then the duration would change
   from positive Infinity to the time of the last frame or sample in the stream, and the &lt;code title=event-media-durationchange&gt;&lt;a href=#event-media-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; event would be fired. Similarly, if the
@@ -30559,6 +30574,10 @@
   rate, so that (except for the period between when the rate is changed and when the server updates
   the stream's playback rate) the client doesn't actually have to drop or interpolate any
   frames.&lt;/p&gt;
+ 
+  &lt;p&gt;Any time a &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; changes due to
+  the monotonic increase required above, the element's &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; must be set to
+  false.&lt;/p&gt;
 
   &lt;p&gt;Any time the user agent &lt;a href=#provide-a-stable-state title=&quot;provide a stable state&quot;&gt;provides a stable state&lt;/a&gt;,
   the &lt;a href=#official-playback-position&gt;official playback position&lt;/a&gt; must be set to the &lt;a href=#current-playback-position&gt;current playback
@@ -30808,7 +30827,9 @@
   a &lt;a href=#synchronous-section&gt;synchronous section&lt;/a&gt; (which is triggered as part of the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
   algorithm). Steps in that section are marked with &#8987;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Set the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#show-poster-flag&gt;show poster flag&lt;/a&gt; to false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
    is &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the element's &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; IDL attribute is true,

Modified: source
===================================================================
--- source	2012-11-29 01:32:53 UTC (rev 7551)
+++ source	2012-11-30 21:45:19 UTC (rev 7552)
@@ -29708,12 +29708,11 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;If the specified resource is to be used, then, when the element
-  is created or when the &lt;code title=&quot;attr-video-poster&quot;&gt;poster&lt;/code&gt;
-  attribute is set, changed, or removed, the user agent must run the
-  following steps to determine the element's &lt;dfn&gt;poster
-  frame&lt;/dfn&gt;:&lt;/p&gt; &lt;!-- thus it is unaffected by changes to the base
-  URL. --&gt;
+  &lt;p&gt;If the specified resource is to be used, then, when the element is created or when the &lt;code
+  title=&quot;attr-video-poster&quot;&gt;poster&lt;/code&gt; attribute is set, changed, or removed, the user agent must
+  run the following steps to determine the element's &lt;dfn&gt;poster frame&lt;/dfn&gt; (regardless of the
+  value of the element's &lt;span&gt;show poster flag&lt;/span&gt;):&lt;/p&gt; &lt;!-- thus it is unaffected by changes
+  to the base URL. --&gt;
 
   &lt;ol&gt;
 
@@ -29756,64 +29755,63 @@
 
   &lt;hr&gt;
 
-  &lt;p&gt;When no video data is available (the element's &lt;code
-  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
-  &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, or &lt;code
-  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; but no video
-  data has yet been obtained at all, or the element's &lt;code
-  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is any
-  subsequent value but the &lt;span&gt;media resource&lt;/span&gt; does not have a
-  video channel), the &lt;code&gt;video&lt;/code&gt; element
-  &lt;span&gt;represents&lt;/span&gt; the &lt;span&gt;poster frame&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;video&lt;/code&gt; element represents what is given for the first matching condition in the
+  list below:&lt;/p&gt;
 
-  &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element is &lt;span
-  title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt; and the &lt;span title=&quot;current
-  playback position&quot;&gt;current playback position&lt;/span&gt; is the first
-  frame of video, the element &lt;span&gt;represents&lt;/span&gt; the &lt;span&gt;poster
-  frame&lt;/span&gt;, unless a frame of video has already been shown, in
-  which case the element &lt;span&gt;represents&lt;/span&gt; the frame of video
-  corresponding to the &lt;span title=&quot;current playback position&quot;&gt;current
-  playback position&lt;/span&gt;.&lt;/p&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-  &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element is &lt;span
-  title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt; at any other position, and
-  the &lt;span&gt;media resource&lt;/span&gt; has a video channel, the element
-  &lt;span&gt;represents&lt;/span&gt; the frame of video corresponding to the
-  &lt;span title=&quot;current playback position&quot;&gt;current playback
-  position&lt;/span&gt;, or, if that is not yet available (e.g. because the
-  video is seeking or buffering), the last frame of the video to have
-  been rendered.&lt;/p&gt;
+   &lt;dt&gt;When no video data is available (the element's &lt;code
+   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either &lt;code
+   title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, or &lt;code
+   title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; but no video data has yet been obtained at
+   all, or the element's &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is any
+   subsequent value but the &lt;span&gt;media resource&lt;/span&gt; does not have a video channel)&lt;/dt&gt;
 
-  &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element whose &lt;span&gt;media
-  resource&lt;/span&gt; has a video channel is &lt;span&gt;potentially
-  playing&lt;/span&gt;, it &lt;span&gt;represents&lt;/span&gt; the frame of video at the
-  continuously increasing &lt;span title=&quot;current playback
-  position&quot;&gt;&quot;current&quot; position&lt;/span&gt;. When the &lt;span&gt;current playback
-  position&lt;/span&gt; changes such that the last frame rendered is no
-  longer the frame corresponding to the &lt;span&gt;current playback
-  position&lt;/span&gt; in the video, the new frame must be rendered.
+   &lt;dt&gt;When the &lt;code&gt;video&lt;/code&gt; element is &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;, the &lt;span
+   title=&quot;current playback position&quot;&gt;current playback position&lt;/span&gt; is the first frame of video,
+   and the element's &lt;span&gt;show poster flag&lt;/span&gt; is set&lt;/dt&gt;
 
-  Similarly, any audio associated with the &lt;span&gt;media resource&lt;/span&gt;
-  must, if played, be played synchronized with the &lt;span&gt;current
-  playback position&lt;/span&gt;, at the element's &lt;span&gt;effective media
-  volume&lt;/span&gt;.&lt;/p&gt;
+   &lt;dd&gt;The &lt;code&gt;video&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; its &lt;span&gt;poster frame&lt;/span&gt;.&lt;/dd&gt;
 
-  &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element whose &lt;span&gt;media
-  resource&lt;/span&gt; has a video channel is neither &lt;span&gt;potentially
-  playing&lt;/span&gt; nor &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;
-  (e.g. when seeking or stalled), the element &lt;span&gt;represents&lt;/span&gt;
-  the last frame of the video to have been rendered.&lt;/p&gt;
+   &lt;dt&gt;When the &lt;code&gt;video&lt;/code&gt; element is &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;, and the
+   frame of video corresponding to the &lt;span title=&quot;current playback position&quot;&gt;current playback
+   position&lt;/span&gt; is not available (e.g. because the video is seeking or buffering)&lt;/dt&gt;
 
+   &lt;dt&gt;When the &lt;code&gt;video&lt;/code&gt; element is neither &lt;span&gt;potentially playing&lt;/span&gt; nor &lt;span
+   title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt; (e.g. when seeking or stalled)&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;video&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; the last frame of the video to have
+   been rendered.&lt;/dd&gt;
+
+   &lt;dt&gt;When the &lt;code&gt;video&lt;/code&gt; element is &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;video&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; the frame of video corresponding to
+   the &lt;span title=&quot;current playback position&quot;&gt;current playback position&lt;/span&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;Otherwise (the &lt;code&gt;video&lt;/code&gt; element has a video channel and is &lt;span&gt;potentially
+   playing&lt;/span&gt;)&lt;/dt&gt;
+
+   &lt;dd&gt;The &lt;code&gt;video&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; the frame of video at the continuously
+   increasing &lt;span title=&quot;current playback position&quot;&gt;&quot;current&quot; position&lt;/span&gt;. When the
+   &lt;span&gt;current playback position&lt;/span&gt; changes such that the last frame rendered is no longer the
+   frame corresponding to the &lt;span&gt;current playback position&lt;/span&gt; in the video, the new frame
+   must be rendered.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
   &lt;p class=&quot;note&quot;&gt;Which frame in a video stream corresponds to a
   particular playback position is defined by the video stream's
   format.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code&gt;video&lt;/code&gt; element also &lt;span&gt;represents&lt;/span&gt; any
-  &lt;span title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt; whose &lt;span&gt;text
-  track cue active flag&lt;/span&gt; is set and whose &lt;span&gt;text
-  track&lt;/span&gt; is in the &lt;span title=&quot;text track
-  showing&quot;&gt;showing&lt;/span&gt; mode.&lt;/p&gt;
+  &lt;p&gt;The &lt;code&gt;video&lt;/code&gt; element also &lt;span&gt;represents&lt;/span&gt; any &lt;span title=&quot;text track
+  cue&quot;&gt;text track cues&lt;/span&gt; whose &lt;span&gt;text track cue active flag&lt;/span&gt; is set and whose
+  &lt;span&gt;text track&lt;/span&gt; is in the &lt;span title=&quot;text track showing&quot;&gt;showing&lt;/span&gt; mode, and any
+  audio from the &lt;span&gt;media resource&lt;/span&gt;, at the &lt;span&gt;current playback position&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Any audio associated with the &lt;span&gt;media resource&lt;/span&gt; must, if played, be played
+  synchronized with the &lt;span&gt;current playback position&lt;/span&gt;, at the element's &lt;span&gt;effective
+  media volume&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;In addition to the above, the user agent may provide messages to
   the user (such as &quot;buffering&quot;, &quot;no video loaded&quot;, &quot;error&quot;, or more
   detailed information) by overlaying text or icons on the video or
@@ -31149,8 +31147,12 @@
      &lt;li&gt;&lt;p&gt;If a fetching process is in progress for the &lt;span&gt;media
      element&lt;/span&gt;, the user agent should stop it.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!--(no point doing this, since we always call the resource selection algorithm synchronously
+     at the end of this algorithm, and that switches it to NETWORK_NO_SOURCE and sets the flag)
      &lt;li&gt;&lt;p&gt;Set the &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to &lt;code
      title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+     --&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;span&gt;Forget the media element's media-resource-specific text tracks&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -31224,11 +31226,14 @@
 
   &lt;ol&gt;
 
-   &lt;!-- precondition: networkState == NETWORK_EMPTY at this point --&gt;
+   &lt;!-- precondition: networkState == NETWORK_EMPTY or we're coming straight from the algorithm above
+                      (where setting it to empty is commented out) --&gt;
 
-   &lt;li&gt;&lt;p&gt;Set the &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; to &lt;code
-   title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the element's &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to
+   the &lt;code title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/code&gt; value.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Asynchronously &lt;span&gt;await a stable state&lt;/span&gt;, allowing the &lt;span
    title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that invoked this algorithm to continue. The &lt;span&gt;synchronous
    section&lt;/span&gt; consists of all the remaining steps of this algorithm until the algorithm says the
@@ -31255,7 +31260,8 @@
     &lt;p&gt;&amp;#x231B; Otherwise the &lt;span&gt;media element&lt;/span&gt; has neither a &lt;code
     title=&quot;attr-media-src&quot;&gt;src&lt;/code&gt; attribute nor a &lt;code&gt;source&lt;/code&gt; element child: set the
     &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; to &lt;code
-    title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, and abort these steps; the
+    title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;&lt;!-- no need to set the &lt;span&gt;show poster
+    flag&lt;/span&gt; to true since we set it up there already --&gt;, and abort these steps; the
     &lt;span&gt;synchronous section&lt;/span&gt; ends.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -31312,8 +31318,10 @@
        &lt;li&gt;&lt;p&gt;&lt;span&gt;Forget the media element's media-resource-specific text tracks&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Set the element's &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-       to the &lt;span title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/span&gt; value.&lt;/p&gt;&lt;/li&gt;
+       to the &lt;code title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/code&gt; value.&lt;/p&gt;&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
       &lt;/ol&gt;
 
      &lt;/li&gt;
@@ -31448,9 +31456,11 @@
      loop&lt;/i&gt; step. Otherwise, jump back to the &lt;i title=&quot;&quot;&gt;process candidate&lt;/i&gt; step.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&amp;#x231B; &lt;i title=&quot;&quot;&gt;Waiting&lt;/i&gt;: Set the element's &lt;code
-     title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to the &lt;span
-     title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/span&gt; value.&lt;/p&gt;&lt;/li&gt;
+     title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute to the &lt;code
+     title=&quot;dom-media-NETWORK_NO_SOURCE&quot;&gt;NETWORK_NO_SOURCE&lt;/code&gt; value.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;li&gt;&lt;p&gt;&amp;#x231B; Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
      &lt;li&gt;&lt;p&gt;&amp;#x231B; Set the element's &lt;span&gt;delaying-the-load-event flag&lt;/span&gt; to false. This
      stops &lt;span title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -31896,6 +31906,8 @@
        &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;delaying-the-load-event flag&lt;/span&gt; to false. This stops &lt;span
        title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;span title=&quot;concept-media-load-algorithm&quot;&gt;resource selection
        algorithm&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -31936,6 +31948,8 @@
        &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;delaying-the-load-event flag&lt;/span&gt; to false. This stops &lt;span
        title=&quot;delay the load event&quot;&gt;delaying the load event&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+       &lt;li&gt;&lt;p&gt;Set the element's &lt;span&gt;show poster flag&lt;/span&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
        &lt;li&gt;&lt;p&gt;Abort the overall &lt;span title=&quot;concept-media-load-algorithm&quot;&gt;resource selection
        algorithm&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -32257,6 +32271,11 @@
   position&lt;/dfn&gt;, which must initially be set to zero seconds. This time is used to allow the
   element to be seeked even before the media is loaded.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;span&gt;media element&lt;/span&gt; has a &lt;dfn&gt;show poster flag&lt;/dfn&gt;. When a &lt;span&gt;media
+  element&lt;/span&gt; is created, this flag must be set to true. This flag is used to control when the
+  user agent is to show a poster frame for a &lt;code&gt;video&lt;/code&gt; element instead of showing the video
+  contents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-media-currentTime&quot;&gt;&lt;code&gt;currentTime&lt;/code&gt;&lt;/dfn&gt; attribute must, on
   getting, return the &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;default playback start position&lt;/span&gt;,
   unless that is zero, in which case it must return the element's &lt;span&gt;official playback
@@ -32338,8 +32357,7 @@
   event is not fired when the duration is reset as part of loading a new media resource.) If the
   duration is changed such that the &lt;span&gt;current playback position&lt;/span&gt; ends up being greater
   than the time of the end of the &lt;span&gt;media resource&lt;/span&gt;, then the user agent must also &lt;span
-  title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; the to the time of the end of the &lt;span&gt;media
-  resource&lt;/span&gt;.&lt;/p&gt;
+  title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the time of the end of the &lt;span&gt;media resource&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;If an &quot;infinite&quot; stream ends for some reason, then the duration would change
   from positive Infinity to the time of the last frame or sample in the stream, and the &lt;code
@@ -33081,6 +33099,10 @@
   rate, so that (except for the period between when the rate is changed and when the server updates
   the stream's playback rate) the client doesn't actually have to drop or interpolate any
   frames.&lt;/p&gt;
+ 
+  &lt;p&gt;Any time a &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;current playback position&lt;/span&gt; changes due to
+  the monotonic increase required above, the element's &lt;span&gt;show poster flag&lt;/span&gt; must be set to
+  false.&lt;/p&gt;
 
   &lt;p&gt;Any time the user agent &lt;span title=&quot;provide a stable state&quot;&gt;provides a stable state&lt;/span&gt;,
   the &lt;span&gt;official playback position&lt;/span&gt; must be set to the &lt;span&gt;current playback
@@ -33371,6 +33393,8 @@
 
   &lt;ol&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;show poster flag&lt;/span&gt; to false.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt;
    is &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, abort these steps.&lt;/p&gt;&lt;/li&gt;
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014411.html">[html5] r7551 - [giow] (1) Add document.currentScript,	as implemented by Mozilla. Affected topic [...]
</A></li>
	<LI>Next message: <A HREF="014413.html">[html5] r7553 - [giow] (1) Match implementations better regarding	intrinsic size of &lt;video&gt; with [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14412">[ date ]</a>
              <a href="thread.html#14412">[ thread ]</a>
              <a href="subject.html#14412">[ subject ]</a>
              <a href="author.html#14412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
