<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7024 - [giow] (0) Make it possible to draw Path primitives	to the canvas. Affected topi [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7024%20-%20%5Bgiow%5D%20%280%29%20Make%20it%20possible%20to%20draw%20Path%20primitives%0A%09to%20the%20canvas.%20Affected%20topi%20%5B...%5D&In-Reply-To=%3C20120310003128.9E617247C149%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013888.html">
   <LINK REL="Next"  HREF="013890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7024 - [giow] (0) Make it possible to draw Path primitives	to the canvas. Affected topi [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7024%20-%20%5Bgiow%5D%20%280%29%20Make%20it%20possible%20to%20draw%20Path%20primitives%0A%09to%20the%20canvas.%20Affected%20topi%20%5B...%5D&In-Reply-To=%3C20120310003128.9E617247C149%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7024 - [giow] (0) Make it possible to draw Path primitives	to the canvas. Affected topi [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Mar  9 16:31:28 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="013888.html">[html5] r7023 - [giow] (0) Path objects and drawing text to a path	or along a path. Note that th [...]
</A></li>
        <LI>Next message: <A HREF="013890.html">[html5] r7025 - [giow] (0) Add ellipse support to canvas. Affected	topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13889">[ date ]</a>
              <a href="thread.html#13889">[ thread ]</a>
              <a href="subject.html#13889">[ subject ]</a>
              <a href="author.html#13889">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-03-09 16:31:27 -0800 (Fri, 09 Mar 2012)
New Revision: 7024

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Make it possible to draw Path primitives to the canvas.
Affected topics: Canvas

Modified: complete.html
===================================================================
--- complete.html	2012-03-09 23:58:48 UTC (rev 7023)
+++ complete.html	2012-03-10 00:31:27 UTC (rev 7024)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 March 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 March 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -34907,15 +34907,22 @@
   void &lt;a href=#dom-context-2d-fillrect title=dom-context-2d-fillRect&gt;fillRect&lt;/a&gt;(double x, double y, double w, double h);
   void &lt;a href=#dom-context-2d-strokerect title=dom-context-2d-strokeRect&gt;strokeRect&lt;/a&gt;(double x, double y, double w, double h);
 
-  // current default path API (see also &lt;a href=#canvaspathmethods&gt;CanvasPathMethods&lt;/a&gt;)
+  // path API (see also &lt;a href=#canvaspathmethods&gt;CanvasPathMethods&lt;/a&gt;)
   void &lt;a href=#dom-context-2d-beginpath title=dom-context-2d-beginPath&gt;beginPath&lt;/a&gt;();
   void &lt;a href=#dom-context-2d-fill title=dom-context-2d-fill&gt;fill&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-fill title=dom-context-2d-fill&gt;fill&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-stroke title=dom-context-2d-stroke&gt;stroke&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-stroke title=dom-context-2d-stroke&gt;stroke&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;drawSystemFocusRing&lt;/a&gt;(&lt;a href=#element&gt;Element&lt;/a&gt; element);
+  void &lt;a href=#dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;drawSystemFocusRing&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, &lt;a href=#element&gt;Element&lt;/a&gt; element);
   boolean &lt;a href=#dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;drawCustomFocusRing&lt;/a&gt;(&lt;a href=#element&gt;Element&lt;/a&gt; element);
+  boolean &lt;a href=#dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;drawCustomFocusRing&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, &lt;a href=#element&gt;Element&lt;/a&gt; element);
   void &lt;a href=#dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;scrollPathIntoView&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;scrollPathIntoView&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-clip title=dom-context-2d-clip&gt;clip&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-clip title=dom-context-2d-clip&gt;clip&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   boolean &lt;a href=#dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;isPointInPath&lt;/a&gt;(double x, double y);
+  boolean &lt;a href=#dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;isPointInPath&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, double x, double y);
 
   // text (see also the &lt;a href=#canvastext&gt;CanvasText&lt;/a&gt; interface)
   void &lt;a href=#dom-context-2d-filltext title=dom-context-2d-fillText&gt;fillText&lt;/a&gt;(DOMString text, double x, double y, optional double maxWidth);
@@ -37120,39 +37127,46 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-fill&gt;&lt;a href=#dom-context-2d-fill&gt;fill&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-fill&gt;&lt;a href=#dom-context-2d-fill&gt;fill&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Fills the subpaths of the current default path with the current fill style.&lt;/p&gt;
+    &lt;p&gt;Fills the subpaths of the current default path or the given path with the current fill style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-stroke&gt;&lt;a href=#dom-context-2d-stroke&gt;stroke&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-stroke&gt;&lt;a href=#dom-context-2d-stroke&gt;stroke&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Strokes the subpaths of the currnet default path with the current stroke style.&lt;/p&gt;
+    &lt;p&gt;Strokes the subpaths of the current default path or the given path with the current stroke style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, draws a focus ring around the
-    current default path, following the platform conventions for focus
-    rings.&lt;/p&gt;
+    current default path or hte given path, following the platform
+    conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawCustomFocusRing&gt;&lt;a href=#dom-context-2d-drawcustomfocusring&gt;drawCustomFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawCustomFocusRing&gt;&lt;a href=#dom-context-2d-drawcustomfocusring&gt;drawCustomFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, and the user has configured
     his system to draw focus rings in a particular manner (for
     example, high contrast focus rings), draws a focus ring around the
-    current default path and returns false.&lt;/p&gt;
+    current default path or the given path and returns false.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, returns true if the given element is focused, and
     false otherwise. This can thus be used to determine when to draw a
@@ -37161,7 +37175,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-scrollPathIntoView&gt;&lt;a href=#dom-context-2d-scrollpathintoview&gt;scrollPathIntoView&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-scrollPathIntoView&gt;&lt;a href=#dom-context-2d-scrollpathintoview&gt;scrollPathIntoView&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37171,7 +37187,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-clip&gt;&lt;a href=#dom-context-2d-clip&gt;clip&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-clip&gt;&lt;a href=#dom-context-2d-clip&gt;clip&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37180,7 +37198,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-isPointInPath&gt;&lt;a href=#dom-context-2d-ispointinpath&gt;isPointInPath&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-isPointInPath&gt;&lt;a href=#dom-context-2d-ispointinpath&gt;isPointInPath&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37195,10 +37215,23 @@
   method must empty the list of subpaths in the context's current
   default path so that the it once again has zero subpaths.&lt;/p&gt;
 
+  &lt;p&gt;Where the following method definitions use the term &lt;i&gt;intended
+  path&lt;/i&gt;, it means the &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; argument, if one was
+  provided, or the current default path otherwise.&lt;/p&gt;
+
+  &lt;p&gt;When the intended path is a &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; object, the
+  coordinates of its subpaths must be transformed according to the
+  &lt;code&gt;&lt;a href=#canvasrenderingcontext2d&gt;CanvasRenderingContext2D&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#transformations title=dom-context-2d-transformation&gt;current transformation
+  matrix&lt;/a&gt; when used by these methods (without affecting the
+  &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; object itself). When the intended path is the
+  current default path, it is not affected by the transform, (This is
+  because transformations already affect the current default path when
+  it is constructed, so applying it when it is painted as well would
+  result in a double transformation.)&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-context-2d-fill title=dom-context-2d-fill&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
-  method must fill all the subpaths of the current default path, using
-  &lt;code title=dom-context-2d-fillStyle&gt;&lt;a href=#dom-context-2d-fillstyle&gt;fillStyle&lt;/a&gt;&lt;/code&gt;, and using
-  the non-zero winding number rule. Open subpaths must be implicitly
+  method must fill all the subpaths of the intended path, using &lt;code title=dom-context-2d-fillStyle&gt;&lt;a href=#dom-context-2d-fillstyle&gt;fillStyle&lt;/a&gt;&lt;/code&gt;, and using the
+  non-zero winding number rule. Open subpaths must be implicitly
   closed when being filled (without affecting the actual
   subpaths).&lt;/p&gt;
 
@@ -37208,8 +37241,9 @@
   once.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-context-2d-stroke title=dom-context-2d-stroke&gt;&lt;code&gt;stroke()&lt;/code&gt;&lt;/dfn&gt; method
-  must calculate the strokes of all the subpaths of the current
-  default path, using the &lt;code title=dom-context-2d-lineWidth&gt;&lt;a href=#dom-context-2d-linewidth&gt;lineWidth&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineCap&gt;&lt;a href=#dom-context-2d-linecap&gt;lineCap&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineJoin&gt;&lt;a href=#dom-context-2d-linejoin&gt;lineJoin&lt;/a&gt;&lt;/code&gt;, and (if
+  must calculate the strokes of all the subpaths of the intended path,
+  using the &lt;code title=dom-context-2d-lineWidth&gt;&lt;a href=#dom-context-2d-linewidth&gt;lineWidth&lt;/a&gt;&lt;/code&gt;,
+  &lt;code title=dom-context-2d-lineCap&gt;&lt;a href=#dom-context-2d-linecap&gt;lineCap&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineJoin&gt;&lt;a href=#dom-context-2d-linejoin&gt;lineJoin&lt;/a&gt;&lt;/code&gt;, and (if
   appropriate) &lt;code title=dom-context-2d-miterLimit&gt;&lt;a href=#dom-context-2d-miterlimit&gt;miterLimit&lt;/a&gt;&lt;/code&gt; attributes, and
   then fill the combined stroke area using the &lt;code title=dom-context-2d-strokeStyle&gt;&lt;a href=#dom-context-2d-strokestyle&gt;strokeStyle&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
@@ -37217,14 +37251,18 @@
   overlapping parts of the paths in one stroke operation are treated
   as if their union was what was painted.&lt;/p&gt;
 
+  &lt;p class=note&gt;The stroke &lt;em&gt;style&lt;/em&gt; is affected by the
+  transformation during painting, even if the intended path is the
+  current default path.&lt;/p&gt;
+
   &lt;p&gt;Paths, when filled or stroked, must be painted without affecting
-  the current default path, and must be subject to &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-  operators&lt;/a&gt;. (Transformations affect the path when the path is
-  created, not when it is painted, though the stroke &lt;em&gt;style&lt;/em&gt; is
-  still affected by the transformation during painting.)&lt;/p&gt;
+  the current default path or any &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; objects, and must
+  be subject to &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
+  operators&lt;/a&gt;. (The effect of transformations is described above
+  and varies based on which path is being used.)&lt;/p&gt;
 
-  &lt;p&gt;Zero-length line segments must be pruned before stroking a
-  path. Empty subpaths must be ignored.&lt;/p&gt;
+  &lt;p&gt;Zero-length line segments must be pruned before stroking a path.
+  Empty subpaths must be ignored.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p id=dom-context-2d-drawosfocusring&gt;The &lt;dfn id=dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;&lt;code&gt;drawSystemFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
   the following steps:&lt;/p&gt;
@@ -37237,9 +37275,8 @@
 
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), or if the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; would have a focus ring drawn around it,
-    then draw a focus ring of the appropriate style along the current
-    default path, following platform conventions, and abort these
-    steps.&lt;/p&gt;
+    then draw a focus ring of the appropriate style along the intended
+    path, following platform conventions, and abort these steps.&lt;/p&gt;
 
     &lt;p class=note&gt;Some platforms only draw focus rings around
     elements that have been focused from the keyboard, and not those
@@ -37252,18 +37289,21 @@
     based on the kind of user interaction event from which the call
     was triggered (if any).&lt;/p&gt;
 
-    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-    operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the
+    &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global
+    composition operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -37278,21 +37318,24 @@
 
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), then draw a focus ring of the
-    appropriate style along the current default path, return false,
-    and abort these steps.&lt;/p&gt;
+    appropriate style along the intended path, return false, and abort
+    these steps.&lt;/p&gt;
 
-    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-    operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the
+    &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global
+    composition operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -37301,10 +37344,13 @@
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;&lt;code&gt;scrollPathIntoView()&lt;/code&gt;&lt;/dfn&gt;
   method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
+   rectangle of the bounding box of the intended path.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
    element that is a rendered child of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-   whose dimensions are exactly the rectangle of the bounding box of
-   the current default path.&lt;/li&gt;
+   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   rectangle&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
 
@@ -37329,9 +37375,9 @@
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-clip title=dom-context-2d-clip&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt;
   method must create a new &lt;dfn id=clipping-region&gt;clipping region&lt;/dfn&gt; by calculating
   the intersection of the current clipping region and the area
-  described by the current default path, using the non-zero winding
-  number rule. Open subpaths must be implicitly closed when computing
-  the clipping region, without affecting the actual subpaths. The new
+  described by the intended path, using the non-zero winding number
+  rule. Open subpaths must be implicitly closed when computing the
+  clipping region, without affecting the actual subpaths. The new
   clipping region replaces the current clipping region.&lt;/p&gt;
 
   &lt;p&gt;When the context is initialized, the clipping region must be set
@@ -37352,8 +37398,8 @@
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;&lt;code&gt;isPointInPath(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
   return true if the point given by the &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; coordinates passed to the method, when treated as
   coordinates in the canvas coordinate space unaffected by the current
-  transformation, is inside the current default path as determined by
-  the non-zero winding number rule; and must return false otherwise.
+  transformation, is inside the intended path as determined by the
+  non-zero winding number rule; and must return false otherwise.
   Points on the path itself must be considered to be inside the path.
   If either of the arguments is infinite or NaN, then the method must
   return false.&lt;/p&gt;

Modified: index
===================================================================
--- index	2012-03-09 23:58:48 UTC (rev 7023)
+++ index	2012-03-10 00:31:27 UTC (rev 7024)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 9 March 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 10 March 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -34907,15 +34907,22 @@
   void &lt;a href=#dom-context-2d-fillrect title=dom-context-2d-fillRect&gt;fillRect&lt;/a&gt;(double x, double y, double w, double h);
   void &lt;a href=#dom-context-2d-strokerect title=dom-context-2d-strokeRect&gt;strokeRect&lt;/a&gt;(double x, double y, double w, double h);
 
-  // current default path API (see also &lt;a href=#canvaspathmethods&gt;CanvasPathMethods&lt;/a&gt;)
+  // path API (see also &lt;a href=#canvaspathmethods&gt;CanvasPathMethods&lt;/a&gt;)
   void &lt;a href=#dom-context-2d-beginpath title=dom-context-2d-beginPath&gt;beginPath&lt;/a&gt;();
   void &lt;a href=#dom-context-2d-fill title=dom-context-2d-fill&gt;fill&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-fill title=dom-context-2d-fill&gt;fill&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-stroke title=dom-context-2d-stroke&gt;stroke&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-stroke title=dom-context-2d-stroke&gt;stroke&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;drawSystemFocusRing&lt;/a&gt;(&lt;a href=#element&gt;Element&lt;/a&gt; element);
+  void &lt;a href=#dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;drawSystemFocusRing&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, &lt;a href=#element&gt;Element&lt;/a&gt; element);
   boolean &lt;a href=#dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;drawCustomFocusRing&lt;/a&gt;(&lt;a href=#element&gt;Element&lt;/a&gt; element);
+  boolean &lt;a href=#dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;drawCustomFocusRing&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, &lt;a href=#element&gt;Element&lt;/a&gt; element);
   void &lt;a href=#dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;scrollPathIntoView&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;scrollPathIntoView&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   void &lt;a href=#dom-context-2d-clip title=dom-context-2d-clip&gt;clip&lt;/a&gt;();
+  void &lt;a href=#dom-context-2d-clip title=dom-context-2d-clip&gt;clip&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path);
   boolean &lt;a href=#dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;isPointInPath&lt;/a&gt;(double x, double y);
+  boolean &lt;a href=#dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;isPointInPath&lt;/a&gt;(&lt;a href=#path&gt;Path&lt;/a&gt; path, double x, double y);
 
   // text (see also the &lt;a href=#canvastext&gt;CanvasText&lt;/a&gt; interface)
   void &lt;a href=#dom-context-2d-filltext title=dom-context-2d-fillText&gt;fillText&lt;/a&gt;(DOMString text, double x, double y, optional double maxWidth);
@@ -37120,39 +37127,46 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-fill&gt;&lt;a href=#dom-context-2d-fill&gt;fill&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-fill&gt;&lt;a href=#dom-context-2d-fill&gt;fill&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Fills the subpaths of the current default path with the current fill style.&lt;/p&gt;
+    &lt;p&gt;Fills the subpaths of the current default path or the given path with the current fill style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-stroke&gt;&lt;a href=#dom-context-2d-stroke&gt;stroke&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-stroke&gt;&lt;a href=#dom-context-2d-stroke&gt;stroke&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Strokes the subpaths of the currnet default path with the current stroke style.&lt;/p&gt;
+    &lt;p&gt;Strokes the subpaths of the current default path or the given path with the current stroke style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, draws a focus ring around the
-    current default path, following the platform conventions for focus
-    rings.&lt;/p&gt;
+    current default path or hte given path, following the platform
+    conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawCustomFocusRing&gt;&lt;a href=#dom-context-2d-drawcustomfocusring&gt;drawCustomFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-drawCustomFocusRing&gt;&lt;a href=#dom-context-2d-drawcustomfocusring&gt;drawCustomFocusRing&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, and the user has configured
     his system to draw focus rings in a particular manner (for
     example, high contrast focus rings), draws a focus ring around the
-    current default path and returns false.&lt;/p&gt;
+    current default path or the given path and returns false.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, returns true if the given element is focused, and
     false otherwise. This can thus be used to determine when to draw a
@@ -37161,7 +37175,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-scrollPathIntoView&gt;&lt;a href=#dom-context-2d-scrollpathintoview&gt;scrollPathIntoView&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-scrollPathIntoView&gt;&lt;a href=#dom-context-2d-scrollpathintoview&gt;scrollPathIntoView&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37171,7 +37187,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-clip&gt;&lt;a href=#dom-context-2d-clip&gt;clip&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-clip&gt;&lt;a href=#dom-context-2d-clip&gt;clip&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37180,7 +37198,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-isPointInPath&gt;&lt;a href=#dom-context-2d-ispointinpath&gt;isPointInPath&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=dom-context-2d-isPointInPath&gt;&lt;a href=#dom-context-2d-ispointinpath&gt;isPointInPath&lt;/a&gt;&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -37195,10 +37215,23 @@
   method must empty the list of subpaths in the context's current
   default path so that the it once again has zero subpaths.&lt;/p&gt;
 
+  &lt;p&gt;Where the following method definitions use the term &lt;i&gt;intended
+  path&lt;/i&gt;, it means the &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; argument, if one was
+  provided, or the current default path otherwise.&lt;/p&gt;
+
+  &lt;p&gt;When the intended path is a &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; object, the
+  coordinates of its subpaths must be transformed according to the
+  &lt;code&gt;&lt;a href=#canvasrenderingcontext2d&gt;CanvasRenderingContext2D&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#transformations title=dom-context-2d-transformation&gt;current transformation
+  matrix&lt;/a&gt; when used by these methods (without affecting the
+  &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; object itself). When the intended path is the
+  current default path, it is not affected by the transform, (This is
+  because transformations already affect the current default path when
+  it is constructed, so applying it when it is painted as well would
+  result in a double transformation.)&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-context-2d-fill title=dom-context-2d-fill&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
-  method must fill all the subpaths of the current default path, using
-  &lt;code title=dom-context-2d-fillStyle&gt;&lt;a href=#dom-context-2d-fillstyle&gt;fillStyle&lt;/a&gt;&lt;/code&gt;, and using
-  the non-zero winding number rule. Open subpaths must be implicitly
+  method must fill all the subpaths of the intended path, using &lt;code title=dom-context-2d-fillStyle&gt;&lt;a href=#dom-context-2d-fillstyle&gt;fillStyle&lt;/a&gt;&lt;/code&gt;, and using the
+  non-zero winding number rule. Open subpaths must be implicitly
   closed when being filled (without affecting the actual
   subpaths).&lt;/p&gt;
 
@@ -37208,8 +37241,9 @@
   once.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-context-2d-stroke title=dom-context-2d-stroke&gt;&lt;code&gt;stroke()&lt;/code&gt;&lt;/dfn&gt; method
-  must calculate the strokes of all the subpaths of the current
-  default path, using the &lt;code title=dom-context-2d-lineWidth&gt;&lt;a href=#dom-context-2d-linewidth&gt;lineWidth&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineCap&gt;&lt;a href=#dom-context-2d-linecap&gt;lineCap&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineJoin&gt;&lt;a href=#dom-context-2d-linejoin&gt;lineJoin&lt;/a&gt;&lt;/code&gt;, and (if
+  must calculate the strokes of all the subpaths of the intended path,
+  using the &lt;code title=dom-context-2d-lineWidth&gt;&lt;a href=#dom-context-2d-linewidth&gt;lineWidth&lt;/a&gt;&lt;/code&gt;,
+  &lt;code title=dom-context-2d-lineCap&gt;&lt;a href=#dom-context-2d-linecap&gt;lineCap&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-context-2d-lineJoin&gt;&lt;a href=#dom-context-2d-linejoin&gt;lineJoin&lt;/a&gt;&lt;/code&gt;, and (if
   appropriate) &lt;code title=dom-context-2d-miterLimit&gt;&lt;a href=#dom-context-2d-miterlimit&gt;miterLimit&lt;/a&gt;&lt;/code&gt; attributes, and
   then fill the combined stroke area using the &lt;code title=dom-context-2d-strokeStyle&gt;&lt;a href=#dom-context-2d-strokestyle&gt;strokeStyle&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
@@ -37217,14 +37251,18 @@
   overlapping parts of the paths in one stroke operation are treated
   as if their union was what was painted.&lt;/p&gt;
 
+  &lt;p class=note&gt;The stroke &lt;em&gt;style&lt;/em&gt; is affected by the
+  transformation during painting, even if the intended path is the
+  current default path.&lt;/p&gt;
+
   &lt;p&gt;Paths, when filled or stroked, must be painted without affecting
-  the current default path, and must be subject to &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-  operators&lt;/a&gt;. (Transformations affect the path when the path is
-  created, not when it is painted, though the stroke &lt;em&gt;style&lt;/em&gt; is
-  still affected by the transformation during painting.)&lt;/p&gt;
+  the current default path or any &lt;code&gt;&lt;a href=#path&gt;Path&lt;/a&gt;&lt;/code&gt; objects, and must
+  be subject to &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
+  operators&lt;/a&gt;. (The effect of transformations is described above
+  and varies based on which path is being used.)&lt;/p&gt;
 
-  &lt;p&gt;Zero-length line segments must be pruned before stroking a
-  path. Empty subpaths must be ignored.&lt;/p&gt;
+  &lt;p&gt;Zero-length line segments must be pruned before stroking a path.
+  Empty subpaths must be ignored.&lt;/p&gt;
 
   &lt;hr&gt;&lt;p id=dom-context-2d-drawosfocusring&gt;The &lt;dfn id=dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;&lt;code&gt;drawSystemFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run
   the following steps:&lt;/p&gt;
@@ -37237,9 +37275,8 @@
 
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), or if the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; would have a focus ring drawn around it,
-    then draw a focus ring of the appropriate style along the current
-    default path, following platform conventions, and abort these
-    steps.&lt;/p&gt;
+    then draw a focus ring of the appropriate style along the intended
+    path, following platform conventions, and abort these steps.&lt;/p&gt;
 
     &lt;p class=note&gt;Some platforms only draw focus rings around
     elements that have been focused from the keyboard, and not those
@@ -37252,18 +37289,21 @@
     based on the kind of user interaction event from which the call
     was triggered (if any).&lt;/p&gt;
 
-    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-    operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the
+    &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global
+    composition operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -37278,21 +37318,24 @@
 
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), then draw a focus ring of the
-    appropriate style along the current default path, return false,
-    and abort these steps.&lt;/p&gt;
+    appropriate style along the intended path, return false, and abort
+    these steps.&lt;/p&gt;
 
-    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global composition
-    operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;The focus ring should not be subject to the &lt;a href=#shadows title=shadows&gt;shadow effects&lt;/a&gt;, the &lt;a href=#dom-context-2d-globalalpha title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, or the
+    &lt;a href=#dom-context-2d-globalcompositeoperation title=dom-context-2d-globalCompositeOperation&gt;global
+    composition operators&lt;/a&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;a href=#clipping-region title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=#inform&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -37301,10 +37344,13 @@
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-scrollpathintoview title=dom-context-2d-scrollPathIntoView&gt;&lt;code&gt;scrollPathIntoView()&lt;/code&gt;&lt;/dfn&gt;
   method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
+   rectangle of the bounding box of the intended path.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
    element that is a rendered child of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
-   whose dimensions are exactly the rectangle of the bounding box of
-   the current default path.&lt;/li&gt;
+   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   rectangle&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#scroll-an-element-into-view title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/a&gt; with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set.&lt;/p&gt;
 
@@ -37329,9 +37375,9 @@
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-clip title=dom-context-2d-clip&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt;
   method must create a new &lt;dfn id=clipping-region&gt;clipping region&lt;/dfn&gt; by calculating
   the intersection of the current clipping region and the area
-  described by the current default path, using the non-zero winding
-  number rule. Open subpaths must be implicitly closed when computing
-  the clipping region, without affecting the actual subpaths. The new
+  described by the intended path, using the non-zero winding number
+  rule. Open subpaths must be implicitly closed when computing the
+  clipping region, without affecting the actual subpaths. The new
   clipping region replaces the current clipping region.&lt;/p&gt;
 
   &lt;p&gt;When the context is initialized, the clipping region must be set
@@ -37352,8 +37398,8 @@
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-ispointinpath title=dom-context-2d-isPointInPath&gt;&lt;code&gt;isPointInPath(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
   return true if the point given by the &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; coordinates passed to the method, when treated as
   coordinates in the canvas coordinate space unaffected by the current
-  transformation, is inside the current default path as determined by
-  the non-zero winding number rule; and must return false otherwise.
+  transformation, is inside the intended path as determined by the
+  non-zero winding number rule; and must return false otherwise.
   Points on the path itself must be considered to be inside the path.
   If either of the arguments is infinite or NaN, then the method must
   return false.&lt;/p&gt;

Modified: source
===================================================================
--- source	2012-03-09 23:58:48 UTC (rev 7023)
+++ source	2012-03-10 00:31:27 UTC (rev 7024)
@@ -40586,15 +40586,22 @@
   void &lt;span title=&quot;dom-context-2d-fillRect&quot;&gt;fillRect&lt;/span&gt;(double x, double y, double w, double h);
   void &lt;span title=&quot;dom-context-2d-strokeRect&quot;&gt;strokeRect&lt;/span&gt;(double x, double y, double w, double h);
 
-  // current default path API (see also &lt;span&gt;CanvasPathMethods&lt;/span&gt;)
+  // path API (see also &lt;span&gt;CanvasPathMethods&lt;/span&gt;)
   void &lt;span title=&quot;dom-context-2d-beginPath&quot;&gt;beginPath&lt;/span&gt;();
   void &lt;span title=&quot;dom-context-2d-fill&quot;&gt;fill&lt;/span&gt;();
+  void &lt;span title=&quot;dom-context-2d-fill&quot;&gt;fill&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path);
   void &lt;span title=&quot;dom-context-2d-stroke&quot;&gt;stroke&lt;/span&gt;();
+  void &lt;span title=&quot;dom-context-2d-stroke&quot;&gt;stroke&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path);
   void &lt;span title=&quot;dom-context-2d-drawSystemFocusRing&quot;&gt;drawSystemFocusRing&lt;/span&gt;(&lt;span&gt;Element&lt;/span&gt; element);
+  void &lt;span title=&quot;dom-context-2d-drawSystemFocusRing&quot;&gt;drawSystemFocusRing&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path, &lt;span&gt;Element&lt;/span&gt; element);
   boolean &lt;span title=&quot;dom-context-2d-drawCustomFocusRing&quot;&gt;drawCustomFocusRing&lt;/span&gt;(&lt;span&gt;Element&lt;/span&gt; element);
+  boolean &lt;span title=&quot;dom-context-2d-drawCustomFocusRing&quot;&gt;drawCustomFocusRing&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path, &lt;span&gt;Element&lt;/span&gt; element);
   void &lt;span title=&quot;dom-context-2d-scrollPathIntoView&quot;&gt;scrollPathIntoView&lt;/span&gt;();
+  void &lt;span title=&quot;dom-context-2d-scrollPathIntoView&quot;&gt;scrollPathIntoView&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path);
   void &lt;span title=&quot;dom-context-2d-clip&quot;&gt;clip&lt;/span&gt;();
+  void &lt;span title=&quot;dom-context-2d-clip&quot;&gt;clip&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path);
   boolean &lt;span title=&quot;dom-context-2d-isPointInPath&quot;&gt;isPointInPath&lt;/span&gt;(double x, double y);
+  boolean &lt;span title=&quot;dom-context-2d-isPointInPath&quot;&gt;isPointInPath&lt;/span&gt;(&lt;span&gt;Path&lt;/span&gt; path, double x, double y);
 
   // text (see also the &lt;span&gt;CanvasText&lt;/span&gt; interface)
   void &lt;span title=&quot;dom-context-2d-fillText&quot;&gt;fillText&lt;/span&gt;(DOMString text, double x, double y, optional double maxWidth);
@@ -43234,39 +43241,46 @@
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-fill&quot;&gt;fill&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-fill&quot;&gt;fill&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Fills the subpaths of the current default path with the current fill style.&lt;/p&gt;
+    &lt;p&gt;Fills the subpaths of the current default path or the given path with the current fill style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-stroke&quot;&gt;stroke&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-stroke&quot;&gt;stroke&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Strokes the subpaths of the currnet default path with the current stroke style.&lt;/p&gt;
+    &lt;p&gt;Strokes the subpaths of the current default path or the given path with the current stroke style.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-drawSystemFocusRing&quot;&gt;drawSystemFocusRing&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-drawSystemFocusRing&quot;&gt;drawSystemFocusRing&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, draws a focus ring around the
-    current default path, following the platform conventions for focus
-    rings.&lt;/p&gt;
+    current default path or hte given path, following the platform
+    conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-drawCustomFocusRing&quot;&gt;drawCustomFocusRing&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;shouldDraw&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-drawCustomFocusRing&quot;&gt;drawCustomFocusRing&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
     &lt;p&gt;If the given element is focused, and the user has configured
     his system to draw focus rings in a particular manner (for
     example, high contrast focus rings), draws a focus ring around the
-    current default path and returns false.&lt;/p&gt;
+    current default path or the given path and returns false.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, returns true if the given element is focused, and
     false otherwise. This can thus be used to determine when to draw a
@@ -43275,7 +43289,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-scrollPathIntoView&quot;&gt;scrollPathIntoView&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-scrollPathIntoView&quot;&gt;scrollPathIntoView&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -43285,7 +43301,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-clip&quot;&gt;clip&lt;/code&gt;()&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-clip&quot;&gt;clip&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -43294,7 +43312,9 @@
 
    &lt;/dd&gt;
 
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-isPointInPath&quot;&gt;isPointInPath&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code title=&quot;dom-context-2d-isPointInPath&quot;&gt;isPointInPath&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;path&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/dt&gt;
 
    &lt;dd&gt;
 
@@ -43312,10 +43332,25 @@
   method must empty the list of subpaths in the context's current
   default path so that the it once again has zero subpaths.&lt;/p&gt;
 
+  &lt;p&gt;Where the following method definitions use the term &lt;i&gt;intended
+  path&lt;/i&gt;, it means the &lt;code&gt;Path&lt;/code&gt; argument, if one was
+  provided, or the current default path otherwise.&lt;/p&gt;
+
+  &lt;p&gt;When the intended path is a &lt;code&gt;Path&lt;/code&gt; object, the
+  coordinates of its subpaths must be transformed according to the
+  &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object's &lt;span
+  title=&quot;dom-context-2d-transformation&quot;&gt;current transformation
+  matrix&lt;/span&gt; when used by these methods (without affecting the
+  &lt;code&gt;Path&lt;/code&gt; object itself). When the intended path is the
+  current default path, it is not affected by the transform, (This is
+  because transformations already affect the current default path when
+  it is constructed, so applying it when it is painted as well would
+  result in a double transformation.)&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-fill&quot;&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
-  method must fill all the subpaths of the current default path, using
-  &lt;code title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt;, and using
-  the non-zero winding number rule. Open subpaths must be implicitly
+  method must fill all the subpaths of the intended path, using &lt;code
+  title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt;, and using the
+  non-zero winding number rule. Open subpaths must be implicitly
   closed when being filled (without affecting the actual
   subpaths).&lt;/p&gt;
 
@@ -43326,10 +43361,9 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-context-2d-stroke&quot;&gt;&lt;code&gt;stroke()&lt;/code&gt;&lt;/dfn&gt; method
-  must calculate the strokes of all the subpaths of the current
-  default path, using the &lt;code
-  title=&quot;dom-context-2d-lineWidth&quot;&gt;lineWidth&lt;/code&gt;, &lt;code
-  title=&quot;dom-context-2d-lineCap&quot;&gt;lineCap&lt;/code&gt;, &lt;code
+  must calculate the strokes of all the subpaths of the intended path,
+  using the &lt;code title=&quot;dom-context-2d-lineWidth&quot;&gt;lineWidth&lt;/code&gt;,
+  &lt;code title=&quot;dom-context-2d-lineCap&quot;&gt;lineCap&lt;/code&gt;, &lt;code
   title=&quot;dom-context-2d-lineJoin&quot;&gt;lineJoin&lt;/code&gt;, and (if
   appropriate) &lt;code
   title=&quot;dom-context-2d-miterLimit&quot;&gt;miterLimit&lt;/code&gt; attributes, and
@@ -43340,18 +43374,21 @@
   overlapping parts of the paths in one stroke operation are treated
   as if their union was what was painted.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;The stroke &lt;em&gt;style&lt;/em&gt; is affected by the
+  transformation during painting, even if the intended path is the
+  current default path.&lt;/p&gt;
+
   &lt;p&gt;Paths, when filled or stroked, must be painted without affecting
-  the current default path, and must be subject to &lt;span
-  title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, &lt;span
+  the current default path or any &lt;code&gt;Path&lt;/code&gt; objects, and must
+  be subject to &lt;span title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, &lt;span
   title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, the &lt;span
   title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;, and &lt;span
   title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
-  operators&lt;/span&gt;. (Transformations affect the path when the path is
-  created, not when it is painted, though the stroke &lt;em&gt;style&lt;/em&gt; is
-  still affected by the transformation during painting.)&lt;/p&gt;
+  operators&lt;/span&gt;. (The effect of transformations is described above
+  and varies based on which path is being used.)&lt;/p&gt;
 
-  &lt;p&gt;Zero-length line segments must be pruned before stroking a
-  path. Empty subpaths must be ignored.&lt;/p&gt;
+  &lt;p&gt;Zero-length line segments must be pruned before stroking a path.
+  Empty subpaths must be ignored.&lt;/p&gt;
 
   &lt;hr&gt;
 
@@ -43371,9 +43408,8 @@
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), or if the &lt;var
     title=&quot;&quot;&gt;element&lt;/var&gt; would have a focus ring drawn around it,
-    then draw a focus ring of the appropriate style along the current
-    default path, following platform conventions, and abort these
-    steps.&lt;/p&gt;
+    then draw a focus ring of the appropriate style along the intended
+    path, following platform conventions, and abort these steps.&lt;/p&gt;
 
     &lt;p class=&quot;note&quot;&gt;Some platforms only draw focus rings around
     elements that have been focused from the keyboard, and not those
@@ -43388,20 +43424,21 @@
 
     &lt;p&gt;The focus ring should not be subject to the &lt;span
     title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, the &lt;span
-    title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, or the &lt;span
-    title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
-    operators&lt;/span&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;span
-    title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;.&lt;/p&gt;
+    title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, or the
+    &lt;span title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global
+    composition operators&lt;/span&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;span title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=&quot;#inform&quot;&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;span&gt;event loop&lt;/span&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;span&gt;event loop&lt;/span&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -43422,25 +43459,26 @@
 
     &lt;p&gt;If the user has requested the use of particular focus rings
     (e.g. high-contrast focus rings), then draw a focus ring of the
-    appropriate style along the current default path, return false,
-    and abort these steps.&lt;/p&gt;
+    appropriate style along the intended path, return false, and abort
+    these steps.&lt;/p&gt;
 
     &lt;p&gt;The focus ring should not be subject to the &lt;span
     title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, the &lt;span
-    title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, or the &lt;span
-    title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
-    operators&lt;/span&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to the &lt;span
-    title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;.&lt;/p&gt;
+    title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, or the
+    &lt;span title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global
+    composition operators&lt;/span&gt;, but &lt;em&gt;should&lt;/em&gt; be subject to
+    the &lt;span title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;. (The
+    effect of transformations is described above and varies based on
+    which path is being used.)&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
     &lt;p&gt;Optionally, &lt;a href=&quot;#inform&quot;&gt;inform the user&lt;/a&gt; that the
-    focus is at the location given by the current default path. User
-    agents may wait until the next time the &lt;span&gt;event loop&lt;/span&gt;
-    reaches its &quot;update the rendering&quot; step to optionally inform the
-    user.&lt;/p&gt;
+    focus is at the location given by the intended path. User agents
+    may wait until the next time the &lt;span&gt;event loop&lt;/span&gt; reaches
+    its &quot;update the rendering&quot; step to optionally inform the user.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -43454,10 +43492,13 @@
 
   &lt;ol&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the specified rectangle&lt;/var&gt; be the
+   rectangle of the bounding box of the intended path.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;notional child&lt;/var&gt; be a hypothetical
    element that is a rendered child of the &lt;code&gt;canvas&lt;/code&gt; element
-   whose dimensions are exactly the rectangle of the bounding box of
-   the current default path.&lt;/p&gt;&lt;/li&gt;
+   whose dimensions are those of &lt;var title=&quot;&quot;&gt;the specified
+   rectangle&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;&lt;span title=&quot;scroll an element into view&quot;&gt;Scroll &lt;var
    title=&quot;&quot;&gt;notional child&lt;/var&gt; into view&lt;/span&gt; with the &lt;var
@@ -43489,9 +43530,9 @@
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-clip&quot;&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt;
   method must create a new &lt;dfn&gt;clipping region&lt;/dfn&gt; by calculating
   the intersection of the current clipping region and the area
-  described by the current default path, using the non-zero winding
-  number rule. Open subpaths must be implicitly closed when computing
-  the clipping region, without affecting the actual subpaths. The new
+  described by the intended path, using the non-zero winding number
+  rule. Open subpaths must be implicitly closed when computing the
+  clipping region, without affecting the actual subpaths. The new
   clipping region replaces the current clipping region.&lt;/p&gt;
 
   &lt;p&gt;When the context is initialized, the clipping region must be set
@@ -43517,8 +43558,8 @@
   return true if the point given by the &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var
   title=&quot;&quot;&gt;y&lt;/var&gt; coordinates passed to the method, when treated as
   coordinates in the canvas coordinate space unaffected by the current
-  transformation, is inside the current default path as determined by
-  the non-zero winding number rule; and must return false otherwise.
+  transformation, is inside the intended path as determined by the
+  non-zero winding number rule; and must return false otherwise.
   Points on the path itself must be considered to be inside the path.
   If either of the arguments is infinite or NaN, then the method must
   return false.&lt;/p&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013888.html">[html5] r7023 - [giow] (0) Path objects and drawing text to a path	or along a path. Note that th [...]
</A></li>
	<LI>Next message: <A HREF="013890.html">[html5] r7025 - [giow] (0) Add ellipse support to canvas. Affected	topics: Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13889">[ date ]</a>
              <a href="thread.html#13889">[ thread ]</a>
              <a href="subject.html#13889">[ subject ]</a>
              <a href="author.html#13889">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
