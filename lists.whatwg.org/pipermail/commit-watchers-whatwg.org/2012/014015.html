<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7150 - [giow] (0) Define	textTrack.inBandMetadataTrackDispatchType Fixing https://www.w [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7150%20-%20%5Bgiow%5D%20%280%29%20Define%0A%09textTrack.inBandMetadataTrackDispatchType%20Fixing%20https%3A//www.w%20%5B...%5D&In-Reply-To=%3C20120628051107.4911C11C7C029%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014014.html">
   <LINK REL="Next"  HREF="014016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7150 - [giow] (0) Define	textTrack.inBandMetadataTrackDispatchType Fixing https://www.w [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7150%20-%20%5Bgiow%5D%20%280%29%20Define%0A%09textTrack.inBandMetadataTrackDispatchType%20Fixing%20https%3A//www.w%20%5B...%5D&In-Reply-To=%3C20120628051107.4911C11C7C029%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7150 - [giow] (0) Define	textTrack.inBandMetadataTrackDispatchType Fixing https://www.w [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Jun 27 22:11:07 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="014014.html">[html5] r7149 - [giow] (0) Make TextTrack.label not expose the	UA-specific label if one is being [...]
</A></li>
        <LI>Next message: <A HREF="014016.html">[html5] r7151 - [giow] (0) Define	textTrack.inBandMetadataTrackDispatchType for MPEG-2 also. Fix [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14015">[ date ]</a>
              <a href="thread.html#14015">[ thread ]</a>
              <a href="subject.html#14015">[ subject ]</a>
              <a href="author.html#14015">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2012-06-27 22:11:05 -0700 (Wed, 27 Jun 2012)
New Revision: 7150

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Define textTrack.inBandMetadataTrackDispatchType
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=13359">https://www.w3.org/Bugs/Public/show_bug.cgi?id=13359</A>
Affected topics: HTML, Video Text Tracks, Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2012-06-27 21:23:20 UTC (rev 7149)
+++ complete.html	2012-06-28 05:11:05 UTC (rev 7150)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 27 June 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 June 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -3174,7 +3174,7 @@
   rendered, even if, unbeknownst to the implementation, the image also
   contained animation data.&lt;/p&gt;
 
-  &lt;p class=example&gt;A MPEG4 video file would not be considered to be
+  &lt;p class=example&gt;A MPEG-4 video file would not be considered to be
   in a supported format if the compression format used was not
   supported, even if the implementation could determine the dimensions
   of the movie from the file's metadata.&lt;/p&gt;
@@ -31514,7 +31514,7 @@
   be set to false (not selected). The &lt;a href=#concept-media-load-resource title=concept-media-load-resource&gt;resource fetch algorithm&lt;/a&gt;
   can override this.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-audiotrack-id title=dom-AudioTrack-id&gt;&lt;code&gt;AudioTrack.id&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-videotrack-id title=dom-VideoTrack-id&gt;&lt;code&gt;VideTrack.id&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-audiotrack-id title=dom-AudioTrack-id&gt;&lt;code&gt;AudioTrack.id&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-videotrack-id title=dom-VideoTrack-id&gt;&lt;code&gt;VideoTrack.id&lt;/code&gt;&lt;/dfn&gt;
   attributes must return the identifier of the track, if it has one,
   or the empty string otherwise. If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
   in a format that supports the &lt;cite&gt;Media Fragments URI&lt;/cite&gt;
@@ -31523,6 +31523,9 @@
   used as the name of a track in the track dimension of such a
   fragment identifier. &lt;a href=#refsMEDIAFRAG&gt;[MEDIAFRAG]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p class=example&gt;For example, in Ogg files, this would be the Name
+  header field of the track. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-audiotrack-kind title=dom-AudioTrack-kind&gt;&lt;code&gt;AudioTrack.kind&lt;/code&gt;&lt;/dfn&gt; and
   &lt;dfn id=dom-videotrack-kind title=dom-VideoTrack-kind&gt;&lt;code&gt;VideoTrack.kind&lt;/code&gt;&lt;/dfn&gt;
   attributes must return the category of the track, if it has one, or
@@ -31541,9 +31544,10 @@
   and must only be returned for &lt;code&gt;&lt;a href=#videotrack&gt;VideoTrack&lt;/a&gt;&lt;/code&gt; objects if
   they are appropriate for video.&lt;/p&gt;
 
-  &lt;p&gt;For Ogg files, the Role header of the track gives the relevant
-  metadata. For DASH media resources, the &lt;code title=&quot;&quot;&gt;Role&lt;/code&gt;
-  element conveys the information. For WebM, only the &lt;code title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a value. &lt;a href=#refsOGGROLE&gt;[OGGROLE]&lt;/a&gt; &lt;a href=#refsDASH&gt;[DASH]&lt;/a&gt; &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;For Ogg files, the Role header field of the track gives the
+  relevant metadata. For DASH media resources, the &lt;code title=&quot;&quot;&gt;Role&lt;/code&gt; element conveys the information. For WebM, only
+  the &lt;code title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a
+  value. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt; &lt;a href=#refsDASH&gt;[DASH]&lt;/a&gt; &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -32698,6 +32702,32 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;dfn id=text-track-in-band-metadata-track-dispatch-type title=&quot;text track in-band metadata track dispatch type&quot;&gt;An in-band metadata track dispatch type&lt;/dfn&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;This is a string extracted from the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;
+    specifically for in-band metadata tracks to enable such tracks to
+    be dispatched to different scripts in the document.&lt;/p&gt;
+
+    &lt;p class=example&gt;For example, a traditional TV station broadcast
+    streamed on the Web and augmented with Web-specific interactive
+    features could include text tracks with metadata for ad
+    targetting, trivia game data during game shows, player states
+    during sports games, recipe information during food programs, and
+    so forth. As each program starts and ends, new tracks might be
+    added or removed from the stream, and as each one is added, the
+    user agent could bind them to dedicated script modules using the
+    value of this attribute.&lt;/p&gt;
+
+    &lt;p&gt;Other than for in-band metadata text tracks, the &lt;a href=#text-track-in-band-metadata-track-dispatch-type title=&quot;text track in-band metadata track dispatch type&quot;&gt;in-band
+    metadata track dispatch type&lt;/a&gt; is the empty string. How this
+    value is populated for different media formats is described in
+    &lt;a href=#steps-to-expose-a-media-resource-specific-text-track&gt;steps to expose a media-resource-specific text
+    track&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;dfn id=text-track-language title=&quot;text track language&quot;&gt;A language&lt;/dfn&gt;
 
    &lt;dd&gt;
@@ -33143,6 +33173,58 @@
    label in that data, then the &lt;a href=#text-track-label title=&quot;text track
    label&quot;&gt;label&lt;/a&gt; must be set to the empty string.&lt;/li&gt;
 
+   &lt;li&gt;
+
+    &lt;p&gt;If the new &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-kind title=&quot;text track
+    kind&quot;&gt;kind&lt;/a&gt; is &lt;code title=dom-TextTrack-kind-metadata&gt;&lt;a href=#dom-texttrack-kind-metadata&gt;metadata&lt;/a&gt;&lt;/code&gt;, then set the
+    &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch type&lt;/a&gt; as
+    follows, based on the type of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;:&lt;/p&gt;
+
+    &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an Ogg file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the value of the Name header field. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an WebM file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the value of the &lt;code title=&quot;&quot;&gt;CodecID&lt;/code&gt; element. &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an MPEG-4 file&lt;/dt&gt;
+
+     &lt;dd&gt;Let the 
+     first &lt;code title=&quot;&quot;&gt;stsd&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;stbl&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;minf&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;mdia&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;trak&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;moov&lt;/code&gt; box
+     of the file be the &lt;i&gt;stsd box&lt;/i&gt;, if any.
+
+     If the file has no &lt;i&gt;stsd box&lt;/i&gt;, or if the &lt;i&gt;stsd box&lt;/i&gt; has
+     neither a &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box nor a &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box, then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band
+     metadata track dispatch type&lt;/a&gt; must be set to the empty
+     string.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has a &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band
+     metadata track dispatch type&lt;/a&gt; must be set to the
+     concatenation of the string &quot;&lt;code title=&quot;&quot;&gt;mett&lt;/code&gt;&quot;, a
+     U+0020 SPACE character, and the value of the first &lt;code title=&quot;&quot;&gt;mime_format&lt;/code&gt; field of the first &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the empty
+     string if that field is absent in that box.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has no &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box but has a &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box
+     then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the concatenation of the string &quot;&lt;code title=&quot;&quot;&gt;metx&lt;/code&gt;&quot;, a U+0020 SPACE character, and the value of
+     the first &lt;code title=&quot;&quot;&gt;namespace&lt;/code&gt; field of the first
+     &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the
+     empty string if that field is absent in that box.
+
+     &lt;a href=#refsMPEG4&gt;[MPEG4]&lt;/a&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Populate the new &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues title=&quot;text track list of cues&quot;&gt;list of cues&lt;/a&gt; with the cues
    parsed so far, folllowing the &lt;a href=#guidelines-for-exposing-cues-in-various-formats-as-text-track-cues&gt;guidelines for exposing
    cues&lt;/a&gt;, and begin updating it dynamically as
@@ -33207,15 +33289,15 @@
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;State
      &lt;th&gt;String
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-subtitles title=attr-track-kind-subtitles&gt;Subtitles&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-subtitles&gt;subtitles&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-subtitles&gt;&lt;a href=#dom-texttrack-kind-subtitles&gt;subtitles&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-captions title=attr-track-kind-captions&gt;Captions&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-captions&gt;captions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-captions&gt;&lt;a href=#dom-texttrack-kind-captions&gt;captions&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-descriptions title=attr-track-kind-descriptions&gt;Descriptions&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-descriptions&gt;descriptions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-descriptions&gt;&lt;a href=#dom-texttrack-kind-descriptions&gt;descriptions&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-chapters title=attr-track-kind-chapters&gt;Chapters&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-chapters&gt;chapters&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-chapters&gt;&lt;a href=#dom-texttrack-kind-chapters&gt;chapters&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-metadata title=attr-track-kind-metadata&gt;Metadata&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-metadata&gt;metadata&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-metadata&gt;&lt;a href=#dom-texttrack-kind-metadata&gt;metadata&lt;/a&gt;&lt;/code&gt;
   &lt;/table&gt;&lt;p&gt;The &lt;a href=#text-track-label&gt;text track label&lt;/a&gt; is the element's &lt;a href=#track-label&gt;track
   label&lt;/a&gt;.&lt;/p&gt;
 
@@ -33630,6 +33712,7 @@
   readonly attribute DOMString &lt;a href=#dom-texttrack-kind title=dom-TextTrack-kind&gt;kind&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-texttrack-label title=dom-TextTrack-label&gt;label&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-texttrack-language title=dom-TextTrack-language&gt;language&lt;/a&gt;;
+  readonly attribute DOMString &lt;a href=#dom-texttrack-inbandmetadatatrackdispatchtype title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;inBandMetadataTrackDispatchType&lt;/a&gt;;
 
            attribute &lt;a href=#texttrackmode&gt;TextTrackMode&lt;/a&gt; &lt;a href=#dom-texttrack-mode title=dom-TextTrack-mode&gt;mode&lt;/a&gt;;
 
@@ -33660,6 +33743,11 @@
     &lt;p&gt;Returns the &lt;a href=#text-track-language&gt;text track language&lt;/a&gt; string.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;&lt;a href=#dom-texttrack-inbandmetadatatrackdispatchtype&gt;inBandMetadataTrackDispatchType&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Returns the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch type&lt;/a&gt; string.&lt;/p&gt;
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=dom-TextTrack-mode&gt;&lt;a href=#dom-texttrack-mode&gt;mode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt;, represented by a
@@ -33723,6 +33811,11 @@
   &lt;a href=#text-track&gt;text track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object
   represents.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-texttrack-inbandmetadatatrackdispatchtype title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;inBandMetadataTrackDispatchType&lt;code&gt;&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track
+  dispatch type&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-texttrack-mode title=dom-TextTrack-mode&gt;&lt;code&gt;mode&lt;/code&gt;&lt;/dfn&gt;
   attribute, on getting, must return the string corresponding to the
   &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
@@ -34578,7 +34671,7 @@
   the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#list-of-text-tracks&gt;list of text tracks&lt;/a&gt;
   &lt;a href=#text-track-showing title=&quot;text track showing&quot;&gt;showing&lt;/a&gt; or &lt;a href=#text-track-showing-by-default title=&quot;text
   track showing by default&quot;&gt;showing by default&lt;/a&gt; and whose
-  &lt;a href=#text-track-kind&gt;text track kind&lt;/a&gt; is &lt;code title=dom-timedtrack-kind-chapters&gt;chapters&lt;/code&gt; should be used.
+  &lt;a href=#text-track-kind&gt;text track kind&lt;/a&gt; is &lt;code title=dom-TextTrack-kind-chapters&gt;&lt;a href=#dom-texttrack-kind-chapters&gt;chapters&lt;/a&gt;&lt;/code&gt; should be used.
   Such tracks must be interpreted according to the &lt;a href=#rules-for-constructing-the-chapter-tree-from-a-text-track&gt;rules for
   constructing the chapter tree from a text track&lt;/a&gt;.&lt;/p&gt;
 
@@ -102673,6 +102766,10 @@
    &lt;dt id=refsMIMESNIFF&gt;[MIMESNIFF]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://mimesniff.spec.whatwg.org/">http://mimesniff.spec.whatwg.org/</A>&gt;MIME Sniffing&lt;/a&gt;&lt;/cite&gt;, A. Barth, I. Hickson. WHATWG.&lt;/dd&gt;
 
+   &lt;dt id=refsMPEG4&gt;[MPEG4]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;&quot;&gt;ISO/IEC 14496-12: ISO base media file format&lt;/a&gt;&lt;/cite&gt;. ISO/IEC.&lt;/dd&gt;
+   &lt;!-- search for [&quot;Box Structure was and subsequent clauses were re-organized&quot;] to find it --&gt;
+
    &lt;dt id=refsMQ&gt;[MQ]&lt;/dt&gt;
    &lt;!--
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</A>&quot;&gt;Media
@@ -102687,7 +102784,7 @@
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="https://developer.mozilla.org/en/Gecko_Plugin_API_Reference">https://developer.mozilla.org/en/Gecko_Plugin_API_Reference</A>&gt;Gecko
    Plugin API Reference&lt;/a&gt;&lt;/cite&gt;. Mozilla.&lt;/dd&gt;
 
-   &lt;dt id=refsOGGROLE&gt;[OGGROLE]&lt;/dt&gt;
+   &lt;dt id=refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://wiki.xiph.org/SkeletonHeaders">http://wiki.xiph.org/SkeletonHeaders</A>&gt;SkeletonHeaders&lt;/a&gt;&lt;/cite&gt;. Xiph.Org.&lt;/dd&gt;
 
    &lt;dt id=refsOPENSEARCH&gt;[OPENSEARCH]&lt;/dt&gt;

Modified: index
===================================================================
--- index	2012-06-27 21:23:20 UTC (rev 7149)
+++ index	2012-06-28 05:11:05 UTC (rev 7150)
@@ -240,7 +240,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 27 June 2012&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 28 June 2012&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -3174,7 +3174,7 @@
   rendered, even if, unbeknownst to the implementation, the image also
   contained animation data.&lt;/p&gt;
 
-  &lt;p class=example&gt;A MPEG4 video file would not be considered to be
+  &lt;p class=example&gt;A MPEG-4 video file would not be considered to be
   in a supported format if the compression format used was not
   supported, even if the implementation could determine the dimensions
   of the movie from the file's metadata.&lt;/p&gt;
@@ -31514,7 +31514,7 @@
   be set to false (not selected). The &lt;a href=#concept-media-load-resource title=concept-media-load-resource&gt;resource fetch algorithm&lt;/a&gt;
   can override this.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-audiotrack-id title=dom-AudioTrack-id&gt;&lt;code&gt;AudioTrack.id&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-videotrack-id title=dom-VideoTrack-id&gt;&lt;code&gt;VideTrack.id&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-audiotrack-id title=dom-AudioTrack-id&gt;&lt;code&gt;AudioTrack.id&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=dom-videotrack-id title=dom-VideoTrack-id&gt;&lt;code&gt;VideoTrack.id&lt;/code&gt;&lt;/dfn&gt;
   attributes must return the identifier of the track, if it has one,
   or the empty string otherwise. If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
   in a format that supports the &lt;cite&gt;Media Fragments URI&lt;/cite&gt;
@@ -31523,6 +31523,9 @@
   used as the name of a track in the track dimension of such a
   fragment identifier. &lt;a href=#refsMEDIAFRAG&gt;[MEDIAFRAG]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p class=example&gt;For example, in Ogg files, this would be the Name
+  header field of the track. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-audiotrack-kind title=dom-AudioTrack-kind&gt;&lt;code&gt;AudioTrack.kind&lt;/code&gt;&lt;/dfn&gt; and
   &lt;dfn id=dom-videotrack-kind title=dom-VideoTrack-kind&gt;&lt;code&gt;VideoTrack.kind&lt;/code&gt;&lt;/dfn&gt;
   attributes must return the category of the track, if it has one, or
@@ -31541,9 +31544,10 @@
   and must only be returned for &lt;code&gt;&lt;a href=#videotrack&gt;VideoTrack&lt;/a&gt;&lt;/code&gt; objects if
   they are appropriate for video.&lt;/p&gt;
 
-  &lt;p&gt;For Ogg files, the Role header of the track gives the relevant
-  metadata. For DASH media resources, the &lt;code title=&quot;&quot;&gt;Role&lt;/code&gt;
-  element conveys the information. For WebM, only the &lt;code title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a value. &lt;a href=#refsOGGROLE&gt;[OGGROLE]&lt;/a&gt; &lt;a href=#refsDASH&gt;[DASH]&lt;/a&gt; &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;For Ogg files, the Role header field of the track gives the
+  relevant metadata. For DASH media resources, the &lt;code title=&quot;&quot;&gt;Role&lt;/code&gt; element conveys the information. For WebM, only
+  the &lt;code title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a
+  value. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt; &lt;a href=#refsDASH&gt;[DASH]&lt;/a&gt; &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -32698,6 +32702,32 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;dfn id=text-track-in-band-metadata-track-dispatch-type title=&quot;text track in-band metadata track dispatch type&quot;&gt;An in-band metadata track dispatch type&lt;/dfn&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;This is a string extracted from the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;
+    specifically for in-band metadata tracks to enable such tracks to
+    be dispatched to different scripts in the document.&lt;/p&gt;
+
+    &lt;p class=example&gt;For example, a traditional TV station broadcast
+    streamed on the Web and augmented with Web-specific interactive
+    features could include text tracks with metadata for ad
+    targetting, trivia game data during game shows, player states
+    during sports games, recipe information during food programs, and
+    so forth. As each program starts and ends, new tracks might be
+    added or removed from the stream, and as each one is added, the
+    user agent could bind them to dedicated script modules using the
+    value of this attribute.&lt;/p&gt;
+
+    &lt;p&gt;Other than for in-band metadata text tracks, the &lt;a href=#text-track-in-band-metadata-track-dispatch-type title=&quot;text track in-band metadata track dispatch type&quot;&gt;in-band
+    metadata track dispatch type&lt;/a&gt; is the empty string. How this
+    value is populated for different media formats is described in
+    &lt;a href=#steps-to-expose-a-media-resource-specific-text-track&gt;steps to expose a media-resource-specific text
+    track&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;dfn id=text-track-language title=&quot;text track language&quot;&gt;A language&lt;/dfn&gt;
 
    &lt;dd&gt;
@@ -33143,6 +33173,58 @@
    label in that data, then the &lt;a href=#text-track-label title=&quot;text track
    label&quot;&gt;label&lt;/a&gt; must be set to the empty string.&lt;/li&gt;
 
+   &lt;li&gt;
+
+    &lt;p&gt;If the new &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-kind title=&quot;text track
+    kind&quot;&gt;kind&lt;/a&gt; is &lt;code title=dom-TextTrack-kind-metadata&gt;&lt;a href=#dom-texttrack-kind-metadata&gt;metadata&lt;/a&gt;&lt;/code&gt;, then set the
+    &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch type&lt;/a&gt; as
+    follows, based on the type of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;:&lt;/p&gt;
+
+    &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an Ogg file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the value of the Name header field. &lt;a href=#refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an WebM file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the value of the &lt;code title=&quot;&quot;&gt;CodecID&lt;/code&gt; element. &lt;a href=#refsWEBMCG&gt;[WEBMCG]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is an MPEG-4 file&lt;/dt&gt;
+
+     &lt;dd&gt;Let the 
+     first &lt;code title=&quot;&quot;&gt;stsd&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;stbl&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;minf&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;mdia&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;trak&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;moov&lt;/code&gt; box
+     of the file be the &lt;i&gt;stsd box&lt;/i&gt;, if any.
+
+     If the file has no &lt;i&gt;stsd box&lt;/i&gt;, or if the &lt;i&gt;stsd box&lt;/i&gt; has
+     neither a &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box nor a &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box, then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band
+     metadata track dispatch type&lt;/a&gt; must be set to the empty
+     string.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has a &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band
+     metadata track dispatch type&lt;/a&gt; must be set to the
+     concatenation of the string &quot;&lt;code title=&quot;&quot;&gt;mett&lt;/code&gt;&quot;, a
+     U+0020 SPACE character, and the value of the first &lt;code title=&quot;&quot;&gt;mime_format&lt;/code&gt; field of the first &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the empty
+     string if that field is absent in that box.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has no &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box but has a &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box
+     then the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch
+     type&lt;/a&gt; must be set to the concatenation of the string &quot;&lt;code title=&quot;&quot;&gt;metx&lt;/code&gt;&quot;, a U+0020 SPACE character, and the value of
+     the first &lt;code title=&quot;&quot;&gt;namespace&lt;/code&gt; field of the first
+     &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the
+     empty string if that field is absent in that box.
+
+     &lt;a href=#refsMPEG4&gt;[MPEG4]&lt;/a&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Populate the new &lt;a href=#text-track&gt;text track&lt;/a&gt;'s &lt;a href=#text-track-list-of-cues title=&quot;text track list of cues&quot;&gt;list of cues&lt;/a&gt; with the cues
    parsed so far, folllowing the &lt;a href=#guidelines-for-exposing-cues-in-various-formats-as-text-track-cues&gt;guidelines for exposing
    cues&lt;/a&gt;, and begin updating it dynamically as
@@ -33207,15 +33289,15 @@
   &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;State
      &lt;th&gt;String
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-subtitles title=attr-track-kind-subtitles&gt;Subtitles&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-subtitles&gt;subtitles&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-subtitles&gt;&lt;a href=#dom-texttrack-kind-subtitles&gt;subtitles&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-captions title=attr-track-kind-captions&gt;Captions&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-captions&gt;captions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-captions&gt;&lt;a href=#dom-texttrack-kind-captions&gt;captions&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-descriptions title=attr-track-kind-descriptions&gt;Descriptions&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-descriptions&gt;descriptions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-descriptions&gt;&lt;a href=#dom-texttrack-kind-descriptions&gt;descriptions&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-chapters title=attr-track-kind-chapters&gt;Chapters&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-chapters&gt;chapters&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-chapters&gt;&lt;a href=#dom-texttrack-kind-chapters&gt;chapters&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;a href=#attr-track-kind-metadata title=attr-track-kind-metadata&gt;Metadata&lt;/a&gt;
-     &lt;td&gt;&lt;code title=dom-timedtrack-kind-metadata&gt;metadata&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-TextTrack-kind-metadata&gt;&lt;a href=#dom-texttrack-kind-metadata&gt;metadata&lt;/a&gt;&lt;/code&gt;
   &lt;/table&gt;&lt;p&gt;The &lt;a href=#text-track-label&gt;text track label&lt;/a&gt; is the element's &lt;a href=#track-label&gt;track
   label&lt;/a&gt;.&lt;/p&gt;
 
@@ -33630,6 +33712,7 @@
   readonly attribute DOMString &lt;a href=#dom-texttrack-kind title=dom-TextTrack-kind&gt;kind&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-texttrack-label title=dom-TextTrack-label&gt;label&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-texttrack-language title=dom-TextTrack-language&gt;language&lt;/a&gt;;
+  readonly attribute DOMString &lt;a href=#dom-texttrack-inbandmetadatatrackdispatchtype title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;inBandMetadataTrackDispatchType&lt;/a&gt;;
 
            attribute &lt;a href=#texttrackmode&gt;TextTrackMode&lt;/a&gt; &lt;a href=#dom-texttrack-mode title=dom-TextTrack-mode&gt;mode&lt;/a&gt;;
 
@@ -33660,6 +33743,11 @@
     &lt;p&gt;Returns the &lt;a href=#text-track-language&gt;text track language&lt;/a&gt; string.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;&lt;a href=#dom-texttrack-inbandmetadatatrackdispatchtype&gt;inBandMetadataTrackDispatchType&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Returns the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track dispatch type&lt;/a&gt; string.&lt;/p&gt;
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=dom-TextTrack-mode&gt;&lt;a href=#dom-texttrack-mode&gt;mode&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns the &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt;, represented by a
@@ -33723,6 +33811,11 @@
   &lt;a href=#text-track&gt;text track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object
   represents.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=dom-texttrack-inbandmetadatatrackdispatchtype title=dom-TextTrack-inBandMetadataTrackDispatchType&gt;inBandMetadataTrackDispatchType&lt;code&gt;&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the &lt;a href=#text-track-in-band-metadata-track-dispatch-type&gt;text track in-band metadata track
+  dispatch type&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
+  &lt;code&gt;&lt;a href=#texttrack&gt;TextTrack&lt;/a&gt;&lt;/code&gt; object represents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn id=dom-texttrack-mode title=dom-TextTrack-mode&gt;&lt;code&gt;mode&lt;/code&gt;&lt;/dfn&gt;
   attribute, on getting, must return the string corresponding to the
   &lt;a href=#text-track-mode&gt;text track mode&lt;/a&gt; of the &lt;a href=#text-track&gt;text track&lt;/a&gt; that the
@@ -34578,7 +34671,7 @@
   the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;a href=#list-of-text-tracks&gt;list of text tracks&lt;/a&gt;
   &lt;a href=#text-track-showing title=&quot;text track showing&quot;&gt;showing&lt;/a&gt; or &lt;a href=#text-track-showing-by-default title=&quot;text
   track showing by default&quot;&gt;showing by default&lt;/a&gt; and whose
-  &lt;a href=#text-track-kind&gt;text track kind&lt;/a&gt; is &lt;code title=dom-timedtrack-kind-chapters&gt;chapters&lt;/code&gt; should be used.
+  &lt;a href=#text-track-kind&gt;text track kind&lt;/a&gt; is &lt;code title=dom-TextTrack-kind-chapters&gt;&lt;a href=#dom-texttrack-kind-chapters&gt;chapters&lt;/a&gt;&lt;/code&gt; should be used.
   Such tracks must be interpreted according to the &lt;a href=#rules-for-constructing-the-chapter-tree-from-a-text-track&gt;rules for
   constructing the chapter tree from a text track&lt;/a&gt;.&lt;/p&gt;
 
@@ -102673,6 +102766,10 @@
    &lt;dt id=refsMIMESNIFF&gt;[MIMESNIFF]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://mimesniff.spec.whatwg.org/">http://mimesniff.spec.whatwg.org/</A>&gt;MIME Sniffing&lt;/a&gt;&lt;/cite&gt;, A. Barth, I. Hickson. WHATWG.&lt;/dd&gt;
 
+   &lt;dt id=refsMPEG4&gt;[MPEG4]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;&quot;&gt;ISO/IEC 14496-12: ISO base media file format&lt;/a&gt;&lt;/cite&gt;. ISO/IEC.&lt;/dd&gt;
+   &lt;!-- search for [&quot;Box Structure was and subsequent clauses were re-organized&quot;] to find it --&gt;
+
    &lt;dt id=refsMQ&gt;[MQ]&lt;/dt&gt;
    &lt;!--
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</A>&quot;&gt;Media
@@ -102687,7 +102784,7 @@
    &lt;dd&gt;(Non-normative) &lt;cite&gt;&lt;a href=<A HREF="https://developer.mozilla.org/en/Gecko_Plugin_API_Reference">https://developer.mozilla.org/en/Gecko_Plugin_API_Reference</A>&gt;Gecko
    Plugin API Reference&lt;/a&gt;&lt;/cite&gt;. Mozilla.&lt;/dd&gt;
 
-   &lt;dt id=refsOGGROLE&gt;[OGGROLE]&lt;/dt&gt;
+   &lt;dt id=refsOGGSKELETONHEADERS&gt;[OGGSKELETONHEADERS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://wiki.xiph.org/SkeletonHeaders">http://wiki.xiph.org/SkeletonHeaders</A>&gt;SkeletonHeaders&lt;/a&gt;&lt;/cite&gt;. Xiph.Org.&lt;/dd&gt;
 
    &lt;dt id=refsOPENSEARCH&gt;[OPENSEARCH]&lt;/dt&gt;

Modified: source
===================================================================
--- source	2012-06-27 21:23:20 UTC (rev 7149)
+++ source	2012-06-28 05:11:05 UTC (rev 7150)
@@ -2046,7 +2046,7 @@
   rendered, even if, unbeknownst to the implementation, the image also
   contained animation data.&lt;/p&gt;
 
-  &lt;p class=&quot;example&quot;&gt;A MPEG4 video file would not be considered to be
+  &lt;p class=&quot;example&quot;&gt;A MPEG-4 video file would not be considered to be
   in a supported format if the compression format used was not
   supported, even if the implementation could determine the dimensions
   of the movie from the file's metadata.&lt;/p&gt;
@@ -34390,7 +34390,7 @@
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-AudioTrack-id&quot;&gt;&lt;code&gt;AudioTrack.id&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
-  title=&quot;dom-VideoTrack-id&quot;&gt;&lt;code&gt;VideTrack.id&lt;/code&gt;&lt;/dfn&gt;
+  title=&quot;dom-VideoTrack-id&quot;&gt;&lt;code&gt;VideoTrack.id&lt;/code&gt;&lt;/dfn&gt;
   attributes must return the identifier of the track, if it has one,
   or the empty string otherwise. If the &lt;span&gt;media resource&lt;/span&gt; is
   in a format that supports the &lt;cite&gt;Media Fragments URI&lt;/cite&gt;
@@ -34399,6 +34399,10 @@
   used as the name of a track in the track dimension of such a
   fragment identifier. &lt;a href=&quot;#refsMEDIAFRAG&quot;&gt;[MEDIAFRAG]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p class=&quot;example&quot;&gt;For example, in Ogg files, this would be the Name
+  header field of the track. &lt;a
+  href=&quot;#refsOGGSKELETONHEADERS&quot;&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-AudioTrack-kind&quot;&gt;&lt;code&gt;AudioTrack.kind&lt;/code&gt;&lt;/dfn&gt; and
   &lt;dfn title=&quot;dom-VideoTrack-kind&quot;&gt;&lt;code&gt;VideoTrack.kind&lt;/code&gt;&lt;/dfn&gt;
@@ -34418,12 +34422,12 @@
   and must only be returned for &lt;code&gt;VideoTrack&lt;/code&gt; objects if
   they are appropriate for video.&lt;/p&gt;
 
-  &lt;p&gt;For Ogg files, the Role header of the track gives the relevant
-  metadata. For DASH media resources, the &lt;code title=&quot;&quot;&gt;Role&lt;/code&gt;
-  element conveys the information. For WebM, only the &lt;code
-  title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a value. &lt;a
-  href=&quot;#refsOGGROLE&quot;&gt;[OGGROLE]&lt;/a&gt; &lt;a href=&quot;#refsDASH&quot;&gt;[DASH]&lt;/a&gt; &lt;a
-  href=&quot;#refsWEBMCG&quot;&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
+  &lt;p&gt;For Ogg files, the Role header field of the track gives the
+  relevant metadata. For DASH media resources, the &lt;code
+  title=&quot;&quot;&gt;Role&lt;/code&gt; element conveys the information. For WebM, only
+  the &lt;code title=&quot;&quot;&gt;FlagDefault&lt;/code&gt; element currently maps to a
+  value. &lt;a href=&quot;#refsOGGSKELETONHEADERS&quot;&gt;[OGGSKELETONHEADERS]&lt;/a&gt; &lt;a
+  href=&quot;#refsDASH&quot;&gt;[DASH]&lt;/a&gt; &lt;a href=&quot;#refsWEBMCG&quot;&gt;[WEBMCG]&lt;/a&gt;&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -35775,6 +35779,33 @@
 
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;dfn title=&quot;text track in-band metadata track dispatch type&quot;&gt;An in-band metadata track dispatch type&lt;/dfn&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;This is a string extracted from the &lt;span&gt;media resource&lt;/span&gt;
+    specifically for in-band metadata tracks to enable such tracks to
+    be dispatched to different scripts in the document.&lt;/p&gt;
+
+    &lt;p class=&quot;example&quot;&gt;For example, a traditional TV station broadcast
+    streamed on the Web and augmented with Web-specific interactive
+    features could include text tracks with metadata for ad
+    targetting, trivia game data during game shows, player states
+    during sports games, recipe information during food programs, and
+    so forth. As each program starts and ends, new tracks might be
+    added or removed from the stream, and as each one is added, the
+    user agent could bind them to dedicated script modules using the
+    value of this attribute.&lt;/p&gt;
+
+    &lt;p&gt;Other than for in-band metadata text tracks, the &lt;span
+    title=&quot;text track in-band metadata track dispatch type&quot;&gt;in-band
+    metadata track dispatch type&lt;/span&gt; is the empty string. How this
+    value is populated for different media formats is described in
+    &lt;span&gt;steps to expose a media-resource-specific text
+    track&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;dfn title=&quot;text track language&quot;&gt;A language&lt;/dfn&gt;
 
    &lt;dd&gt;
@@ -36264,6 +36295,72 @@
    label in that data, then the &lt;span title=&quot;text track
    label&quot;&gt;label&lt;/span&gt; must be set to the empty string.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;
+
+    &lt;p&gt;If the new &lt;span&gt;text track&lt;/span&gt;'s &lt;span title=&quot;text track
+    kind&quot;&gt;kind&lt;/span&gt; is &lt;code
+    title=&quot;dom-TextTrack-kind-metadata&quot;&gt;metadata&lt;/code&gt;, then set the
+    &lt;span&gt;text track in-band metadata track dispatch type&lt;/span&gt; as
+    follows, based on the type of the &lt;span&gt;media resource&lt;/span&gt;:&lt;/p&gt;
+
+    &lt;dl class=&quot;switch&quot;&gt; 
+
+     &lt;dt&gt;If the &lt;span&gt;media resource&lt;/span&gt; is an Ogg file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;span&gt;text track in-band metadata track dispatch
+     type&lt;/span&gt; must be set to the value of the Name header field. &lt;a
+     href=&quot;#refsOGGSKELETONHEADERS&quot;&gt;[OGGSKELETONHEADERS]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;span&gt;media resource&lt;/span&gt; is an WebM file&lt;/dt&gt;
+
+     &lt;dd&gt;The &lt;span&gt;text track in-band metadata track dispatch
+     type&lt;/span&gt; must be set to the value of the &lt;code
+     title=&quot;&quot;&gt;CodecID&lt;/code&gt; element. &lt;a
+     href=&quot;#refsWEBMCG&quot;&gt;[WEBMCG]&lt;/a&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;If the &lt;span&gt;media resource&lt;/span&gt; is an MPEG-4 file&lt;/dt&gt;
+
+     &lt;dd&gt;Let the 
+     first &lt;code title=&quot;&quot;&gt;stsd&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;stbl&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;minf&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;mdia&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;trak&lt;/code&gt; box of the
+     first &lt;code title=&quot;&quot;&gt;moov&lt;/code&gt; box
+     of the file be the &lt;i&gt;stsd box&lt;/i&gt;, if any.
+
+     If the file has no &lt;i&gt;stsd box&lt;/i&gt;, or if the &lt;i&gt;stsd box&lt;/i&gt; has
+     neither a &lt;code title=&quot;&quot;&gt;mett&lt;/code&gt; box nor a &lt;code
+     title=&quot;&quot;&gt;metx&lt;/code&gt; box, then the &lt;span&gt;text track in-band
+     metadata track dispatch type&lt;/span&gt; must be set to the empty
+     string.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has a &lt;code
+     title=&quot;&quot;&gt;mett&lt;/code&gt; box then the &lt;span&gt;text track in-band
+     metadata track dispatch type&lt;/span&gt; must be set to the
+     concatenation of the string &quot;&lt;code title=&quot;&quot;&gt;mett&lt;/code&gt;&quot;, a
+     U+0020 SPACE character, and the value of the first &lt;code
+     title=&quot;&quot;&gt;mime_format&lt;/code&gt; field of the first &lt;code
+     title=&quot;&quot;&gt;mett&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the empty
+     string if that field is absent in that box.
+
+     Otherwise, if the &lt;i&gt;stsd box&lt;/i&gt; has no &lt;code
+     title=&quot;&quot;&gt;mett&lt;/code&gt; box but has a &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box
+     then the &lt;span&gt;text track in-band metadata track dispatch
+     type&lt;/span&gt; must be set to the concatenation of the string &quot;&lt;code
+     title=&quot;&quot;&gt;metx&lt;/code&gt;&quot;, a U+0020 SPACE character, and the value of
+     the first &lt;code title=&quot;&quot;&gt;namespace&lt;/code&gt; field of the first
+     &lt;code title=&quot;&quot;&gt;metx&lt;/code&gt; box of the &lt;i&gt;stsd box&lt;/i&gt;, or the
+     empty string if that field is absent in that box.
+
+     &lt;a href=&quot;#refsMPEG4&quot;&gt;[MPEG4]&lt;/a&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Populate the new &lt;span&gt;text track&lt;/span&gt;'s &lt;span
    title=&quot;text track list of cues&quot;&gt;list of cues&lt;/span&gt; with the cues
    parsed so far, folllowing the &lt;span&gt;guidelines for exposing
@@ -36339,19 +36436,19 @@
    &lt;tbody&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-track-kind-subtitles&quot;&gt;Subtitles&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-timedtrack-kind-subtitles&quot;&gt;subtitles&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-TextTrack-kind-subtitles&quot;&gt;subtitles&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-track-kind-captions&quot;&gt;Captions&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-timedtrack-kind-captions&quot;&gt;captions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-TextTrack-kind-captions&quot;&gt;captions&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-track-kind-descriptions&quot;&gt;Descriptions&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-timedtrack-kind-descriptions&quot;&gt;descriptions&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-TextTrack-kind-descriptions&quot;&gt;descriptions&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-track-kind-chapters&quot;&gt;Chapters&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-timedtrack-kind-chapters&quot;&gt;chapters&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-TextTrack-kind-chapters&quot;&gt;chapters&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-track-kind-metadata&quot;&gt;Metadata&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-timedtrack-kind-metadata&quot;&gt;metadata&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-TextTrack-kind-metadata&quot;&gt;metadata&lt;/code&gt;
   &lt;/table&gt;
 
   &lt;p&gt;The &lt;span&gt;text track label&lt;/span&gt; is the element's &lt;span&gt;track
@@ -36826,6 +36923,7 @@
   readonly attribute DOMString &lt;span title=&quot;dom-TextTrack-kind&quot;&gt;kind&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-TextTrack-label&quot;&gt;label&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-TextTrack-language&quot;&gt;language&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-TextTrack-inBandMetadataTrackDispatchType&quot;&gt;inBandMetadataTrackDispatchType&lt;/span&gt;;
 
            attribute &lt;span&gt;TextTrackMode&lt;/span&gt; &lt;span title=&quot;dom-TextTrack-mode&quot;&gt;mode&lt;/span&gt;;
 
@@ -36858,6 +36956,11 @@
     &lt;p&gt;Returns the &lt;span&gt;text track language&lt;/span&gt; string.&lt;/p&gt;
    &lt;/dd&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=&quot;dom-TextTrack-inBandMetadataTrackDispatchType&quot;&gt;inBandMetadataTrackDispatchType&lt;/code&gt;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Returns the &lt;span&gt;text track in-band metadata track dispatch type&lt;/span&gt; string.&lt;/p&gt;
+   &lt;/dd&gt;
+
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;textTrack&lt;/var&gt; . &lt;code title=&quot;dom-TextTrack-mode&quot;&gt;mode&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns the &lt;span&gt;text track mode&lt;/span&gt;, represented by a
@@ -36926,6 +37029,12 @@
   &lt;span&gt;text track&lt;/span&gt; that the &lt;code&gt;TextTrack&lt;/code&gt; object
   represents.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-TextTrack-inBandMetadataTrackDispatchType&quot;&gt;inBandMetadataTrackDispatchType&lt;code&gt;&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the &lt;span&gt;text track in-band metadata track
+  dispatch type&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
+  &lt;code&gt;TextTrack&lt;/code&gt; object represents.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrack-mode&quot;&gt;&lt;code&gt;mode&lt;/code&gt;&lt;/dfn&gt;
   attribute, on getting, must return the string corresponding to the
   &lt;span&gt;text track mode&lt;/span&gt; of the &lt;span&gt;text track&lt;/span&gt; that the
@@ -37983,7 +38092,7 @@
   text&lt;/span&gt; or &lt;span&gt;WebVTT cue text&lt;/span&gt; as their &lt;span&gt;cue
   payload&lt;/span&gt;; &lt;span&gt;WebVTT metadata text&lt;/span&gt; cues are only
   useful for scripted applications (using the &lt;code
-  title=&quot;dom-timedtrack-kind-metadata&quot;&gt;metadata&lt;/code&gt; &lt;span&gt;text
+  title=&quot;dom-TextTrack-kind-metadata&quot;&gt;metadata&lt;/code&gt; &lt;span&gt;text
   track kind&lt;/span&gt;).&lt;/p&gt;
 
   &lt;p&gt;A &lt;span&gt;WebVTT file&lt;/span&gt; whose cues all have a &lt;span&gt;cue
@@ -40273,7 +40382,7 @@
   &lt;span title=&quot;text track showing&quot;&gt;showing&lt;/span&gt; or &lt;span title=&quot;text
   track showing by default&quot;&gt;showing by default&lt;/span&gt; and whose
   &lt;span&gt;text track kind&lt;/span&gt; is &lt;code
-  title=&quot;dom-timedtrack-kind-chapters&quot;&gt;chapters&lt;/code&gt; should be used.
+  title=&quot;dom-TextTrack-kind-chapters&quot;&gt;chapters&lt;/code&gt; should be used.
   Such tracks must be interpreted according to the &lt;span&gt;rules for
   constructing the chapter tree from a text track&lt;/span&gt;.&lt;/p&gt;
 
@@ -120419,6 +120528,10 @@
    &lt;dt id=&quot;refsMIMESNIFF&quot;&gt;[MIMESNIFF]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://mimesniff.spec.whatwg.org/">http://mimesniff.spec.whatwg.org/</A>&quot;&gt;MIME Sniffing&lt;/a&gt;&lt;/cite&gt;, A. Barth, I. Hickson. WHATWG.&lt;/dd&gt;
 
+   &lt;dt id=&quot;refsMPEG4&quot;&gt;[MPEG4]&lt;/dt&gt;
+   &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;&quot;&gt;ISO/IEC 14496-12: ISO base media file format&lt;/a&gt;&lt;/cite&gt;. ISO/IEC.&lt;/dd&gt;
+   &lt;!-- search for [&quot;Box Structure was and subsequent clauses were re-organized&quot;] to find it --&gt;
+
    &lt;dt id=&quot;refsMQ&quot;&gt;[MQ]&lt;/dt&gt;
    &lt;!--
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</A>&quot;&gt;Media
@@ -120440,7 +120553,7 @@
    Work in progress. &lt;!--!--&gt;
    &lt;/dd&gt;
 
-   &lt;dt id=&quot;refsOGGROLE&quot;&gt;[OGGROLE]&lt;/dt&gt;
+   &lt;dt id=&quot;refsOGGSKELETONHEADERS&quot;&gt;[OGGSKELETONHEADERS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://wiki.xiph.org/SkeletonHeaders">http://wiki.xiph.org/SkeletonHeaders</A>&quot;&gt;SkeletonHeaders&lt;/a&gt;&lt;/cite&gt;. Xiph.Org.&lt;/dd&gt;
 
    &lt;dt id=&quot;refsOPENSEARCH&quot;&gt;[OPENSEARCH]&lt;/dt&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014014.html">[html5] r7149 - [giow] (0) Make TextTrack.label not expose the	UA-specific label if one is being [...]
</A></li>
	<LI>Next message: <A HREF="014016.html">[html5] r7151 - [giow] (0) Define	textTrack.inBandMetadataTrackDispatchType for MPEG-2 also. Fix [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14015">[ date ]</a>
              <a href="thread.html#14015">[ thread ]</a>
              <a href="subject.html#14015">[ subject ]</a>
              <a href="author.html#14015">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
