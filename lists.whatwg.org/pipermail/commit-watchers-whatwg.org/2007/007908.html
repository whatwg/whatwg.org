<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1000 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1000%20-%20/&In-Reply-To=%3C20070814091830.A29E4141A6%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007907.html">
   <LINK REL="Next"  HREF="007909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1000 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1000%20-%20/&In-Reply-To=%3C20070814091830.A29E4141A6%40dhalsim.dreamhost.com%3E"
       TITLE="[html5] r1000 - /">whatwg at whatwg.org
       </A><BR>
    <I>Tue Aug 14 02:18:30 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="007907.html">[html5] r999 - /
</A></li>
        <LI>Next message: <A HREF="007909.html">[html5] r1001 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7908">[ date ]</a>
              <a href="thread.html#7908">[ thread ]</a>
              <a href="subject.html#7908">[ subject ]</a>
              <a href="author.html#7908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2007-08-14 02:18:28 -0700 (Tue, 14 Aug 2007)
New Revision: 1000

Modified:
   index
   source
Log:
[ac] (1) Revamp of the &lt;img alt&gt; rules. Also, some editorial notes on Content-Type handling, on the port-scanning issue with &lt;img&gt;/onload, and on a proposal to make the origin tuple include the IP address to avoid DNS rebinding attacks. And a typo fix.

Modified: index
===================================================================
--- index	2007-08-10 21:48:46 UTC (rev 999)
+++ index	2007-08-14 09:18:28 UTC (rev 1000)
@@ -22,7 +22,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=working&gt;Working Draft &mdash; 10 August 2007&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=working&gt;Working Draft &mdash; 14 August 2007&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
     href=&quot;<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&quot;&gt;Join the working group's
@@ -8546,7 +8546,7 @@
    ancestor sectioning elements. The contact information is the collection of
    all the information given by those elements.
 
-  &lt;p class=note&gt;Contact information for one sectioning element, e.g. a
+  &lt;p class=note&gt;Contact information for one sectioning element, e.g. an
    &lt;code&gt;&lt;a href=&quot;#aside&quot;&gt;aside&lt;/a&gt;&lt;/code&gt; element, does not apply to its
    ancestor elements, e.g. the page's &lt;code&gt;&lt;a href=&quot;#body0&quot;&gt;body&lt;/a&gt;&lt;/code&gt;.
 
@@ -11958,7 +11958,7 @@
 
    &lt;dt&gt;Element-specific attributes:
 
-   &lt;dd&gt;&lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; (required)
+   &lt;dd&gt;&lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
 
    &lt;dd&gt;&lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; (required)
 
@@ -11992,28 +11992,306 @@
      constructor.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element represents a piece of
-   text with an alternate graphical representation. The text is given by the
-   &lt;dfn id=alt title=attr-img-alt&gt;&lt;code&gt;alt&lt;/code&gt;&lt;/dfn&gt; attribute, which
-   must be present, and the URI to the graphical representation of that text
-   is given in the &lt;dfn id=src title=attr-img-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;
-   attribute, which must also be present.
+  &lt;p&gt;An &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element represents an image.
 
-  &lt;p&gt;The image given by the &lt;code title=attr-img-src&gt;&lt;a
-   href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is the embedded content, and the
-   value of the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
-   attribute is the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element's &lt;a
-   href=&quot;#fallback&quot;&gt;fallback content&lt;/a&gt;.
+  &lt;p&gt;The image given by the &lt;dfn id=src
+   title=attr-img-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute is the embedded
+   content, and the value of the &lt;dfn id=alt
+   title=attr-img-alt&gt;&lt;code&gt;alt&lt;/code&gt;&lt;/dfn&gt; attribute is the &lt;code&gt;&lt;a
+   href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element's &lt;a href=&quot;#fallback&quot;&gt;fallback
+   content&lt;/a&gt;.
 
+  &lt;p&gt;&lt;strong&gt;Authoring requirements&lt;/strong&gt;: The &lt;code title=attr-img-src&gt;&lt;a
+   href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute must be present, and must contain a
+   URI (or IRI). The requirements for the &lt;code title=attr-img-alt&gt;&lt;a
+   href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute depend on what the image is intended
+   to represent:
+
+  &lt;dl&gt;
+   &lt;dt&gt;A phrase or paragraph with an alternative graphical representation
+
+   &lt;dd&gt;
+    &lt;p&gt;Sometimes something can be more clearly stated in graphical form, for
+     example as a flowchart, a diagram, a graph, or a simple map showing
+     directions. In such cases, an image can be given using the &lt;code&gt;&lt;a
+     href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element, but the lesser textual version must
+     still be given, so that users who are unable to view the image (e.g.
+     because they have a very slow connection, or because they are using a
+     text-only browser, or because they are listening to the page being read
+     out by a hands-free automobile voice Web browser, or simply because they
+     are blind) are still able to understand the message being conveyed.&lt;/p&gt;
+
+    &lt;p&gt;The text must be given in the &lt;code title=attr-img-alt&gt;&lt;a
+     href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute, and must convey the same message
+     as the the image specified in the &lt;code title=attr-img-src&gt;&lt;a
+     href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;In the following example we have &lt;a
+      href=&quot;images/parsing-model-overview.png&quot;&gt;a flowchart&lt;/a&gt; in image form,
+      with text in the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
+      attribute rephrasing the flowchart in prose form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;In the common case, the data handled by the tokenisation stage
+comes from the network, but it can also come from script.&lt;/p&gt;
+&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;The network
+passes data to the Tokeniser stage, which passes data to the Tree
+Construction stage. From there, data goes to both the DOM and to
+Script Execution. Script Execution is linked to the DOM, and, using
+document.write(), passes data to the Tokeniser.&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;It is important to realise that the alternative text is a
+     &lt;em&gt;replacement&lt;/em&gt; for the image, not a description of the image.&lt;/p&gt;
+
+   &lt;dt&gt;Icons: a short phrase or label with an alternative graphical
+    representation
+
+   &lt;dd&gt;
+    &lt;p&gt;A document can contain information in iconic form. The icon is
+     intended to help users of visual browsers to recognise features at a
+     glance.&lt;/p&gt;
+
+    &lt;p&gt;In some cases, the icon is supplemental to a text label conveying the
+     same meaning. In those cases, the &lt;code title=attr-img-alt&gt;&lt;a
+     href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must be present but must be empty.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;Here the icons are next to text that conveys the same meaning, so
+      they have an empty &lt;code title=attr-img-alt&gt;&lt;a
+      href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;nav&gt;
+ &lt;p&gt;&lt;a href=&quot;/help/&quot;&gt;&lt;strong&gt;&lt;img src=&quot;/icons/help.png&quot; alt=&quot;&quot;&gt;&lt;/strong&gt; Help&lt;/a&gt;&lt;/p&gt;
+ &lt;p&gt;&lt;a href=&quot;/configure/&quot;&gt;&lt;strong&gt;&lt;img src=&quot;/icons/configuration.png&quot; alt=&quot;&quot;&gt;&lt;/strong&gt;
+ Configuration Tools&lt;/a&gt;&lt;/p&gt;
+&lt;/nav&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;In other cases, the icon has no text next to it describing what it
+     means; the icon is supposed to be self-explanatory. In those cases, an
+     equivalent textual label must be given in the &lt;code
+     title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;Here, posts on a news site are labelled with an icon indicating their
+      topic.&lt;/p&gt;
+
+     &lt;pre&gt;&lt;body&gt;
+ &lt;article&gt;
+  &lt;header&gt;
+   &lt;h1&gt;Ratatouille wins &lt;i&gt;Best Movie of the Year&lt;/i&gt; award&lt;/h1&gt;
+   &lt;p&gt;&lt;strong&gt;&lt;img src=&quot;movies.png&quot; alt=&quot;Movies&quot;&gt;&lt;/strong&gt;&lt;/p&gt;
+  &lt;/header&gt;
+  &lt;p&gt;Pixar has won yet another &lt;i&gt;Best Movie of the Year&lt;/i&gt; award,
+  making this its 8th win in the last 12 years.&lt;/p&gt;
+ &lt;/article&gt;
+ &lt;article&gt;
+  &lt;header&gt;
+   &lt;h1&gt;Latest TWiT episode is online&lt;/h1&gt;
+   &lt;p&gt;&lt;strong&gt;&lt;img src=&quot;podcasts.png&quot; alt=&quot;Podcasts&quot;&gt;&lt;/strong&gt;&lt;/p&gt;
+  &lt;/header&gt;
+  &lt;p&gt;The latest TWiT episode has been posted, in which we hear
+  several tech news stories as well as learning much more about the
+  iPhone. This week, the panelists compare how reflective their
+  iPhones' Apple logos are.&lt;/p&gt;
+ &lt;/article&gt;
+&lt;/body&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;Many pages include logos, insignia, flags, or emblems, which stand for
+     a particular entity such as a company, organisation, project, band,
+     software package, country, or some such.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is being used to represent the entity, the &lt;code
+     title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must contain
+     the name of the entity being represented by the logo. The &lt;code
+     title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must
+     &lt;em&gt;not&lt;/em&gt; contain text like the word &quot;logo&quot;, as it is not the fact
+     that it is a logo that is being conveyed, it's the entity itself.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is being used next to the name of the entity that it
+     represents, then the logo is supplemental, and its &lt;code
+     title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must instead
+     be empty.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is merely used as decorative material (as branding, or,
+     for example, as a side image in an article that mentions the entity to
+     which the logo belongs), then the entry below on purely decorative
+     images applies. If the logo is actually being discussed, then it is
+     being used as a phrase or paragraph (the description of the logo) with
+     an alternative graphical representation (the logo itself), and the first
+     entry above applies.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;In the following snippets, all four of the above cases are present.
+      First, we see a logo used to represent a company:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;&lt;strong&gt;&lt;img src=&quot;XYZ.gif&quot; alt=&quot;The XYZ company&quot;&gt;&lt;/strong&gt;&lt;/h1&gt;&lt;/pre&gt;
+
+     &lt;p&gt;Next, we see a paragraph which uses a logo right next to the company
+      name, and so doesn't have any alternative text:
+
+     &lt;pre&gt;&lt;article&gt;
+ &lt;h2&gt;News&lt;/h2&gt;
+ &lt;p&gt;We have recently been looking at buying the &lt;strong&gt;&lt;img src=&quot;alpha.gif&quot;
+ alt=&quot;&quot;&gt; &Alpha;&Beta;&Gamma; company&lt;/strong&gt;, a small greek company
+ specialising in our type of product.&lt;/p&gt;&lt;/pre&gt;
+
+     &lt;p&gt;In this third snippet, we have a logo being used in an aside, as part
+      of the larger article discussing the aquisition:&lt;/p&gt;
+
+     &lt;pre&gt; &lt;strong&gt;&lt;aside&gt;&lt;p&gt;&lt;img src=&quot;alpha-large.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/aside&gt;&lt;/strong&gt;
+ &lt;p&gt;The &Alpha;&Beta;&Gamma; company has had a good quarter, and our
+ pie chart studies of their accounts suggest a much bigger blue slice
+ than its green and orange slices, which is always a good sign.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+     &lt;p&gt;Finally, we have an opinion piece talking about a logo, and the logo
+      is therefore described in detail in the alternative text.&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;Consider for a moment their logo:&lt;/p&gt;
+
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;/images/logo&quot; alt=&quot;It consists of a green circle with a
+green question mark centered inside it.&quot;&gt;&lt;/p&gt;&lt;/strong&gt;
+
+&lt;p&gt;How unoriginal can you get? I mean, oooooh, a question mark, how
+&lt;em&gt;revolutionary&lt;/em&gt;, how utterly &lt;em&gt;ground-breaking&lt;/em&gt;, I'm
+sure everyone will rush to adopt those specifications now! They could
+at least have tried for some sort of, I don't know, sequence of
+rounded squares with varying shades of green and bold white outlines,
+at least that would look good on the cover of a blue book.&lt;/p&gt;&lt;/pre&gt;
+
+     &lt;p&gt;This example shows how the alternative text should be written such
+      that if the image isn't available, and the text is used instead, the
+      text flows seamlessly into the surrounding text, as if the image had
+      never been there in the first place.&lt;/p&gt;
+    &lt;/div&gt;
+
+   &lt;dt&gt;A graphical representation of some of the surrounding text
+
+   &lt;dd&gt;
+    &lt;p&gt;In many cases, the image is actually just supplementary, and its
+     presence merely reinforces the surrounding text. In these cases, the
+     &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must be
+     present but its value must be the empty string.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;A flowchart that repeats the previous paragraph in graphical form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;The network passes data to the Tokeniser stage, which
+passes data to the Tree Construction stage. From there, data goes
+to both the DOM and to Script Execution. Script Execution is
+linked to the DOM, and, using document.write(), passes data to
+the Tokeniser.&lt;/p&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;A graph that repeats the previous paragraph in graphical form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;According to a study covering several billion pages,
+about 62% of documents on the Web in 2007 triggered the Quirks
+rendering mode of Web browsers, about 30% triggered the Almost
+Standards mode, and about 9% triggered the Standadrs mode.&lt;/p&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;rendering-mode-pie-chart.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;In general, an image falls into this category if removing the image
+     doesn't make the page any less useful, but if the image makes it a lot
+     easier for users of visual browsers to understand the concept.&lt;/p&gt;
+
+   &lt;dt&gt;A purely decorative image that doesn't add any information but is
+    still specific to the surrounding content
+
+   &lt;dd&gt;
+    &lt;p&gt;In some cases, the image isn't discussed by the surrounding text, but
+     it has some relevance. Such images are decorative, but still form part
+     of the content. In these cases, the &lt;code title=attr-img-alt&gt;&lt;a
+     href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must be present but its value must
+     be the empty string.
+
+    &lt;div class=example&gt;
+     &lt;p&gt;Examples where the image is purely decorative despite being relevant
+      would include things like a photo of the Black Rock City landscape in a
+      blog post about an event at Burning Man, or an image of a painting
+      inspired by a poem, on a page reciting that poem. The following snippet
+      shows an example of the latter case (only the first verse is included
+      in this snippet):&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;The Lady of Shalott&lt;/h1&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;shallot.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;
+&lt;p&gt;On either side the river lie&lt;br&gt;
+Long fields of barley and of rye,&lt;br&gt;
+That clothe the wold and meet the sky;&lt;br&gt;
+And through the field the road run by&lt;br&gt;
+To many-tower'd Camelot;&lt;br&gt;
+And up and down the people go,&lt;br&gt;
+Gazing where the lilies blow&lt;br&gt;
+Round an island there below,&lt;br&gt;
+The island of Shalott.&lt;/p&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;In general, if an image is decorative but isn't especially
+     page-specific, for example an image that forms part of a site-wide
+     design scheme, the image should be specified in the site's CSS, not in
+     the markup of the document.&lt;/p&gt;
+
+   &lt;dt&gt;A key part of the content that has no textual alternative
+
+   &lt;dd&gt;
+    &lt;p&gt;In certain rare cases, the image is simply a critical part of the
+     content, and there is no alternative text available. This could be the
+     case, for instance, in a photo gallery, where a user has uploaded 3000
+     photos from a vacation trip, without providing any descriptions of the
+     images. The images are the whole &lt;em&gt;point&lt;/em&gt; of the pages containing
+     them.&lt;/p&gt;
+
+    &lt;p&gt;In such cases, the &lt;code title=attr-img-alt&gt;&lt;a
+     href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute must be omitted.&lt;/p&gt;
+
+    &lt;div class=example&gt;
+     &lt;p&gt;A photo on a photo-sharing site:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;figure&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;
+ &lt;legend&gt;Bubbles traveled everywhere with us.&lt;/legend&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+     &lt;p&gt;A screenshot in a gallery of screenshots for a new OS:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;figure&gt;
+ &lt;strong&gt;&lt;img src=&quot;KDE%20Light%20desktop.png&quot;&gt;&lt;/strong&gt;
+ &lt;legend&gt;Screenshot of a KDE desktop.&lt;/legend&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+    &lt;/div&gt;
+
+    &lt;p&gt;Since some users cannot use images at all (e.g. because they have a
+     very slow connection, or because they are using a text-only browser, or
+     because they are listening to the page being read out by a hands-free
+     automobile voice Web browser, or simply because they are blind), this
+     technique should only be used when no alternative text is available and
+     none can be made available, e.g. on automated image gallery sites.&lt;/p&gt;
+  &lt;/dl&gt;
+  &lt;!-- XXX see also <A HREF="http://www.cs.tut.fi/~jkorpela/html/alt.html">http://www.cs.tut.fi/~jkorpela/html/alt.html</A> --&gt;
+
+  &lt;p&gt;&lt;strong&gt;User agent requirements&lt;/strong&gt;: When the &lt;code
+   title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is present and
+   its value is the empty string, the image supplements the surrounding
+   content. In such cases, the image may be omitted without affecting the
+   meaning of the document.
+
   &lt;p&gt;When the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
-   attribute's value is the empty string, the image supplements the
-   surrounding content. In such cases, the image could be omitted without
-   affecting the meaning of the document.
+   attribute is present and its value is not the empty string, the image is a
+   graphical equivalent of the string given in the &lt;code
+   title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute. In such cases,
+   the image may be replaced in the rendering by the string given in the
+   attribute without significantly affecting the meaning of the document.
 
-  &lt;p&gt;If the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute
-   is omitted, user agents must treat the element as if it had an &lt;code
-   title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute set to the
-   empty string.
+  &lt;p&gt;When the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
+   attribute is missing, the image represents a key part of the content.
+   Non-visual user agents should apply image analysis heuristics to help the
+   user make sense of the image.
 
   &lt;p&gt;The &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute
    does not represent advisory information. User agents must not present the
@@ -12021,14 +12299,11 @@
    attribute in the same way as content of the &lt;code title=attr-title&gt;&lt;a
    href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt; attribute.
 
-  &lt;p class=big-issue&gt;Guidelines on writing &quot;alt&quot; text here.&lt;/p&gt;
-  &lt;!-- <A HREF="http://www.cs.tut.fi/~jkorpela/html/alt.html">http://www.cs.tut.fi/~jkorpela/html/alt.html</A> --&gt;
+  &lt;p&gt;If the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute
+   is omitted, the image represents whatever string is given by the element's
+   &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute, if any,
+   or nothing, if that attribute is empty or absent.
 
-  &lt;p&gt;The &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute
-   must contain a URI (or IRI). If the &lt;code title=attr-img-src&gt;&lt;a
-   href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is omitted, there is no alternative
-   image representation.
-
   &lt;p&gt;When the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
    attribute is set, the user agent must immediately begin to download the
    specified
@@ -12040,6 +12315,12 @@
   &lt;p&gt;The download of the image must &lt;a href=&quot;#delays&quot;&gt;delay the &lt;code
    title=event-load&gt;load&lt;/code&gt; event&lt;/a&gt;.
 
+  &lt;p class=warning&gt;This, unfortunately, can be used to perform a rudimentary
+   port scan of the user's local network (especially in conjunction with
+   scripting, though scripting isn't actually necessary to carry out such an
+   attack). User agents may implement cross-origin access control policies
+   that mitigate this attack.
+
   &lt;p&gt;Once the download has completed, if the image is a valid image, the user
    agent must &lt;a href=&quot;#firing4&quot;&gt;fire a &lt;code title=event-load&gt;load&lt;/code&gt;
    event&lt;/a&gt; on the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element. If the
@@ -25655,8 +25936,11 @@
      the resource (in lowercase&lt;!-- XXX ASCII case folding --&gt;, ignoring any
      parameters). If there is no such type, jump to the &lt;em
      title=&quot;content-type sniffing: unknown type&quot;&gt;&lt;a
-     href=&quot;#content-type5&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.
+     href=&quot;#content-type5&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.&lt;/p&gt;
 
+    &lt;p class=big-issue&gt;...or if the type has no slash or is */*? Probably we
+     should also sniff in that case.
+
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; ends in &quot;+xml&quot;, or if it is
      either &quot;text/xml&quot; or &quot;application/xml&quot;, then the the sniffed type of the
@@ -26412,6 +26696,11 @@
    the script's domain in IDNA format cannot be obtained. (ToUnicode is
    defined to never fail.)
 
+  &lt;p class=big-issue&gt;It's been suggested that we should put IP addresses into
+   the origin tuple, to mitigate DNS rebinding attacks. However that would
+   kill multi-homed systems like GMail. Should we do something like have a
+   DNS record say whether or not to include the IP in the origin for a host?
+
   &lt;h4 id=security3&gt;&lt;span class=secno&gt;4.9.3. &lt;/span&gt;Security exceptions&lt;/h4&gt;
 
   &lt;p class=big-issue&gt;Define &lt;dfn id=security8&gt;security exception&lt;/dfn&gt;.
@@ -38773,6 +39062,10 @@
    title=&quot;fire a load event&quot;&gt;fire a &lt;code title=event-load&gt;load&lt;/code&gt;
    event&lt;/a&gt; at &lt;a href=&quot;#the-body0&quot;&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;.&lt;/p&gt;
   &lt;!-- XXX make sure things &quot;delay the load event&quot; --&gt;
+
+  &lt;p class=big-issue&gt;delaying the load event for things like image loads
+   allows for intranet port scans (even without javascript!). Should we
+   really encode that into the spec?&lt;/p&gt;
   &lt;!--XXX need to handle
 <A HREF="http://lxr.mozilla.org/mozilla/source/parser/htmlparser/src/CNavDTD.cpp#2354">http://lxr.mozilla.org/mozilla/source/parser/htmlparser/src/CNavDTD.cpp#2354</A>
 2354           // Don't open transient styles if it makes the stack deep, bug 58917.

Modified: source
===================================================================
--- source	2007-08-10 21:48:46 UTC (rev 999)
+++ source	2007-08-14 09:18:28 UTC (rev 1000)
@@ -6980,7 +6980,7 @@
   collection of all the information given by those elements.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Contact information for one sectioning element, e.g.
-  a &lt;code&gt;aside&lt;/code&gt; element, does not apply to its ancestor
+  an &lt;code&gt;aside&lt;/code&gt; element, does not apply to its ancestor
   elements, e.g. the page's &lt;code&gt;body&lt;/code&gt;.&lt;/p&gt;
 
 
@@ -9947,7 +9947,7 @@
    &lt;dt&gt;Content model:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
    &lt;dt&gt;Element-specific attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; (required)&lt;/dd&gt;
+   &lt;dd&gt;&lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; (required)&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-hyperlink-usemap&quot;&gt;usemap&lt;/code&gt;&lt;/dd&gt;
    &lt;dd&gt;&lt;code title=&quot;attr-img-ismap&quot;&gt;ismap&lt;/code&gt; (but only if one of the ancestor elements is an &lt;code&gt;a&lt;/code&gt; element)&lt;/dd&gt;
@@ -9970,42 +9970,365 @@
    &lt;/dd&gt;
   &lt;/dl&gt;
 
-  &lt;p&gt;The &lt;code&gt;img&lt;/code&gt; element represents a piece of text with an
-  alternate graphical representation. The text is given by the &lt;dfn
-  title=&quot;attr-img-alt&quot;&gt;&lt;code&gt;alt&lt;/code&gt;&lt;/dfn&gt; attribute, which must be
-  present, and the URI to the graphical representation of that text is
-  given in the &lt;dfn title=&quot;attr-img-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;
-  attribute, which must also be present.&lt;/p&gt;
+  &lt;p&gt;An &lt;code&gt;img&lt;/code&gt; element represents an image.&lt;/p&gt;
 
-  &lt;p&gt;The image given by the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
-  attribute is the embedded content, and the value of the &lt;code
-  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is the &lt;code&gt;img&lt;/code&gt;
-  element's &lt;span&gt;fallback content&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;The image given by the &lt;dfn
+  title=&quot;attr-img-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute is the
+  embedded content, and the value of the &lt;dfn
+  title=&quot;attr-img-alt&quot;&gt;&lt;code&gt;alt&lt;/code&gt;&lt;/dfn&gt; attribute is the
+  &lt;code&gt;img&lt;/code&gt; element's &lt;span&gt;fallback content&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute's value
+  &lt;p&gt;&lt;strong&gt;Authoring requirements&lt;/strong&gt;: The &lt;code
+  title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute must be present, and must
+  contain a URI (or IRI). The requirements for the &lt;code
+  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute depend on what the image
+  is intended to represent:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;A phrase or paragraph with an alternative graphical representation&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Sometimes something can be more clearly stated in graphical
+    form, for example as a flowchart, a diagram, a graph, or a simple
+    map showing directions. In such cases, an image can be given using
+    the &lt;code&gt;img&lt;/code&gt; element, but the lesser textual version must
+    still be given, so that users who are unable to view the image
+    (e.g. because they have a very slow connection, or because they
+    are using a text-only browser, or because they are listening to
+    the page being read out by a hands-free automobile voice Web
+    browser, or simply because they are blind) are still able to
+    understand the message being conveyed.&lt;/p&gt;
+
+    &lt;p&gt;The text must be given in the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute, and must convey the
+    same message as the the image specified in the &lt;code
+    title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;In the following example we have &lt;a
+     href=&quot;images/parsing-model-overview.png&quot;&gt;a flowchart&lt;/a&gt; in image
+     form, with text in the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+     attribute rephrasing the flowchart in prose form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;In the common case, the data handled by the tokenisation stage
+comes from the network, but it can also come from script.&lt;/p&gt;
+&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;The network
+passes data to the Tokeniser stage, which passes data to the Tree
+Construction stage. From there, data goes to both the DOM and to
+Script Execution. Script Execution is linked to the DOM, and, using
+document.write(), passes data to the Tokeniser.&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;It is important to realise that the alternative text is a
+    &lt;em&gt;replacement&lt;/em&gt; for the image, not a description of the
+    image.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;Icons: a short phrase or label with an alternative graphical representation&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;A document can contain information in iconic form. The icon is
+    intended to help users of visual browsers to recognise features at
+    a glance.&lt;/p&gt;
+
+    &lt;p&gt;In some cases, the icon is supplemental to a text label
+    conveying the same meaning. In those cases, the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must be present but must
+    be empty.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;Here the icons are next to text that conveys the same meaning,
+     so they have an empty &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+     attribute:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;nav&gt;
+ &lt;p&gt;&lt;a href=&quot;/help/&quot;&gt;&lt;strong&gt;&lt;img src=&quot;/icons/help.png&quot; alt=&quot;&quot;&gt;&lt;/strong&gt; Help&lt;/a&gt;&lt;/p&gt;
+ &lt;p&gt;&lt;a href=&quot;/configure/&quot;&gt;&lt;strong&gt;&lt;img src=&quot;/icons/configuration.png&quot; alt=&quot;&quot;&gt;&lt;/strong&gt;
+ Configuration Tools&lt;/a&gt;&lt;/p&gt;
+&lt;/nav&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;In other cases, the icon has no text next to it describing what
+    it means; the icon is supposed to be self-explanatory. In those
+    cases, an equivalent textual label must be given in the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;Here, posts on a news site are labelled with an icon
+     indicating their topic.&lt;/p&gt;
+
+     &lt;pre&gt;&lt;body&gt;
+ &lt;article&gt;
+  &lt;header&gt;
+   &lt;h1&gt;Ratatouille wins &lt;i&gt;Best Movie of the Year&lt;/i&gt; award&lt;/h1&gt;
+   &lt;p&gt;&lt;strong&gt;&lt;img src=&quot;movies.png&quot; alt=&quot;Movies&quot;&gt;&lt;/strong&gt;&lt;/p&gt;
+  &lt;/header&gt;
+  &lt;p&gt;Pixar has won yet another &lt;i&gt;Best Movie of the Year&lt;/i&gt; award,
+  making this its 8th win in the last 12 years.&lt;/p&gt;
+ &lt;/article&gt;
+ &lt;article&gt;
+  &lt;header&gt;
+   &lt;h1&gt;Latest TWiT episode is online&lt;/h1&gt;
+   &lt;p&gt;&lt;strong&gt;&lt;img src=&quot;podcasts.png&quot; alt=&quot;Podcasts&quot;&gt;&lt;/strong&gt;&lt;/p&gt;
+  &lt;/header&gt;
+  &lt;p&gt;The latest TWiT episode has been posted, in which we hear
+  several tech news stories as well as learning much more about the
+  iPhone. This week, the panelists compare how reflective their
+  iPhones' Apple logos are.&lt;/p&gt;
+ &lt;/article&gt;
+&lt;/body&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;Many pages include logos, insignia, flags, or emblems, which
+    stand for a particular entity such as a company, organisation,
+    project, band, software package, country, or some such.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is being used to represent the entity, the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must contain the name of
+    the entity being represented by the logo. The &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must &lt;em&gt;not&lt;/em&gt;
+    contain text like the word &quot;logo&quot;, as it is not the fact that it
+    is a logo that is being conveyed, it's the entity itself.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is being used next to the name of the entity that
+    it represents, then the logo is supplemental, and its &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must instead be
+    empty.&lt;/p&gt;
+
+    &lt;p&gt;If the logo is merely used as decorative material (as branding,
+    or, for example, as a side image in an article that mentions the
+    entity to which the logo belongs), then the entry below on purely
+    decorative images applies. If the logo is actually being
+    discussed, then it is being used as a phrase or paragraph (the
+    description of the logo) with an alternative graphical
+    representation (the logo itself), and the first entry above
+    applies.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;In the following snippets, all four of the above cases are
+     present. First, we see a logo used to represent a company:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;&lt;strong&gt;&lt;img src=&quot;XYZ.gif&quot; alt=&quot;The XYZ company&quot;&gt;&lt;/strong&gt;&lt;/h1&gt;&lt;/pre&gt;
+
+     &lt;p&gt;Next, we see a paragraph which uses a logo right next to the
+     company name, and so doesn't have any alternative text:
+
+     &lt;pre&gt;&lt;article&gt;
+ &lt;h2&gt;News&lt;/h2&gt;
+ &lt;p&gt;We have recently been looking at buying the &lt;strong&gt;&lt;img src=&quot;alpha.gif&quot;
+ alt=&quot;&quot;&gt; &Alpha;&Beta;&Gamma; company&lt;/strong&gt;, a small greek company
+ specialising in our type of product.&lt;/p&gt;&lt;/pre&gt;
+
+     &lt;p&gt;In this third snippet, we have a logo being used in an aside,
+     as part of the larger article discussing the aquisition:&lt;/p&gt;
+
+&lt;pre&gt; &lt;strong&gt;&lt;aside&gt;&lt;p&gt;&lt;img src=&quot;alpha-large.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/aside&gt;&lt;/strong&gt;
+ &lt;p&gt;The &Alpha;&Beta;&Gamma; company has had a good quarter, and our
+ pie chart studies of their accounts suggest a much bigger blue slice
+ than its green and orange slices, which is always a good sign.&lt;/p&gt;
+&lt;/article&gt;&lt;/pre&gt;
+
+     &lt;p&gt;Finally, we have an opinion piece talking about a logo, and
+     the logo is therefore described in detail in the alternative
+     text.&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;Consider for a moment their logo:&lt;/p&gt;
+
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;/images/logo&quot; alt=&quot;It consists of a green circle with a
+green question mark centered inside it.&quot;&gt;&lt;/p&gt;&lt;/strong&gt;
+
+&lt;p&gt;How unoriginal can you get? I mean, oooooh, a question mark, how
+&lt;em&gt;revolutionary&lt;/em&gt;, how utterly &lt;em&gt;ground-breaking&lt;/em&gt;, I'm
+sure everyone will rush to adopt those specifications now! They could
+at least have tried for some sort of, I don't know, sequence of
+rounded squares with varying shades of green and bold white outlines,
+at least that would look good on the cover of a blue book.&lt;/p&gt;&lt;/pre&gt;
+
+     &lt;p&gt;This example shows how the alternative text should be written
+     such that if the image isn't available, and the text is used
+     instead, the text flows seamlessly into the surrounding text, as
+     if the image had never been there in the first place.&lt;/p&gt;
+
+    &lt;/div&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;A graphical representation of some of the surrounding text&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;In many cases, the image is actually just supplementary, and
+    its presence merely reinforces the surrounding text. In these
+    cases, the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must be
+    present but its value must be the empty string.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;A flowchart that repeats the previous paragraph in graphical form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;The network passes data to the Tokeniser stage, which
+passes data to the Tree Construction stage. From there, data goes
+to both the DOM and to Script Execution. Script Execution is
+linked to the DOM, and, using document.write(), passes data to
+the Tokeniser.&lt;/p&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;A graph that repeats the previous paragraph in graphical form:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;p&gt;According to a study covering several billion pages,
+about 62% of documents on the Web in 2007 triggered the Quirks
+rendering mode of Web browsers, about 30% triggered the Almost
+Standards mode, and about 9% triggered the Standadrs mode.&lt;/p&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;rendering-mode-pie-chart.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;In general, an image falls into this category if removing the
+    image doesn't make the page any less useful, but if the image
+    makes it a lot easier for users of visual browsers to understand
+    the concept.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;A purely decorative image that doesn't add any information but is still specific to the surrounding content&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;In some cases, the image isn't discussed by the surrounding
+    text, but it has some relevance. Such images are decorative, but
+    still form part of the content. In these cases, the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute must be present but its
+    value must be the empty string.
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;Examples where the image is purely decorative despite being
+     relevant would include things like a photo of the Black Rock City
+     landscape in a blog post about an event at Burning Man, or an
+     image of a painting inspired by a poem, on a page reciting that
+     poem. The following snippet shows an example of the latter
+     case (only the first verse is included in this snippet):&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;The Lady of Shalott&lt;/h1&gt;
+&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;shallot.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;/strong&gt;
+&lt;p&gt;On either side the river lie&lt;br&gt;
+Long fields of barley and of rye,&lt;br&gt;
+That clothe the wold and meet the sky;&lt;br&gt;
+And through the field the road run by&lt;br&gt;
+To many-tower'd Camelot;&lt;br&gt;
+And up and down the people go,&lt;br&gt;
+Gazing where the lilies blow&lt;br&gt;
+Round an island there below,&lt;br&gt;
+The island of Shalott.&lt;/p&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;In general, if an image is decorative but isn't especially
+    page-specific, for example an image that forms part of a site-wide
+    design scheme, the image should be specified in the site's CSS,
+    not in the markup of the document.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+   &lt;dt&gt;A key part of the content that has no textual alternative&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;In certain rare cases, the image is simply a critical part of
+    the content, and there is no alternative text available. This
+    could be the case, for instance, in a photo gallery, where a user
+    has uploaded 3000 photos from a vacation trip, without providing
+    any descriptions of the images. The images are the whole
+    &lt;em&gt;point&lt;/em&gt; of the pages containing them.&lt;/p&gt;
+
+    &lt;p&gt;In such cases, the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+    attribute must be omitted.&lt;/p&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;A photo on a photo-sharing site:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;figure&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;
+ &lt;legend&gt;Bubbles traveled everywhere with us.&lt;/legend&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+     &lt;p&gt;A screenshot in a gallery of screenshots for a new OS:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;figure&gt;
+ &lt;strong&gt;&lt;img src=&quot;KDE%20Light%20desktop.png&quot;&gt;&lt;/strong&gt;
+ &lt;legend&gt;Screenshot of a KDE desktop.&lt;/legend&gt;
+&lt;/figure&gt;&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+    &lt;p&gt;Since some users cannot use images at all (e.g. because they
+    have a very slow connection, or because they are using a text-only
+    browser, or because they are listening to the page being read out
+    by a hands-free automobile voice Web browser, or simply because
+    they are blind), this technique should only be used when no
+    alternative text is available and none can be made available,
+    e.g. on automated image gallery sites.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
+  &lt;/dl&gt;
+
+  &lt;!-- XXX see also <A HREF="http://www.cs.tut.fi/~jkorpela/html/alt.html">http://www.cs.tut.fi/~jkorpela/html/alt.html</A> --&gt;
+
+
+  &lt;p&gt;&lt;strong&gt;User agent requirements&lt;/strong&gt;: When the &lt;code
+  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is present and its value
   is the empty string, the image supplements the surrounding
-  content. In such cases, the image could be omitted without affecting
+  content. In such cases, the image may be omitted without affecting
   the meaning of the document.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is
-  omitted, user agents must treat the element as if it had an &lt;code
-  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute set to the empty
-  string.&lt;/p&gt;
+  &lt;p&gt;When the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is
+  present and its value is not the empty string, the image is a
+  graphical equivalent of the string given in the &lt;code
+  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute. In such cases, the image
+  may be replaced in the rendering by the string given in the
+  attribute without significantly affecting the meaning of the
+  document.&lt;/p&gt;
 
+  &lt;p&gt;When the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is
+  missing, the image represents a key part of the content. Non-visual
+  user agents should apply image analysis heuristics to help the user
+  make sense of the image.&lt;/p&gt;
+
   &lt;p&gt;The &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute does not
   represent advisory information. User agents must not present the
   contents of the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute in
   the same way as content of the &lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt;
   attribute.&lt;/p&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;Guidelines on writing &quot;alt&quot; text here.&lt;/p&gt;
-  &lt;!-- <A HREF="http://www.cs.tut.fi/~jkorpela/html/alt.html">http://www.cs.tut.fi/~jkorpela/html/alt.html</A> --&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute must contain
-  a URI (or IRI). If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
-  attribute is omitted, there is no alternative image
-  representation.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is
+  omitted, the image represents whatever string is given by the
+  element's &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute, if any,
+  or nothing, if that attribute is empty or absent.&lt;/p&gt;
 
+
   &lt;p&gt;When the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is set,
   the user agent must immediately begin to download the specified
   resource&lt;!-- XXX xref what fetching means, how to resolve URIs in
@@ -10016,6 +10339,12 @@
   &lt;p&gt;The download of the image must &lt;span&gt;delay the &lt;code
   title=&quot;event-load&quot;&gt;load&lt;/code&gt; event&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p class=&quot;warning&quot;&gt;This, unfortunately, can be used to perform a
+  rudimentary port scan of the user's local network (especially in
+  conjunction with scripting, though scripting isn't actually
+  necessary to carry out such an attack). User agents may implement
+  cross-origin access control policies that mitigate this attack.&lt;/p&gt;
+
   &lt;p&gt;Once the download has completed, if the image is a valid image,
   the user agent must &lt;span&gt;fire a &lt;code
   title=&quot;event-load&quot;&gt;load&lt;/code&gt; event&lt;/span&gt; on the &lt;code&gt;img&lt;/code&gt;
@@ -10035,6 +10364,7 @@
   &lt;p&gt;User agents must not support non-image resources with the
   &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
 
+
   &lt;p&gt;The &lt;code title=&quot;attr-hyperlink-usemap&quot;&gt;usemap&lt;/code&gt; attribute,
   if present, can indicate that the image has an associated
   &lt;span&gt;image map&lt;/span&gt;.&lt;/p&gt;
@@ -23126,7 +23456,8 @@
    resource (in lowercase&lt;!-- XXX ASCII case folding --&gt;, ignoring any
    parameters). If there is no such type, jump to the &lt;em
    title=&quot;content-type sniffing: unknown type&quot;&gt;unknown type&lt;/em&gt; step
-   below.&lt;/p&gt;&lt;/li&gt;
+   below.&lt;/p&gt; &lt;p class=&quot;big-issue&quot;&gt;...or if the type has no slash or
+   is */*? Probably we should also sniff in that case.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; ends in &quot;+xml&quot;, or if
    it is either &quot;text/xml&quot; or &quot;application/xml&quot;, then the the sniffed
@@ -23832,7 +24163,13 @@
   the string representing the script's domain in IDNA format cannot be
   obtained. (ToUnicode is defined to never fail.)&lt;/p&gt;
 
+  &lt;p class=&quot;big-issue&quot;&gt;It's been suggested that we should put IP
+  addresses into the origin tuple, to mitigate DNS rebinding
+  attacks. However that would kill multi-homed systems like
+  GMail. Should we do something like have a DNS record say whether or
+  not to include the IP in the origin for a host?&lt;/p&gt;
 
+
   &lt;h4&gt;Security exceptions&lt;/h4&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;Define &lt;dfn&gt;security exception&lt;/dfn&gt;.&lt;/p&gt;
@@ -36034,7 +36371,11 @@
 
   &lt;!-- XXX make sure things &quot;delay the load event&quot; --&gt;
 
+  &lt;p class=&quot;big-issue&quot;&gt;delaying the load event for things like image
+  loads allows for intranet port scans (even without
+  javascript!). Should we really encode that into the spec?&lt;/p&gt;
 
+
 &lt;!--XXX need to handle
 <A HREF="http://lxr.mozilla.org/mozilla/source/parser/htmlparser/src/CNavDTD.cpp#2354">http://lxr.mozilla.org/mozilla/source/parser/htmlparser/src/CNavDTD.cpp#2354</A>
 2354           // Don't open transient styles if it makes the stack deep, bug 58917.


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007907.html">[html5] r999 - /
</A></li>
	<LI>Next message: <A HREF="007909.html">[html5] r1001 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7908">[ date ]</a>
              <a href="thread.html#7908">[ thread ]</a>
              <a href="subject.html#7908">[ subject ]</a>
              <a href="author.html#7908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
