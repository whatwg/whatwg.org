<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r952 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r952%20-%20/&In-Reply-To=%3C20070622055352.ECAA4121F10%40looneymail-a5.g.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007865.html">
   <LINK REL="Next"  HREF="007867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r952 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r952%20-%20/&In-Reply-To=%3C20070622055352.ECAA4121F10%40looneymail-a5.g.dreamhost.com%3E"
       TITLE="[html5] r952 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jun 21 22:53:52 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="007865.html">[html5] r951 - /
</A></li>
        <LI>Next message: <A HREF="007867.html">[html5] r953 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7866">[ date ]</a>
              <a href="thread.html#7866">[ thread ]</a>
              <a href="subject.html#7866">[ subject ]</a>
              <a href="author.html#7866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2007-06-21 22:51:14 -0700 (Thu, 21 Jun 2007)
New Revision: 952

Modified:
   index
   source
Log:
[eacgiwt] (2) Allow &lt;meta http-equiv&gt; in &lt;noscript&gt;; fix the infinite loop with &lt;noscript&gt;&lt;/body&gt;.

Modified: index
===================================================================
--- index	2007-06-22 05:19:01 UTC (rev 951)
+++ index	2007-06-22 05:51:14 UTC (rev 952)
@@ -7215,6 +7215,11 @@
 
    &lt;dd&gt;In a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
+   &lt;dd&gt;If the &lt;code title=attr-meta-http-equiv&gt;&lt;a
+    href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present: in a
+    &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element that is a child of
+    a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+
    &lt;dt&gt;Content model:
 
    &lt;dd&gt;Empty.
@@ -7297,6 +7302,14 @@
    title=attr-meta-content&gt;&lt;a href=&quot;#content0&quot;&gt;content&lt;/a&gt;&lt;/code&gt; attribute,
    then the value part of the metadata name/value pair is the empty string.
 
+  &lt;p&gt;If a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element has the &lt;code
+   title=attr-meta-http-equiv&gt;&lt;a href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt;
+   attribute specified, it must be either in a &lt;code&gt;&lt;a
+   href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element or in a &lt;code&gt;&lt;a
+   href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element that itself is in a &lt;code&gt;&lt;a
+   href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element. Otherwise, it must be in a &lt;code&gt;&lt;a
+   href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+
   &lt;p&gt;The DOM attributes &lt;dfn id=name0
    title=dom-meta-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=content1
    title=dom-meta-content&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; must &lt;a
@@ -19147,8 +19160,9 @@
 
    &lt;dd&gt;When &lt;a href=&quot;#scripting1&quot;&gt;scripting is disabled&lt;/a&gt;, in a &lt;code&gt;&lt;a
     href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element: in any order, zero or more &lt;code&gt;&lt;a
-    href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; elements and zero or more &lt;code&gt;&lt;a
-    href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt; elements.
+    href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; elements, zero or more &lt;code&gt;&lt;a
+    href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt; elements, and zero or more &lt;code&gt;&lt;a
+    href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; elements.
 
    &lt;dd&gt;When &lt;a href=&quot;#scripting1&quot;&gt;scripting is disabled&lt;/a&gt;, not in a
     &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element: &lt;a
@@ -19183,16 +19197,17 @@
   &lt;p&gt;In a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element, if &lt;a
    href=&quot;#scripting1&quot;&gt;scripting is disabled&lt;/a&gt;, then the content model of a
    &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element must contain only
-   &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
-   href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt; elements. If &lt;a
-   href=&quot;#scripting2&quot;&gt;scripting is enabled&lt;/a&gt;, then the content model of a
-   &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element is text, except that
-   invoking the &lt;span&gt;HTML fragment parsing algorithm with the &lt;code&gt;&lt;a
-   href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var
+   &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
+   href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
+   elements. If &lt;a href=&quot;#scripting2&quot;&gt;scripting is enabled&lt;/a&gt;, then the
+   content model of a &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element
+   is text, except that invoking the &lt;span&gt;HTML fragment parsing algorithm
+   with the &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element as the &lt;var
    title=&quot;&quot;&gt;context&lt;/var&gt; and the text contents as the &lt;var
    title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that consists only of
-   &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
-   href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt; elements.&lt;/span&gt;
+   &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
+   href=&quot;#style&quot;&gt;style&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
+   elements.&lt;/span&gt;
 
   &lt;p&gt;Outside of &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; elements, if &lt;a
    href=&quot;#scripting1&quot;&gt;scripting is disabled&lt;/a&gt;, then the content model of a
@@ -36427,15 +36442,20 @@
 
        &lt;dt&gt;A comment token
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;link&quot;, &quot;style&quot;
+       &lt;dt&gt;A start tag whose tag name is one of: &quot;link&quot;, &quot;meta&quot;, &quot;style&quot;
 
-       &lt;dt&gt;Any other end tag
-
        &lt;dd&gt;
         &lt;p&gt;Process the token as if the &lt;a href=&quot;#insertion0&quot;&gt;insertion
          mode&lt;/a&gt; had been &quot;&lt;a href=&quot;#in-head&quot; title=&quot;insertion mode: in
          head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
 
+       &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;noscript&quot;
+
+       &lt;dt&gt;Any other end tag
+
+       &lt;dd&gt;
+        &lt;p&gt;&lt;a href=&quot;#parse&quot;&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
+
        &lt;dt&gt;Anything else
 
        &lt;dd&gt;

Modified: source
===================================================================
--- source	2007-06-22 05:19:01 UTC (rev 951)
+++ source	2007-06-22 05:51:14 UTC (rev 952)
@@ -5832,6 +5832,7 @@
   &lt;dl class=&quot;element&quot;&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
    &lt;dd&gt;In a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present: in a &lt;code&gt;noscript&lt;/code&gt; element that is a child of a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
    &lt;dt&gt;Element-specific attributes:&lt;/dt&gt;
@@ -5899,6 +5900,12 @@
   then the value part of the metadata name/value pair is the empty
   string.&lt;/p&gt;
 
+  &lt;p&gt;If a &lt;code&gt;meta&lt;/code&gt; element has the &lt;code
+  title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute specified,
+  it must be either in a &lt;code&gt;head&lt;/code&gt; element or in a
+  &lt;code&gt;noscript&lt;/code&gt; element that itself is in a &lt;code&gt;head&lt;/code&gt;
+  element. Otherwise, it must be in a &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;The DOM attributes &lt;dfn
   title=&quot;dom-meta-name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
   title=&quot;dom-meta-content&quot;&gt;&lt;code&gt;content&lt;/code&gt;&lt;/dfn&gt; must
@@ -16958,7 +16965,7 @@
    &lt;dd&gt;Where &lt;span&gt;block-level elements&lt;/span&gt; are expected in &lt;span&gt;HTML documents&lt;/span&gt;, if there are no ancestor &lt;code&gt;noscript&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dd&gt;Where &lt;span&gt;inline-level content&lt;/span&gt; is expected in &lt;span&gt;HTML documents&lt;/span&gt;, if there are no ancestor &lt;code&gt;noscript&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;When &lt;span&gt;scripting is disabled&lt;/span&gt;, in a &lt;code&gt;head&lt;/code&gt; element: in any order, zero or more &lt;code&gt;link&lt;/code&gt; elements and zero or more &lt;code&gt;style&lt;/code&gt; elements.&lt;/dd&gt;
+   &lt;dd&gt;When &lt;span&gt;scripting is disabled&lt;/span&gt;, in a &lt;code&gt;head&lt;/code&gt; element: in any order, zero or more &lt;code&gt;link&lt;/code&gt; elements, zero or more &lt;code&gt;style&lt;/code&gt; elements, and zero or more &lt;code&gt;meta&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dd&gt;When &lt;span&gt;scripting is disabled&lt;/span&gt;, not in a &lt;code&gt;head&lt;/code&gt; element: &lt;span&gt;transparent&lt;/span&gt;, but there must be no &lt;code&gt;noscript&lt;/code&gt; element descendants.&lt;/dd&gt;
    &lt;dd&gt;When &lt;span&gt;scripting is enabled&lt;/span&gt;: text that conforms to the requirements given in the prose.&lt;/dd&gt;
    &lt;dt&gt;Element-specific attributes:&lt;/dt&gt;
@@ -16981,14 +16988,15 @@
 
   &lt;p&gt;In a &lt;code&gt;head&lt;/code&gt; element, if &lt;span&gt;scripting is
   disabled&lt;/span&gt;, then the content model of a &lt;code&gt;noscript&lt;/code&gt;
-  element must contain only &lt;code&gt;link&lt;/code&gt; and &lt;code&gt;style&lt;/code&gt;
-  elements. If &lt;span&gt;scripting is enabled&lt;/span&gt;, then the content
-  model of a &lt;code&gt;noscript&lt;/code&gt; element is text, except that
-  invoking the &lt;span&gt;HTML fragment parsing algorithm&lt;/code&gt; with the
-  &lt;code&gt;noscript&lt;/code&gt; element as the &lt;var title=&quot;&quot;&gt;context&lt;/var&gt; and
-  the text contents as the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; must result in a
-  list of nodes that consists only of &lt;code&gt;link&lt;/code&gt; and
-  &lt;code&gt;style&lt;/code&gt; elements.&lt;/p&gt;
+  element must contain only &lt;code&gt;link&lt;/code&gt;, &lt;code&gt;style&lt;/code&gt;, and
+  &lt;code&gt;meta&lt;/code&gt; elements. If &lt;span&gt;scripting is enabled&lt;/span&gt;,
+  then the content model of a &lt;code&gt;noscript&lt;/code&gt; element is text,
+  except that invoking the &lt;span&gt;HTML fragment parsing
+  algorithm&lt;/code&gt; with the &lt;code&gt;noscript&lt;/code&gt; element as the &lt;var
+  title=&quot;&quot;&gt;context&lt;/var&gt; and the text contents as the &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt; must result in a list of nodes that consists
+  only of &lt;code&gt;link&lt;/code&gt;, &lt;code&gt;style&lt;/code&gt;, and &lt;code&gt;meta&lt;/code&gt;
+  elements.&lt;/p&gt;
 
   &lt;p&gt;Outside of &lt;code&gt;head&lt;/code&gt; elements, if &lt;span&gt;scripting is
   disabled&lt;/span&gt;, then the content model of a &lt;code&gt;noscript&lt;/code&gt;
@@ -33596,14 +33604,19 @@
        TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
        or U+0020 SPACE&lt;/dt&gt;
        &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;link&quot;, &quot;style&quot;&lt;/dt&gt;
-       &lt;dt&gt;Any other end tag&lt;/dt&gt;
+       &lt;dt&gt;A start tag whose tag name is one of: &quot;link&quot;, &quot;meta&quot;, &quot;style&quot;&lt;/dt&gt;
        &lt;dd&gt;
         &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
         been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
         head&lt;/span&gt;&quot;.&lt;/p&gt;
        &lt;/dd&gt;
 
+       &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;noscript&quot;&lt;/dt&gt;
+       &lt;dt&gt;Any other end tag&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+       &lt;/dd&gt;
+
        &lt;dt&gt;Anything else&lt;/dt&gt;
        &lt;dd&gt;
         &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag with the tag


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007865.html">[html5] r951 - /
</A></li>
	<LI>Next message: <A HREF="007867.html">[html5] r953 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7866">[ date ]</a>
              <a href="thread.html#7866">[ thread ]</a>
              <a href="subject.html#7866">[ subject ]</a>
              <a href="author.html#7866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
