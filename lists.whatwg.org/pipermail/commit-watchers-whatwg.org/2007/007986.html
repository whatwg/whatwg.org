<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1078 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1078%20-%20/&In-Reply-To=%3C20071019044807.3BC0E38E9F9%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007985.html">
   <LINK REL="Next"  HREF="007987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1078 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1078%20-%20/&In-Reply-To=%3C20071019044807.3BC0E38E9F9%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1078 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Oct 18 21:48:07 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="007985.html">[html5] r1077 - /
</A></li>
        <LI>Next message: <A HREF="007987.html">[html5] r1079 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7986">[ date ]</a>
              <a href="thread.html#7986">[ thread ]</a>
              <a href="subject.html#7986">[ subject ]</a>
              <a href="author.html#7986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2007-10-18 21:48:05 -0700 (Thu, 18 Oct 2007)
New Revision: 1078

Modified:
   index
   source
Log:
[gw] (2) A number of changes based on Apple feedback. Typos; clarifications; corrections to contradictions; allow effective start to be based on media data.

Modified: index
===================================================================
--- index	2007-10-19 02:01:53 UTC (rev 1077)
+++ index	2007-10-19 04:48:05 UTC (rev 1078)
@@ -2533,7 +2533,7 @@
   &lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString type);
   &lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString type, in DOMString replace);
   &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString url, in DOMString name, in DOMString features);
-  &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString url, in DOMString name, in DOMString features, in bool replace);
+  &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString url, in DOMString name, in DOMString features, in boolean replace);
   void &lt;a href=&quot;#close&quot; title=dom-document-close&gt;close&lt;/a&gt;();
   void &lt;a href=&quot;#document.write&quot; title=dom-document-write&gt;write&lt;/a&gt;(in DOMString text);
   void &lt;a href=&quot;#document.writeln&quot; title=dom-document-writeln&gt;writeln&lt;/a&gt;(in DOMString text);
@@ -13347,9 +13347,10 @@
    must return the native width of the video in CSS pixels. The &lt;dfn
    id=videoheight title=dom-video-videoHeight&gt;&lt;code&gt;videoHeight&lt;/code&gt;&lt;/dfn&gt;
    DOM attribute must return the native height of the video in CSS pixels. In
-   the absence of resolution information, user agents may assume that one
-   pixel in the video corresponds to one CSS pixel. If no video data is
-   available, then the attributes must return 0.
+   the absence of resolution information defining the mapping of pixels in
+   the video to physical dimensions, user agents may assume that one pixel in
+   the video corresponds to one CSS pixel. If no video data is available,
+   then the attributes must return 0.
 
   &lt;p&gt;When no video data is available (the element's &lt;code
    title=dom-media-networkState&gt;&lt;a
@@ -13381,8 +13382,8 @@
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=&quot;#video1&quot;&gt;video&lt;/a&gt;&lt;/code&gt; element is neither &lt;a
    href=&quot;#actively&quot;&gt;actively playing&lt;/a&gt; nor &lt;a href=&quot;#paused&quot;
-   title=dom-media-paused&gt;paused&lt;/a&gt;, the element represents the last frame
-   of the video to have been rendered.
+   title=dom-media-paused&gt;paused&lt;/a&gt; (e.g. when seeking or stalled), the
+   element represents the last frame of the video to have been rendered.
 
   &lt;p class=note&gt;Which frame in a video stream corresponds to a particular
    playback position is defined by the video stream's format.
@@ -13592,7 +13593,7 @@
   // playback state
            attribute float &lt;a href=&quot;#currenttime&quot; title=dom-media-currentTime&gt;currentTime&lt;/a&gt;;
   readonly attribute float &lt;a href=&quot;#duration&quot; title=dom-media-duration&gt;duration&lt;/a&gt;;
-  readonly attribute unsigned short &lt;a href=&quot;#paused&quot; title=dom-media-paused&gt;paused&lt;/a&gt;;
+  readonly attribute boolean &lt;a href=&quot;#paused&quot; title=dom-media-paused&gt;paused&lt;/a&gt;;
            attribute float &lt;a href=&quot;#defaultplaybackrate&quot; title=dom-media-defaultPlaybackRate&gt;defaultPlaybackRate&lt;/a&gt;;
            attribute float &lt;a href=&quot;#playbackrate&quot; title=dom-media-playbackRate&gt;playbackRate&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#timeranges&quot;&gt;TimeRanges&lt;/a&gt; &lt;a href=&quot;#played&quot; title=dom-media-played&gt;played&lt;/a&gt;;
@@ -13611,7 +13612,7 @@
            attribute unsigned long &lt;a href=&quot;#currentloop&quot; title=dom-media-currentLoop&gt;currentLoop&lt;/a&gt;;
 
   // cue points
-  void &lt;a href=&quot;#addcuepoint&quot; title=dom-media-addCuePoint&gt;addCuePoint&lt;/a&gt;(in float time, in &lt;a href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt; callback, in bool pause);
+  void &lt;a href=&quot;#addcuepoint&quot; title=dom-media-addCuePoint&gt;addCuePoint&lt;/a&gt;(in float time, in &lt;a href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt; callback, in boolean pause);
   void &lt;a href=&quot;#removecuepoint&quot; title=dom-media-removeCuePoint&gt;removeCuePoint&lt;/a&gt;(in float time, in &lt;a href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt; callback);
 
   // controls
@@ -13811,6 +13812,12 @@
      the one that was found before jumping to this step.
   &lt;/ol&gt;
 
+  &lt;p class=note&gt;A &lt;code&gt;&lt;a href=&quot;#source&quot;&gt;source&lt;/a&gt;&lt;/code&gt; element with no
+   &lt;code title=attr-source-src&gt;&lt;a href=&quot;#src7&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is
+   assumed to be the last &lt;code&gt;&lt;a href=&quot;#source&quot;&gt;source&lt;/a&gt;&lt;/code&gt; element
+   &mdash; any &lt;code&gt;&lt;a href=&quot;#source&quot;&gt;source&lt;/a&gt;&lt;/code&gt; elements after it
+   are ignored (and are invalid).
+
   &lt;p&gt;The &lt;dfn id=currentsrc
    title=dom-media-currentSrc&gt;&lt;code&gt;currentSrc&lt;/code&gt;&lt;/dfn&gt; DOM attribute
    must return the empty string if the &lt;a href=&quot;#media5&quot;&gt;media element&lt;/a&gt;'s
@@ -13908,10 +13915,10 @@
 
    &lt;li&gt;
     &lt;p&gt;The &lt;code title=dom-media-error&gt;&lt;a href=&quot;#error0&quot;&gt;error&lt;/a&gt;&lt;/code&gt;
-     attribute must be set to null, and the &lt;a
-     href=&quot;#loaded-first-frame&quot;&gt;loaded-first-frame flag&lt;/a&gt; and
-     &lt;span&gt;loaded-enough-to-play-through flag&lt;/span&gt; must be both set to
-     false.
+     attribute must be set to null, the &lt;a
+     href=&quot;#loaded-first-frame&quot;&gt;loaded-first-frame flag&lt;/a&gt; must be set to
+     false, and the &lt;a href=&quot;#autoplaying&quot;&gt;autoplaying flag&lt;/a&gt; must be set
+     to true.
 
    &lt;li&gt;
     &lt;p&gt;The &lt;code title=dom-media-playbackRate&gt;&lt;a
@@ -14143,7 +14150,12 @@
         switched to the &lt;a href=&quot;#empty&quot; title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;
         value and the user agent must &lt;a href=&quot;#firing2&quot;&gt;fire a simple
         event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a
-        href=&quot;#emptied&quot;&gt;emptied&lt;/a&gt;&lt;/code&gt; at the element.
+        href=&quot;#emptied&quot;&gt;emptied&lt;/a&gt;&lt;/code&gt; at the element. (If the &lt;code
+        title=dom-media-networkState&gt;&lt;a
+        href=&quot;#networkstate&quot;&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has a value
+        greater than &lt;code title=dom-media-LOADING&gt;&lt;a
+        href=&quot;#loading0&quot;&gt;LOADING&lt;/a&gt;&lt;/code&gt;, then this doesn't happen; the
+        available data, if any, will be playable.)
 
        &lt;li&gt;These steps must be aborted.
       &lt;/ol&gt;
@@ -14203,8 +14215,8 @@
 
      &lt;dt id=handling-first-frame-available&gt;Once enough of the &lt;a
       href=&quot;#media7&quot;&gt;media data&lt;/a&gt; has been downloaded to enable the user
-      agent to display the first frame of the &lt;a href=&quot;#media8&quot;&gt;media
-      resource&lt;/a&gt;
+      agent to display the frame at the &lt;a href=&quot;#effective&quot;&gt;effective
+      start&lt;/a&gt; of the &lt;a href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;
 
      &lt;dd&gt;
       &lt;p&gt;The user agent must follow these substeps:&lt;/p&gt;
@@ -14245,9 +14257,11 @@
 
    &lt;li&gt;
     &lt;p&gt;If the download completes without errors, the &lt;a href=&quot;#begun&quot;&gt;begun
-     flag&lt;/a&gt; must be set to false and the user agent must &lt;a
-     href=&quot;#firing6&quot;&gt;fire a progress event&lt;/a&gt; called &lt;code
-     title=event-load&gt;&lt;a href=&quot;#load0&quot;&gt;load&lt;/a&gt;&lt;/code&gt; at the element.
+     flag&lt;/a&gt; must be set to false, the &lt;code title=dom-media-networkState&gt;&lt;a
+     href=&quot;#networkstate&quot;&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute must be set to
+     &lt;code title=dom-media-LOADED&gt;&lt;a href=&quot;#loaded&quot;&gt;LOADED&lt;/a&gt;&lt;/code&gt;, and
+     the user agent must &lt;a href=&quot;#firing6&quot;&gt;fire a progress event&lt;/a&gt; called
+     &lt;code title=event-load&gt;&lt;a href=&quot;#load0&quot;&gt;load&lt;/a&gt;&lt;/code&gt; at the element.
   &lt;/ol&gt;
 
   &lt;p&gt;If a &lt;a href=&quot;#media5&quot;&gt;media element&lt;/a&gt; whose &lt;code
@@ -14316,11 +14330,16 @@
    title=dom-media-currentTime&gt;&lt;code&gt;currentTime&lt;/code&gt;&lt;/dfn&gt; attribute must,
    on getting, return the &lt;a href=&quot;#current&quot;&gt;current playback position&lt;/a&gt;,
    expressed in seconds. On setting, the user agent must &lt;a href=&quot;#seek&quot;
-   title=dom-media-seek&gt;seek&lt;/a&gt; to the new value.
+   title=dom-media-seek&gt;seek&lt;/a&gt; to the new value (which might raise an
+   exception).
 
   &lt;p&gt;The &lt;dfn id=start2 title=attr-media-start&gt;&lt;code&gt;start&lt;/code&gt;&lt;/dfn&gt;
    content attribute gives the offset into the &lt;a href=&quot;#media8&quot;&gt;media
-   resource&lt;/a&gt; at which playback is to begin. The default value is 0.
+   resource&lt;/a&gt; at which playback is to begin. The default value is the
+   default start position of the &lt;a href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;, or 0
+   if not enough &lt;a href=&quot;#media7&quot;&gt;media data&lt;/a&gt; has been obtained yet to
+   determine the default start position or if the resource doesn't specify a
+   default start position.
 
   &lt;p&gt;The &lt;dfn id=effective&gt;&lt;var&gt;effective start&lt;/var&gt;&lt;/dfn&gt; is the smaller of
    the &lt;code title=dom-media-start&gt;&lt;a href=&quot;#start3&quot;&gt;start&lt;/a&gt;&lt;/code&gt; DOM
@@ -14357,7 +14376,8 @@
    href=&quot;#start3&quot;&gt;start&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-media-loopStart&gt;&lt;a
    href=&quot;#loopstart0&quot;&gt;loopStart&lt;/a&gt;&lt;/code&gt;, and &lt;code
    title=dom-media-loopEnd&gt;&lt;a href=&quot;#loopend0&quot;&gt;loopEnd&lt;/a&gt;&lt;/code&gt; DOM
-   attributes, and the end of the &lt;a href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;.
+   attributes, except if that is greater than the end of the &lt;a
+   href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;, in which case that's its value.
 
   &lt;p&gt;
 
@@ -14369,7 +14389,8 @@
    the &lt;code title=dom-media-start&gt;&lt;a href=&quot;#start3&quot;&gt;start&lt;/a&gt;&lt;/code&gt;, &lt;code
    title=dom-media-loopStart&gt;&lt;a href=&quot;#loopstart0&quot;&gt;loopStart&lt;/a&gt;&lt;/code&gt;, and
    &lt;code title=dom-media-loopEnd&gt;&lt;a href=&quot;#loopend0&quot;&gt;end&lt;/a&gt;&lt;/code&gt; DOM
-   attributes, and the end of the &lt;a href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;.
+   attributes, except if that is greater than the end of the &lt;a
+   href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;, in which case that's its value.
 
   &lt;p&gt;
 
@@ -14464,8 +14485,8 @@
      href=&quot;#effective1&quot;&gt;effective loop end&lt;/a&gt;&lt;/var&gt;, the user agent must &lt;a
      href=&quot;#seek&quot; title=dom-media-seek&gt;seek&lt;/a&gt; to the &lt;var&gt;&lt;a
      href=&quot;#effective0&quot;&gt;effective loop start&lt;/a&gt;&lt;/var&gt;, and increase &lt;code
-     title=dom-media-loopCount&gt;&lt;a href=&quot;#loopcount0&quot;&gt;loopCount&lt;/a&gt;&lt;/code&gt; by
-     1.
+     title=dom-media-currentLoop&gt;&lt;a
+     href=&quot;#currentloop&quot;&gt;currentLoop&lt;/a&gt;&lt;/code&gt; by 1.
 
    &lt;li&gt;
     &lt;p&gt;If the &lt;code title=dom-media-currentLoop&gt;&lt;a
@@ -14607,6 +14628,25 @@
      title=event-play&gt;&lt;a href=&quot;#play0&quot;&gt;play&lt;/a&gt;&lt;/code&gt;.
   &lt;/dl&gt;
 
+  &lt;p class=note&gt;It is possible for the ready state of a media element to jump
+   between these states discontinuously. For example, the state of a media
+   element whose &lt;span&gt;leaded-first-frame flag&lt;/span&gt; is false can jump
+   straight from &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a
+   href=&quot;#dataunavailable&quot;&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; to &lt;code
+   title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a
+   href=&quot;#canplaythrough&quot;&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt; without passing through
+   the &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a
+   href=&quot;#canshowcurrentframe&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt; and &lt;code
+   title=dom-media-CAN_PLAY&gt;&lt;a href=&quot;#canplay&quot;&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt; states,
+   and thus without firing the &lt;code title=event-canshowcurrentframe&gt;&lt;a
+   href=&quot;#canshowcurrentframe0&quot;&gt;canshowcurrentframe&lt;/a&gt;&lt;/code&gt; and &lt;code
+   title=event-canplay&gt;&lt;a href=&quot;#canplay0&quot;&gt;canplay&lt;/a&gt;&lt;/code&gt; events. The
+   only state that is guarenteed to be reached is the &lt;code
+   title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a
+   href=&quot;#canshowcurrentframe&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt; state, which
+   is reached as part of the &lt;code title=dom-media-load&gt;&lt;a
+   href=&quot;#load&quot;&gt;load()&lt;/a&gt;&lt;/code&gt; method's processing.
+
   &lt;p&gt;The &lt;dfn id=readystate
    title=dom-media-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt; DOM attribute
    must, on getting, return the value described above that describes the
@@ -14736,8 +14776,8 @@
    href=&quot;#effective1&quot;&gt;effective loop end&lt;/a&gt;&lt;/var&gt;, then the user agent must
    &lt;a href=&quot;#seek&quot; title=dom-media-seek&gt;seek&lt;/a&gt; to the &lt;var&gt;&lt;a
    href=&quot;#effective0&quot;&gt;effective loop start&lt;/a&gt;&lt;/var&gt;, increase &lt;code
-   title=dom-media-loopCount&gt;&lt;a href=&quot;#loopcount0&quot;&gt;loopCount&lt;/a&gt;&lt;/code&gt; by 1,
-   and &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
+   title=dom-media-currentLoop&gt;&lt;a href=&quot;#currentloop&quot;&gt;currentLoop&lt;/a&gt;&lt;/code&gt;
+   by 1, and &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
    title=event-timeupdate&gt;&lt;a href=&quot;#timeupdate&quot;&gt;timeupdate&lt;/a&gt;&lt;/code&gt;.
 
   &lt;p&gt;When &lt;code title=dom-media-currentLoop&gt;&lt;a
@@ -14753,8 +14793,8 @@
     &lt;p&gt;The user agent must stop playback.
 
    &lt;li&gt;
-    &lt;p&gt;The &lt;code title=dom-media-ended&gt;&lt;a href=&quot;#ended0&quot;&gt;ended&lt;/a&gt;&lt;/code&gt;
-     attribute becomes true, as described below.
+    &lt;p class=note&gt;The &lt;code title=dom-media-ended&gt;&lt;a
+     href=&quot;#ended0&quot;&gt;ended&lt;/a&gt;&lt;/code&gt; attribute becomes true.
 
    &lt;li&gt;
     &lt;p&gt;The user agent must &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called
@@ -14808,8 +14848,8 @@
      title=dom-media-networkState&gt;&lt;a
      href=&quot;#networkstate&quot;&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has the value &lt;a
      href=&quot;#empty&quot; title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, then the user agent must
-     synchronously invoke the &lt;code title=dom-media-load&gt;&lt;a
-     href=&quot;#load&quot;&gt;load()&lt;/a&gt;&lt;/code&gt; method. If that raises an exception, that
+     invoke the &lt;code title=dom-media-load&gt;&lt;a href=&quot;#load&quot;&gt;load()&lt;/a&gt;&lt;/code&gt;
+     method and wait for it to return. If that raises an exception, that
      exception must be reraised by the &lt;code title=dom-media-play&gt;&lt;a
      href=&quot;#play&quot;&gt;play()&lt;/a&gt;&lt;/code&gt; method.
 
@@ -14866,8 +14906,8 @@
      title=dom-media-networkState&gt;&lt;a
      href=&quot;#networkstate&quot;&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has the value &lt;a
      href=&quot;#empty&quot; title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, then the user agent must
-     sychronously invoke the &lt;code title=dom-media-load&gt;&lt;a
-     href=&quot;#load&quot;&gt;load()&lt;/a&gt;&lt;/code&gt; method. If that raises an exception, that
+     invoke the &lt;code title=dom-media-load&gt;&lt;a href=&quot;#load&quot;&gt;load()&lt;/a&gt;&lt;/code&gt;
+     method and wait for it to return. If that raises an exception, that
      exception must be reraised by the &lt;code title=dom-media-play&gt;&lt;a
      href=&quot;#play&quot;&gt;pause()&lt;/a&gt;&lt;/code&gt; method.
 
@@ -14992,11 +15032,13 @@
    attribute).
 
   &lt;p class=note&gt;If the user agent can seek to anywhere in the &lt;a
-   href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;, e.g. because the user agent and the
-   server support HTTP Range requests, then the attribute would return an
-   object with one range, whose start is 0, and whose end is the same as the
-   &lt;code title=dom-media-duration&gt;&lt;a href=&quot;#duration&quot;&gt;duration&lt;/a&gt;&lt;/code&gt;
-   attribute's value.
+   href=&quot;#media8&quot;&gt;media resource&lt;/a&gt;, e.g. because it a simple movie file and
+   the user agent and the server support HTTP Range requests, then the
+   attribute would return an object with one range, whose start is the time
+   of the first frame (typically zero), and whose end is the same as the time
+   of the first frame plus the &lt;code title=dom-media-duration&gt;&lt;a
+   href=&quot;#duration&quot;&gt;duration&lt;/a&gt;&lt;/code&gt; attribute's value (which would equal
+   the time of the last frame).
 
   &lt;h5 id=cue-points&gt;&lt;span class=secno&gt;3.14.9.9. &lt;/span&gt;Cue points&lt;/h5&gt;
 
@@ -15168,6 +15210,10 @@
    end of the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range represented by the object, in
    seconds measured from the start of the timeline that the object covers.
 
+  &lt;p&gt;These methods must raise &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exceptions if
+   called with an &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; argument greater than or equal to
+   the number of ranges represented by the object.
+
   &lt;p&gt;When a &lt;code&gt;&lt;a href=&quot;#timeranges&quot;&gt;TimeRanges&lt;/a&gt;&lt;/code&gt; object is said
    to be a &lt;dfn id=normalised&gt;normalised &lt;code&gt;TimeRanges&lt;/code&gt;
    object&lt;/dfn&gt;, the ranges it represents must obey the following criteria:
@@ -15439,7 +15485,8 @@
 
      &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a
       href=&quot;#readystate&quot;&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to
-      &lt;code title=CAN_SHOW_CURRENT_FRAME&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;.
+      &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a
+      href=&quot;#canshowcurrentframe&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;.
 
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn id=canplay0 title=event-canplay&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
@@ -15454,7 +15501,7 @@
 
      &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a
       href=&quot;#readystate&quot;&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to
-      &lt;code title=CAN_PLAY&gt;CAN_PLAY&lt;/code&gt;.
+      &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=&quot;#canplay&quot;&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt;.
 
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn id=canplaythrough0
@@ -15469,7 +15516,8 @@
 
      &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a
       href=&quot;#readystate&quot;&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to
-      &lt;code title=CAN_PLAY_THROUGH&gt;CAN_PLAY_THROUGH&lt;/code&gt;.
+      &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a
+      href=&quot;#canplaythrough&quot;&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt;.
 
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn id=ratechange
@@ -30337,7 +30385,7 @@
 };
 
 interface &lt;dfn id=versionchangecallback&gt;VersionChangeCallback&lt;/dfn&gt; {
-  void &lt;span title=dom-versionchangecallback-handleEvent&gt;handleEvent&lt;/span&gt;(in bool versionChanged);
+  void &lt;span title=dom-versionchangecallback-handleEvent&gt;handleEvent&lt;/span&gt;(in boolean versionChanged);
 };
 
 interface &lt;dfn id=sqlcallback&gt;SQLCallback&lt;/dfn&gt; {
@@ -44898,28 +44946,28 @@
 
   &lt;p&gt;Thanks to Aankhen, Aaron Boodman, Aaron Leventhal, Adam Roben, Adrian
    Sutton, Agust&iacute;n Fern&aacute;ndez, Alexey Feldgendler, Andrew Gove,
-   Andrew Sidwell, Anne van Kesteren, Anthony Hickson, Asbj&oslash;rn
-   Ulsberg, Ben Godfrey, Ben Meadowcroft, Benjamin Hawkes-Lewis, Bert Bos,
-   Bjoern Hoehrmann, Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson,
-   Brendan Eich, Brett Wilson, Brian Campbell, Carlos Perell&oacute;
-   Mar&iacute;n, Chao Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van
-   Niekerk&lt;!--status.whatwg.org maintainer--&gt;, Charles Iliya Krempeaux,
-   Charles McCathieNevile, Christian Biesinger, Christian Johansen, Chriswa,
-   Daniel Peng, Daniel Sp&aring;ng, Darin Alder, Darin Fisher, Dave Singer,
-   Dave Townsend&lt;!-- Mossop on moz irc --&gt;, David Baron, David Flanagan,
-   David H&aring;s&auml;ther, David Hyatt, Derek Featherstone, Dimitri
-   Glazkov, dolphinling, Doron Rosenberg, Eira Monstad, Elliotte Harold, Erik
-   Arvidsson, Evan Martin, fantasai, Franck 'Shift' Qu&eacute;lain, Geoffrey
-   Sneddon, H&aring;kon Wium Lie, Henri Sivonen, Henrik Lied, Ignacio Javier,
-   J. King, James Graham, James M Snell, James Perrett, Jan-Klaas Kollhof,
-   Jasper Bryant-Greene, Jeff Cutsinger, Jeff Walden, Jens Bannmann, Jeroen
-   van der Meer, Joel Spolsky, John Boyer, John Harding, Johnny Stenback, Jon
-   Perlow, Jonathan Worent, Jorgen Horstink, Josh Levenberg, Joshua Randall,
-   Jukka K. Korpela, Kai Hendry, &lt;!-- Keryx
-  Web, = Lars Gunther --&gt; Kornel
-   Lesinski, &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi), Kristof
-   Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laurens Holst, Lenny
-   Domnitser, L&eacute;onard Bouchet, Leons Petrazickis,
+   Andrew Sidwell, Anne van Kesteren, Anthony Hickson, Antti Koivisto,
+   Asbj&oslash;rn Ulsberg, Ben Godfrey, Ben Meadowcroft, Benjamin
+   Hawkes-Lewis, Bert Bos, Bjoern Hoehrmann, Boris Zbarsky, Brad Fults, Brad
+   Neuberg, Brady Eidson, Brendan Eich, Brett Wilson, Brian Campbell, Carlos
+   Perell&oacute; Mar&iacute;n, Chao Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy
+   Yun), Charl van Niekerk&lt;!--status.whatwg.org maintainer--&gt;, Charles Iliya
+   Krempeaux, Charles McCathieNevile, Christian Biesinger, Christian
+   Johansen, Chriswa, Daniel Peng, Daniel Sp&aring;ng, Darin Alder, Darin
+   Fisher, Dave Singer, Dave Townsend&lt;!-- Mossop on moz irc --&gt;, David Baron,
+   David Flanagan, David H&aring;s&auml;ther, David Hyatt, Derek
+   Featherstone, Dimitri Glazkov, dolphinling, Doron Rosenberg, Eira Monstad,
+   Elliotte Harold, Erik Arvidsson, Evan Martin, fantasai, Franck 'Shift'
+   Qu&eacute;lain, Geoffrey Sneddon, H&aring;kon Wium Lie, Henri Sivonen,
+   Henrik Lied, Ignacio Javier, J. King, James Graham, James M Snell, James
+   Perrett, Jan-Klaas Kollhof, Jasper Bryant-Greene, Jeff Cutsinger, Jeff
+   Walden, Jens Bannmann, Jeroen van der Meer, Joel Spolsky, John Boyer, John
+   Harding, Johnny Stenback, Jon Perlow, Jonathan Worent, Jorgen Horstink,
+   Josh Levenberg, Joshua Randall, Jukka K. Korpela, Kai Hendry, &lt;!-- Keryx
+  Web, = Lars Gunther --&gt;
+   Kornel Lesinski, &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi),
+   Kristof Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laurens
+   Holst, Lenny Domnitser, L&eacute;onard Bouchet, Leons Petrazickis,
    Logan&lt;!-- on moz irc --&gt;, Loune, Maciej Stachowiak, Malcolm Rowe, Mark
    Nottingham, Mark Rowe&lt;!--bdash--&gt;, Mark Schenk, Martijn Wargers, Martin
    Atkins, Martin Honnen, Mathieu Henri, Matthew Mastracci, Matthew Raymond,

Modified: source
===================================================================
--- source	2007-10-19 02:01:53 UTC (rev 1077)
+++ source	2007-10-19 04:48:05 UTC (rev 1078)
@@ -948,7 +948,7 @@
   &lt;span&gt;HTMLDocument&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString type);
   &lt;span&gt;HTMLDocument&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString type, in DOMString replace);
   &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString url, in DOMString name, in DOMString features);
-  &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString url, in DOMString name, in DOMString features, in bool replace);
+  &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString url, in DOMString name, in DOMString features, in boolean replace);
   void &lt;span title=&quot;dom-document-close&quot;&gt;close&lt;/span&gt;();
   void &lt;span title=&quot;dom-document-write&quot;&gt;write&lt;/span&gt;(in DOMString text);
   void &lt;span title=&quot;dom-document-writeln&quot;&gt;writeln&lt;/span&gt;(in DOMString text);
@@ -11231,9 +11231,11 @@
   pixels. The &lt;dfn
   title=&quot;dom-video-videoHeight&quot;&gt;&lt;code&gt;videoHeight&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must return the native height of the video in CSS
-  pixels. In the absence of resolution information, user agents may
-  assume that one pixel in the video corresponds to one CSS pixel. If
-  no video data is available, then the attributes must return 0.&lt;/p&gt;
+  pixels. In the absence of resolution information defining the
+  mapping of pixels in the video to physical dimensions, user agents
+  may assume that one pixel in the video corresponds to one CSS
+  pixel. If no video data is available, then the attributes must
+  return 0.&lt;/p&gt;
 
   &lt;p&gt;When no video data is available (the element's &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute is
@@ -11262,9 +11264,9 @@
   last rendered frame of video.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;video&lt;/code&gt; element is neither &lt;span&gt;actively
-  playing&lt;/span&gt; nor &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;, the
-  element represents the last frame of the video to have been
-  rendered.&lt;/p&gt;
+  playing&lt;/span&gt; nor &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;
+  (e.g. when seeking or stalled), the element represents the last
+  frame of the video to have been rendered.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Which frame in a video stream corresponds to a
   particular playback position is defined by the video stream's
@@ -11469,7 +11471,7 @@
   // playback state
            attribute float &lt;span title=&quot;dom-media-currentTime&quot;&gt;currentTime&lt;/span&gt;;
   readonly attribute float &lt;span title=&quot;dom-media-duration&quot;&gt;duration&lt;/span&gt;;
-  readonly attribute unsigned short &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-media-paused&quot;&gt;paused&lt;/span&gt;;
            attribute float &lt;span title=&quot;dom-media-defaultPlaybackRate&quot;&gt;defaultPlaybackRate&lt;/span&gt;;
            attribute float &lt;span title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/span&gt;;
   readonly attribute &lt;span&gt;TimeRanges&lt;/span&gt; &lt;span title=&quot;dom-media-played&quot;&gt;played&lt;/span&gt;;
@@ -11488,7 +11490,7 @@
            attribute unsigned long &lt;span title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/span&gt;;
 
   // cue points
-  void &lt;span title=&quot;dom-media-addCuePoint&quot;&gt;addCuePoint&lt;/span&gt;(in float time, in &lt;span&gt;VoidCallback&lt;/span&gt; callback, in bool pause);
+  void &lt;span title=&quot;dom-media-addCuePoint&quot;&gt;addCuePoint&lt;/span&gt;(in float time, in &lt;span&gt;VoidCallback&lt;/span&gt; callback, in boolean pause);
   void &lt;span title=&quot;dom-media-removeCuePoint&quot;&gt;removeCuePoint&lt;/span&gt;(in float time, in &lt;span&gt;VoidCallback&lt;/span&gt; callback);
 
   // controls
@@ -11688,6 +11690,11 @@
 
   &lt;/ol&gt;
 
+  &lt;p class=&quot;note&quot;&gt;A &lt;code&gt;source&lt;/code&gt; element with no &lt;code
+  title=&quot;attr-source-src&quot;&gt;src&lt;/code&gt; attribute is assumed to be the
+  last &lt;code&gt;source&lt;/code&gt; element &mdash; any &lt;code&gt;source&lt;/code&gt;
+  elements after it are ignored (and are invalid).&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-media-currentSrc&quot;&gt;&lt;code&gt;currentSrc&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must return the empty string if the &lt;span&gt;media
@@ -11781,9 +11788,9 @@
    &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-error&quot;&gt;error&lt;/code&gt; attribute
-   must be set to null, and the &lt;span&gt;loaded-first-frame flag&lt;/span&gt;
-   and &lt;span&gt;loaded-enough-to-play-through flag&lt;/span&gt; must be both
-   set to false.&lt;/p&gt;&lt;/li&gt;
+   must be set to null, the &lt;span&gt;loaded-first-frame flag&lt;/span&gt; must
+   be set to false, and the &lt;span&gt;autoplaying flag&lt;/span&gt; must be set
+   to true.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
    attribute must be set to the value of the &lt;code
@@ -12019,7 +12026,11 @@
        must be switched to the &lt;span
        title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; value and the user agent
        must &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-       title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; at the element.&lt;/li&gt;
+       title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; at the element. (If the
+       &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
+       attribute has a value greater than &lt;code
+       title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;, then this doesn't
+       happen; the available data, if any, will be playable.)&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -12087,8 +12098,8 @@
 
      &lt;dt id=&quot;handling-first-frame-available&quot;&gt;Once enough of the
      &lt;span&gt;media data&lt;/span&gt; has been downloaded to enable the user
-     agent to display the first frame of the &lt;span&gt;media
-     resource&lt;/span&gt;&lt;/dt&gt;
+     agent to display the frame at the &lt;span&gt;effective start&lt;/span&gt; of
+     the &lt;span&gt;media resource&lt;/span&gt;&lt;/dt&gt;
 
      &lt;dd&gt;
 
@@ -12131,9 +12142,11 @@
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the download completes without errors, the &lt;span&gt;begun
-   flag&lt;/span&gt; must be set to false and the user agent must &lt;span&gt;fire
-   a progress event&lt;/span&gt; called &lt;code title=&quot;event-load&quot;&gt;load&lt;/code&gt;
-   at the element.&lt;/p&gt;&lt;/li&gt;
+   flag&lt;/span&gt; must be set to false, the &lt;code
+   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute must
+   be set to &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;, and the
+   user agent must &lt;span&gt;fire a progress event&lt;/span&gt; called &lt;code
+   title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -12201,12 +12214,16 @@
   title=&quot;dom-media-currentTime&quot;&gt;&lt;code&gt;currentTime&lt;/code&gt;&lt;/dfn&gt;
   attribute must, on getting, return the &lt;span&gt;current playback
   position&lt;/span&gt;, expressed in seconds. On setting, the user agent
-  must &lt;span title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the new value.&lt;/p&gt;
+  must &lt;span title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the new value
+  (which might raise an exception).&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-media-start&quot;&gt;&lt;code&gt;start&lt;/code&gt;&lt;/dfn&gt;
   content attribute gives the offset into the &lt;span&gt;media
   resource&lt;/span&gt; at which playback is to begin. The default value is
-  0.&lt;/p&gt;
+  the default start position of the &lt;span&gt;media resource&lt;/span&gt;, or 0
+  if not enough &lt;span&gt;media data&lt;/span&gt; has been obtained yet to
+  determine the default start position or if the resource doesn't
+  specify a default start position.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn&gt;&lt;var&gt;effective start&lt;/var&gt;&lt;/dfn&gt; is the smaller of the
   &lt;code title=&quot;dom-media-start&quot;&gt;start&lt;/code&gt; DOM attribute and the end
@@ -12222,7 +12239,7 @@
 
   &lt;p&gt;The &lt;dfn&gt;&lt;var&gt;effective loop start&lt;/var&gt;&lt;/dfn&gt; is the smaller of
   the &lt;code title=&quot;dom-media-loopStart&quot;&gt;loopStart&lt;/code&gt; DOM attribute
-  and the end of the &lt;span&gt;media resource&lt;/span&gt;.&lt;p&gt;&lt;/li&gt;
+  and the end of the &lt;span&gt;media resource&lt;/span&gt;.&lt;p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-media-loopend&quot;&gt;&lt;code&gt;loopend&lt;/code&gt;&lt;/dfn&gt;
   content attribute gives an offset into the &lt;span&gt;media
@@ -12236,8 +12253,9 @@
   &lt;p&gt;The &lt;dfn&gt;&lt;var&gt;effective loop end&lt;/var&gt;&lt;/dfn&gt; is the greater of
   the &lt;code title=&quot;dom-media-start&quot;&gt;start&lt;/code&gt;, &lt;code
   title=&quot;dom-media-loopStart&quot;&gt;loopStart&lt;/code&gt;, and &lt;code
-  title=&quot;dom-media-loopEnd&quot;&gt;loopEnd&lt;/code&gt; DOM attributes, and the end
-  of the &lt;span&gt;media resource&lt;/span&gt;.&lt;p&gt;&lt;/li&gt;
+  title=&quot;dom-media-loopEnd&quot;&gt;loopEnd&lt;/code&gt; DOM attributes, except if
+  that is greater than the end of the &lt;span&gt;media resource&lt;/span&gt;, in
+  which case that's its value.&lt;p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-media-end&quot;&gt;&lt;code&gt;end&lt;/code&gt;&lt;/dfn&gt; content
   attribute gives an offset into the &lt;span&gt;media resource&lt;/span&gt; at
@@ -12246,8 +12264,9 @@
   &lt;p&gt;The &lt;dfn&gt;&lt;var&gt;effective end&lt;/var&gt;&lt;/dfn&gt; is the greater of the
   &lt;code title=&quot;dom-media-start&quot;&gt;start&lt;/code&gt;, &lt;code
   title=&quot;dom-media-loopStart&quot;&gt;loopStart&lt;/code&gt;, and &lt;code
-  title=&quot;dom-media-loopEnd&quot;&gt;end&lt;/code&gt; DOM attributes, and the end of
-  the &lt;span&gt;media resource&lt;/span&gt;.&lt;p&gt;&lt;/li&gt;
+  title=&quot;dom-media-loopEnd&quot;&gt;end&lt;/code&gt; DOM attributes, except if that
+  is greater than the end of the &lt;span&gt;media resource&lt;/span&gt;, in which
+  case that's its value.&lt;p&gt;
 
   &lt;p&gt;The &lt;code title=&quot;attr-media-start&quot;&gt;start&lt;/code&gt;, &lt;code
   title=&quot;attr-media-loopstart&quot;&gt;loopstart&lt;/code&gt;, &lt;code
@@ -12331,7 +12350,7 @@
    &lt;var&gt;effective loop end&lt;/var&gt;, the user agent must &lt;span
    title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the &lt;var&gt;effective loop
    start&lt;/var&gt;, and increase &lt;code
-   title=&quot;dom-media-loopCount&quot;&gt;loopCount&lt;/code&gt; by 1.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; by 1.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;code
    title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; is equal to
@@ -12466,6 +12485,23 @@
 
   &lt;/dl&gt;
 
+  &lt;p class=&quot;note&quot;&gt;It is possible for the ready state of a media
+  element to jump between these states discontinuously. For example,
+  the state of a media element whose &lt;span&gt;leaded-first-frame
+  flag&lt;/span&gt; is false can jump straight from &lt;code
+  title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; to &lt;code
+  title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt; without
+  passing through the &lt;code
+  title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;
+  and &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt; states, and
+  thus without firing the &lt;code
+  title=&quot;event-canshowcurrentframe&quot;&gt;canshowcurrentframe&lt;/code&gt; and
+  &lt;code title=&quot;event-canplay&quot;&gt;canplay&lt;/code&gt; events. The only state
+  that is guarenteed to be reached is the &lt;code
+  title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;
+  state, which is reached as part of the &lt;code
+  title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method's processing.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-media-readyState&quot;&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must, on getting, return the value described above that
@@ -12586,7 +12622,7 @@
   loop end&lt;/var&gt;, then the user agent must &lt;span
   title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the &lt;var&gt;effective loop
   start&lt;/var&gt;, increase &lt;code
-  title=&quot;dom-media-loopCount&quot;&gt;loopCount&lt;/code&gt; by 1, and
+  title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; by 1, and
   &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
   title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt;.&lt;/p&gt;
 
@@ -12600,8 +12636,8 @@
 
    &lt;li&gt;&lt;p&gt;The user agent must stop playback.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-ended&quot;&gt;ended&lt;/code&gt; attribute
-   becomes true, as described below.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p class=&quot;note&quot;&gt;The &lt;code title=&quot;dom-media-ended&quot;&gt;ended&lt;/code&gt;
+   attribute becomes true.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The user agent must &lt;span&gt;fire a simple event&lt;/span&gt; called
    &lt;code title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the
@@ -12657,9 +12693,9 @@
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute has
    the value &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, then the user
-   agent must synchronously invoke the &lt;code
-   title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method. If that raises an
-   exception, that exception must be reraised by the &lt;code
+   agent must invoke the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
+   method and wait for it to return. If that raises an exception, that
+   exception must be reraised by the &lt;code
    title=&quot;dom-media-play&quot;&gt;play()&lt;/code&gt; method.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;ended playback&quot;&gt;playback has
@@ -12711,9 +12747,9 @@
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute has
    the value &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, then the user
-   agent must sychronously invoke the &lt;code
-   title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method. If that raises an
-   exception, that exception must be reraised by the &lt;code
+   agent must invoke the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
+   method and wait for it to return. If that raises an exception, that
+   exception must be reraised by the &lt;code
    title=&quot;dom-media-play&quot;&gt;pause()&lt;/code&gt; method.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
@@ -12824,11 +12860,13 @@
   title=&quot;dom-media-seekable&quot;&gt;seeking&lt;/code&gt; attribute).&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;If the user agent can seek to anywhere in the
-  &lt;span&gt;media resource&lt;/span&gt;, e.g. because the user agent and the
-  server support HTTP Range requests, then the attribute would return
-  an object with one range, whose start is 0, and whose end is the
-  same as the &lt;code title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt;
-  attribute's value.&lt;/p&gt;
+  &lt;span&gt;media resource&lt;/span&gt;, e.g. because it a simple movie file and
+  the user agent and the server support HTTP Range requests, then the
+  attribute would return an object with one range, whose start is the
+  time of the first frame (typically zero), and whose end is the same
+  as the time of the first frame plus the &lt;code
+  title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt; attribute's value (which
+  would equal the time of the last frame).&lt;/p&gt;
 
 
 
@@ -13006,6 +13044,10 @@
   the object, in seconds measured from the start of the timeline that
   the object covers.&lt;/p&gt;
 
+  &lt;p&gt;These methods must raise &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exceptions
+  if called with an &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; argument greater than or
+  equal to the number of ranges represented by the object.&lt;/p&gt;
+
   &lt;p&gt;When a &lt;code&gt;TimeRanges&lt;/code&gt; object is said to be a
   &lt;dfn&gt;normalised &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/dfn&gt;, the ranges it
   represents must obey the following criteria:&lt;/p&gt;
@@ -13128,17 +13170,17 @@
      &lt;td&gt;&lt;dfn title=&quot;event-canshowcurrentframe&quot;&gt;&lt;code&gt;canshowcurrentframe&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;The user agent cannot render the data after the &lt;span&gt;current playback position&lt;/span&gt; because data for the next frame is not immediately available.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;.
+     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-canplay&quot;&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;The user agent can resume playback of the &lt;span&gt;media data&lt;/span&gt;, but estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;.
+     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-canplaythrough&quot;&gt;&lt;code&gt;canplaythrough&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;.
+     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-ratehange&quot;&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
@@ -27933,7 +27975,7 @@
 };
 
 interface &lt;dfn&gt;VersionChangeCallback&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-versionchangecallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in bool versionChanged);
+  void &lt;span title=&quot;dom-versionchangecallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in boolean versionChanged);
 };
 
 interface &lt;dfn&gt;SQLCallback&lt;/dfn&gt; {
@@ -40797,11 +40839,11 @@
   &lt;p&gt;Thanks to Aankhen, Aaron Boodman, Aaron Leventhal, Adam Roben,
   Adrian Sutton, Agust&iacute;n Fern&aacute;ndez, Alexey Feldgendler,
   Andrew Gove, Andrew Sidwell, Anne van Kesteren, Anthony Hickson,
-  Asbj&oslash;rn Ulsberg, Ben Godfrey, Ben Meadowcroft, Benjamin
-  Hawkes-Lewis, Bert Bos, Bjoern Hoehrmann, Boris Zbarsky, Brad Fults,
-  Brad Neuberg, Brady Eidson, Brendan Eich, Brett Wilson, Brian
-  Campbell, Carlos Perell&oacute; Mar&iacute;n, Chao Cai,
-  &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van
+  Antti Koivisto, Asbj&oslash;rn Ulsberg, Ben Godfrey, Ben
+  Meadowcroft, Benjamin Hawkes-Lewis, Bert Bos, Bjoern Hoehrmann,
+  Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson, Brendan Eich,
+  Brett Wilson, Brian Campbell, Carlos Perell&oacute; Mar&iacute;n,
+  Chao Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van
   Niekerk&lt;!--status.whatwg.org maintainer--&gt;, Charles Iliya Krempeaux,
   Charles McCathieNevile, Christian Biesinger, Christian Johansen,
   Chriswa, Daniel Peng, Daniel Sp&aring;ng, Darin Alder, Darin Fisher,


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007985.html">[html5] r1077 - /
</A></li>
	<LI>Next message: <A HREF="007987.html">[html5] r1079 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7986">[ date ]</a>
              <a href="thread.html#7986">[ thread ]</a>
              <a href="subject.html#7986">[ subject ]</a>
              <a href="author.html#7986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
