<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Imps] Test cases for parsing spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20Test%20cases%20for%20parsing%20spec&In-Reply-To=%3CPine.LNX.4.62.0612062159301.17852%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000694.html">
   <LINK REL="Next"  HREF="000695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Imps] Test cases for parsing spec</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20Test%20cases%20for%20parsing%20spec&In-Reply-To=%3CPine.LNX.4.62.0612062159301.17852%40dhalsim.dreamhost.com%3E"
       TITLE="[Imps] Test cases for parsing spec">ian at hixie.ch
       </A><BR>
    <I>Wed Dec  6 14:07:20 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000694.html">[Imps] Test cases for parsing spec
</A></li>
        <LI>Next message: <A HREF="000695.html">[Imps] Test cases for parsing spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 6 Dec 2006, James Graham wrote:
&gt;<i> 
</I>&gt;<i> Sounds reasonable to me (but I don't claim to be a good arbiter of such 
</I>&gt;<i> things). I think Hixie mentioned the possibility of multiple tests per 
</I>&gt;<i> file with some way of separating them, although I notice both the feed 
</I>&gt;<i> parser and validator have one test per file.
</I>
I can output the test/result pairs I have to whatever form, it just seems 
like a single file would be easier to manage.

For what it's worth, the format needs to be such that if this file:

   &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;

...gets parsed as a single text node, the output isn't:

   &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;

...if that's also what the &quot;correct&quot; output is.

One of the formats I've used has output of the entire DOM, with the list 
of errors, and each DOM node on its own line with nesting indicated by 
indents, in this form:

Data: Line1&lt;br&gt;Line2&lt;br&gt;Line3&lt;br&gt;Line4
7: Parse error: missing document type declaration. (3)
#document
|<i> &lt;html&gt;
</I>|<i>   &lt;head&gt;
</I>|<i>   &lt;body&gt;
</I>|<i>     &quot;Line1&quot;
</I>|<i>     &lt;br&gt;
</I>|<i>     &quot;Line2&quot;
</I>|<i>     &lt;br&gt;
</I>|<i>     &quot;Line3&quot;
</I>|<i>     &lt;br&gt;
</I>|<i>     &quot;Line4&quot;
</I>
Another form I've used is one where only tags are examined, so the DOM is 
output as a stream of tag names separated by spaces, with nesting 
indicated by the tag name starting with a &quot;/&quot;, as in:

{&quot;&lt;a&gt;&lt;p&gt;&lt;a&gt;&lt;/a&gt;&lt;/p&gt;&lt;/a&gt;&quot;, &quot;html head /head body a /a p a /a a /a /p /body /html &quot;}

In both cases I have a bunch of tests per file (the former doesn't support 
newlines in the test data, which is bad).

But anything works, just write a test harness and tell me what form at it 
expects and I'll convert these tests.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000694.html">[Imps] Test cases for parsing spec
</A></li>
	<LI>Next message: <A HREF="000695.html">[Imps] Test cases for parsing spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
