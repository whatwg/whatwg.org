<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Imps] liberal XML and implied end tags
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20liberal%20XML%20and%20implied%20end%20tags&In-Reply-To=%3C45F4DD4B.7020906%40intertwingly.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000773.html">
   <LINK REL="Next"  HREF="000775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Imps] liberal XML and implied end tags</H1>
<!--htdig_noindex-->
    <B>Sam Ruby</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20liberal%20XML%20and%20implied%20end%20tags&In-Reply-To=%3C45F4DD4B.7020906%40intertwingly.net%3E"
       TITLE="[Imps] liberal XML and implied end tags">rubys at intertwingly.net
       </A><BR>
    <I>Sun Mar 11 21:55:39 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000773.html">[Imps] liberal XML and implied end tags
</A></li>
        <LI>Next message: <A HREF="000775.html">[Imps] liberal XML and implied end tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#774">[ date ]</a>
              <a href="thread.html#774">[ thread ]</a>
              <a href="subject.html#774">[ subject ]</a>
              <a href="author.html#774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Sun, 11 Mar 2007, Sam Ruby wrote:
</I>&gt;&gt;<i> Inside src/liberalxmlparser.py, I see:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>              if node.name == name:
</I>&gt;&gt;&gt;<i>                  #XXX Something is wrong here... The next (commented) line is
</I>&gt;&gt;&gt;<i>                  #html-only
</I>&gt;&gt;&gt;<i>                  #self.tree.generateImpliedEndTags()
</I>&gt;&gt;<i> Problem #1: if I uncomment out that line, no tests fail.  What's up with 
</I>&gt;&gt;<i> that?  If I need to make a fix that involves restoring that line, how 
</I>&gt;&gt;<i> will I know what that breaks?
</I>&gt;<i> 
</I>&gt;<i> That's why you really need a spec now. :-)
</I>
We have a saying where I come from:

   Thanks for volunteering!

Seriously, specs are very important, but so are tests.

My plans are to integrate this code with first the feed parser and then 
with venus and I can already see a number of refactorings that will be 
required.  And that will affect what is ultimately specified.  For 
example, early on I was more naive than I am now and thought that if I 
could build a valid DOM, I could then guarantee that that DOM could be 
serialized as XML.  I put a few checks in the html5lib code that plugged 
a few holes, but now I see that the holes are many: XML has constraints 
on the names of attributes and the characters that may occur in a 
comment, just to name two.  Instead of having html5lib make corrections, 
the right approach is for the spec to list where html5lib's 
responsibilities end, and what is left for the calling application to 
deal with.

Anyway, in the process of writing the code, I plan to produce quite a 
few tests, all of which will be helpful in producing a better spec.  And 
vice versa: the process of writing the spec will refine the tests and 
undoubtedly cause me to refactor some code some more.

- Sam Ruby

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000773.html">[Imps] liberal XML and implied end tags
</A></li>
	<LI>Next message: <A HREF="000775.html">[Imps] liberal XML and implied end tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#774">[ date ]</a>
              <a href="thread.html#774">[ thread ]</a>
              <a href="subject.html#774">[ subject ]</a>
              <a href="author.html#774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
