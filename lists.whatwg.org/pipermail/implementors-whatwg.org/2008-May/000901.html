<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [imps] Cross browser automated tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20Cross%20browser%20automated%20tests&In-Reply-To=%3C4834AAD9.2080809%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000899.html">
   <LINK REL="Next"  HREF="000902.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[imps] Cross browser automated tests</H1>
<!--htdig_noindex-->
    <B>Sylvain Pasche</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20Cross%20browser%20automated%20tests&In-Reply-To=%3C4834AAD9.2080809%40gmail.com%3E"
       TITLE="[imps] Cross browser automated tests">sylvain.pasche at gmail.com
       </A><BR>
    <I>Wed May 21 16:06:01 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000899.html">[imps] [whatwg] Cross browser automated tests
</A></li>
        <LI>Next message: <A HREF="000902.html">[imps] Cross browser automated tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#901">[ date ]</a>
              <a href="thread.html#901">[ thread ]</a>
              <a href="subject.html#901">[ subject ]</a>
              <a href="author.html#901">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Adam Barth wrote:
&gt;<i> 
</I>&gt;<i> The WebKit LayoutTestController might be a reasonable starting point
</I>&gt;<i> for a testing API.  Just calling parent.reportResults might be
</I>&gt;<i> limiting for security testing because a frame might not be able to
</I>&gt;<i> access its parent.  For example, the LayoutTestController has a
</I>&gt;<i> globally readable and writable boolean flag that helps cross-domain
</I>&gt;<i> frames signal that the test is complete.
</I>
One fact to keep in mind is that all browsers won't be able to provide 
something like a LayerTestController object to web pages (but having 
both WebKit and Firefox do that is already a good coverage).

However, testing some features requires that a privileged API is 
available for the testcases (synthesizing privileged events, clearing 
caches, ...).  One idea would be to offer a generic privileged API that 
browsers could implement to some degree.  Then, tests should be flagged 
in some way to describe what privileged API they require to be run. 
They would be skipped on browsers not implementing that.  To have the 
widest browser coverage, tests should only require these privileged API 
when needed.

For the WebKit security tests, being able to run them on a browser where 
something like the LayoutTestController is not available seems 
difficult.  In the experiments I did to run the WebKit tests, I loaded 
them in a frame, and extracted the page text to compare against the 
-expected.txt file.  This approach won't work directly for testing top 
level frames.

&gt;&gt;<i> ...and using &lt;iframe&gt;s to embed the tests one after another.
</I>&gt;<i> 
</I>&gt;<i> This is also limiting for security tests because some behavior must be
</I>&gt;<i> tested in a top-level frame.
</I>&gt;<i> 
</I>&gt;&gt;<i> This makes the test even easier to maintain, and also makes it a lot
</I>&gt;&gt;<i> easier to reimplement the harness or to share tests between hardnesses.
</I>&gt;<i> 
</I>&gt;<i> One of our goals for the project is to integrate with Firefox's
</I>&gt;<i> testing harness.  Ideally, the Firefox source tree could check out the
</I>&gt;<i> WebKit LayoutTests unmodified and run them as part of their
</I>&gt;<i> per-checkin regression testing.
</I>
I had a look at your extension.  Out of curiosity, did you develop some 
tool like run-webkit-tests for loading pages inside Firefox and 
comparing the actual and expected .txt files?


Sylvain


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000899.html">[imps] [whatwg] Cross browser automated tests
</A></li>
	<LI>Next message: <A HREF="000902.html">[imps] Cross browser automated tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#901">[ date ]</a>
              <a href="thread.html#901">[ thread ]</a>
              <a href="subject.html#901">[ subject ]</a>
              <a href="author.html#901">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
