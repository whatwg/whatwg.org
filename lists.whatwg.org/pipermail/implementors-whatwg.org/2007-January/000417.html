<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Imps] True DOM TreeBuilder
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20True%20DOM%20TreeBuilder&In-Reply-To=%3C45A4C1B8.1000708%40intertwingly.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000762.html">
   <LINK REL="Next"  HREF="000418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Imps] True DOM TreeBuilder</H1>
<!--htdig_noindex-->
    <B>Sam Ruby</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5BImps%5D%20True%20DOM%20TreeBuilder&In-Reply-To=%3C45A4C1B8.1000708%40intertwingly.net%3E"
       TITLE="[Imps] True DOM TreeBuilder">rubys at intertwingly.net
       </A><BR>
    <I>Wed Jan 10 02:36:40 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000762.html">[Imps] adding object namespace function on canvas (so we could	use them.)
</A></li>
        <LI>Next message: <A HREF="000418.html">[Imps] &lt;style&gt; processing change in the HTML5 parsing spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#417">[ date ]</a>
              <a href="thread.html#417">[ thread ]</a>
              <a href="subject.html#417">[ subject ]</a>
              <a href="author.html#417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I just committed a minidom.getDOMImplementation() based TreeBuilder to 
html5lib.

Notes:

1) I had to monkey patch minidom in order to get text nodes that are
    immediate children of the document node to work.

2) Based on how html5 is spec'ed, the doctypes become &quot;HTML&quot; instead
    of &quot;html&quot;, which is what you would expect in an XML DOM
    representation.

3) This implementation is not namespace aware, nor are the elements
    placed in the XHTML namespace.

Demo:

<A HREF="http://code.google.com/p/html5lib/">http://code.google.com/p/html5lib/</A> is purportedly XHTML 1.0 Strict, but 
is served as text/html and contains such dubious constructs as
&quot;&lt;div id=gaia&gt;&quot;.  You can obtained a cleaned up version of this page 
after a side trip through the DOM via:

$ python parse.py -b dom -x <A HREF="http://code.google.com/p/html5lib/">http://code.google.com/p/html5lib/</A>

In particular, note what the DOM's default &quot;toxml()&quot; method does to the 
script near the end of this page.

- Sam Ruby

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000762.html">[Imps] adding object namespace function on canvas (so we could	use them.)
</A></li>
	<LI>Next message: <A HREF="000418.html">[Imps] &lt;style&gt; processing change in the HTML5 parsing spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#417">[ date ]</a>
              <a href="thread.html#417">[ thread ]</a>
              <a href="subject.html#417">[ subject ]</a>
              <a href="author.html#417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
