<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [imps] Installinmg a local copy of validator.nu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20Installinmg%20a%20local%20copy%20of%20validator.nu&In-Reply-To=%3C361D6B1A2B6D194081955E94772543F26DC1971E9A%40EGEN-MBX01.campus.ads.uwe.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[imps] Installinmg a local copy of validator.nu</H1>
<!--htdig_noindex-->
    <B>Martin Sharratt</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20Installinmg%20a%20local%20copy%20of%20validator.nu&In-Reply-To=%3C361D6B1A2B6D194081955E94772543F26DC1971E9A%40EGEN-MBX01.campus.ads.uwe.ac.uk%3E"
       TITLE="[imps] Installinmg a local copy of validator.nu">Martin.Sharratt at uwe.ac.uk
       </A><BR>
    <I>Thu Dec  1 04:31:59 PST 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000988.html">[imps] Installinmg a local copy of validator.nu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#641">[ date ]</a>
              <a href="thread.html#641">[ thread ]</a>
              <a href="subject.html#641">[ subject ]</a>
              <a href="author.html#641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Alan

Thanks for this - it at least got the DTD's all though I'd got round the problem by downloading them at home where I don't seem to be blocked by w3.   However, I've still not managed to get a working installation.  The unpatched build script gives a 'build successful&quot; message then eventually fails with an error:

nu.validator.servlet.VerifierServletTransaction - Will load schema: <A HREF="http://s.validator.nu/html5/html5full.rnc">http://s.validator.nu/html5/html5full.rnc</A>
Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError
	at org.whattf.datatype.Html5DatatypeLibrary.createDatatype(Html5DatatypeLibrary.java:134)
	....
	....
Caused by: java.lang.RuntimeException: java.net.ConnectException: Connection refused
        at org.whattf.datatype.Charset.&lt;clinit&gt;(Charset.java:50)

I note that the url <A HREF="http://s.validator.nu/html5/html5full.rnc">http://s.validator.nu/html5/html5full.rnc</A> fails with a 404 error

The patched script seems to be having  difficulty with some checksums downloading from kent.dl.sourceforge.net.  After I got round that by downloading the zipfiles directly and copying them to the dependencies directory, it again builds successfully only to fail with errors

Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: nu/validator/servlet/Main
Caused by: java.lang.ClassNotFoundException: nu.validator.servlet.Main

I've been working on this for the best part of two weeks and seem to be getting nowhere and was coming to the conclusion that either the code or the dependencies or both were seriously broken.  Did you manage to get it working?  

Regards

Martin Sharratt

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">implementors-bounces at lists.whatwg.org</A> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">implementors-bounces at lists.whatwg.org</A>] On Behalf Of AlanJ
Sent: 30 November 2011 12:47
To: <A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">implementors at whatwg.org</A>
Subject: Re: [imps] Installinmg a local copy of validator.nu

Hi Martin,

There is a patch that helps get past that part of the install/build, 

see here:

<A HREF="https://bitbucket.org/validator/build/issue/2/received-error-retrying">https://bitbucket.org/validator/build/issue/2/received-error-retrying</A>

It basically downloads a batch of DTDs as a zip when it can.

After applying this patch my install, 
(and subsequent reinstalls) went much quicker.

Regards,

Alan.

_______________________________________________
Implementors mailing list
<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">Implementors at lists.whatwg.org</A>
<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000988.html">[imps] Installinmg a local copy of validator.nu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#641">[ date ]</a>
              <a href="thread.html#641">[ thread ]</a>
              <a href="subject.html#641">[ subject ]</a>
              <a href="author.html#641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
