<tt>
&lt;div&gt;Hi!&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;analyze&nbsp;some&nbsp;implementation&nbsp;of&nbsp;the&nbsp;HTML5&nbsp;standard&nbsp;(https://github.com/google/gumbo-parser)&nbsp;And&nbsp;it&nbsp;seems&nbsp;to&nbsp;me&nbsp;I&nbsp;have&nbsp;found&nbsp;some&nbsp;contradictions&nbsp;in&nbsp;form&nbsp;processing&nbsp;scheme. &nbsp;As&nbsp;I&nbsp;understand&nbsp;&quot;parsing-main-inbody”&nbsp;section&nbsp;describes&nbsp;that&nbsp;all&nbsp;nested&nbsp;form&nbsp;elements&nbsp;should&nbsp;be&nbsp;passed:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&quot;If&nbsp;the&nbsp;form&nbsp;element&nbsp;pointer&nbsp;is&nbsp;not&nbsp;null,&nbsp;and&nbsp;there&nbsp;is&nbsp;no&nbsp;template&nbsp;element&nbsp;on&nbsp;the&nbsp;stack&nbsp;of&nbsp;open&nbsp;elements,&nbsp;then&nbsp;this&nbsp;is&nbsp;a&nbsp;parse&nbsp;error;&nbsp;ignore&nbsp;the&nbsp;token&quot;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;And&nbsp;therefore&nbsp;the&nbsp;code&nbsp;like&nbsp;&lt;form&gt;&lt;div&gt;&lt;form&gt;&lt;/div&gt;&lt;/form&gt;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;generates&nbsp;tree&nbsp;like&nbsp;this:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;|&nbsp;&lt;form&gt;&lt;br&nbsp;/&gt;| &nbsp;&lt;div&gt;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;(without&nbsp;nested&nbsp;form)&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;But&nbsp;the&nbsp;end&nbsp;tag&nbsp;&lt;/form&gt;&nbsp;processing&nbsp;procedure&nbsp;is&nbsp;described&nbsp;in&nbsp;the&nbsp;way&nbsp;which&nbsp;allows&nbsp;impossibly&nbsp;generate&nbsp;tree&nbsp;with&nbsp;nested&nbsp;forms.&nbsp;For&nbsp;example:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;form&gt;&lt;div&gt;&lt;/form&gt;&lt;form&gt;...&lt;/form&gt;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;implies&nbsp;tree&nbsp;like&nbsp;this:&lt;br&nbsp;/&gt;|&nbsp;&lt;form&gt;&lt;br&nbsp;/&gt;| &nbsp;&lt;div&gt;&lt;br&nbsp;/&gt;|   &nbsp;&lt;form&gt;&lt;br&nbsp;/&gt;|     &nbsp;…&lt;br&nbsp;/&gt;(it&nbsp;looks&nbsp;like&nbsp;a&nbsp;simple&nbsp;typing&nbsp;error&nbsp;but&nbsp;here&nbsp;we&nbsp;have&nbsp;two&nbsp;nested&nbsp;forms)&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Maybe&nbsp;this&nbsp;become&nbsp;possible&nbsp;because&nbsp;&lt;/form&gt;&nbsp;does&nbsp;not&nbsp;close&nbsp;(pop&nbsp;from&nbsp;stack&nbsp;of&nbsp;open&nbsp;elements)&nbsp;all&nbsp;nodes&nbsp;opened&nbsp;after&nbsp;&lt;form&gt;&nbsp;start&nbsp;tag.&nbsp;In&nbsp;parsing&nbsp;algorithm&nbsp;parser &nbsp;simply&nbsp;removes&nbsp;&lt;form&gt;&nbsp;element&nbsp;from&nbsp;stack.&nbsp;And&nbsp;therefore&nbsp;after&nbsp;&lt;form&gt;&nbsp;removing&nbsp;there&nbsp;is&nbsp;null&nbsp;element&nbsp;pointer&nbsp;with&nbsp;current&nbsp;node&nbsp;&lt;div&gt;&nbsp;and&nbsp;nothing&nbsp;to&nbsp;prevent&nbsp;parser&nbsp;from&nbsp;inserting&nbsp;new&nbsp;&lt;form&gt;&nbsp;inside&nbsp;previous.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It&nbsp;looks&nbsp;strange.&nbsp;But&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;normal&nbsp;behavior&nbsp;then&nbsp;the&nbsp;reason&nbsp;for&nbsp;checking&nbsp;form&nbsp;element&nbsp;pointer&nbsp;in&nbsp;open&nbsp;&lt;form&gt;&nbsp;tag&nbsp;case&nbsp;is&nbsp;not&nbsp;clear&nbsp;for&nbsp;me.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Can&nbsp;you&nbsp;give&nbsp;me&nbsp;any&nbsp;explanatory&nbsp;statements?&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Thanks,&lt;br&nbsp;/&gt;Sofya.&lt;/div&gt;
</tt>
