<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [imps] validator front end not talking to servlet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20validator%20front%20end%20not%20talking%20to%20servlet&In-Reply-To=%3CCABzn3dWznpx2LQpiBEYtrdv%2Bm0ZNiS3jmhbQM2BXHONGPWNNLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001006.html">
   <LINK REL="Next"  HREF="001008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[imps] validator front end not talking to servlet</H1>
<!--htdig_noindex-->
    <B>Rancid Iodine</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20validator%20front%20end%20not%20talking%20to%20servlet&In-Reply-To=%3CCABzn3dWznpx2LQpiBEYtrdv%2Bm0ZNiS3jmhbQM2BXHONGPWNNLQ%40mail.gmail.com%3E"
       TITLE="[imps] validator front end not talking to servlet">rancid.iodine at gmail.com
       </A><BR>
    <I>Wed Apr 18 09:22:12 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001006.html">[imps] validator front end not talking to servlet
</A></li>
        <LI>Next message: <A HREF="001008.html">[imps] validator front end not talking to servlet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1007">[ date ]</a>
              <a href="thread.html#1007">[ thread ]</a>
              <a href="subject.html#1007">[ subject ]</a>
              <a href="author.html#1007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I made the changes to log4j.properties which you suggested and restarted
the servlet. Output looks like this:

[<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">root at vp-w3c-validator12</A> checker]# python build/build.py --port=80 --local
run &amp;
[1] 4468
[<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">root at vp-w3c-validator12</A> checker]# java -XX:-DontCompileHugeMethods
-Xms131072k -Xmx131072k -XX:ThreadStackSize=2048 -classpath .
/dependencies/commons-codec-1.4/commons-codec-1.4.jar:./dependencies/commons-httpclient-3.1/commons-httpclient-3.1.jar:./dependen
cies/commons-logging-1.1.1/commons-logging-1.1.1.jar:./dependencies/commons-logging-1.1.1/commons-logging-adapters-1.1.1.jar:./de
pendencies/commons-logging-1.1.1/commons-logging-api-1.1.1.jar:./dependencies/icu4j-charsets-4_4_2.jar:./dependencies/icu4j-4_4_2
.jar:./dependencies/iri-0.5/lib/iri.jar:./dependencies/jetty-6.1.26/lib/servlet-api-2.5-20081211.jar:./dependencies/jetty-6.1.26/
lib/jetty-6.1.26.jar:./dependencies/jetty-6.1.26/lib/jetty-util-6.1.26.jar:./dependencies/jetty-6.1.26/lib/ext/jetty-ajp-6.1.26.j
ar:./dependencies/apache-log4j-1.2.15/log4j-1.2.15.jar:./dependencies/rhino1_7R1/js.jar:./dependencies/xerces-2_9_1/xercesImpl.ja
r:./dependencies/xerces-2_9_1/xml-apis.jar:./dependencies/slf4j-1.5.2/slf4j-log4j12-1.5.2.jar:./dependencies/commons-fileupload-1
.2.1/lib/commons-fileupload-1.2.1.jar:./dependencies/isorelax.jar:./dependencies/mozilla/intl/chardet/java/dist/lib/chardet.jar:.
/dependencies/saxon9.jar:./jars/non-schema.jar:./jars/io-xml-util.jar:./jars/htmlparser.jar:./jars/hs-aelfred2.jar:./jars/html5-d
atatypes.jar:./jars/validator.jar:jing-trang/build/jing.jar
-Dnu.validator.servlet.log4j-properties=validator/log4j.properties
-D        nu.validator.servlet.version=3
-Dnu.validator.servlet.service-name=Validator.nu
-Dorg.whattf.datatype.lang-registry=file:local-en        tities/
www.iana.org/assignments/language-subtag-registry-Dorg.whattf.datatype.charset-registry=file:local-entities/
www.iana.org/        assignments/character-sets
-Dorg.whattf.datatype.warn=true -Dnu.validator.servlet.about-page=
<A HREF="http://about.validator.nu/">http://about.validator.nu/</A> -Dnu.vali
dator.servlet.style-sheet=style.css -Dnu.validator.servlet.icon=icon.png
-Dnu.validator.servlet.script=script.js -Dnu.validator.s
pec.microsyntax-descriptions=file:local-entities/
wiki.whatwg.org/wiki/MicrosyntaxDescriptions-Dnu.validator.spec.alt-advice=file
       :local-entities/
wiki.whatwg.org/wiki/Validator.nu_alt_advice-Dnu.validator.spec.html5-load=file:validator/spec/html5.html
-Dnu.v
alidator.spec.html5-link=<A HREF="http://www.whatwg.org/specs/web-apps/current-work/-Dnu.validator.servlet.max-file-size=7340032">http://www.whatwg.org/specs/web-apps/current-work/-Dnu.validator.servlet.max-file-size=7340032</A>
-Dnu.val
idator.servlet.connection-timeout=5000
-Dnu.validator.servlet.socket-timeout=5000
-Dnu.validator.servlet.use-local-copies=1 -Dnu.
validator.servlet.w3cbranding=0
-Dorg.mortbay.http.HttpRequest.maxFormContentSize=7340032
-Dnu.validator.servlet.host.generic= -D
nu.validator.servlet.host.html5= -Dnu.validator.servlet.host.parsetree=
-Dnu.validator.servlet.path.generic=/ -Dnu.validator.serv
let.path.html5=/html5/ -Dnu.validator.servlet.path.parsetree=/parsetree/
-Dnu.validator.servlet.path.about=./validator/site/ nu.v
alidator.servlet.Main 80
2012-04-18 16:13:42.839:INFO::Logging to STDERR via
org.mortbay.log.StdErrLog
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.useragent = Jakarta Commons-HttpClient/3.1
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.version = HTTP/1.1
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.connection-manager.class = class org.apache.commons.h
ttpclient.SimpleHttpConnectionManager
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.cookie-policy = default
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.element-charset = US-ASCII
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.content-charset = ISO-8859-1
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.method.retry-handler = org.apache.commons.httpclient.
<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">DefaultHttpMethodRetryHandler at 270e3293</A>
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.dateparser.patterns = [EEE, dd MMM yyyy HH:mm:ss zzz,         EEEE,
dd-MMM-yy HH:mm:ss zzz, EEE MMM d HH:mm:ss yyyy, EEE, dd-MMM-yyyy HH:mm:ss
z, EEE, dd-MMM-yyyy HH-mm-ss z, EEE, dd MMM yy         HH:mm:ss z, EEE
dd-MMM-yyyy HH:mm:ss z, EEE dd MMM yyyy HH:mm:ss z, EEE dd-MMM-yyyy
HH-mm-ss z, EEE dd-MMM-yy HH:mm:ss z, EEE dd         MMM yy HH:mm:ss z,
EEE,dd-MMM-yy HH:mm:ss z, EEE,dd-MMM-yyyy HH:mm:ss z, EEE, dd-MM-yyyy
HH:mm:ss z]
org.apache.commons.httpclient.HttpClient - Java version: 1.6.0_17
org.apache.commons.httpclient.HttpClient - Java vendor: Sun Microsystems
Inc.
org.apache.commons.httpclient.HttpClient - Java class path:
./dependencies/commons-codec-1.4/commons-codec-1.4.jar:./dependencies
/commons-httpclient-3.1/commons-httpclient-3.1.jar:./dependencies/commons-logging-1.1.1/commons-logging-1.1.1.jar:./dependencies/
commons-logging-1.1.1/commons-logging-adapters-1.1.1.jar:./dependencies/commons-logging-1.1.1/commons-logging-api-1.1.1.jar:./dep
endencies/icu4j-charsets-4_4_2.jar:./dependencies/icu4j-4_4_2.jar:./dependencies/iri-0.5/lib/iri.jar:./dependencies/jetty-6.1.26/
lib/servlet-api-2.5-20081211.jar:./dependencies/jetty-6.1.26/lib/jetty-6.1.26.jar:./dependencies/jetty-6.1.26/lib/jetty-util-6.1.
26.jar:./dependencies/jetty-6.1.26/lib/ext/jetty-ajp-6.1.26.jar:./dependencies/apache-log4j-1.2.15/log4j-1.2.15.jar:./dependencie
s/rhino1_7R1/js.jar:./dependencies/xerces-2_9_1/xercesImpl.jar:./dependencies/xerces-2_9_1/xml-apis.jar:./dependencies/slf4j-1.5.
2/slf4j-log4j12-1.5.2.jar:./dependencies/commons-fileupload-1.2.1/lib/commons-fileupload-1.2.1.jar:./dependencies/isorelax.jar:./
dependencies/mozilla/intl/chardet/java/dist/lib/chardet.jar:./dependencies/saxon9.jar:./jars/non-schema.jar:./jars/io-xml-util.ja
r:./jars/htmlparser.jar:./jars/hs-aelfred2.jar:./jars/html5-datatypes.jar:./jars/validator.jar:jing-trang/build/jing.jar
org.apache.commons.httpclient.HttpClient - Operating system name: Linux
org.apache.commons.httpclient.HttpClient - Operating system architecture:
amd64
org.apache.commons.httpclient.HttpClient - Operating system version:
2.6.32-71.29.1.el6.x86_64
org.apache.commons.httpclient.HttpClient - SUN 1.6: SUN (DSA key/parameter
generation; DSA signing; SHA-1, MD5 digests; SecureRan        dom; X.509
certificates; JKS keystore; PKIX CertPathValidator; PKIX CertPathBuilder;
LDAP, Collection CertStores, JavaPolicy Poli        cy; JavaLoginConfig
Configuration)
org.apache.commons.httpclient.HttpClient - SunRsaSign 1.7: Sun RSA
signature provider
org.apache.commons.httpclient.HttpClient - SunJSSE 1.6: Sun JSSE
provider(PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
org.apache.commons.httpclient.HttpClient - SunJCE 1.7: SunJCE Provider
(implements RSA, DES, Triple DES, AES, Blowfish, ARCFOUR,         RC2, PBE,
Diffie-Hellman, HMAC)
org.apache.commons.httpclient.HttpClient - SunJGSS 1.0: Sun (Kerberos v5,
SPNEGO)
org.apache.commons.httpclient.HttpClient - SunSASL 1.5: Sun SASL
provider(implements client mechanisms for: DIGEST-MD5, GSSAPI, E
XTERNAL, PLAIN, CRAM-MD5; server mechanisms for: DIGEST-MD5, GSSAPI,
CRAM-MD5)
org.apache.commons.httpclient.HttpClient - XMLDSig 1.0: XMLDSig (DOM
XMLSignatureFactory; DOM KeyInfoFactory)
org.apache.commons.httpclient.HttpClient - SunPCSC 1.6: Sun PC/SC provider
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.connection.timeout = 5000
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.socket.timeout = 5000
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.connection-manager.max-per-host = {HostConfiguration[        ]=100}
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.connection-manager.max-total = 200
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.allow-circular-redirects = true
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.protocol.max-redirects = 20
org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter
http.useragent = Validator.nu/LV
nu.validator.servlet.VerifierServletTransaction - Starting static
initializer.
nu.validator.servlet.VerifierServletTransaction - Starting to loop over
config file lines.
nu.validator.servlet.VerifierServletTransaction - Finished reading config.
nu.validator.servlet.VerifierServletTransaction - Converted config to
arrays.
nu.validator.servlet.VerifierServletTransaction - Prepared namespace array.
nu.validator.servlet.VerifierServletTransaction - Parsed doctype numbers
into ints.
nu.validator.servlet.VerifierServletTransaction - The cache path prefix is:
null
nu.validator.servlet.VerifierServletTransaction - Parsing set up. Starting
to read schemas.
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/html5.rnc">http://s.validator.nu/html5.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/html5-rdfalite.rnc">http://s.validator.nu/html5-rdfalite.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml10/xhtml-strict.rnc">http://s.validator.nu/xhtml10/xhtml-strict.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml10/xhtml.sch">http://s.validator.nu/xhtml10/xhtml.sch</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml10/xhtml-transitional.rnc">http://s.validator.nu/xhtml10/xhtml-transitional.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml10/xhtml-frameset.rnc">http://s.validator.nu/xhtml10/xhtml-frameset.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml5.rnc">http://s.validator.nu/xhtml5.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml5-rdfalite.rnc">http://s.validator.nu/xhtml5-rdfalite.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/xhtml1-ruby-rdf-svg-mathml.rnc">http://s.validator.nu/xhtml1-ruby-rdf-svg-mathml.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Will load schema:
<A HREF="http://s.validator.nu/svg-xhtml5-rdf-mathml.rnc">http://s.validator.nu/svg-xhtml5-rdf-mathml.rnc</A>
nu.validator.servlet.VerifierServletTransaction - Schemas read.
nu.validator.servlet.VerifierServletTransaction - Reading spec.
nu.validator.servlet.VerifierServletTransaction - Spec read.
nu.validator.servlet.VerifierServletTransaction - Initialization complete.
2012-04-18 16:13:51.647:INFO::jetty-6.1.26
2012-04-18 16:13:51.748:INFO::Started <A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">SocketConnector at 0.0.0.0</A>:80

Is there any obvious problem in any of that?

Telnet voodoo tells us that running &quot;GET / HTTP/1.0&quot; and hitting &lt;ENTER&gt;
twice should throw back some basic html such as

&lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;
&lt;html&gt;&lt;head&gt;
&lt;title&gt;302 Found&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;h1&gt;Found&lt;/h1&gt; and so forth ...

but in the case of the servlet, nothing whatsoever comes back. Please let
me know if you have any ideas, otherwise I will see what tcpdump has to say.




On 18 April 2012 15:09, Michael[tm] Smith &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">mike at w3.org</A>&gt; wrote:

&gt;<i> Rancid Iodine &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">rancid.iodine at gmail.com</A>&gt;, 2012-04-18 14:03 +0100:
</I>&gt;<i>
</I>&gt;<i> &gt; python build/build.py --port=80 --local run &amp;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; We can see it's listening:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [<A HREF="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">root at vp-w3c-validator12</A> tmp]# netstat -ltunp | grep 80
</I>&gt;<i> &gt; tcp        0      0 :::80                       :::*
</I>&gt;<i> &gt; LISTEN      4402/java
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Even so, I am encountering the same problem as before: although it's
</I>&gt;<i> &gt; possible to telnet to port 80 on this host from wherever (btw I run the
</I>&gt;<i> &gt; servlet on port 80 as it's the &quot;generally open&quot; port in our network),
</I>&gt;<i> it's
</I>&gt;<i> &gt; still not possible to browse port 80 on this host, not even from the
</I>&gt;<i> local
</I>&gt;<i> &gt; machine using any command line browser like lynx, links or w3m.
</I>&gt;<i>
</I>&gt;<i> I have never observed this problem and I have no idea what might be
</I>&gt;<i> causing it.
</I>&gt;<i>
</I>&gt;<i> You can get some additional debug info that might help, by editing the
</I>&gt;<i> validator/log4j.properties file and making these changes:
</I>&gt;<i>
</I>&gt;<i> -log4j.logger.org=WARN
</I>&gt;<i> +log4j.logger.org=DEBUG
</I>&gt;<i>
</I>&gt;<i> -log4j.logger.nu.validator.servlet.VerifierServlet=FATAL
</I>&gt;<i> +log4j.logger.nu.validator.servlet.VerifierServlet=DEBUG
</I>&gt;<i>
</I>&gt;<i> Beyond that, I'm stumped.
</I>&gt;<i>
</I>&gt;<i>  --Mike
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Michael[tm] Smith <A HREF="http://people.w3.org/mike">http://people.w3.org/mike</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/implementors-whatwg.org/attachments/20120418/74a1744f/attachment-0003.htm">http://lists.whatwg.org/pipermail/implementors-whatwg.org/attachments/20120418/74a1744f/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001006.html">[imps] validator front end not talking to servlet
</A></li>
	<LI>Next message: <A HREF="001008.html">[imps] validator front end not talking to servlet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1007">[ date ]</a>
              <a href="thread.html#1007">[ thread ]</a>
              <a href="subject.html#1007">[ subject ]</a>
              <a href="author.html#1007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
