<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [imps] HTML5 and libxml2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20HTML5%20and%20libxml2&In-Reply-To=%3CPine.LNX.4.62.0804052200251.12937%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000878.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[imps] HTML5 and libxml2</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20HTML5%20and%20libxml2&In-Reply-To=%3CPine.LNX.4.62.0804052200251.12937%40hixie.dreamhostps.com%3E"
       TITLE="[imps] HTML5 and libxml2">ian at hixie.ch
       </A><BR>
    <I>Sat Apr  5 15:05:00 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000878.html">[imps] HTML5 and libxml2
</A></li>
        <LI>Next message: <A HREF="000881.html">[imps] HTML5 and libxml2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, 5 Apr 2008, Edward Z. Yang wrote:
&gt;<i> 
</I>&gt;<i> Ian Hickson wrote:
</I>&gt;<i> &gt; That (erroneous, as it happens) paragraph is just describing a trend
</I>&gt;<i> &gt; in the spec's tag names, it's not a conformance criteria of any kind.
</I>&gt;<i>
</I>&gt;<i> Should I submit a patch fixing the error?
</I>
I have noted it and will fix it in due course. :-)


&gt;<i> &gt; The conformance criteria is really just that the elements in the 
</I>&gt;<i> &gt; document have to be the elements defined by the spec.
</I>&gt;<i> 
</I>&gt;<i> But the spec also defines behavior when elements are outside of the 
</I>&gt;<i> spec, i.e. an error-condition. I'd appreciate it if the allowed tag 
</I>&gt;<i> names is made a normative requirement for such elements.
</I>
The normative requirement for such elements is that they are _all_ 
invalid, even if they just use a-z characters. The range of characters 
that can be used by elements that aren't allowed is the empty range.


&gt;<i> &gt; The characters allowed in tag names are by far not the only area where 
</I>&gt;<i> &gt; XML and HTML differ, so if it is just a matter of libxml2 enforcing 
</I>&gt;<i> &gt; XML's requirements, it will not work well.
</I>&gt;<i> 
</I>&gt;<i> What are these differences explicitly?
</I>
Well for example an XML comment cannot contain the string &quot;--&quot;.


&gt;<i> &gt; If you can't implement what the spec requires, then make sure to 
</I>&gt;<i> &gt; document the limitations clearly in your documentation. Meanwhile, you 
</I>&gt;<i> &gt; can probably get away with replacing unusable characters with U+FFFD, 
</I>&gt;<i> &gt; or at a pinch, &quot;_&quot;, so long as you still use the full tag anems in the 
</I>&gt;<i> &gt; parser to determine which tags are open. However, make sure to 
</I>&gt;<i> &gt; document this as being a conformance problem in your documentation.
</I>&gt;<i> 
</I>&gt;<i> This might be tricky, and it occurs to me that as long as the 
</I>&gt;<i> substitution process works the same for the tags, &lt;a@&gt;t&lt;/a@&gt; becomes 
</I>&gt;<i> &lt;a_&gt;t&lt;/a_&gt; which is equivalent. I will, of course, document it.
</I>
What I meant is make sure that you code handles:

    &lt;a@&gt; &lt;a#&gt; &lt;/a@&gt; X

...as creating a DOM tree where the third tag above closes the first one, 
not the second one. i.e. in your parser and the stack of elements you 
should keep the original tag names, and only give the munged tag names to 
the the DOM tree.

HTH,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000878.html">[imps] HTML5 and libxml2
</A></li>
	<LI>Next message: <A HREF="000881.html">[imps] HTML5 and libxml2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
