<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [imps] HTML5 and libxml2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20HTML5%20and%20libxml2&In-Reply-To=%3C47F6FAD2.8010105%40thewritingpot.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000870.html">
   <LINK REL="Next"  HREF="000872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[imps] HTML5 and libxml2</H1>
<!--htdig_noindex-->
    <B>Edward Z. Yang</B> 
    <A HREF="mailto:implementors%40lists.whatwg.org?Subject=Re%3A%20%5Bimps%5D%20HTML5%20and%20libxml2&In-Reply-To=%3C47F6FAD2.8010105%40thewritingpot.com%3E"
       TITLE="[imps] HTML5 and libxml2">edwardzyang at thewritingpot.com
       </A><BR>
    <I>Fri Apr  4 21:06:42 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000870.html">[imps] Tree construction test in undocumented format
</A></li>
        <LI>Next message: <A HREF="000872.html">[imps] HTML5 and libxml2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#525">[ date ]</a>
              <a href="thread.html#525">[ thread ]</a>
              <a href="subject.html#525">[ subject ]</a>
              <a href="author.html#525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

As per the W3C 5 April 2008 working draft, elements not recognized by
HTML5 in body are still added to the DOM using the &quot;A start tag token
not covered by the previous entries&quot;. HTML5 does not specify any
validation mechanism in which to ensure the element has the form
stipulated by tag name, i.e. [A-Za-z-]+

Unfortunately, certain tag names causes libxml2 to choke, and HTML5
doesn't specify any way to:

1. Munge the name into something libxml2 finds acceptable
2. Ignore the tag as invalid

Without modifying the algorithms, (2) is not tenable, so I've been
looking at (1). However, HTML5's tag name stipulations appear to be too
restrictive: they do not allow digits as seen in &lt;h1&gt; and friends, and
aren't even a subset of the allowed XML tag names (XML specifies that a
hyphen cannot lead in a tag name, and allows a greater variety of
punctuation and international characters).

So, in short, due to underlying library limitations I can't put
arbitrary characters in a tag (which is what Firefox actually seems to
do), and I don't know exactly what characters I need to get rid of. Advice?

[1] <A HREF="http://www.w3.org/html/wg/html5/#tag-name">http://www.w3.org/html/wg/html5/#tag-name</A>
[2] <A HREF="http://www.w3.org/TR/REC-xml/#NT-Name">http://www.w3.org/TR/REC-xml/#NT-Name</A>

- --
 Edward Z. Yang                        GnuPG: 0x869C48DA
 HTML Purifier &lt;<A HREF="http://htmlpurifier.org">http://htmlpurifier.org</A>&gt; Anti-XSS Filter
 [[ 3FA8 E9A9 7385 B691 A6FC B3CB A933 BE7D 869C 48DA ]]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (MingW32)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFH9vrSqTO+fYacSNoRAvt/AJ494M4fINnrRUAf/GbJgvvjoP6XqgCdGE4a
/1CeZKB6aFjfU+CEBzhukXA=
=nwJ1
-----END PGP SIGNATURE-----

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000870.html">[imps] Tree construction test in undocumented format
</A></li>
	<LI>Next message: <A HREF="000872.html">[imps] HTML5 and libxml2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#525">[ date ]</a>
              <a href="thread.html#525">[ thread ]</a>
              <a href="subject.html#525">[ subject ]</a>
              <a href="author.html#525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/implementors-whatwg.org">More information about the Implementors
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
