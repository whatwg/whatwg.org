<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Why&nbsp;don&#39;t&nbsp;you&nbsp;crosscompile&nbsp;libpng&nbsp;and&nbsp;libjpeg&nbsp; to&nbsp;JavaScript&nbsp;with&nbsp;empscripten&nbsp;and&nbsp;do&nbsp;the&nbsp;recoding&nbsp;yourself?&lt;div&gt;You&nbsp;can&nbsp;use&nbsp;web&nbsp;workers&nbsp;if&nbsp;the&nbsp;compression&nbsp;is&nbsp;slow&nbsp;and&nbsp;you&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;block&nbsp;the&nbsp;main&nbsp;window.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;21,&nbsp;2013&nbsp;at&nbsp;4:27&nbsp;AM,&nbsp;Sigurd&nbsp;Lerstad&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:sigurd.lerstad@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;sigurd.lerstad@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
Thank&nbsp;you&nbsp;Ian,&nbsp;for&nbsp;your&nbsp;response.&lt;br&gt;<br>
The&nbsp;use&nbsp;case&nbsp;for&nbsp;my&nbsp;canvas.toDataURL&nbsp;improvements&nbsp;is&nbsp;making&nbsp;a&nbsp;paint/drawing&lt;br&gt;<br>
program&nbsp;and&nbsp;presenting&nbsp;more&nbsp;options&nbsp;to&nbsp;the&nbsp;user&nbsp;when&nbsp;exporting&nbsp;to&nbsp;a&nbsp;file&lt;br&gt;<br>
format.&nbsp;It&#39;s&nbsp;as&nbsp;simple&nbsp;as&nbsp;that.&nbsp;As&nbsp;for&nbsp;your&nbsp;point&nbsp;of&nbsp;sending&nbsp;to&nbsp;a&nbsp;server,&lt;br&gt;<br>
what&nbsp;if&nbsp;a&nbsp;server&nbsp;isn&#39;t&nbsp;available,&nbsp;what&nbsp;if&nbsp;this&nbsp;is&nbsp;an&nbsp;offline&nbsp;app?&lt;br&gt;<br>
Anyway...&nbsp;I&nbsp;personally&nbsp;missed&nbsp;more&nbsp;control&nbsp;when&nbsp;developing&nbsp;my&nbsp;online&nbsp;paint&lt;br&gt;<br>
program,&nbsp;but&nbsp;I&nbsp;see&nbsp;why&nbsp;this&nbsp;is&nbsp;special.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;Ian&nbsp;Hickson&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;]&lt;br&gt;<br>
Sent:&nbsp;21.&nbsp;august&nbsp;2013&nbsp;01:34&lt;br&gt;<br>
To:&nbsp;Sigurd&nbsp;Lerstad&lt;br&gt;<br>
Cc:&nbsp;&lt;a&nbsp;href=&quot;mailto:help@whatwg.org&quot;&gt;help@whatwg.org&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[html5]&nbsp;HTML5&nbsp;canvas.toDataURL&nbsp;suggestions&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Sat,&nbsp;18&nbsp;May&nbsp;2013,&nbsp;Sigurd&nbsp;Lerstad&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;suggest&nbsp;improving&nbsp;/&nbsp;making&nbsp;more&nbsp;flexible&nbsp;the&nbsp;canvas.toDataURL&nbsp;API&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;API&nbsp;is&nbsp;currently&nbsp;called&nbsp;with&nbsp;a&nbsp;second&nbsp;quality&nbsp;argument&nbsp;for&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;JPEG&nbsp;and&nbsp;WebP&nbsp;formats,&nbsp;and&nbsp;no&nbsp;second&nbsp;argument&nbsp;for&nbsp;the&nbsp;PNG&nbsp;format:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;toDataURL(type,&nbsp;quality);&nbsp; //&nbsp;JPEG&nbsp;and&nbsp;WebP&lt;br&gt;<br>
&gt;&nbsp;toDataURL(type);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;PNG&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;suggest&nbsp;the&nbsp;following&nbsp;possibilities&nbsp;as&nbsp;well:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grayscale:&nbsp;true/false,&nbsp; &nbsp; &nbsp;//&nbsp;since&nbsp;the&nbsp;JPEG&nbsp;format&nbsp;also&lt;br&gt;<br>
&gt;&nbsp;supports&nbsp;grayscale&nbsp;images&nbsp;at&nbsp;smaller&nbsp;files&nbsp;sizes&lt;br&gt;<br>
&lt;br&gt;<br>
What&#39;s&nbsp;the&nbsp;use&nbsp;case?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; progressive:&nbsp;true/false&lt;br&gt;<br>
&lt;br&gt;<br>
What&#39;s&nbsp;the&nbsp;use&nbsp;case&nbsp;for&nbsp;controlling&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;be&nbsp;perfectly&nbsp;honest,&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;understand&nbsp;why&nbsp;we&#39;d&nbsp;want&nbsp;to&nbsp;expose&nbsp;as&lt;br&gt;<br>
a&nbsp;lossy&nbsp;format&nbsp;at&nbsp;all.&nbsp;It&nbsp;seems&nbsp;better&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;data&nbsp;to&nbsp;the&nbsp;server,&lt;br&gt;<br>
and&nbsp;then&nbsp;let&nbsp;the&nbsp;server&nbsp;do&nbsp;whatever&nbsp;it&nbsp;needs&nbsp;to&nbsp;do&nbsp;(convert&nbsp;to&nbsp;JPEG,&nbsp;etc)&lt;br&gt;<br>
for&nbsp;long-term&nbsp;use&nbsp;of&nbsp;the&nbsp;data.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interlaced:&nbsp;true/false,&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grayscale:&nbsp;true/false,&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alpha:&nbsp;true/false,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Some&nbsp;means&nbsp;of&nbsp;creating&nbsp;8bit&nbsp;color&nbsp;indexed&nbsp;PNG&nbsp;would&nbsp;also&nbsp;be&nbsp;nice.&lt;br&gt;<br>
&lt;br&gt;<br>
Nice&nbsp;for&nbsp;what?&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;understand&nbsp;the&nbsp;use&nbsp;cases&nbsp;here.&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Ian&nbsp;Hickson&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U+1047E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )\._.,--....,&#39;``.&nbsp; &nbsp; fL&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ln.hixie.ch/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ln.hixie.ch/&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp;U+263A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /,&nbsp; &nbsp;_..&nbsp;\&nbsp; &nbsp;_\&nbsp; ;`._&nbsp;,.&lt;br&gt;<br>
Things&nbsp;that&nbsp;are&nbsp;impossible&nbsp;just&nbsp;take&nbsp;longer.&nbsp; &nbsp;`._.-(,_..&#39;--(,_..&#39;`-.;.&#39;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Help&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Help@lists.whatwg.org&quot;&gt;Help@lists.whatwg.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.whatwg.org/listinfo.cgi/help-whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.whatwg.org/listinfo.cgi/help-whatwg.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
