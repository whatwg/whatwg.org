<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;thoughts,&nbsp;Dmitry!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;sure&nbsp;one&nbsp;can&nbsp;use&nbsp;the&nbsp;iframe&nbsp;approach&nbsp;you&nbsp;mention.&nbsp;Would&nbsp;you&nbsp;agree,&nbsp;though,&nbsp;that&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;very&nbsp;elegant&nbsp;way&nbsp;of&nbsp;solving&nbsp;this&nbsp;problem?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;also&nbsp;completely&nbsp;agree&nbsp;that&nbsp;a&nbsp;timeout&nbsp;would&nbsp;be&nbsp;a&nbsp;bad&nbsp;idea&nbsp;here&nbsp;(unreliable&nbsp;in&nbsp;so&nbsp;many&nbsp;ways&nbsp;it&nbsp;gives&nbsp;me&nbsp;hives)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;I&nbsp;feel&nbsp;like&nbsp;I&nbsp;don't&nbsp;understand&nbsp;your&nbsp;point&nbsp;about&nbsp;redirects&nbsp;being&nbsp;difficult/unreliable.&nbsp;&nbsp;Sounds&nbsp;like&nbsp;there's&nbsp;something&nbsp;I&nbsp;don't&nbsp;understand.&nbsp;&nbsp;Can&nbsp;you&nbsp;explain&nbsp;more?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;David&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;2010/6/4,&nbsp;at&nbsp;上午9:25,&nbsp;Dmitry&nbsp;Titov&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;Hi&nbsp;David,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;the&nbsp;shared&nbsp;worker&nbsp;will&nbsp;not&nbsp;survive&nbsp;this&nbsp;transition.&nbsp;One&nbsp;way&nbsp;to&nbsp;keep&nbsp;it&nbsp;alive&nbsp;is&nbsp;to&nbsp;use&nbsp;more&nbsp;complex&nbsp;page&nbsp;with&nbsp;nested&nbsp;iframe&nbsp;(and&nbsp;navigate&nbsp;the&nbsp;iframe,&nbsp;keeping&nbsp;parent&nbsp;alive).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Theoretically,&nbsp;the&nbsp;spec&nbsp;could&nbsp;prescribe&nbsp;keeping&nbsp;the&nbsp;worker&nbsp;alive&nbsp;for&nbsp;a&nbsp;certain&nbsp;period&nbsp;of&nbsp;time,&nbsp;or&nbsp;when&nbsp;navigating&nbsp;to&nbsp;another&nbsp;page&nbsp;in&nbsp;the&nbsp;same&nbsp;origin,&nbsp;but&nbsp;all&nbsp;those&nbsp;methods&nbsp;are&nbsp;somewhat&nbsp;unreliable&nbsp;(timeouts&nbsp;are&nbsp;arbitrary,&nbsp;redirects&nbsp;are&nbsp;difficult&nbsp;etc).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dmitry&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;----------&nbsp;Forwarded&nbsp;message&nbsp;----------&lt;br&gt;From:&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;David&nbsp;John&nbsp;Burrowes&lt;/b&gt;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:davidjohnburrowes@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;davidjohnburrowes@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
Date:&nbsp;Thu,&nbsp;May&nbsp;27,&nbsp;2010&nbsp;at&nbsp;5:53&nbsp;PM&lt;br&gt;Subject:&nbsp;[html5]&nbsp;Newbie&nbsp;question&nbsp;about&nbsp;SharedWorkers&lt;br&gt;To:&nbsp;&lt;a&nbsp;href=&quot;mailto:help@lists.whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;help@lists.whatwg.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Hello&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I'm&nbsp;making&nbsp;my&nbsp;way&nbsp;through&nbsp;the&nbsp;spec&nbsp;about&nbsp;Workers,&nbsp;and&nbsp;have&nbsp;a&nbsp;question&nbsp;about&nbsp;SharedWorkers.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;spec&nbsp;makes&nbsp;various&nbsp;references&nbsp;to&nbsp;shared&nbsp;workers&nbsp;being&nbsp;used&nbsp;by&nbsp;multiple&nbsp;pages&nbsp;in&nbsp;parallel.&nbsp;&nbsp;My&nbsp;question&nbsp;is&nbsp;can&nbsp;a&nbsp;shared&nbsp;worker&nbsp;be&nbsp;used&nbsp;by&nbsp;two&nbsp;sequentially&nbsp;accessed&nbsp;pages?&nbsp;&nbsp;My&nbsp;reading&nbsp;of&nbsp;the&nbsp;spec&nbsp;says&nbsp;&quot;no&quot;,&nbsp;but&nbsp;my&nbsp;intuition&nbsp;about&nbsp;what&nbsp;behavior&nbsp;I&nbsp;would&nbsp;&quot;expect&quot;&nbsp;says&nbsp;I&nbsp;should&nbsp;be&nbsp;able&nbsp;to.&nbsp;&nbsp;Is&nbsp;my&nbsp;reading&nbsp;of&nbsp;the&nbsp;spec&nbsp;right?&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;<br>
Here's&nbsp;an&nbsp;example:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;have&nbsp;two&nbsp;pages:&nbsp;P1&nbsp;and&nbsp;P2&nbsp;(from&nbsp;the&nbsp;same&nbsp;origin&nbsp;etc)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P1&nbsp;has&nbsp;a&nbsp;link&nbsp;to&nbsp;P2&nbsp;on&nbsp;it&nbsp;(&lt;a&nbsp;href=&quot;P2&quot;&gt;)&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Both&nbsp;P1&nbsp;and&nbsp;P2&nbsp;reference&nbsp;a&nbsp;shared&nbsp;worker&nbsp;SW&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;the&nbsp;user&nbsp;gets&nbsp;page&nbsp;P1,&nbsp;then&nbsp;SW&nbsp;is&nbsp;created.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;then&nbsp;clicks&nbsp;on&nbsp;the&nbsp;link&nbsp;to&nbsp;P2&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;interpretation&nbsp;of&nbsp;the&nbsp;spec&nbsp;says&nbsp;that&nbsp;when&nbsp;this&nbsp;link&nbsp;is&nbsp;clicked,&nbsp;P1&nbsp;will&nbsp;be&nbsp;made&nbsp;no&nbsp;longer&nbsp;active,&nbsp;so&nbsp;it&nbsp;will&nbsp;be&nbsp;removed&nbsp;from&nbsp;SW's&nbsp;list&nbsp;of&nbsp;Documents.&nbsp;&nbsp;This&nbsp;will&nbsp;leave&nbsp;SW's&nbsp;list&nbsp;empty,&nbsp;which&nbsp;will&nbsp;make&nbsp;it&nbsp;no&nbsp;longer&nbsp;a&nbsp;permissable&nbsp;worker.&nbsp;It's&nbsp;closing&nbsp;flag&nbsp;will&nbsp;be&nbsp;set&nbsp;to&nbsp;true,&nbsp;and&nbsp;presumably&nbsp;there's&nbsp;a&nbsp;chance&nbsp;it&nbsp;will&nbsp;be&nbsp;destroyed&nbsp;before&nbsp;P2&nbsp;can&nbsp;be&nbsp;loaded&nbsp;and&nbsp;access&nbsp;SW.&nbsp;&nbsp;So,&nbsp;P2&nbsp;will&nbsp;need&nbsp;to&nbsp;re-create&nbsp;SW.&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;<br>
It&nbsp;seems&nbsp;desirable&nbsp;to&nbsp;me&nbsp;that&nbsp;if&nbsp;a&nbsp;page&nbsp;transition&nbsp;is&nbsp;being&nbsp;made&nbsp;between&nbsp;pages&nbsp;with&nbsp;compatible&nbsp;origins,&nbsp;that&nbsp;a&nbsp;shared&nbsp;worker&nbsp;would&nbsp;be&nbsp;preserved&nbsp;across&nbsp;them,&nbsp;allowing&nbsp;complex&nbsp;calculations&nbsp;being&nbsp;done&nbsp;by&nbsp;the&nbsp;worker&nbsp;to&nbsp;be&nbsp;shared&nbsp;by&nbsp;the&nbsp;pages&nbsp;(obviously,&nbsp;the&nbsp;worker&nbsp;could&nbsp;be&nbsp;storing&nbsp;its&nbsp;work&nbsp;in&nbsp;a&nbsp;database,&nbsp;and&nbsp;then&nbsp;reloading&nbsp;that&nbsp;when&nbsp;it&nbsp;is&nbsp;created.&nbsp;&nbsp;But,&nbsp;that&nbsp;seems&nbsp;like&nbsp;overkill)&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;<br>
Thoughts?&lt;br&gt;<br>
&lt;br&gt;<br>
David&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Help&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Help@lists.whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Help@lists.whatwg.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.whatwg.org/listinfo.cgi/help-whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.whatwg.org/listinfo.cgi/help-whatwg.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
