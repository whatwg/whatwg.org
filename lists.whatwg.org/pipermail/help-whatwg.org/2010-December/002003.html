<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] JSON parsing in Web Worker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20JSON%20parsing%20in%20Web%20Worker&In-Reply-To=%3CAANLkTimwvDtXCpPnA8wJDFu82nWkbmVgES5NbrBk7OWX%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001999.html">
   <LINK REL="Next"  HREF="003313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] JSON parsing in Web Worker</H1>
<!--htdig_noindex-->
    <B>Igor Minar</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20JSON%20parsing%20in%20Web%20Worker&In-Reply-To=%3CAANLkTimwvDtXCpPnA8wJDFu82nWkbmVgES5NbrBk7OWX%40mail.gmail.com%3E"
       TITLE="[html5] JSON parsing in Web Worker">iiminar at gmail.com
       </A><BR>
    <I>Tue Dec 28 10:35:11 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001999.html">[html5] Autoplay and preload insufficient for proper video playback
</A></li>
        <LI>Next message: <A HREF="003313.html">[html5] JSON parsing in Web Worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello,

I'm exploring the possibilities of using web workers for parsing large
JSON files outside of the main UI thread.

I found several references that this could be one of the use cases for
web workers (e.g. oreilly's intro to web workers [1]). However, the
more I read about webworkers, the less attractive they are for this
purpose, mainly because of how data is passed from worker to the main
thread.

Please correct me if I'm wrong, but my understanding is that any data
that is returned in the message from the worker, is copied rather than
shared and it seems that this is often implemented by serializing the
data into a json string and then deserializing it in the main script.
Is this right? Because if it is, then what's the point of parsing the
json string in worker thread, just to serialize it and then parse it
again in the main thread.

I'd love to be wrong about this because the concept of workers looks
like a perfect match for my use case (parsing large json payloads
quickly without affecting the UI), but my trivial microbenchmarks show
that the overhead of passing the data to, as well as from the
webworker is just too big to use it for this purpose.

thanks,
Igor


[1] <A HREF="http://answers.oreilly.com/topic/1358-introducing-the-web-workers-api/">http://answers.oreilly.com/topic/1358-introducing-the-web-workers-api/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001999.html">[html5] Autoplay and preload insufficient for proper video playback
</A></li>
	<LI>Next message: <A HREF="003313.html">[html5] JSON parsing in Web Worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
