<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Incremental rendering of XHTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Incremental%20rendering%20of%20XHTML5&In-Reply-To=%3CCAAuwN4Gr4mk0s9vQ9uBYpZGHgd-ofpZRCDC_ROdtK-OmD%2B1tJw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003523.html">
   <LINK REL="Next"  HREF="003528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Incremental rendering of XHTML5</H1>
<!--htdig_noindex-->
    <B>Jesper Tverskov</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Incremental%20rendering%20of%20XHTML5&In-Reply-To=%3CCAAuwN4Gr4mk0s9vQ9uBYpZGHgd-ofpZRCDC_ROdtK-OmD%2B1tJw%40mail.gmail.com%3E"
       TITLE="[html5] Incremental rendering of XHTML5">jesper at tverskov.dk
       </A><BR>
    <I>Thu Aug 11 05:18:37 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003523.html">[html5] is &lt;section&gt; the appropriate tag for the main content section of a page?
</A></li>
        <LI>Next message: <A HREF="003528.html">[html5] Incremental rendering of XHTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Incremental rendering of XHTML5

All major browsers, IE9, Firefox, Safari, Opera, Chrome, today use
incremental rendering also for XML webpages like XHTML5 served with
&quot;application/xhtml+xml&quot;. Both for XHTML5 and HTML5 the first &quot;screen&quot;
of a webpage is ready for consumption so fast, that size of the file
hardly seems too matter anymore!

If in doubt, test this mega size webpage of 10,000 lines. I use
polyglot XHTML5 served with &quot;application/xhtml+xml&quot; to the browsers
understanding it. In the last line of the file I have made a
well-formedness error. All major browsers show the first screen of the
webpage almost instantly. After a while, a few seconds, the parsing
reach the wellfomedness error and show an XML error message instead of
the webpage.

<A HREF="http://www.xmlplease.com/parsing/test/">http://www.xmlplease.com/parsing/test/</A>

IE9 is a little too creative! If you use mimetype
&quot;application/xhtml+xml&quot; it uses the XML parser but switches to HTML
parsing if it finds a wellformedness error!

Here are two tests of the same file rendered as XML (if you have a new
browser) and HTML, if you want to compare the rendering speed of the
first screen. In my naked eye it looks the same.

XHTML5
<A HREF="http://www.xmlplease.com/parsing/test1a/">http://www.xmlplease.com/parsing/test1a/</A>

HTML5
<A HREF="http://www.xmlplease.com/parsing/test1b/">http://www.xmlplease.com/parsing/test1b/</A>

Here are my questions. What is known about the difference in speed
between XML parsing and HTML parsing of webpages?

1.	In theory an XML parser ought to be faster, being less complex than
an HTML parser.

2.	If an HTML5 page is optimized for small size avoiding end tags for
&quot;p&quot; elements, etc., it probably has a marginal speed advantage that
might make up for the slower parsing?

3.	It could also be true that you get the fastest HTML parsing if the
markup is as well-formed as possible?

4.	Since we have extremely fast incremental rendering both for XHTML5
and HTML5, file size doesn't matter much in a modern browser?

Cheers
Jesper Tverskov
<A HREF="http://www.xmlplease.com">http://www.xmlplease.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003523.html">[html5] is &lt;section&gt; the appropriate tag for the main content section of a page?
</A></li>
	<LI>Next message: <A HREF="003528.html">[html5] Incremental rendering of XHTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
