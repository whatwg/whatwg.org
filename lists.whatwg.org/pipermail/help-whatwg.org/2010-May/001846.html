<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Newbie question about SharedWorkers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Newbie%20question%20about%20SharedWorkers&In-Reply-To=%3CD101908A-9CA4-4FC0-A90E-B8E6F8FAB006%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001845.html">
   <LINK REL="Next"  HREF="001847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Newbie question about SharedWorkers</H1>
<!--htdig_noindex-->
    <B>David John Burrowes</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Newbie%20question%20about%20SharedWorkers&In-Reply-To=%3CD101908A-9CA4-4FC0-A90E-B8E6F8FAB006%40gmail.com%3E"
       TITLE="[html5] Newbie question about SharedWorkers">davidjohnburrowes at gmail.com
       </A><BR>
    <I>Thu May 27 09:53:59 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001845.html">[html5] About possible formats for multiple audio and subtitle	streams for HTML5
</A></li>
        <LI>Next message: <A HREF="001847.html">[html5] Problem with missing htmlparser.jar on Debian Lenny
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1846">[ date ]</a>
              <a href="thread.html#1846">[ thread ]</a>
              <a href="subject.html#1846">[ subject ]</a>
              <a href="author.html#1846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello all,

I'm making my way through the spec about Workers, and have a question about SharedWorkers.


The spec makes various references to shared workers being used by multiple pages in parallel.  My question is can a shared worker be used by two sequentially accessed pages?  My reading of the spec says &quot;no&quot;, but my intuition about what behavior I would &quot;expect&quot; says I should be able to.  Is my reading of the spec right?

Here's an example:
	We have two pages: P1 and P2 (from the same origin etc)
	P1 has a link to P2 on it (&lt;a href=&quot;P2&quot;&gt;) 

	Both P1 and P2 reference a shared worker SW

	When the user gets page P1, then SW is created.
	User then clicks on the link to P2

My interpretation of the spec says that when this link is clicked, P1 will be made no longer active, so it will be removed from SW's list of Documents.  This will leave SW's list empty, which will make it no longer a permissable worker. It's closing flag will be set to true, and presumably there's a chance it will be destroyed before P2 can be loaded and access SW.  So, P2 will need to re-create SW.

It seems desirable to me that if a page transition is being made between pages with compatible origins, that a shared worker would be preserved across them, allowing complex calculations being done by the worker to be shared by the pages (obviously, the worker could be storing its work in a database, and then reloading that when it is created.  But, that seems like overkill)

Thoughts?

David


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001845.html">[html5] About possible formats for multiple audio and subtitle	streams for HTML5
</A></li>
	<LI>Next message: <A HREF="001847.html">[html5] Problem with missing htmlparser.jar on Debian Lenny
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1846">[ date ]</a>
              <a href="thread.html#1846">[ thread ]</a>
              <a href="subject.html#1846">[ subject ]</a>
              <a href="author.html#1846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
