<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] html5 code for ipad video display
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20html5%20code%20for%20ipad%20video%20display&In-Reply-To=%3C1315845897.53235.YahooMailNeo%40web36105.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002242.html">
   <LINK REL="Next"  HREF="002244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] html5 code for ipad video display</H1>
<!--htdig_noindex-->
    <B>Jody Gugelhupf</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20html5%20code%20for%20ipad%20video%20display&In-Reply-To=%3C1315845897.53235.YahooMailNeo%40web36105.mail.mud.yahoo.com%3E"
       TITLE="[html5] html5 code for ipad video display">knueffle at yahoo.com
       </A><BR>
    <I>Mon Sep 12 09:44:57 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002242.html">[html5] HTML5 Audio Support Ready or Not?
</A></li>
        <LI>Next message: <A HREF="002244.html">[html5] Benefits of polyglot XHTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2243">[ date ]</a>
              <a href="thread.html#2243">[ thread ]</a>
              <a href="subject.html#2243">[ subject ]</a>
              <a href="author.html#2243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all :)
My system:I run ubuntu natty, and have an old analog TV card, the winTV-go +FM. and vlc 1.1.9., apache2What I want to achieve:take the output of my old tv card, stream it with vlc and have the stream&#160;embedded&#160;on a local site to be displayed with html5, so i can watch the stream on my ipad 1 or 2Current situation:I have managed to get streaming with vlc working (i don't use the gui) with different containters and codecs. I have 3 working stream-commands that include:
1: vlc -vvv v4l2:///dev/video0:width=640:height=480 :input-slave=<A HREF="alsa://hw:1,1">alsa://hw:1,1</A> --sout '#transcode{vcodec=mp4v,acodec=mp3,vb=8000,ab=128,channels=1,samplerate=44100}:standard{access=http,mux=ts,dst=192.168.1.10:9090}'
2: vlc -vvv v4l2:///dev/video0:width=640:height=480 :input-slave=<A HREF="alsa://hw:1,1">alsa://hw:1,1</A> --sout '#transcode{vcodec=theo,acodec=mp3,vb=8000,ab=128,channels=1,samplerate=44100}:standard{access=http,mux=ogg,dst=192.168.1.10:9080/test.ogv}'
3: vlc -v v4l2:///dev/video0:width=640:height=480 :input-slave=<A HREF="alsa://hw:1,1">alsa://hw:1,1</A> --sout '#transcode{vcodec=h264,vb=1024,acodec=mp3,channels=1,ab=128,samplerate=44100}:standard{access=http,mux=ts,dst=192.168.1.10:9080/test.mp4}'
I can open all 3 streams on a different computer and play them in vlc, Note on the side: the *.ogv stream i can also just enter as an url (<A HREF="http://192.168.1.10:9080/test.ogv">http://192.168.1.10:9080/test.ogv</A>)&#160;in chrome and it displays it there as a video, the other 2 streams it tries to download as a file.
So far so good, now I come to my html5 code:
&lt;html&gt;&#160;&#160;
&lt;head&gt;&#160;
&lt;script src=&quot;video.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&#160; &#160;&#160;
&lt;link rel=&quot;stylesheet&quot; href=&quot;video-js.css&quot; type=&quot;text/css&quot; media=&quot;screen&quot; title=&quot;Video JS&quot; charset=&quot;utf-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;&#160; &#160;&#160;
&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&#160; &#160; &#160;
VideoJS.setupAllWhenReady();&#160; &#160;&#160;
&lt;/script&gt;&#160;&#160;
&lt;div class=&quot;video-js-box&quot;&gt;&#160; &#160;&#160;
&lt;video class=&quot;video-js&quot; width=&quot;640&quot; height=&quot;480&quot; controls preload poster=&quot;<A HREF="http://192.168.1.10/TV_new/jen.jpg">http://192.168.1.10/TV_new/jen.jpg</A>&quot;&gt;&#160; &#160; &#160;&#160;
&lt;source src=<A HREF="http://192.168.1.10:9080/test.ogv">http://192.168.1.10:9080/test.ogv</A> type=video/ogg; codecs=&quot;theora, vorbis&quot;'&gt; &#160;&#160; &#160; &#160; &#160;&#160;
&lt;!-- Image Fallback. --&gt;&#160; &#160; &#160; &#160;&#160;
&lt;img src=&quot;<A HREF="http://192.168.1.10/TV_new/jen.jpg">http://192.168.1.10/TV_new/jen.jpg</A>&quot; width=&quot;640&quot; height=&quot;264&quot; alt=&quot;Poster Image&quot; title=&quot;No video playback capabilities.&quot; /&gt;&#160; &#160; &#160; &lt;/object&gt;&#160; &#160; &lt;/video&gt;&#160; &#160; &lt;/p&gt;&#160; &lt;/div&gt;&#160; &lt;/body&gt;&lt;/html&gt;

this works perfectly in chrome, but because it is ogv it will of course not work on the ipad, so i need to use h.264/mp4 as that is supported/built in with safari, but when using the stream command 1 or 3 then i get no video displayed on ipad or chrome.When not using stream-command 2 (the ogv command) I adjust the html5 code to one of the following (I have tried all 3):
&#160; &#160; &#160; &lt;source src=<A HREF="http://192.168.1.10:9080/test.mp4">http://192.168.1.10:9080/test.mp4</A> type=video/mp4; codecs=&quot;avc1.4D401E, mp3&quot;'&gt; &#160;
or
&#160;&#160; &#160; &lt;source src=<A HREF="http://192.168.1.10:9080/test.mp4">http://192.168.1.10:9080/test.mp4</A> type=video/mp4'&gt; &#160;
or
&#160;&#160; &#160; &lt;source src=<A HREF="http://192.168.1.10:9080/test.mp4">http://192.168.1.10:9080/test.mp4</A>'&gt; &#160;
none of these work.
I have also added mime types to my /etc/mime.types video/mp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; mp4
video/quicktime &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; qt mov
video/mp4v-es
video/ogg &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ogv
video/webm &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;webm
video/x-matroska &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;mpv mkv
application/x-mpegURL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; m3u8
video/MP2T &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ts
application/x-mpegURL .m3u8
how do I have to specify the html5 code for it to be properly displayed on my ipad? anyone got a clue?btw I have also tried http apple live stream using ffmpeg and segmenter and i get that working as well, but due to the fact that TV is a&#160;continuous&#160;stream of data it does not work well with the playlist, so i stops after a while and you need to restart etc, not very handy and i want the above working, would appreciate the help, thanks in advance :)
jody
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/help-whatwg.org/attachments/20110912/4fe820ec/attachment-0001.htm">http://lists.whatwg.org/pipermail/help-whatwg.org/attachments/20110912/4fe820ec/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002242.html">[html5] HTML5 Audio Support Ready or Not?
</A></li>
	<LI>Next message: <A HREF="002244.html">[html5] Benefits of polyglot XHTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2243">[ date ]</a>
              <a href="thread.html#2243">[ thread ]</a>
              <a href="subject.html#2243">[ subject ]</a>
              <a href="author.html#2243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
