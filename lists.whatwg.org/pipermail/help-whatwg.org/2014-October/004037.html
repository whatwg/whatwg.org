<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Optional end tag for P before FIGURE?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Optional%20end%20tag%20for%20P%20before%20FIGURE%3F&In-Reply-To=%3C54324929.7090303%40kolumbus.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004033.html">
   <LINK REL="Next"  HREF="004038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Optional end tag for P before FIGURE?</H1>
<!--htdig_noindex-->
    <B>Jukka K. Korpela</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Optional%20end%20tag%20for%20P%20before%20FIGURE%3F&In-Reply-To=%3C54324929.7090303%40kolumbus.fi%3E"
       TITLE="[html5] Optional end tag for P before FIGURE?">jukka.k.korpela at kolumbus.fi
       </A><BR>
    <I>Mon Oct  6 00:47:53 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="004033.html">[html5] Optional end tag for P before FIGURE?
</A></li>
        <LI>Next message: <A HREF="004038.html">[html5] Optional end tag for P before FIGURE?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4037">[ date ]</a>
              <a href="thread.html#4037">[ thread ]</a>
              <a href="subject.html#4037">[ subject ]</a>
              <a href="author.html#4037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>2014-10-03 23:09, Ezequiel Garz&#243;n wrote:
&gt;<i> Greetings! Is there a reason FIGURE is not one of the elements before
</I>&gt;<i> which the P end tag may be omitted? The WHATWG and W3C validators do
</I>&gt;<i> not objetct, but it is not valid markup as I see it:
</I>
Probably this is just an oversight: FIGURE was added to the language 
after this text was written:

&gt;<i> &quot;A p element's end tag can be omitted if the p element is immediately
</I>&gt;<i> followed by an address, article, aside, blockquote, div, dl, fieldset,
</I>&gt;<i> footer, form, h1, h2, h3, h4, h5, h6, header, hgroup, hr, main, menu,
</I>&gt;<i> nav, ol, p, pre, section, table, or ul, element, or if there is no
</I>&gt;<i> more content in the parent element and the parent element is not an a
</I>&gt;<i> element.&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>
In previous versions of HTML, start or end tag omission rules were 
either derivable
from formal syntax rules in a DTD or, in XHTML, start or end tag 
omission was
completely forbidden (as it still is in XHTML syntax). Now that HTML 
isn&#8217;t even
formally based on SGML, the tag omission rules need to be spelled out in 
detail
as above. Changes in the language thus require revisions of such rules.

You can test what modern browsers actually do:

&lt;!doctype html&gt;
&lt;style&gt;
p { background: yellow }
&lt;/style&gt;
&lt;p&gt;Hello world
&lt;figure&gt;&lt;img src=test.png alt=&quot;(demo)&quot;&gt;
&lt;figcaption&gt;Just a demo&lt;/figcaption&gt;
&lt;/figure&gt;
Text continues here.

If the image and its caption are not indented, the browser does not 
support the figure
element (in practice; in theory, it could support it but without 
applying the &quot;expected
rendering&quot; rules, but that would be pointless). The yellow background 
does not
extend to the figure or to the text after it, so the browser has implied 
a closing
&lt;/p&gt; when it sees &lt;figure&gt; and there is an open p element. You can check 
this
also in the browser's Developer Tools, where elements are typically shown so
that the implied tags are present.

-- 
Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A>

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004033.html">[html5] Optional end tag for P before FIGURE?
</A></li>
	<LI>Next message: <A HREF="004038.html">[html5] Optional end tag for P before FIGURE?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4037">[ date ]</a>
              <a href="thread.html#4037">[ thread ]</a>
              <a href="subject.html#4037">[ subject ]</a>
              <a href="author.html#4037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
