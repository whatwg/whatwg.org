<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] A question about html5 canvas drawImage and tint /	tinting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20A%20question%20about%20html5%20canvas%20drawImage%20and%20tint%20/%0A%09tinting&In-Reply-To=%3Cp2lea09c0d11004250405sfb2be716p8714923b0e6ecb91%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001798.html">
   <LINK REL="Next"  HREF="003117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] A question about html5 canvas drawImage and tint /	tinting</H1>
<!--htdig_noindex-->
    <B>Philip Taylor</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20A%20question%20about%20html5%20canvas%20drawImage%20and%20tint%20/%0A%09tinting&In-Reply-To=%3Cp2lea09c0d11004250405sfb2be716p8714923b0e6ecb91%40mail.gmail.com%3E"
       TITLE="[html5] A question about html5 canvas drawImage and tint /	tinting">excors at gmail.com
       </A><BR>
    <I>Sun Apr 25 04:05:13 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001798.html">[html5] A question about html5 canvas drawImage and tint / tinting
</A></li>
        <LI>Next message: <A HREF="003117.html">[html5] A question about html5 canvas drawImage and tint /	tinting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3109">[ date ]</a>
              <a href="thread.html#3109">[ thread ]</a>
              <a href="subject.html#3109">[ subject ]</a>
              <a href="author.html#3109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, Apr 25, 2010 at 9:48 AM, Steve Olofsson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">SteveOlofsson at gmail.com</A>&gt; wrote:
&gt;<i> [...] i would also like to tint my images on the fly as i draw
</I>&gt;<i> them. This would be used for example when rendering a particle fire effect
</I>&gt;<i> where each particle starts out as yellow and moves towards a red-ish tint as
</I>&gt;<i> they grow older.
</I>&gt;<i> [...]
</I>&gt;<i> I have heard of solutions where you draw the image onto another canvas and
</I>&gt;<i> tint that based on pixel values and then grab it and draw it on the main
</I>&gt;<i> canvas. However, i am assuming that this solution will 1. be slow and
</I>&gt;<i> cumbersome to use on the fly, 2. i am assuming that you loose transparency
</I>&gt;<i> data when you draw the image, because particle images will need to be
</I>&gt;<i> partially transparent in most cases.
</I>
You can do a similar effect like
<A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/460">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/460</A> - draw
the image onto a transparent canvas, draw a semi-transparent coloured
rectangle over it with globalCompositeOperation='source-atop', and
then use that canvas as the source for a normal drawImage onto your
main canvas. That mostly preserves the transparency, as long as you
don't want the tinting too strong. If you want to simply multiply the
RGB channels without affecting A, then I think you'd have to use
getImageData/putImageData (which may be a bit slow, though it's full
RGBA so you won't lose transparency).

-- 
Philip Taylor
<A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">excors at gmail.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001798.html">[html5] A question about html5 canvas drawImage and tint / tinting
</A></li>
	<LI>Next message: <A HREF="003117.html">[html5] A question about html5 canvas drawImage and tint /	tinting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3109">[ date ]</a>
              <a href="thread.html#3109">[ thread ]</a>
              <a href="subject.html#3109">[ subject ]</a>
              <a href="author.html#3109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
