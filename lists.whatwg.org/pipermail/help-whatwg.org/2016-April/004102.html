<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] &quot;internal slot&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20%22internal%20slot%22&In-Reply-To=%3CDM2PR0501MB1373EA21BE157BEE9B9BB376DF950%40DM2PR0501MB1373.namprd05.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004101.html">
   <LINK REL="Next"  HREF="004103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] &quot;internal slot&quot;</H1>
<!--htdig_noindex-->
    <B>Domenic Denicola</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20%22internal%20slot%22&In-Reply-To=%3CDM2PR0501MB1373EA21BE157BEE9B9BB376DF950%40DM2PR0501MB1373.namprd05.prod.outlook.com%3E"
       TITLE="[html5] &quot;internal slot&quot;">d at domenic.me
       </A><BR>
    <I>Tue Apr 12 16:07:59 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004101.html">[html5] &quot;internal slot&quot;
</A></li>
        <LI>Next message: <A HREF="004103.html">[html5] RESPECTED CITIZENS, I AM REQUESTING TO YOU KINDLY AND SINCERELY, REGARDING BELOW MAILS, PLEASE INFORM, CORRECT ANSWERS TO MY EMAIL ID, AFTER PROPER CONFIRMATION, THANK YOU AND GOD BLESS YOU.Ms.ERLA MAMATHA.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4102">[ date ]</a>
              <a href="thread.html#4102">[ thread ]</a>
              <a href="subject.html#4102">[ subject ]</a>
              <a href="author.html#4102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>From: Gomer Thomas [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">gomer at gomert-consulting.com</A>]


&gt;<i>               In the particular application I have in mind the stream of data comes
</I>&gt;<i> from a remote server over a WebSocket connection. There is no possibility of
</I>&gt;<i> back pressure. The chunks of bytes are simply pushed asynchronously. The
</I>&gt;<i> client Javascript code sends a request for the byte stream to start, and the
</I>&gt;<i> bytes start arriving.
</I>
Hopefully <A HREF="https://streams.spec.whatwg.org/#example-rs-push-no-backpressure">https://streams.spec.whatwg.org/#example-rs-push-no-backpressure</A> gives you some idea of how you could accomplish that.

There are vague plans to eventually introduce a backpressure-supporting ReadableStream interface for web sockets. However, we may not need to do this at all, since the primary benefits of web sockets (duplex streaming) is available with just normal HTTP/2. See previous discussions at:

- <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23992">https://www.w3.org/Bugs/Public/show_bug.cgi?id=23992</A>
- <A HREF="https://github.com/whatwg/fetch/issues/229">https://github.com/whatwg/fetch/issues/229</A>

&gt;<i>               I think a good part of my confusion stems from my assumption that
</I>&gt;<i> part of the &quot;Streams&quot; machinery (implementations of some of the
</I>&gt;<i> Classes) is intended to be built into off-the-shelf user agents, and part
</I>&gt;<i> (implementation of other Classes) must be provided by Javascript code. I am
</I>&gt;<i> having trouble understanding which Classes fall into each category.
</I>
Hmm, interesting feedback. All of the classes in the spec are provided by the browser. The &quot;underlying source&quot; object is provided by JavaScript code, but it's not a class in the spec, it's just an argument.

&gt;<i>        By the way, one thing that would make the specification more
</I>&gt;<i> understandable to a reader would be to make it explicit that the
</I>&gt;<i> ReadableStream is what makes the underlyingSource.start(controller) and
</I>&gt;<i> underlyingSource.pull(controller) calls, and to make explicit the connection
</I>&gt;<i> between the &quot;controller&quot; argument passed in those calls and the value of the
</I>&gt;<i> [[readableStreamController]] slot. The informative text says that the
</I>&gt;<i> &quot;controller&quot; can be a ReadableByteStreamController or a
</I>&gt;<i> ReadableStreamDefaultController, and the constructor steps describe how
</I>&gt;<i> to set the slot value to one or the other of these, but I could not find
</I>&gt;<i> anything that says the &quot;controller&quot; argument passed in the start() and
</I>&gt;<i> pull() calls is the slot value. This just seems to be implicitly assumed -- OK if
</I>&gt;<i> the reader already knows what is going on, but not so good if the reader is
</I>&gt;<i> trying to understand what is going on.
</I>
I don't think this is very important knowledge for JavaScript developers; it's only relevant to implementers. That is because internal slots are only relevant to implementers. And for them, it's stated very explicitly in the spec's algorithms.

&gt;<i>        Another quick question: One of the &quot;Conventions&quot; in the Streams
</I>&gt;<i> document is &quot; We similarly use the default argument notation = {} in a couple
</I>&gt;<i> of cases.&quot; What does that mean? When that appears, what is being defined
</I>&gt;<i> as a default for what?
</I>
I agree that this is not as clear as it could be; I am hoping to clear up some of the conventions soon, especially to match recent updates to the JS spec. The idea is that a new empty object is used as a default for the argument. So instead of defining:

getReader(options)

1. If options is undefined, let options be ObjectCreate(%ObjectPrototype%).
2. ....

We just define

getReader(options = {})

1. ...

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004101.html">[html5] &quot;internal slot&quot;
</A></li>
	<LI>Next message: <A HREF="004103.html">[html5] RESPECTED CITIZENS, I AM REQUESTING TO YOU KINDLY AND SINCERELY, REGARDING BELOW MAILS, PLEASE INFORM, CORRECT ANSWERS TO MY EMAIL ID, AFTER PROPER CONFIRMATION, THANK YOU AND GOD BLESS YOU.Ms.ERLA MAMATHA.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4102">[ date ]</a>
              <a href="thread.html#4102">[ thread ]</a>
              <a href="subject.html#4102">[ subject ]</a>
              <a href="author.html#4102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
