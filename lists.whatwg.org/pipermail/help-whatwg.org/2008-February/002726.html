<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Identifying HTML 5 documents? (vs. alternate flavors)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Identifying%20HTML%205%20documents%3F%20%28vs.%20alternate%20flavors%29&In-Reply-To=%3CCB409E7E-2402-426F-8217-BCC4BE7EEDE7%40pobox.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002725.html">
   <LINK REL="Next"  HREF="002727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Identifying HTML 5 documents? (vs. alternate flavors)</H1>
<!--htdig_noindex-->
    <B>Jim Correia</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Identifying%20HTML%205%20documents%3F%20%28vs.%20alternate%20flavors%29&In-Reply-To=%3CCB409E7E-2402-426F-8217-BCC4BE7EEDE7%40pobox.com%3E"
       TITLE="[html5] Identifying HTML 5 documents? (vs. alternate flavors)">jim.correia at pobox.com
       </A><BR>
    <I>Mon Feb  4 08:39:23 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002725.html">[html5] Identifying HTML 5 documents? (vs. alternate flavors)
</A></li>
        <LI>Next message: <A HREF="002727.html">[html5] Identifying HTML 5 documents? (vs. alternate flavors)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2726">[ date ]</a>
              <a href="thread.html#2726">[ thread ]</a>
              <a href="subject.html#2726">[ subject ]</a>
              <a href="author.html#2726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Feb 4, 2008, at 11:24 AM, Henri Sivonen wrote:

&gt;<i> On Feb 4, 2008, at 17:28, Jim Correia wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I know there has been some discussion about this on the forum. But
</I>&gt;&gt;<i> after having read through the draft spec and the FAQ, I'm still a
</I>&gt;&gt;<i> little unclear about how I can auto-detect that a document is using
</I>&gt;&gt;<i> HTML 5.
</I>&gt;<i>
</I>&gt;<i> The short answer is that HTML5 by design tries to discourage you  
</I>&gt;<i> from trying to do that.
</I>
I can understand that discouraging user-agents from doing this might  
be a good thing. At the same time, it appears to make life more  
difficult for those of us who produce authoring tools which must  
support legacy formats alongside HTML 5.

&gt;&gt;<i> (Or more precisely, that the author of the document intended
</I>&gt;&gt;<i> it to be conformant to HTML 5.)
</I>&gt;<i>
</I>&gt;<i> HTML5 is designed so that this doesn't need to be asserted to the  
</I>&gt;<i> other party when sending HTML5 content to a consuming client. In the  
</I>&gt;<i> case of an author who is conformance checking his own stuff (as  
</I>&gt;<i> opposed to communicating with another party), the theory goes that  
</I>&gt;<i> the authors simply chooses to use a tool that only supports HTML5 or  
</I>&gt;<i> that is configured to support HTML5.
</I>&gt;<i>
</I>&gt;<i> This might be a bit inconvenient if during a transition period the  
</I>&gt;<i> author also wants to target legacy flavors of HTML in some of his  
</I>&gt;<i> authoring.
</I>
This is exactly the situation I need to solve. Taking the pragmatic  
point of view, a document author may be producing new content in HTML  
5, and continue to produce/maintain legacy content targeting some  
other flavor of HTML. This may be as part of the same site/directory  
tree or not. In any case, they desire the tool to just do the right  
thing, without having to explicitly configure it when working with  
mixed content.

&gt;&gt;<i> (We may be talking about a single
</I>&gt;&gt;<i> document, or traversing a directory tree and processing all documents
</I>&gt;&gt;<i> in the tree. In either case, the document type should be auto  
</I>&gt;&gt;<i> detected.)
</I>&gt;<i>
</I>&gt;<i> Wouldn't that kind of approach fail to detect that a set of  
</I>&gt;<i> documents isn't fully HTML5-compliant if a document in the set is  
</I>&gt;<i> autodetected as non-HTML5 and passes checks as whatever it was  
</I>&gt;<i> detected as?
</I>
I'm not sure I understand the question.

&gt;&gt;<i> For HTML syntax, the shorted form of the doctype &quot;&lt;!DOCTYPE HTML&gt;&quot; is
</I>&gt;&gt;<i> required. This is sufficiently different from all previous doctypes
</I>&gt;&gt;<i> that it can be mapped to HTML 5. But since there is no version
</I>&gt;&gt;<i> information included in the doctype, what happens when the successor
</I>&gt;&gt;<i> to HTML 5 comes out?
</I>&gt;<i>
</I>&gt;<i> When the successor of HTML5 comes out, authors are supposed to  
</I>&gt;<i> create content according to the requirements of the successor and no  
</I>&gt;<i> longer according to HTML5.
</I>&gt;<i>
</I>&gt;<i> This assumes, of course, that whoever defines the successor of HTML5  
</I>&gt;<i> define the successor reasonably, so that conforming HTML5 documents  
</I>&gt;<i> remain conforming and mean the same thing according to the  
</I>&gt;<i> successor. The obvious problem with that assumption is that so far  
</I>&gt;<i> definers of HTML flavors have had a tendency to deprecate or  
</I>&gt;<i> obsolete features. We can hope that the definers of the successors  
</I>&gt;<i> of HTML5 don't seek to deprecate or obsolete anything unless the  
</I>&gt;<i> deprecated or obsoleted bit is so harmful that telling every author  
</I>&gt;<i> that their documents no longer conform is of paramount importance.
</I>
Even in the case that HTML5 is fully upwards compatible to the  
successor, there may still be reasons for conformance checking against  
HTML5. (They may be valid technical reasons that we can't foresee now,  
but will in the future. Or the may just be an organization's standard  
practices, in which case the authors and thus the tools need to  
support those standard practices.)

&gt;&gt;<i> For XHTML syntax, the doctype is to be omitted. In this situation,  
</I>&gt;&gt;<i> how
</I>&gt;&gt;<i> should I autodetect that we are using XHTML 5 as opposed to some  
</I>&gt;&gt;<i> other
</I>&gt;&gt;<i> flavor?
</I>&gt;<i>
</I>&gt;<i> By design, you shouldn't. Validator.nu defaults to XHTML5 + SVG 1.1  
</I>&gt;<i> + MathML 2.0 for application/xhtml+xml. I suggest doing the same  
</I>&gt;<i> for .xhtml (assuming that the tool in question is a text editor  
</I>&gt;<i> operating on local files): defaulting to the latest Web-relevant  
</I>&gt;<i> compound document format combination supported by the checker.
</I>
Again, this is a similar problem to HTML5. Without a heuristic that  
that says XHTML syntax, no doctype, probably XHTML 5 it seems like  
there isn't a good way to infer an author's intent when the document  
lives in a tree of documents targeting various specifications.

- Jim


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002725.html">[html5] Identifying HTML 5 documents? (vs. alternate flavors)
</A></li>
	<LI>Next message: <A HREF="002727.html">[html5] Identifying HTML 5 documents? (vs. alternate flavors)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2726">[ date ]</a>
              <a href="thread.html#2726">[ thread ]</a>
              <a href="subject.html#2726">[ subject ]</a>
              <a href="author.html#2726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
