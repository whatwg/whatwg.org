<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Newbie question about SharedWorkers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Newbie%20question%20about%20SharedWorkers&In-Reply-To=%3CPine.LNX.4.64.1008040114450.7470%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001911.html">
   <LINK REL="Next"  HREF="001914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Newbie question about SharedWorkers</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Newbie%20question%20about%20SharedWorkers&In-Reply-To=%3CPine.LNX.4.64.1008040114450.7470%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] Newbie question about SharedWorkers">ian at hixie.ch
       </A><BR>
    <I>Tue Aug  3 18:17:34 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001911.html">[html5] Draggable API dragend event
</A></li>
        <LI>Next message: <A HREF="001914.html">[html5] Placeholder attribute on date inputs and validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1913">[ date ]</a>
              <a href="thread.html#1913">[ thread ]</a>
              <a href="subject.html#1913">[ subject ]</a>
              <a href="author.html#1913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 27 May 2010, David John Burrowes wrote:
&gt;<i> 
</I>&gt;<i> The spec makes various references to shared workers being used by 
</I>&gt;<i> multiple pages in parallel.  My question is can a shared worker be used 
</I>&gt;<i> by two sequentially accessed pages?  My reading of the spec says &quot;no&quot;, 
</I>&gt;<i> but my intuition about what behavior I would &quot;expect&quot; says I should be 
</I>&gt;<i> able to.  Is my reading of the spec right?
</I>&gt;<i> 
</I>&gt;<i> Here's an example:
</I>&gt;<i> 	We have two pages: P1 and P2 (from the same origin etc)
</I>&gt;<i> 	P1 has a link to P2 on it (&lt;a href=&quot;P2&quot;&gt;) 
</I>&gt;<i> 
</I>&gt;<i> 	Both P1 and P2 reference a shared worker SW
</I>&gt;<i> 
</I>&gt;<i> 	When the user gets page P1, then SW is created.
</I>&gt;<i> 	User then clicks on the link to P2
</I>&gt;<i> 
</I>&gt;<i> My interpretation of the spec says that when this link is clicked, P1 
</I>&gt;<i> will be made no longer active, so it will be removed from SW's list of 
</I>&gt;<i> Documents.  This will leave SW's list empty, which will make it no 
</I>&gt;<i> longer a permissable worker. It's closing flag will be set to true, and 
</I>&gt;<i> presumably there's a chance it will be destroyed before P2 can be loaded 
</I>&gt;<i> and access SW.  So, P2 will need to re-create SW.
</I>&gt;<i> 
</I>&gt;<i> It seems desirable to me that if a page transition is being made between 
</I>&gt;<i> pages with compatible origins, that a shared worker would be preserved 
</I>&gt;<i> across them, allowing complex calculations being done by the worker to 
</I>&gt;<i> be shared by the pages (obviously, the worker could be storing its work 
</I>&gt;<i> in a database, and then reloading that when it is created.  But, that 
</I>&gt;<i> seems like overkill)
</I>
I agree that this makes some sense. It isn't currently possible. Once 
shared workers are more widely deployed, it's something I think we should 
examine -- if lots of pages are trying to work around this limitation, we 
should do something about it (e.g. making workers live until the next 
page's onload if it's on the same domain).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001911.html">[html5] Draggable API dragend event
</A></li>
	<LI>Next message: <A HREF="001914.html">[html5] Placeholder attribute on date inputs and validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1913">[ date ]</a>
              <a href="thread.html#1913">[ thread ]</a>
              <a href="subject.html#1913">[ subject ]</a>
              <a href="author.html#1913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
