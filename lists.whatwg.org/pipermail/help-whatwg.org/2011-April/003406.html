<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] Offline apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Offline%20apps&In-Reply-To=%3CBANLkTimT%3DQXhqwaYSMjOVMDCA18%2BWeCUaA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003414.html">
   <LINK REL="Next"  HREF="003412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] Offline apps</H1>
<!--htdig_noindex-->
    <B>Ilkka Huotari</B> 
    <A HREF="mailto:help%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20Offline%20apps&In-Reply-To=%3CBANLkTimT%3DQXhqwaYSMjOVMDCA18%2BWeCUaA%40mail.gmail.com%3E"
       TITLE="[html5] Offline apps">ilkkah at gmail.com
       </A><BR>
    <I>Sun Apr 10 03:51:37 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003414.html">[html5] Offline apps
</A></li>
        <LI>Next message: <A HREF="003412.html">[html5] Offline apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3406">[ date ]</a>
              <a href="thread.html#3406">[ thread ]</a>
              <a href="subject.html#3406">[ subject ]</a>
              <a href="author.html#3406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>What I was trying to implement is sort of explained here (the
Wikipedia example):
<A HREF="http://diveintohtml5.org/offline.html#fallback">http://diveintohtml5.org/offline.html#fallback</A>

Relevant parts:
&quot;What does this do? First, consider a site that contains millions of
pages, like Wikipedia. You couldn&#8217;t possibly download the entire site,
nor would you want to. But suppose you could make part of it available
offline. But how would you decide which pages to cache? How about
this: every page you ever look at on a hypothetical offline-enabled
Wikipedia would be downloaded and cached.&quot; ..

So, there's an example what I was trying to do, I tried to lazily
cache the pages. This might work with the more static pages, but I'm
having trouble with the more dynamic ones (I guess the same could be
said in regards the normal cache mechanisms). Normally I don't want to
cache those dynamic pages at all, but I thought I could do that with
the appcache - and show them to the user when he is offline.

I think I would be having problems with the normal cache mechanisms as
well (as I don't *really* want to cache the dynamic pages, well, I'd
want to keep an offline copy in case it is needed).

Well, maybe I have to take a look at some working examples that have
been done with the appcache. Now I don't quite understand where I
could use it..

Anyway, thanks for your interest/discussion. I take the Trojan horse
comment as a compliment, if it was directed at me :)

Ilkka



On Sun, Apr 10, 2011 at 9:03 AM, Jukka K. Korpela
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">jukka.k.korpela at kolumbus.fi</A>&gt; wrote:
&gt;<i> Ilkka Huotari wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> To summarize my ideas/problems so far:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - I would like to load certain pages from the web server when I'm
</I>&gt;&gt;<i> online (i.e. not from the cache).
</I>&gt;&gt;<i> - If I'm offline, I would like to load these same pages from the
</I>&gt;&gt;<i> cache.
</I>&gt;<i>
</I>&gt;<i> That's more or less what happens normally, though subject to caching
</I>&gt;<i> conditions. The best approach to control such issues is via normal cache
</I>&gt;<i> control, see <A HREF="http://www.mnot.net/cache_docs/">http://www.mnot.net/cache_docs/</A>
</I>&gt;<i>
</I>&gt;&gt;<i> - Not sure if the above is supposed to be possible with the appcache
</I>&gt;&gt;<i> mechanism.
</I>&gt;<i>
</I>&gt;<i> No, the appcache mechanism is supposed to make an application work as if the
</I>&gt;<i> user were offline, except that when he is actually online, the browser
</I>&gt;<i> checks for the _cache manifest_ only (and if its contents has changed, the
</I>&gt;<i> application cache is refreshed). It bypasses normal cache control, freshness
</I>&gt;<i> information etc.
</I>&gt;<i>
</I>&gt;&gt;<i> Problems:
</I>&gt;&gt;<i> - Pages are shown from the cache to user even when the user is online.
</I>&gt;<i>
</I>&gt;<i> So this works as defined.
</I>&gt;<i>
</I>&gt;&gt;<i> This seems a bit unnecessary, especially if I have defined
</I>&gt;&gt;<i> &quot;Cache-Control: no-cache&quot; for the said pages.
</I>&gt;<i>
</I>&gt;<i> It's part of the idea of application cache. I wonder how useful the idea
</I>&gt;<i> is... but in any case, it's not useful as a general replacement for normal
</I>&gt;<i> caching.
</I>&gt;<i>
</I>&gt;<i> I wonder why you wish to defeat normal caching when the user is online, yet
</I>&gt;<i> consider using an application cache. Preventing all caching of a resource
</I>&gt;<i> normally makes sense only if the contents is automatically generated with
</I>&gt;<i> unique data or updated by some automated process(es) &#160;or otherwise very
</I>&gt;<i> frequently (say, a news page), or something like that.
</I>&gt;<i>
</I>&gt;&gt;<i> - Pages are cached/shown from the cache even if I put them into
</I>&gt;&gt;<i> network section. I really don't understand why, is this a bug in
</I>&gt;&gt;<i> browsers?
</I>&gt;<i>
</I>&gt;<i> Could be a bug. In my tests, application cache manifests haven't worked that
</I>&gt;<i> perfectly, though in my early experiments, some oddities were caused by my
</I>&gt;<i> mistakes. Browser tools for inspecting application caches seem incomplete -
</I>&gt;<i> at some point, it seemed to be possible to see what happens, in Resources &gt;
</I>&gt;<i> Application Cache in debug mode in Google Chrome (the one you enter by
</I>&gt;<i> right-clicking and selecting Inspect Element), but now it appears to be
</I>&gt;<i> empty.
</I>&gt;<i>
</I>&gt;&gt;<i> Also, the manifest file change isn't really solving these problems,
</I>&gt;&gt;<i> imo, because it means that multiple page page loads are needed until
</I>&gt;&gt;<i> the change is shown.
</I>&gt;<i>
</I>&gt;<i> By the current definition of application cache, changing the manifest
</I>&gt;<i> contents (changing last write is enough - it's really a matter of contents
</I>&gt;<i> matching, which is rather odd design, if you ask me) is the way to force
</I>&gt;<i> browsers (when online) to refresh the application cache.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Help mailing list
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">Help at lists.whatwg.org</A>
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">http://lists.whatwg.org/listinfo.cgi/help-whatwg.org</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003414.html">[html5] Offline apps
</A></li>
	<LI>Next message: <A HREF="003412.html">[html5] Offline apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3406">[ date ]</a>
              <a href="thread.html#3406">[ thread ]</a>
              <a href="subject.html#3406">[ subject ]</a>
              <a href="author.html#3406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/help-whatwg.org">More information about the Help
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
