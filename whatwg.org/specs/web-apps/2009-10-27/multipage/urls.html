<!DOCTYPE html>
<!DOCTYPE html><html class="split chapter" lang="en-US-x-hixie"><title>2.5 URLs &mdash; HTML5</title><link href="/style/specification" rel="stylesheet"><link href="/images/icon" rel="icon"><style>
   .proposal { border: blue solid; padding: 1em; }
   .bad, .bad *:not(.XXX) { color: gray; border-color: gray; background: transparent; }
   #updatesStatus { display: none; }
   #updatesStatus.relevant { display: block; position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
   div.head .logo { width: 11em; margin-bottom: 20em; }
   #configUI { position: absolute; z-index: 20; top: 10em; right: 1em; width: 11em; font-size: small; }
   #configUI p { margin: 0.5em 0; padding: 0.3em; background: #EEEEEE; color: black; border: inset thin; }
   #configUI p label { display: block; }
   #configUI #updateUI, #configUI .loginUI { text-align: center; }
   #configUI input[type=button] { display: block; margin: auto; }
   #reviewer { position: fixed; bottom: 0; right: 0; white-space: nowrap; border: thin; border-style: inset none none inset; background: #EEEEEE; color: black; overflow: hidden; z-index: 30; }
   #reviewer * { font-size: small; }
   #reviewer.off > :not(:first-child) { display: none; }
   @media print { #configUI { display: none; } }
   .rfc2119 { font-variant: small-caps; text-shadow: 0 0 0.5em yellow; position: static; }
   .rfc2119::after { position: absolute; left: 0; width: 25px; text-align: center; color: yellow; text-shadow: 0.075em 0.075em 0.2em black; }
   .rfc2119.m\ust::after { content: '\2605'; }
   .rfc2119.s\hould::after { content: '\2606'; }
   [hidden] { display: none; }
  </style><style type="text/css">

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies tbody th { whitespace: nowrap; }
   .applies td { text-align: center; }
   .applies .yes { background: yellow; }

   .matrix, .matrix td { border: none; text-align: right; }
   .matrix { margin-left: 2em; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

  </style><link href="data:text/css," id="complete" rel="stylesheet" title="Complete specification"><link href="data:text/css,.impl%20{%20display:%20none;%20}" id="author" rel="alternate stylesheet" title="Author documentation only"><link href="data:text/css,.impl%20{%20background:%20%23FFEEEE;%20}" id="highlight" rel="alternate stylesheet" title="Highlight implementation requirements"><script>
   var loadTimer = new Date();
   var current_revision = "r" + "$Revision: 4372 $".substr(11);
   current_revision = current_revision.substr(0, current_revision.length - 2);
   var last_known_revision = current_revision;
   function getCookie(name) {
     var params = location.search.substr(1).split("&");
     for (var index = 0; index < params.length; index++) {
       if (params[index] == name)
         return "1";
       var data = params[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     var cookies = document.cookie.split("; ");
     for (var index = 0; index < cookies.length; index++) {
       var data = cookies[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     return null;
   }
   function load(script) {
     var e = document.createElement('script');
     e.setAttribute('src', script);
     document.body.appendChild(e);
   }
   function init() {
     if (location.search == '?slow-browser')
       return;
     var configUI = document.createElement('div');
     configUI.id = 'configUI';
     document.body.appendChild(configUI);
     if (document.documentElement.className == "" || document.documentElement.className == "split index")
       load('toc.js');
     load('styler.js');
     if (document.documentElement.className == "")
       load('dfn.js');
     if (getCookie('profile') == '1')
       document.getElementsByTagName('h2')[0].textContent += '; load: ' + (new Date() - loadTimer) + 'ms';
   }
  </script>
  <script src="link-fixup.js"></script>
  <link href="common-microsyntaxes.html" rel="prev" title="2.4 Common microsyntaxes">
  <link href="index.html#contents" rel="index" title="Table of contents">
  <link href="dom.html" rel="next" title="3 Semantics, structure, and APIs of HTML documents">
  <body class="cfc" onload="fixBrokenLink(); init()">
  <style scoped>
   * { color: gray ! important; background: none ! important; border-color: silver ! important; }
   img, object, iframe { filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale"); -webkit-filter: grayscale(100%); }
   .obsolete { border: double thick red ! important; background: yellow ! important; margin: 4em auto 0 auto; max-width: 50em; width: 70%; text-align: center; position: fixed;  z-index: 10000; top: 0; left: 0; right: 0; }
   .obsolete a { color: blue ! important; }
   .obsolete p { font: 900 2em sans-serif; color: red ! important; margin: 1em 1.5em ! important; }
  </style>
  <div class=obsolete>
   <p>This is a snapshot of an early working draft and has therefore
   been superseded by the <a href="http://whatwg.org/html">HTML
   standard</a>.</p>
   <p>This document will not be further updated.</p>
  </div>
<header class="head"><p><a class="logo" href="http://www.whatwg.org/" rel="home"><img alt="WHATWG" src="/images/logo"></a></p>
   <hgroup><h1>HTML5</h1>
    <h2 class="no-num no-toc">Draft Standard &mdash; Call For Comments &mdash; 27 October 2009</h2>
   </hgroup></header><nav>
   <a href="common-microsyntaxes.html">&larr; 2.4 Common microsyntaxes</a> &ndash;
   <a href="index.html#contents">Table of contents</a> &ndash;
   <a href="dom.html">3 Semantics, structure, and APIs of HTML documents &rarr;</a>
  <ol class="toc"><li><ol><li><a href="urls.html#urls"><span class="secno">2.5 </span>URLs</a>
    <ol><li><a href="urls.html#terminology-0"><span class="secno">2.5.1 </span>Terminology</a><li><a href="urls.html#dynamic-changes-to-base-urls"><span class="secno">2.5.2 </span>Dynamic changes to base URLs</a><li><a href="urls.html#interfaces-for-url-manipulation"><span class="secno">2.5.3 </span>Interfaces for URL manipulation</a></ol><li><a href="urls.html#fetching-resources"><span class="secno">2.6 </span>Fetching resources</a>
    <ol><li><a href="urls.html#concept-http-equivalent"><span class="secno">2.6.1 </span>Protocol concepts</a><li><a href="urls.html#encrypted-http-and-related-security-concerns"><span class="secno">2.6.2 </span>Encrypted HTTP and related security concerns</a><li><a href="urls.html#content-type-sniffing"><span class="secno">2.6.3 </span>Determining the type of a resource</a></ol><li><a href="urls.html#common-dom-interfaces"><span class="secno">2.7 </span>Common DOM interfaces</a>
    <ol><li><a href="urls.html#reflecting-content-attributes-in-idl-attributes"><span class="secno">2.7.1 </span>Reflecting content attributes in IDL attributes</a><li><a href="urls.html#collections-0"><span class="secno">2.7.2 </span>Collections</a>
      <ol><li><a href="urls.html#htmlcollection-0"><span class="secno">2.7.2.1 </span>HTMLCollection</a><li><a href="urls.html#htmlallcollection-0"><span class="secno">2.7.2.2 </span>HTMLAllCollection</a><li><a href="urls.html#htmlformcontrolscollection-0"><span class="secno">2.7.2.3 </span>HTMLFormControlsCollection</a><li><a href="urls.html#htmloptionscollection-0"><span class="secno">2.7.2.4 </span>HTMLOptionsCollection</a><li><a href="urls.html#htmlpropertiescollection-0"><span class="secno">2.7.2.5 </span>HTMLPropertiesCollection</a></ol><li><a href="urls.html#domtokenlist-0"><span class="secno">2.7.3 </span>DOMTokenList</a><li><a href="urls.html#domsettabletokenlist-0"><span class="secno">2.7.4 </span>DOMSettableTokenList</a><li><a href="urls.html#safe-passing-of-structured-data"><span class="secno">2.7.5 </span>Safe passing of structured data</a><li><a href="urls.html#domstringmap-0"><span class="secno">2.7.6 </span>DOMStringMap</a><li><a href="urls.html#dom-feature-strings"><span class="secno">2.7.7 </span>DOM feature strings</a><li><a href="urls.html#exceptions"><span class="secno">2.7.8 </span>Exceptions</a><li><a href="urls.html#garbage-collection"><span class="secno">2.7.9 </span>Garbage collection</a></ol></ol></ol></nav>

  <h3 id="urls"><span class="secno">2.5 </span>URLs</h3>

  <h4 id="terminology-0"><span class="secno">2.5.1 </span>Terminology</h4>

  <p>A <dfn id="url">URL</dfn> is a string used to identify a resource.</p>

  <p>A <a href="#url">URL</a> is a <dfn id="valid-url">valid URL</dfn> if it is a
  <span>valid Web address</span> as defined by the Web addresses
  specification. <a href="references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

  <p>A <a href="#url">URL</a> is an <dfn id="absolute-url">absolute URL</dfn> if it is an
  <span>absolute Web address</span> as defined by the Web addresses
  specification. <a href="references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

  <div class="impl">

  <p>To <dfn id="parse-a-url">parse a URL</dfn> <var title="">url</var> into its
  component parts, the user agent must use the <span>parse a Web
  address</span> algorithm defined by the Web addresses
  specification. <a href="references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

  <p>Parsing a URL results in the following components, again as
  defined by the Web addresses specification:</p>

  <ul class="brief"><li><dfn id="url-scheme" title="url-scheme">&lt;scheme&gt;</dfn></li>
   <li><dfn id="url-host" title="url-host">&lt;host&gt;</dfn></li>
   <li><dfn id="url-port" title="url-port">&lt;port&gt;</dfn></li>
   <li><dfn id="url-hostport" title="url-hostport">&lt;hostport&gt;</dfn></li>
   <li><dfn id="url-path" title="url-path">&lt;path&gt;</dfn></li>
   <li><dfn id="url-query" title="url-query">&lt;query&gt;</dfn></li>
   <li><dfn id="url-fragment" title="url-fragment">&lt;fragment&gt;</dfn></li>
   <li><dfn id="url-host-specific" title="url-host-specific">&lt;host-specific&gt;</dfn></li>
  </ul><p>To <dfn id="resolve-a-url">resolve a URL</dfn> to an <a href="#absolute-url">absolute URL</a>
  relative to either another <a href="#absolute-url">absolute URL</a> or an element,
  the user agent must use the <span>resolve a Web address</span>
  algorithm defined by the Web addresses specification. <a href="references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

  <p>The <dfn id="document-base-url">document base URL</dfn> of a <code>Document</code>
  object is the <a href="#absolute-url">absolute URL</a> obtained by running these
  substeps:</p>

  <ol><li><p>Let <var title="">fallback base url</var> be <a href="dom.html#the-document's-address">the
   document's address</a>.</li>

   <li>

    <!-- http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/ -->

    <!-- this should be tested in the case of a browsing context that
    was navigated to about:blank after having been elsewhere, as
    opposed to the about:blank used at the time of the browsing
    context's creation. -->

    <p>If <var title="">fallback base url</var> is
    <code><a href="#about:blank">about:blank</a></code>, and the <code>Document</code>'s
    <a href="browsers.html#browsing-context">browsing context</a> has a <a href="browsers.html#creator-browsing-context">creator browsing
    context</a>, then let <var title="">fallback base url</var>
    be the <a href="#document-base-url">document base URL</a> of the <a href="browsers.html#creator-document">creator
    <code>Document</code></a> instead.</p>

   </li>

   <li><p>If there is no <code><a href="semantics.html#the-base-element">base</a></code> element that is both a
   child of <a href="dom.html#the-head-element">the <code>head</code> element</a> and has an
   <code title="attr-base-href"><a href="semantics.html#attr-base-href">href</a></code> attribute, then the
   <a href="#document-base-url">document base URL</a> is <var title="">fallback base
   url</var>.</li>

   <li><p>Otherwise, let <var title="">url</var> be the value of the
   <code title="attr-base-href"><a href="semantics.html#attr-base-href">href</a></code> attribute of the first
   such element.</li>

   <li><p><a href="#resolve-a-url" title="resolve a URL">Resolve</a> <var title="">url</var> relative to <var title="">fallback base
   url</var> (thus, the <code><a href="semantics.html#the-base-element">base</a></code> <code title="attr-base-href"><a href="semantics.html#attr-base-href">href</a></code> attribute isn't affected by
   <code title="attr-xml-base"><a href="elements.html#the-xml:base-attribute-(xml-only)">xml:base</a></code> attributes).</li>

   <li><p>The <a href="#document-base-url">document base URL</a> is the result of the
   previous step if it was successful; otherwise it is <var title="">fallback base url</var>.</li>

  </ol><p>This specification defines the URL
  <dfn id="about:legacy-compat"><code>about:legacy-compat</code></dfn> as a reserved, though
  unresolvable, <code title="">about:</code> URI. <a href="references.html#refsABOUT">[ABOUT]</a></p>

  </div>

  <p class="note">The term "URL" in this specification is used in a
  manner distinct from the precise technical meaning it is given in
  RFC 3986. Readers familiar with that RFC will find it easier to read
  <em>this</em> specification if they pretend the term "URL" as used
  herein is really called something else altogether. This is a
  <a href="introduction.html#willful-violation">willful violation</a> of RFC 3986. <a href="references.html#refsRFC3986">[RFC3986]</a></p>


  <div class="impl">

  <h4 id="dynamic-changes-to-base-urls"><span class="secno">2.5.2 </span>Dynamic changes to base URLs</h4>

  <p>When an <code title="attr-xml-base"><a href="elements.html#the-xml:base-attribute-(xml-only)">xml:base</a></code> attribute
  changes, the attribute's element, and all descendant elements, are
  <a href="#affected-by-a-base-url-change">affected by a base URL change</a>.</p>

  <p>When a document's <a href="#document-base-url">document base URL</a> changes, all
  elements in that document are <a href="#affected-by-a-base-url-change">affected by a base URL
  change</a>.</p>

  <p>When an element is moved from one document to another, if the two
  documents have different <a href="#document-base-url" title="document base URL">base
  URLs</a>, then that element and all its descendants are
  <a href="#affected-by-a-base-url-change">affected by a base URL change</a>.</p>

  <p>When an element is <dfn id="affected-by-a-base-url-change">affected by a base URL change</dfn>, it
  must act as described in the following list:</p>

  <dl class="switch"><dt>If the element is a <a href="links.html#hyperlink" title="hyperlink">hyperlink
   element</a></dt>

   <dd>

    <p>If the <a href="#absolute-url">absolute URL</a> identified by the hyperlink is
    being shown to the user, or if any data derived from that URL is
    affecting the display, then the <code title="attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code> attribute should be <a href="#resolve-a-url" title="resolve a url">re-resolved</a> relative to the element
    and the UI updated appropriately.</p>

    <p class="example">For example, the CSS <code title="selector-link"><a href="commands.html#selector-link">:link</a></code>/<code title="selector-visited"><a href="commands.html#selector-visited">:visited</a></code> pseudo-classes might have
    been affected.</p>

    <p>If the hyperlink has a <code title="attr-hyperlink-ping"><a href="links.html#ping">ping</a></code> attribute and its <a href="#absolute-url" title="absolute URL">absolute URL(s)</a> are being shown to the
    user, then the <code title="attr-hyperlink-ping"><a href="links.html#ping">ping</a></code>
    attribute's tokens should be <a href="#resolve-a-url" title="resolve a
    url">re-resolved</a> relative to the element and the UI updated
    appropriately.</p>

   </dd>

   <dt>If the element is a <code><a href="text-level-semantics.html#the-q-element">q</a></code>, <code><a href="grouping-content.html#the-blockquote-element">blockquote</a></code>,
   <code><a href="sections.html#the-section-element">section</a></code>, <code><a href="sections.html#the-article-element">article</a></code>, <code><a href="edits.html#the-ins-element">ins</a></code>, or
   <code><a href="edits.html#the-del-element">del</a></code> element with a <code title="">cite</code>
   attribute</dt>

   <dd>

    <p>If the <a href="#absolute-url">absolute URL</a> identified by the <code title="">cite</code> attribute is being shown to the user, or if
    any data derived from that URL is affecting the display, then the
    <a href="#url">URL</a> should be <a href="#resolve-a-url" title="resolve a
    url">re-resolved</a> relative to the element and the UI updated
    appropriately.</p>

   </dd>

   <dt>Otherwise</dt>

   <dd>

    <p>The element is not directly affected.</p>

    <p class="example">Changing the base URL doesn't affect the image
    displayed by <code><a href="embedded-content-1.html#the-img-element">img</a></code> elements, although subsequent
    accesses of the <code title="dom-img-src"><a href="embedded-content-1.html#dom-img-src">src</a></code> IDL attribute
    from script will return a new <a href="#absolute-url">absolute URL</a> that might
    no longer correspond to the image being shown.</p>

   </dd>

  </dl></div>



  <h4 id="interfaces-for-url-manipulation"><span class="secno">2.5.3 </span>Interfaces for URL manipulation</h4>

  <p>An interface that has a complement of <dfn id="url-decomposition-idl-attributes">URL decomposition IDL
  attributes</dfn> will have seven attributes with the following
  definitions:</p>

<pre class="idl extract">           attribute DOMString <a href="#dom-uda-protocol" title="dom-uda-protocol">protocol</a>;
           attribute DOMString <a href="#dom-uda-host" title="dom-uda-host">host</a>;
           attribute DOMString <a href="#dom-uda-hostname" title="dom-uda-hostname">hostname</a>;
           attribute DOMString <a href="#dom-uda-port" title="dom-uda-port">port</a>;
           attribute DOMString <a href="#dom-uda-pathname" title="dom-uda-pathname">pathname</a>;
           attribute DOMString <a href="#dom-uda-search" title="dom-uda-search">search</a>;
           attribute DOMString <a href="#dom-uda-hash" title="dom-uda-hash">hash</a>;</pre>

  <dl class="domintro"><dt><var title="">o</var> . <code title="dom-uda-protocol"><a href="#dom-uda-protocol">protocol</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current scheme of the underlying URL.</p>
    <p>Can be set, to change the underlying URL's scheme.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-host"><a href="#dom-uda-host">host</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current host and port (if it's not the default port) in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's host and port.</p>
    <p>The host and the port are separated by a colon. The port part,
    if omitted, will be assumed to be the current scheme's default
    port.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-hostname"><a href="#dom-uda-hostname">hostname</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current host in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's host.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-port"><a href="#dom-uda-port">port</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current port in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's port.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-pathname"><a href="#dom-uda-pathname">pathname</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current path in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's path.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-search"><a href="#dom-uda-search">search</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current query component in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's query component.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-hash"><a href="#dom-uda-hash">hash</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current fragment identifier in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's fragment identifier.</p>
   </dd>

  </dl><div class="impl">

  <hr><p>The attributes defined to be URL decomposition IDL attributes must
  act as described for the attributes with the same corresponding
  names in this section.</p>

  <p>In addition, an interface with a complement of URL decomposition IDL
  attributes will define an <dfn id="concept-uda-input" title="concept-uda-input">input</dfn>, which is a <a href="#url">URL</a>
  that the attributes act on, and a <dfn id="concept-uda-setter" title="concept-uda-setter">common setter action</dfn>, which is a
  set of steps invoked when any of the attributes' setters are
  invoked.</p>

  <p>The seven URL decomposition IDL attributes have similar
  requirements.</p>

  <p>On getting, if the <a href="#concept-uda-input" title="concept-uda-input">input</a>
  is an <a href="#absolute-url">absolute URL</a> that fulfills the condition given in
  the "getter condition" column corresponding to the attribute in the
  table below, the user agent must return the part of the <a href="#concept-uda-input" title="concept-uda-input">input</a> URL given in the "component"
  column, with any prefixes specified in the "prefix" column
  appropriately added to the start of the string and any suffixes
  specified in the "suffix" column appropriately added to the end of
  the string. Otherwise, the attribute must return the empty
  string.</p>

  <p>On setting, the new value must first be mutated as described by
  the "setter preprocessor" column, then mutated by %-escaping any
  characters in the new value that are not valid in the relevant
  component as given by the "component" column. Then, if the <a href="#concept-uda-input" title="concept-uda-input">input</a> is an <a href="#absolute-url">absolute
  URL</a> and the resulting new value fulfills the condition given
  in the "setter condition" column, the user agent must make a new
  string <var title="">output</var> by replacing the component of the
  URL given by the "component" column in the <a href="#concept-uda-input" title="concept-uda-input">input</a> URL with the new value;
  otherwise, the user agent must let <var title="">output</var> be
  equal to the <a href="#concept-uda-input" title="concept-uda-input">input</a>. Finally,
  the user agent must invoke the <a href="#concept-uda-setter" title="concept-uda-setter">common setter action</a> with the
  value of <var title="">output</var>.</p>

  <p>When replacing a component in the URL, if the component is part
  of an optional group in the URL syntax consisting of a character
  followed by the component, the component (including its prefix
  character) must be included even if the new value is the empty
  string.</p>

  <p class="note">The previous paragraph applies in particular to the
  "<code title="">:</code>" before a &lt;port&gt; component, the "<code title="">?</code>" before a &lt;query&gt; component, and the "<code title="">#</code>" before a &lt;fragment&gt; component.</p>

  <p>For the purposes of the above definitions, URLs must be parsed
  using the <a href="#parse-a-url" title="parse a URL">URL parsing rules</a> defined
  in this specification.</p>

  <table><thead><tr><th>Attribute
     <th>Component
     <th>Getter Condition
     <th>Prefix
     <th>Suffix
     <th>Setter Preprocessor
     <th>Setter Condition
   <tbody><tr><td><dfn id="dom-uda-protocol" title="dom-uda-protocol"><code>protocol</code></dfn>
     <td><a href="#url-scheme" title="url-scheme">&lt;scheme&gt;</a>
     <td>&mdash;
     <td>&mdash;
     <td>U+003A COLON (:)
     <td>Remove all trailing U+003A COLON characters (:)
     <td>The new value is not the empty string
    <tr><td><dfn id="dom-uda-host" title="dom-uda-host"><code>host</code></dfn>
     <td><a href="#url-hostport" title="url-hostport">&lt;hostport&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
     <td>&mdash;
     <td>&mdash;
     <td>&mdash;
     <td>The new value is not the empty string and <a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
    <tr><td><dfn id="dom-uda-hostname" title="dom-uda-hostname"><code>hostname</code></dfn>
     <td><a href="#url-host" title="url-host">&lt;host&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
     <td>&mdash;
     <td>&mdash;
     <td>Remove all leading U+002F SOLIDUS characters (/)
     <td>The new value is not the empty string and <a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
    <tr><td><dfn id="dom-uda-port" title="dom-uda-port"><code>port</code></dfn>
     <td><a href="#url-port" title="url-port">&lt;port&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical, uses a server-based naming authority, and contained a <a href="#url-port" title="url-port">&lt;port&gt;</a> component (possibly an empty one)
     <td>&mdash;
     <td>&mdash;
     <td>Remove any characters in the new value that are not in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9).
         If the resulting string is empty, set it to a single U+0030 DIGIT ZERO character (0).
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
    <tr><td><dfn id="dom-uda-pathname" title="dom-uda-pathname"><code>pathname</code></dfn>
     <td><a href="#url-path" title="url-path">&lt;path&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical
     <td>&mdash;
     <td>&mdash;
     <td>If it has no leading U+002F SOLIDUS character (/), prepend a U+002F SOLIDUS character (/) to the new value
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical
    <tr><td><dfn id="dom-uda-search" title="dom-uda-search"><code>search</code></dfn>
     <td><a href="#url-query" title="url-query">&lt;query&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical, and contained a <a href="#url-query" title="url-query">&lt;query&gt;</a> component (possibly an empty one)
     <td>U+003F QUESTION MARK (?)
     <td>&mdash;
     <td>Remove one leading U+003F QUESTION MARK character (?), if any
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> is hierarchical
    <tr><td><dfn id="dom-uda-hash" title="dom-uda-hash"><code>hash</code></dfn>
     <td><a href="#url-fragment" title="url-fragment">&lt;fragment&gt;</a>
     <td><a href="#concept-uda-input" title="concept-uda-input">input</a> contained a <a href="#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component (possibly an empty one)
     <td>U+0023 NUMBER SIGN (#)
     <td>&mdash;
     <td>Remove one leading U+0023 NUMBER SIGN character (#), if any
     <td>&mdash;
  </table><!--
  http://www.hixie.ch/tests/adhoc/dom/level0/location/components/
  http://lxr.mozilla.org/seamonkey/source/dom/src/base/nsLocation.cpp
  http://wp.netscape.com/eng/mozilla/3.0/handbook/javascript/ref_h-l.htm#84722
--></div>

  <div class="example">

   <p>The table below demonstrates how the getter <span class="impl">condition</span> for <code title="dom-uda-search"><a href="#dom-uda-search">search</a></code> results in different results
   depending on the exact original syntax of the URL:</p>

   <table><thead><tr><th> Input URL
      <th> <code title="dom-uda-search"><a href="#dom-uda-search">search</a></code> value
      <th> Explanation
    <tbody><tr><td> <code title="">http://example.com/</code>
      <td> <i>empty string</i>
      <td> No <a href="#url-query" title="url-query">&lt;query&gt;</a> component in input URL.
     <tr><td> <code title="">http://example.com/?</code>
      <td> <code title="">?</code>
      <td> There is a <a href="#url-query" title="url-query">&lt;query&gt;</a> component, but it is empty.
           <span class="impl">The question mark in the resulting value is the prefix.</span>
     <tr><td> <code title="">http://example.com/?test</code>
      <td> <code title="">?test</code>
      <td> The <a href="#url-query" title="url-query">&lt;query&gt;</a> component has the value "<code title="">test</code>".
     <tr><td> <code title="">http://example.com/?test#</code>
      <td> <code title="">?test</code>
      <td> The (empty) <a href="#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component is not part of the <a href="#url-query" title="url-query">&lt;query&gt;</a> component.
   </table></div>


  <div class="impl">

  <h3 id="fetching-resources"><span class="secno">2.6 </span>Fetching resources</h3>

  <p>When a user agent is to <dfn id="fetch">fetch</dfn> a resource, optionally
  from an origin <i title="">origin</i>, the following steps must be
  run:</p>

  <ol><li><p>If the resource is identified by the <a href="#url">URL</a>
   <dfn id="about:blank"><code>about:blank</code></dfn>, then return the empty string
   and abort these steps.</li>

   <li>

    <p>Generate the <i>address of the resource from which Request-URIs
    are obtained</i> as required by HTTP for the <code title="http-referer">Referer</code> (sic) header from <a href="dom.html#the-document's-current-address">the
    document's current address</a> of the appropriate
    <code>Document</code> as given by the following list. <a href="references.html#refsHTTP">[HTTP]</a></p>

    <dl class="switch"><dt>When <a href="history.html#navigate" title="navigate">navigating</a></dt>

     <dd>The <a href="browsers.html#active-document">active document</a> of the <a href="history.html#source-browsing-context">source browsing
     context</a>.</dd>

     <dt>When fetching resources for an element</dt>

     <dd>The element's <code>Document</code>.</dd>

     <dt>When fetching resources in response to a call to an API</dt>

     <dd>The <a href="browsers.html#active-document">active document</a> of the <a href="origin-0.html#script's-browsing-context" title="script's
     browsing context">browsing context</a> of the <a href="browsers.html#first-script">first
     script</a>.</dd>

    </dl><p>Remove any <a href="#url-fragment" title="url-fragment">&lt;fragment&gt;</a>
    component from the generated <i>address of the resource from which
    Request-URIs are obtained</i>.</p> <!-- RFC2616 says "The URI MUST
    NOT include a fragment." (section 14.36) -->

   </li>

   <li><p>Perform the remaining steps asynchronously.</li>

   <li>

    <p>If the resource is identified by an <a href="#absolute-url">absolute URL</a>,
    and the resource is to be obtained using an idempotent action
    (such as an HTTP GET <a href="#concept-http-equivalent-get" title="concept-http-equivalent-get">or
    equivalent</a>), and it is already being downloaded for other
    reasons (e.g. another invocation of this algorithm), and this
    request would be identical to the previous one (e.g. same <code title="http-accept">Accept</code> and <code title="http-origin">Origin</code> headers), and the user agent is
    configured such that it is to reuse the data from the existing
    download instead of initiating a new one, then use the results of
    the existing download instead of starting a new one.</p>

    <p>Otherwise, at a time convenient to the user and the user agent,
    download (or otherwise obtain) the resource, applying the
    semantics of the relevant specifications (e.g. performing an HTTP
    GET or POST operation, or reading the file from disk, following
    redirects, <a href="origin-0.html#concept-js-deref" title="concept-js-deref">dereferencing <span title="javascript protocol"><code title="">javascript:</code>
    URLs</span></a>, etc).</p>

    <p>For the purposes of the <code title="http-referer">Referer</code> (sic) header, use the
    <i>address of the resource from which Request-URIs are
    obtained</i> generated in the earlier step.</p>

    <p>For the purposes of the <code title="http-origin">Origin</code>
    header, if the <a href="#fetch" title="fetch">fetching algorithm</a> was
    explicitly initiated from an <i title="">origin</i>, then <i title="">the origin that initiated the HTTP request</i> is <i title="">origin</i>. Otherwise, this is <i title="">a request from
    a "privacy-sensitive" context</i>. <a href="references.html#refsORIGIN">[ORIGIN]</a></p>

   </li>

   <li>

    <p>If there are cookies to be set, then the user agent must run
    the following substeps:</p>

    <ol><li><p>Wait until ownership of the <a href="origin-0.html#storage-mutex">storage mutex</a> can
     be taken by this instance of the <a href="#fetch" title="fetch">fetching</a> algorithm.</li>

     <li><p>Take ownership of the <a href="origin-0.html#storage-mutex">storage mutex</a>.</li>

     <li><p>Update the cookies. <a href="references.html#refsCOOKIES">[COOKIES]</a></li>

     <li><p>Release the <a href="origin-0.html#storage-mutex">storage mutex</a> so that it is once
     again free.</li>

    </ol></li>

   <li><p>When the resource is available, or if there is an error of
   some description, <a href="origin-0.html#queue-a-task">queue a task</a> that uses the resource
   as appropriate. If the resource can be processed incrementally, as,
   for instance, with a progressively interlaced JPEG or an HTML file,
   additional tasks may be queued to process the data as it is
   downloaded. The <a href="origin-0.html#task-source">task source</a> for these <a href="origin-0.html#concept-task" title="concept-task">tasks</a> is the <a href="origin-0.html#networking-task-source">networking task
   source</a>.</p>

  </ol><p>If the user agent can determine the actual length of the resource
  being <a href="#fetch" title="fetch">fetched</a> for an instance of this
  algorithm, and if that length is finite, then that length is the
  file's <dfn id="concept-fetch-total" title="concept-fetch-total">size</dfn>. Otherwise, the
  subject of the algorithm (that is, the resource being fetched) has
  no known <a href="#concept-fetch-total" title="concept-fetch-total">size</a>. (For
  example, the HTTP <code title="http-content-length">Content-Length</code> header might
  provide this information.)</p>

  <p>The user agent must also keep track of the <dfn id="concept-fetch-loaded" title="concept-fetch-loaded">number of bytes downloaded</dfn> for
  each instance of this algorithm. This number must exclude any
  out-of-band metadata, such as HTTP headers.</p>

  <p class="note">The <a href="offline.html#application-cache">application cache</a> processing model
  introduces some <a href="offline.html#changesToNetworkingModel">changes to the
  networking model</a> to handle the returning of cached
  resources.</p>

  <p class="note">The <a href="history.html#navigate" title="navigate">navigation</a>
  processing model handles redirects itself, overriding the
  redirection handling that would be done by the fetching
  algorithm.</p>

  <p class="note">Whether the <a href="#content-type-sniffing">type
  sniffing rules</a> apply to the fetched resource depends on the
  algorithm that invokes the rules &mdash; they are not always
  applicable.</p>


  <h4 id="concept-http-equivalent"><span class="secno">2.6.1 </span>Protocol concepts</h4>

  <p>User agents can implement a variety of transfer protocols, but
  this specification mostly defines behavior in terms of HTTP. <a href="references.html#refsHTTP">[HTTP]</a></p>

  <p>The <dfn id="concept-http-equivalent-get" title="concept-http-equivalent-get">HTTP GET
  method</dfn> is equivalent to the default retrieval action of the
  protocol. For example, RETR in FTP. Such actions are idempotent and
  safe, in HTTP terms.</p>

  <p>The <dfn id="concept-http-equivalent-codes" title="concept-http-equivalent-codes">HTTP response
  codes</dfn> are equivalent to statuses in other protocols that have
  the same basic meanings. For example, a "file not found" error is
  equivalent to a 404 code, a server error is equivalent to a 5xx
  code, and so on.</p>

  <p>The <dfn id="concept-http-equivalent-headers" title="concept-http-equivalent-headers">HTTP
  headers</dfn> are equivalent to fields in other protocols that have
  the same basic meaning. For example, the HTTP authentication
  headers are equivalent to the authentication aspects of the FTP
  protocol.</p>


  <h4 id="encrypted-http-and-related-security-concerns"><span class="secno">2.6.2 </span>Encrypted HTTP and related security concerns</h4>

  <p>Anything in this specification that refers to HTTP also applies
  to HTTP-over-TLS, as represented by <a href="#url" title="url">URLs</a>
  representing the <code title="">https</code> scheme.</p>

  <p class="warning">User agents should report certificate errors to
  the user and must either refuse to download resources sent with
  erroneous certificates or must act as if such resources were in fact
  served with no encryption.</p>

  <p>User agents should warn the user that there is a potential
  problem whenever the user visits a page that the user has previously
  visited, if the page uses less secure encryption on the second
  visit.</p>

  <p>Not doing so can result in users not noticing man-in-the-middle
  attacks.</p>

  <div class="example">

   <p>If a user connects to a server with a self-signed certificate,
   the user agent could allow the connection but just act as if there
   had been no encryption. If the user agent instead allowed the user
   to override the problem and then displayed the page as if it was
   fully and safely encrypted, the user could be easily tricked into
   accepting man-in-the-middle connections.</p>

   <p>If a user connects to a server with full encryption, but the
   page then refers to an external resource that has an expired
   certificate, then the user agent will act as if the resource was
   unavailable, possibly also reporting the problem to the user. If
   the user agent instead allowed the resource to be used, then an
   attacker could just look for "secure" sites that used resources
   from a different host and only apply man-in-the-middle attacks to
   that host, for example taking over scripts in the page.</p>

   <p>If a user bookmarks a site that uses a CA-signed certificate,
   and then later revisits that site directly but the site has started
   using a self-signed certificate, the user agent could warn the user
   that a man-in-the-middle attack is likely underway, instead of
   simply acting as if the page was not encrypted.</p>

  </div>


  <h4 id="content-type-sniffing"><span class="secno">2.6.3 </span>Determining the type of a resource</h4>

  <p>The <dfn id="content-type" title="Content-Type">Content-Type metadata</dfn> of a
  resource must be obtained and interpreted in a manner consistent
  with the requirements of the Content-Type Processing Model
  specification. <a href="references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p>The <dfn id="algorithm-for-extracting-an-encoding-from-a-content-type">algorithm for extracting an encoding from a
  Content-Type</dfn>, given a string <var title="">s</var>, is given
  in the Content-Type Processing Model specification. It either
  returns an encoding or nothing. <a href="references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p>The <dfn id="content-type-sniffing-0" title="Content-Type sniffing">sniffed type of a
  resource</dfn> must be found in a manner consistent with the
  requirements given in the Content-Type Processing Model
  specification for finding that <i>sniffed type</i>. <a href="references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p>The <dfn id="content-type-sniffing:-image" title="Content-Type sniffing: image">rules for sniffing
  images specifically</dfn> and the <dfn id="content-type-sniffing:-text-or-binary" title="Content-Type sniffing:
  text or binary">rules for distingushing if a resource is text or
  binary</dfn> are also defined in the Content-Type Processing Model
  specification. Both sets of rules return a <a href="infrastructure.html#mime-type">MIME type</a> as
  their result. <a href="references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p class="warning">It is imperative that the rules in the
  Content-Type Processing Model specification be followed
  exactly. When a user agent uses different heuristics for content
  type detection than the server expects, security problems can
  occur. For more details, see the Content-Type Processing Model
  specification. <a href="references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

  </div>



  <h3 id="common-dom-interfaces"><span class="secno">2.7 </span>Common DOM interfaces</h3>

  <h4 id="reflecting-content-attributes-in-idl-attributes"><span class="secno">2.7.1 </span>Reflecting content attributes in IDL attributes</h4>

  <p>Some IDL attributes are defined to <dfn id="reflect">reflect</dfn> a
  particular content attribute. This means that on getting, the IDL
  attribute returns the current value of the content attribute, and on
  setting, the IDL attribute changes the value of the content
  attribute to the given value.</p>

<!-- v2 for completeness: (also search for REFLECTIDL)
  <p class="note">A list of <span>reflecting IDL attributes</span> and
  their corresponding content attributes is given in the index.</p>
-->

  <div class="impl">

  <p>In general, on getting, if the content attribute is not present,
  the IDL attribute must act as if the content attribute's value is
  the empty string; and on setting, if the content attribute is not
  present, it must first be added.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute whose content attribute is defined to contain a
  <a href="#url">URL</a>, then on getting, the IDL attribute must <a href="#resolve-a-url" title="resolve a url">resolve</a> the value of the content
  attribute relative to the element and return the resulting
  <a href="#absolute-url">absolute URL</a> if that was successful, or the empty
  string otherwise; and on setting, must set the content attribute to
  the specified literal value. If the content attribute is absent, the
  IDL attribute must return the default value, if the content
  attribute has one, or else the empty string.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute whose content attribute is defined to contain one or more
  <a href="#url" title="URL">URLs</a>, then on getting, the IDL attribute
  must <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on spaces">split the content
  attribute on spaces</a> and return the concatenation of <a href="#resolve-a-url" title="resolve a URL">resolving</a> each token URL to an
  <a href="#absolute-url">absolute URL</a> relative to the element, with a single
  U+0020 SPACE character between each URL, ignoring any tokens that
  did not resolve successfully. If the content attribute is absent,
  the IDL attribute must return the default value, if the content
  attribute has one, or else the empty string. On setting, the IDL
  attribute must set the content attribute to the specified literal
  value.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code> whose
  content attribute is an <a href="common-microsyntaxes.html#enumerated-attribute">enumerated attribute</a>, and the
  IDL attribute is <dfn id="limited-to-only-known-values">limited to only known values</dfn>, then, on
  getting, the IDL attribute must return the conforming value
  associated with the state the attribute is in (in its canonical
  case), or the empty string if the attribute is in a state that has
  no associated keyword value; and on setting, if the new value is an
  <a href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the keywords
  given for that attribute, then the content attribute must be set to
  the conforming value associated with the state that the attribute
  would be in if set to the given new value, otherwise, if the new
  value is the empty string, then the content attribute must be
  removed, otherwise, the setter must raise a <code><a href="#syntax_err">SYNTAX_ERR</a></code>
  exception.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code> but
  doesn't fall into any of the above categories, then the getting and
  setting must be done in a transparent, case-preserving manner.</p>

  <p>If a reflecting IDL attribute is a <a href="common-microsyntaxes.html#boolean-attribute">boolean
  attribute</a>, then on getting the IDL attribute must return true
  if the attribute is set, and false if it is absent. On setting, the
  content attribute must be removed if the IDL attribute is set to
  false, and must be set to have the same value as its name if the IDL
  attribute is set to true. (This corresponds to the rules for <a href="common-microsyntaxes.html#boolean-attribute" title="boolean attribute">boolean content attributes</a>.)</p>

  <p>If a reflecting IDL attribute is a signed integer type
  (<code>long</code>) then, on getting, the content attribute must be
  parsed according to the <a href="common-microsyntaxes.html#rules-for-parsing-integers" title="rules for parsing
  integers">rules for parsing signed integers</a>, and if that is
  successful, and the value is in the range of the IDL attribute's
  type, the resulting value must be returned. If, on the other hand,
  it fails or returns an out of range value, or if the attribute is
  absent, then the default value must be returned instead, or 0 if
  there is no default value. On setting, the given value must be
  converted to the shortest possible string representing the number as
  a <a href="common-microsyntaxes.html#valid-integer">valid integer</a> and then that string must be used as
  the new content attribute value.</p>

  <p>If a reflecting IDL attribute is a signed integer type
  (<code>long</code>) that is <dfn id="limited-to-only-non-negative-numbers">limited to only non-negative
  numbers</dfn> then, on getting, the content attribute must be parsed
  according to the <a href="common-microsyntaxes.html#rules-for-parsing-non-negative-integers">rules for parsing non-negative
  integers</a>, and if that is successful, and the value is in the
  range of the IDL attribute's type, the resulting value must be
  returned. If, on the other hand, it fails or returns an out of range
  value, or if the attribute is absent, the default value must be
  returned instead, or &minus;1 if there is no default value. On
  setting, if the value is negative, the user agent must fire an
  <code><a href="#index_size_err">INDEX_SIZE_ERR</a></code> exception. Otherwise, the given value
  must be converted to the shortest possible string representing the
  number as a <a href="common-microsyntaxes.html#valid-non-negative-integer">valid non-negative integer</a> and then that
  string must be used as the new content attribute value.</p>

  <p>If a reflecting IDL attribute is an <em>unsigned</em> integer
  type (<code>unsigned long</code>) then, on getting, the content
  attribute must be parsed according to the <a href="common-microsyntaxes.html#rules-for-parsing-non-negative-integers">rules for parsing
  non-negative integers</a>, and if that is successful, and the
  value is in the range of the IDL attribute's type, the resulting
  value must be returned. If, on the other hand, it fails or returns
  an out of range value, or if the attribute is absent, the default
  value must be returned instead, or 0 if there is no default
  value. On setting, the given value must be converted to the shortest
  possible string representing the number as a <a href="common-microsyntaxes.html#valid-non-negative-integer">valid
  non-negative integer</a> and then that string must be used as the
  new content attribute value.</p>

  <p>If a reflecting IDL attribute is an unsigned integer type
  (<code>unsigned long</code>) that is <dfn id="limited-to-only-non-negative-numbers-greater-than-zero">limited to only
  non-negative numbers greater than zero</dfn>, then the behavior is
  similar to the previous case, but zero is not allowed. On getting,
  the content attribute must first be parsed according to the
  <a href="common-microsyntaxes.html#rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a>, and if that is
  successful, and the value is in the range of the IDL attribute's
  type, the resulting value must be returned. If, on the other hand,
  it fails or returns an out of range value, or if the attribute is
  absent, the default value must be returned instead, or 1 if there is
  no default value. On setting, if the value is zero, the user agent
  must fire an <code><a href="#index_size_err">INDEX_SIZE_ERR</a></code> exception. Otherwise, the
  given value must be converted to the shortest possible string
  representing the number as a <a href="common-microsyntaxes.html#valid-non-negative-integer">valid non-negative integer</a>
  and then that string must be used as the new content attribute
  value.</p>

  <p>If a reflecting IDL attribute is a floating point number type
  (<code>float</code>), then, on getting, the content attribute must
  be parsed according to the <a href="common-microsyntaxes.html#rules-for-parsing-floating-point-number-values">rules for parsing floating point
  number values</a>, and if that is successful, the resulting value
  must be returned. If, on the other hand, it fails, or if the
  attribute is absent, the default value must be returned instead, or
  0.0 if there is no default value. On setting, the given value must
  be converted to the <a href="common-microsyntaxes.html#best-representation-of-the-number-as-a-floating-point-number">best representation of the number as a
  floating point number</a> and then that string must be used as
  the new content attribute value.</p>

  <p class="note">The values Infinity and Not-a-Number (NaN) values
  throw an exception on setting, as <a href="infrastructure.html#float-nan">defined
  earlier</a>.</p>

  <p>If a reflecting IDL attribute is of the type
  <code><a href="#domtokenlist">DOMTokenList</a></code> or <code><a href="#domsettabletokenlist">DOMSettableTokenList</a></code>, then
  on getting it must return a <code><a href="#domtokenlist">DOMTokenList</a></code> or
  <code><a href="#domsettabletokenlist">DOMSettableTokenList</a></code> object (as appropriate) whose
  underlying string is the element's corresponding content
  attribute. When the object mutates its underlying string, the
  content attribute must itself be immediately mutated. When the
  attribute is absent, then the string represented by the object is
  the empty string; when the object mutates this empty string, the
  user agent must add the corresponding content attribute, with its
  value set to the value it would have been set to after mutating the
  empty string. The same <code><a href="#domtokenlist">DOMTokenList</a></code> or
  <code><a href="#domsettabletokenlist">DOMSettableTokenList</a></code> object must be returned every time
  for each attribute.</p>

  <div class="example">

   <p>If an element with no attributes has its <code title="dom-tokenlist-remove"><a href="#dom-tokenlist-remove">element.classList.remove()</a></code>
   method invoked, the underlying string won't be changed, since the
   result of removing any token from the empty string is still the
   empty string. However, if the <code title="dom-tokenlist-add"><a href="#dom-tokenlist-add">element.classList.add()</a></code> method is
   then invoked, a <code title="attr-class"><a href="elements.html#classes">class</a></code> attribute
   will be added to the element with the value of the token to be
   added.</p>

  </div>

  <p>If a reflecting IDL attribute has the type
  <code><a href="elements.html#htmlelement">HTMLElement</a></code>, or an interface that descends from
  <code><a href="elements.html#htmlelement">HTMLElement</a></code>, then, on getting, it must run the
  following algorithm (stopping at the first point where a value is
  returned):</p>

  <ol><li>If the corresponding content attribute is absent, then the
   IDL attribute must return null.</li>

   <li>Let <var title="">candidate</var> be the element that the <code title="">document.getElementById()</code> method would find if it
   was passed as its argument the current value of the corresponding
   content attribute.</li>

   <li>If <var title="">candidate</var> is null, or if it is not
   type-compatible with the IDL attribute, then the IDL attribute must
   return null.</li>

   <li>Otherwise, it must return <var title="">candidate</var>.</li>

  </ol><p>On setting, if the given element has an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute, then the content attribute must
  be set to the value of that <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code>
  attribute. Otherwise, the IDL attribute must be set to the empty
  string.</p>

  </div>


  <h4 id="collections-0"><span class="secno">2.7.2 </span>Collections</h4>

  <p>The <code><a href="#htmlcollection">HTMLCollection</a></code>, <code><a href="#htmlallcollection">HTMLAllCollection</a></code>,
  <code><a href="#htmlformcontrolscollection">HTMLFormControlsCollection</a></code>,
  <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code>, and
  <code><a href="#htmlpropertiescollection">HTMLPropertiesCollection</a></code> interfaces represent various
  lists of DOM nodes. Collectively, objects implementing these
  interfaces are called <dfn id="collections">collections</dfn>.</p>

  <p>When a <a href="#collections" title="collections">collection</a> is created, a
  filter and a root are associated with the collection.</p>

  <p class="example">For example, when the <code><a href="#htmlcollection">HTMLCollection</a></code>
  object for the <code title="dom-document-images"><a href="dom.html#dom-document-images">document.images</a></code> attribute is
  created, it is associated with a filter that selects only
  <code><a href="embedded-content-1.html#the-img-element">img</a></code> elements, and rooted at the root of the
  document.</p>

  <p>The <a href="#collections" title="collections">collection</a> then <dfn id="represented-by-the-collection" title="represented by the collection">represents</dfn> a
  <a href="infrastructure.html#live">live</a> view of the subtree rooted at the collection's
  root, containing only nodes that match the given filter. The view is
  linear. <span class="impl">In the absence of specific requirements
  to the contrary, the nodes within the collection must be sorted in
  <a href="infrastructure.html#tree-order">tree order</a>.</span></p>

  <div class="impl">

  <p class="note">The <code title="dom-table-rows"><a href="tabular-data.html#dom-table-rows">rows</a></code> list is
  not in tree order.</p>

  <p>An attribute that returns a collection must return the same
  object every time it is retrieved.</p>

  </div>


  <h5 id="htmlcollection-0"><span class="secno">2.7.2.1 </span>HTMLCollection</h5>

  <p>The <code><a href="#htmlcollection">HTMLCollection</a></code> interface represents a generic
  <a href="#collections" title="collections">collection</a> of elements.</p>

  <pre class="idl">interface <dfn id="htmlcollection">HTMLCollection</dfn> {
  readonly attribute unsigned long <a href="#dom-htmlcollection-length" title="dom-HTMLCollection-length">length</a>;
  caller getter Element <a href="#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>(in unsigned long index);
  caller getter Element <a href="#dom-htmlcollection-nameditem" title="dom-HTMLCollection-namedItem">namedItem</a>(in DOMString name);<!--
  (removed on the assuption that browsers will remove support:)
   https://bugs.webkit.org/show_bug.cgi?id=30695
   https://bugs.opera.com/browse/CORE-25171
  <span>HTMLAllCollection</span> <span title="dom-HTMLCollection-tags">tags</span>(in DOMString tagName);-->
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length"><a href="#dom-htmlcollection-length">length</a></code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="infrastructure.html#tree-order">tree order</a>.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the first item with <a href="elements.html#concept-id" title="concept-id">ID</a> or name <var title="">name</var>
    from the collection.</p>
    <p>Returns null if no element with that <a href="elements.html#concept-id" title="concept-id">ID</a> or name could be found.</p>
    <p>Only <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="obsolete.html#the-applet-element">applet</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>,
    <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>, <code><a href="forms.html#the-form-element">form</a></code>, <code><a href="obsolete.html#frame">frame</a></code>,
    <code><a href="obsolete.html#frameset">frameset</a></code>, <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, and
    <code><a href="the-iframe-element.html#the-object-element">object</a></code> elements can have a name for the purpose of
    this method; their name is given by the value of their <code title="">name</code> attribute.</p>
   </dd>
<!--(see IDL)
   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-tags">tags</code>(<var title="">tagName</var>)</dt>
   <dd>
    <p>Returns a collection that is a filtered view of the current collection, containing only elements with the given tag name.</p>
   </dd>
-->
  </dl><div class="impl">

  <p>The object's <span>indices of the supported indexed
  properties</span> are the numbers in the range zero to one less than
  the number of nodes <a href="#represented-by-the-collection">represented by the collection</a>. If
  there are no such elements, then there are no <span>supported
  indexed properties</span>.</p>

  <p>The <dfn id="dom-htmlcollection-length" title="dom-HTMLCollection-length"><code>length</code></dfn>
  attribute must return the number of nodes <a href="#represented-by-the-collection">represented by the
  collection</a>.</p>

  <p>The <dfn id="dom-htmlcollection-item" title="dom-HTMLCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
  return null.</p>

  <p>The <span>names of the supported named properties</span> consist
  of the values of the <code title="">name</code> attributes of each
  <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="obsolete.html#the-applet-element">applet</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>,
  <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>, <code><a href="forms.html#the-form-element">form</a></code>, <code><a href="obsolete.html#frame">frame</a></code>,
  <code><a href="obsolete.html#frameset">frameset</a></code>, <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, and
  <code><a href="the-iframe-element.html#the-object-element">object</a></code> element <a href="#represented-by-the-collection">represented by the
  collection</a> with a <code title="">name</code> attribute, plus
  the list of IDs that the elements <a href="#represented-by-the-collection">represented by the
  collection</a> have.</p>

  <p>The <dfn id="dom-htmlcollection-nameditem" title="dom-HTMLCollection-namedItem"><code>namedItem(<var title="">key</var>)</code></dfn> method must return the first node
  in the collection that matches the following requirements:</p>

  <ul><li>It is an <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="obsolete.html#the-applet-element">applet</a></code>,
   <code><a href="the-map-element.html#the-area-element">area</a></code>, <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>, <code><a href="forms.html#the-form-element">form</a></code>,
   <code><a href="obsolete.html#frame">frame</a></code>, <code><a href="obsolete.html#frameset">frameset</a></code>, <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>,
   <code><a href="embedded-content-1.html#the-img-element">img</a></code>, or <code><a href="the-iframe-element.html#the-object-element">object</a></code> element with a <code title="">name</code> attribute equal to <var title="">key</var>,
   or,</li>

   <li>It is an element with an <a href="elements.html#concept-id" title="concept-id">ID</a>
   equal to <var title="">key</var>.</li>

  </ul><p>If no such elements are found, then the method must return
  null.</p>
<!--(see IDL)
  <p>The <dfn title="dom-HTMLCollection-tags"><code>tags(<var
  title="">tagName</var>)</code></dfn> method must return an
  <code>HTMLAllCollection</code> rooted at the same node as the
  <code>HTMLCollection</code> object on which the method was invoked,
  whose filter matches only <span>HTML elements</span> whose local
  name is the <var title="">tagName</var> argument and that already
  match the filter of the <code>HTMLCollection</code> object on which
  the method was invoked. In <span>HTML documents</span>, the argument
  must first be <span>converted to ASCII lowercase</span>.</p>
-->
  </div>


  <h5 id="htmlallcollection-0"><span class="secno">2.7.2.2 </span>HTMLAllCollection</h5>

  <p>The <code><a href="#htmlallcollection">HTMLAllCollection</a></code> interface represents a generic
  <a href="#collections" title="collections">collection</a> of elements just like
  <code><a href="#htmlcollection">HTMLCollection</a></code>, with the exception that its <code title="dom-HTMLAllCollection-namedItem"><a href="#dom-htmlallcollection-nameditem">namedItem()</a></code> method
  returns an <code><a href="#htmlcollection">HTMLCollection</a></code> object when there are
  multiple matching elements.</p>

  <pre class="idl">interface <dfn id="htmlallcollection">HTMLAllCollection</dfn> : <a href="#htmlcollection">HTMLCollection</a> {
  // inherits <a href="#dom-htmlcollection-length" title="dom-HTMLCollection-length">length</a> and <a href="#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>()
  caller getter object <a href="#dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem">namedItem</a>(in DOMString name); // overrides inherited namedItem()
  <a href="#htmlallcollection">HTMLAllCollection</a> <a href="#dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags">tags</a>(in DOMString tagName);
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length"><a href="#dom-htmlcollection-length">length</a></code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="infrastructure.html#tree-order">tree order</a>.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-namedItem"><a href="#dom-htmlallcollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-namedItem"><a href="#dom-htmlallcollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="elements.html#concept-id" title="concept-id">ID</a> or name <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then an <code><a href="#htmlallcollection">HTMLAllCollection</a></code> object containing all those elements is returned.</p>
    <p>Returns null if no element with that <a href="elements.html#concept-id" title="concept-id">ID</a> or name could be found.</p>
    <p>Only <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="obsolete.html#the-applet-element">applet</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>,
    <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>, <code><a href="forms.html#the-form-element">form</a></code>, <code><a href="obsolete.html#frame">frame</a></code>,
    <code><a href="obsolete.html#frameset">frameset</a></code>, <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, and
    <code><a href="the-iframe-element.html#the-object-element">object</a></code> elements can have a name for the purpose of
    this method; their name is given by the value of their <code title="">name</code> attribute.</p>
   </dd>

   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-tags"><a href="#dom-htmlallcollection-tags">tags</a></code>(<var title="">tagName</var>)</dt>
   <dd>
    <p>Returns a collection that is a filtered view of the current collection, containing only elements with the given tag name.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <span>indices of the supported indexed
  properties</span> and <span>names of the supported named
  properties</span> are as defined for <code><a href="#htmlcollection">HTMLCollection</a></code>
  objects.</p>

  <p>The <dfn id="dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem"><code>namedItem(<var title="">key</var>)</code></dfn> method must act according to the
  following algorithm:</p>

  <ol><li>

    <p>Let <var title="">collection</var> be an
    <code><a href="#htmlallcollection">HTMLAllCollection</a></code> object rooted at the same node as
    the <code><a href="#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
    invoked, whose filter matches only only elements that already
    match the filter of the <code><a href="#htmlallcollection">HTMLAllCollection</a></code> object on
    which the method was invoked and that are either:</p>

    <ul><li><code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="obsolete.html#the-applet-element">applet</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>,
     <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>, <code><a href="forms.html#the-form-element">form</a></code>, <code><a href="obsolete.html#frame">frame</a></code>,
     <code><a href="obsolete.html#frameset">frameset</a></code>, <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, or
     <code><a href="the-iframe-element.html#the-object-element">object</a></code> elements with a <code title="">name</code>
     attribute equal to <var title="">key</var>, or,</li>

     <li>elements with an <a href="elements.html#concept-id" title="concept-id">ID</a> equal to
     <var title="">key</var>.</li>

    </ul></li>

   <li>If, at the time the method is called, there is exactly one node
   in <var title="">collection</var>, then return that node and stop
   the algorithm.</li>

   <li>Otherwise, if, at the time the method is called, <var title="">collection</var> is empty, return null and stop the
   algorithm.</li>

   <li>Otherwise, return <var title="">collection</var>.</li>

  </ol><p>The <dfn id="dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags"><code>tags(<var title="">tagName</var>)</code></dfn> method must return an
  <code><a href="#htmlallcollection">HTMLAllCollection</a></code> rooted at the same node as the
  <code><a href="#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
  invoked, whose filter matches only <a href="infrastructure.html#html-elements">HTML elements</a> whose
  local name is the <var title="">tagName</var> argument and that
  already match the filter of the <code><a href="#htmlallcollection">HTMLAllCollection</a></code>
  object on which the method was invoked. In <a href="dom.html#html-documents">HTML
  documents</a>, the argument must first be <a href="infrastructure.html#converted-to-ascii-lowercase">converted to
  ASCII lowercase</a>.</p>

  </div>


  <h5 id="htmlformcontrolscollection-0"><span class="secno">2.7.2.3 </span>HTMLFormControlsCollection</h5>

  <p>The <code><a href="#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> interface represents
  a <a href="#collections" title="collections">collection</a> of <a href="forms.html#category-listed" title="category-listed">listed</a> elements in <code><a href="forms.html#the-form-element">form</a></code>
  and <code><a href="forms.html#the-fieldset-element">fieldset</a></code> elements.</p>

  <pre class="idl">interface <dfn id="htmlformcontrolscollection">HTMLFormControlsCollection</dfn> : <a href="#htmlcollection">HTMLCollection</a> {
  // inherits <a href="#dom-htmlcollection-length" title="dom-HTMLCollection-length">length</a> and <a href="#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>()
  caller getter object <a href="#dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem">namedItem</a>(in DOMString name); // overrides inherited namedItem()
};

interface <dfn id="radionodelist">RadioNodeList</dfn> : <span>NodeList</span> {
          attribute DOMString <a href="#dom-radionodelist-value" title="dom-RadioNodeList-value">value</a>;
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length"><a href="#dom-htmlcollection-length">length</a></code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="infrastructure.html#tree-order">tree order</a>.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-namedItem"><a href="#dom-htmlformcontrolscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">radioNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-namedItem"><a href="#dom-htmlformcontrolscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="elements.html#concept-id" title="concept-id">ID</a> or <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then a <code><a href="#radionodelist">RadioNodeList</a></code> object containing all those elements is returned.</p>
    <p>Returns null if no element with that <a href="elements.html#concept-id" title="concept-id">ID</a> or <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> could be found.</p>
   </dd>

   <dt><var title="">radioNodeList</var> . <var title="">value</var> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the value of the first checked radio button represented by the object.</p>
    <p>Can be set, to check the first radio button with the given value represented by the object.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <span>indices of the supported indexed
  properties</span> are as defined for <code><a href="#htmlcollection">HTMLCollection</a></code>
  objects.</p>

  <p>The <span>names of the supported named properties</span> consist
  of the values of all the <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> and <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> attributes of all the elements
  <a href="#represented-by-the-collection">represented by the collection</a>.</p>

  <p>The <dfn id="dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
  following algorithm:</p>

  <ol><li>If, at the time the method is called, there is exactly one node
   in the collection that has either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return that node and stop the
   algorithm.</li>

   <li>Otherwise, if there are no nodes in the collection that have
   either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

   <li>Otherwise, create a <code><a href="#radionodelist">RadioNodeList</a></code> object
   representing a live view of the
   <code><a href="#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> object, further filtered so
   that the only nodes in the <code><a href="#radionodelist">RadioNodeList</a></code> object are
   those that have either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute
   or a <code title="attr-fe-name"><a href="association-of-controls-and-forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>. The nodes in the <code><a href="#radionodelist">RadioNodeList</a></code>
   object must be sorted in <a href="infrastructure.html#tree-order">tree order</a>.</li>

   <li>Return that <code><a href="#radionodelist">RadioNodeList</a></code> object.</li>

  </ol><hr><p>Members of the <code><a href="#radionodelist">RadioNodeList</a></code> interface inherited
  from the <code>NodeList</code> interface must behave as they would
  on a <code>NodeList</code> object.</p>

  <p>The <dfn id="dom-radionodelist-value" title="dom-RadioNodeList-value"><code>value</code></dfn>
  IDL attribute on the <code><a href="#radionodelist">RadioNodeList</a></code> object, on getting,
  must return the value returned by running the following steps:</p>

  <ol><li><p>Let <var title="">element</var> be the first element in
   <a href="infrastructure.html#tree-order">tree order</a> represented by the
   <code><a href="#radionodelist">RadioNodeList</a></code> object that is an <code><a href="the-input-element.html#the-input-element">input</a></code>
   element whose <code title="attr-input-type"><a href="the-input-element.html#attr-input-type">type</a></code> attribute
   is in the <a href="number-state.html#radio-button-state" title="attr-input-type-radio">Radio Button</a>
   state and whose <a href="association-of-controls-and-forms.html#concept-fe-checked" title="concept-fe-checked">checkedness</a>
   is true. Otherwise, let it be null.</li>

   <li><p>If <var title="">element</var> is null, or if it is an
   element with no <code title="attr-input-value"><a href="the-input-element.html#attr-input-value">value</a></code>
   attribute, return the empty string.</li>

   <li><p>Otherwise, return the value of <var title="">element</var>'s
   <code title="attr-input-value"><a href="the-input-element.html#attr-input-value">value</a></code> attribute.</li>

  </ol><p>On setting, the <code title="dom-RadioNodeList-value"><a href="#dom-radionodelist-value">value</a></code> IDL attribute must run
  the following steps:</p>

  <ol><li><p>Let <var title="">element</var> be the first element in
   <a href="infrastructure.html#tree-order">tree order</a> represented by the
   <code><a href="#radionodelist">RadioNodeList</a></code> object that is an <code><a href="the-input-element.html#the-input-element">input</a></code>
   element whose <code title="attr-input-type"><a href="the-input-element.html#attr-input-type">type</a></code> attribute
   is in the <a href="number-state.html#radio-button-state" title="attr-input-type-radio">Radio Button</a>
   state and whose <code title="attr-input-value"><a href="the-input-element.html#attr-input-value">value</a></code> content
   attribute is present and equal to the new value, if any. Otherwise,
   let it be null.</li>

   <li><p>If <var title="">element</var> is not null, then set its
   <a href="association-of-controls-and-forms.html#concept-fe-checked" title="concept-fe-checked">checkedness</a> to true.</p>

  </ol><!--
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A
--></div>


  <h5 id="htmloptionscollection-0"><span class="secno">2.7.2.4 </span>HTMLOptionsCollection</h5>

  <p>The <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> interface represents a
  list of <code><a href="the-button-element.html#the-option-element">option</a></code> elements. It is always rooted on a
  <code><a href="the-button-element.html#the-select-element">select</a></code> element and has attributes and methods that
  manipulate that element's descendants.</p>

  <pre class="idl">interface <dfn id="htmloptionscollection">HTMLOptionsCollection</dfn> : <a href="#htmlcollection">HTMLCollection</a> {
  // inherits <a href="#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>()
           attribute unsigned long <a href="#dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length">length</a>; // overrides inherited length
  caller getter object <a href="#dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem">namedItem</a>(in DOMString name); // overrides inherited namedItem()
  void <a href="#dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add">add</a>(in <a href="elements.html#htmlelement">HTMLElement</a> element, in optional <a href="elements.html#htmlelement">HTMLElement</a> before);
  void <a href="#dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add">add</a>(in <a href="elements.html#htmlelement">HTMLElement</a> element, in long before);
  void <a href="#dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove">remove</a>(in long index);
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-length"><a href="#dom-htmloptionscollection-length">length</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
    <p>When set to a smaller number, truncates the number of <code><a href="the-button-element.html#the-option-element">option</a></code> elements in the corresponding container.</p>
    <p>When set to a greater number, adds new blank <code><a href="the-button-element.html#the-option-element">option</a></code> elements to that container.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="infrastructure.html#tree-order">tree order</a>.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-namedItem"><a href="#dom-htmloptionscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">nodeList</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-namedItem"><a href="#dom-htmloptionscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="elements.html#concept-id" title="concept-id">ID</a> or <code title="attr-option-name">name</code> <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then a <code>NodeList</code> object containing all those elements is returned.</p>
    <p>Returns null if no element with that <a href="elements.html#concept-id" title="concept-id">ID</a> could be found.</p>
   </dd>

   <dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-add"><a href="#dom-htmloptionscollection-add">add</a></code>(<var title="">element</var> [, <var title="">before</var> ] )</dt>
   <dd>
    <p>Inserts <var title="">element</var> before the node given by <var title="">before</var>.</p>
    <p>The <var title="">before</var> argument can be a number, in
    which case <var title="">element</var> is inserted before the item
    with that number, or an element from the collection, in which case
    <var title="">element</var> is inserted before that element.</p>
    <p>If <var title="">before</var> is omitted, null, or a number out
    of range, then <var title="">element</var> will be added at the
    end of the list.</p>
    <p>This method will throw a <code><a href="#hierarchy_request_err">HIERARCHY_REQUEST_ERR</a></code>
    exception if <var title="">element</var> is an ancestor of the
    element into which it is to be inserted. If <var title="">element</var> is not an <code><a href="the-button-element.html#the-option-element">option</a></code> or
    <code><a href="the-button-element.html#the-optgroup-element">optgroup</a></code> element, then the method does nothing.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <span>indices of the supported indexed
  properties</span> are as defined for <code><a href="#htmlcollection">HTMLCollection</a></code>
  objects.</p>

  <p>On getting, the <dfn id="dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length"><code>length</code></dfn>
  attribute must return the number of nodes <a href="#represented-by-the-collection">represented by the
  collection</a>.</p>

  <p>On setting, the behavior depends on whether the new value is
  equal to, greater than, or less than the number of nodes
  <a href="#represented-by-the-collection">represented by the collection</a> at that time. If the
  number is the same, then setting the attribute must do nothing. If
  the new value is greater, then <var title="">n</var> new
  <code><a href="the-button-element.html#the-option-element">option</a></code> elements with no attributes and no child nodes
  must be appended to the <code><a href="the-button-element.html#the-select-element">select</a></code> element on which the
  <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, where <var title="">n</var> is the difference between the two numbers (new
  value minus old value). If the new value is lower, then the last
  <var title="">n</var> nodes in the collection must be removed from
  their parent nodes, where <var title="">n</var> is the difference
  between the two numbers (old value minus new value).</p>

  <p class="note">Setting <code title="dom-HTMLOptionsCollection-length"><a href="#dom-htmloptionscollection-length">length</a></code> never removes
  or adds any <code><a href="the-button-element.html#the-optgroup-element">optgroup</a></code> elements, and never adds new
  children to existing <code><a href="the-button-element.html#the-optgroup-element">optgroup</a></code> elements (though it can
  remove children from them).</p>

  <p>The <span>names of the supported named properties</span> consist
  of the values of all the <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> and <code title="attr-option-name">name</code> attributes of all the elements
  <a href="#represented-by-the-collection">represented by the collection</a>.</p>

  <p>The <dfn id="dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
  following algorithm:</p>

  <ol><li>If, at the time the method is called, there is exactly one node
   in the collection that has either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name">name</code> attribute equal to <var title="">name</var>, then return that node and stop the
   algorithm.</li>

   <li>Otherwise, if there are no nodes in the collection that have
   either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name">name</code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

   <!-- IE returns an HTMLCollection instead; we may need to change to that for compat -->
   <li>Otherwise, create a <code>NodeList</code> object representing a
   live view of the <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> object, further
   filtered so that the only nodes in the <code>NodeList</code> object
   are those that have either an <code title="attr-id"><a href="elements.html#the-id-attribute">id</a></code>
   attribute or a <code title="attr-option-name">name</code> attribute
   equal to <var title="">name</var>. The nodes in the
   <code>NodeList</code> object must be sorted in <a href="infrastructure.html#tree-order">tree
   order</a>.</li>

   <li>Return that <code>NodeList</code> object.</li>

  </ol><p>The <dfn id="dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add"><code>add(<var title="">element</var>, <var title="">before</var>)</code></dfn>
  method must act according to the following algorithm:</p>

  <ol><li><p>If <var title="">element</var> is not an <code><a href="the-button-element.html#the-option-element">option</a></code>
   or <code><a href="the-button-element.html#the-optgroup-element">optgroup</a></code> element, then return and abort these
   steps.</li>

   <li><p>If <var title="">element</var> is an ancestor of the
   <code><a href="the-button-element.html#the-select-element">select</a></code> element on which the
   <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw a
   <code><a href="#hierarchy_request_err">HIERARCHY_REQUEST_ERR</a></code> exception.</li>

   <li><p>If <var title="">before</var> is an element, but that
   element isn't a descendant of the <code><a href="the-button-element.html#the-select-element">select</a></code> element on
   which the <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw
   a <code><a href="#not_found_err">NOT_FOUND_ERR</a></code> exception.</li>

   <li><p>If <var title="">element</var> and <var title="">before</var> are the same element, then return and abort
   these steps.</li>

   <li><p>If <var title="">before</var> is a node, then let <var title="">reference</var> be that node. Otherwise, if <var title="">before</var> is an integer, and there is a <var title="">before</var>th node in the collection, let <var title="">reference</var> be that node. Otherwise, let <var title="">reference</var> be null.</li>

   <li><p>If <var title="">reference</var> is not null, let <var title="">parent</var> be the parent node of <var title="">reference</var>. Otherwise, let <var title="">parent</var>
   be the <code><a href="the-button-element.html#the-select-element">select</a></code> element on which the
   <code><a href="#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted.</li>

   <li><p>Act as if the DOM Core <code title="dom-insertBefore">insertBefore()</code> method was invoked
   on the <var title="">parent</var> node, with <var title="">element</var> as the first argument and <var title="">reference</var> as the second argument.</p>

  </ol><p>The <dfn id="dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove"><code>remove(<var title="">index</var>)</code></dfn> method must act according to
  the following algorithm:</p>

  <ol><li><p>If the number of nodes <a href="#represented-by-the-collection">represented by the
   collection</a> is zero, abort these steps.</li>

   <li><p>If <var title="">index</var> is not a number greater than or
   equal to 0 and less than the number of nodes <a href="#represented-by-the-collection">represented by
   the collection</a>, let <var title="">element</var> be the first
   element in the collection. Otherwise, let <var title="">element</var> be the <var title="">index</var>th element
   in the collection.</li>

   <li><p>Remove <var title="">element</var> from its parent
   node.</li>

  </ol><!-- see also http://ln.hixie.ch/?start=1161042744&count=1 --></div>


  <h5 id="htmlpropertiescollection-0"><span class="secno">2.7.2.5 </span>HTMLPropertiesCollection</h5>

  <p>The <code><a href="#htmlpropertiescollection">HTMLPropertiesCollection</a></code> interface represents a
  <a href="#collections" title="collections">collection</a> of elements that add
  name-value pairs to a particular <a href="microdata.html#concept-item" title="concept-item">item</a> in the <a href="microdata.html#microdata">microdata</a>
  model.</p>

  <pre class="idl">interface <dfn id="htmlpropertiescollection">HTMLPropertiesCollection</dfn> : <a href="#htmlcollection">HTMLCollection</a> {
  // inherits <a href="#dom-htmlcollection-length" title="dom-HTMLCollection-length">length</a> and <a href="#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>()
  caller getter <a href="#propertynodelist">PropertyNodeList</a> <a href="#dom-htmlpropertiescollection-nameditem" title="dom-HTMLPropertiesCollection-namedItem">namedItem</a>(in DOMString name); // overrides inherited namedItem()
  readonly attribute <span>DOMStringList</span> <a href="#dom-htmlpropertiescollection-names" title="dom-HTMLPropertiesCollection-names">names</a>;
};

typedef sequence&lt;any&gt; <dfn id="propertyvaluearray">PropertyValueArray</dfn>;

interface <dfn id="propertynodelist">PropertyNodeList</dfn> : <span>NodeList</span> {
  readonly attribute <a href="#propertyvaluearray">PropertyValueArray</a> <a href="#dom-propertynodelist-values" title="dom-PropertyNodeList-values">values</a>;
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length"><a href="#dom-htmlcollection-length">length</a></code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the element with index <var title="">index</var> from the collection. The items are sorted in <a href="infrastructure.html#tree-order">tree order</a>.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">propertyNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLPropertiesCollection-namedItem"><a href="#dom-htmlpropertiescollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns a <code><a href="#propertynodelist">PropertyNodeList</a></code> object containing any elements that add a property named <var title="">name</var>.</p>
   </dd>

   <dt><var title="">collection</var> . <code title="dom-HTMLPropertiesCollection-names"><a href="#dom-htmlpropertiescollection-names">names</a></code></dt>
   <dd>
    <p>Returns a <code>DOMStringList</code> with the <a href="microdata.html#property-names">property names</a> of the elements in the collection.</p>
   </dd>

   <dt><var title="">propertyNodeList</var> . <code title="dom-PropertyNodeList-values"><a href="#dom-propertynodelist-values">values</a></code></dt>
   <dd>
    <p>Returns an array of the various values that the relevant elements have.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <span>indices of the supported indexed
  properties</span> are as defined for <code><a href="#htmlcollection">HTMLCollection</a></code>
  objects.</p>

  <p>The <span>names of the supported named properties</span> consist
  of the <a href="microdata.html#property-names">property names</a> of all the elements
  <a href="#represented-by-the-collection">represented by the collection</a>.</p>

  <p>The <dfn id="dom-htmlpropertiescollection-names" title="dom-HTMLPropertiesCollection-names"><code>names</code></dfn>
  attribute must return a live <code>DOMStringList</code> object
  giving the <a href="microdata.html#property-names">property names</a> of all the elements
  <a href="#represented-by-the-collection">represented by the collection</a>, listed in <a href="infrastructure.html#tree-order">tree
  order</a>, but with duplicates removed, leaving only the first
  occurrence of each name. The same object must be returned each
  time.</p>

  <p>The <dfn id="dom-htmlpropertiescollection-nameditem" title="dom-HTMLPropertiesCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must return a
  <code><a href="#propertynodelist">PropertyNodeList</a></code> object representing a live view of the
  <code><a href="#htmlpropertiescollection">HTMLPropertiesCollection</a></code> object, further filtered so that
  the only nodes in the <code><a href="#propertynodelist">PropertyNodeList</a></code> object are those
  that have a <a href="microdata.html#property-names" title="property names">property name</a> equal
  to <var title="">name</var>. The nodes in the
  <code><a href="#propertynodelist">PropertyNodeList</a></code> object must be sorted in <a href="infrastructure.html#tree-order">tree
  order</a>, and the same object must be returned each time a
  particular <var title="">name</var> is queried.</p>

  <hr><p>Members of the <code><a href="#propertynodelist">PropertyNodeList</a></code> interface inherited
  from the <code>NodeList</code> interface must behave as they would
  on a <code>NodeList</code> object.</p>

  <p>The <dfn id="dom-propertynodelist-values" title="dom-PropertyNodeList-values"><code>values</code></dfn>
  IDL attribute on the <code><a href="#propertynodelist">PropertyNodeList</a></code> object, on
  getting, must return a newly constructed array whose values are the
  values obtained from the <code title="dom-itemValue"><a href="microdata.html#dom-itemvalue">itemValue</a></code> DOM property of each of the
  elements represented by the object, in <a href="infrastructure.html#tree-order">tree order</a>.</p>

  </div>


  <h4 id="domtokenlist-0"><span class="secno">2.7.3 </span>DOMTokenList</h4>

  <p>The <code><a href="#domtokenlist">DOMTokenList</a></code> interface represents an interface
  to an underlying string that consists of a <a href="common-microsyntaxes.html#set-of-space-separated-tokens">set of
  space-separated tokens</a>.</p>

  <p class="note"><code><a href="#domtokenlist">DOMTokenList</a></code> objects are always
  <a href="infrastructure.html#case-sensitive">case-sensitive</a>, even when the underlying string might
  ordinarily be treated in a case-insensitive manner.</p>

  <pre class="idl">interface <dfn id="domtokenlist">DOMTokenList</dfn> {
  readonly attribute unsigned long <a href="#dom-tokenlist-length" title="dom-tokenlist-length">length</a>;
  getter DOMString <a href="#dom-tokenlist-item" title="dom-tokenlist-item">item</a>(in unsigned long index);
  boolean <a href="#dom-tokenlist-contains" title="dom-tokenlist-contains">contains</a>(in DOMString token);
  void <a href="#dom-tokenlist-add" title="dom-tokenlist-add">add</a>(in DOMString token);
  void <a href="#dom-tokenlist-remove" title="dom-tokenlist-remove">remove</a>(in DOMString token);
  boolean <a href="#dom-tokenlist-toggle" title="dom-tokenlist-toggle">toggle</a>(in DOMString token);
  <a href="#dom-tokenlist-tostring" title="dom-tokenlist-toString">stringifier</a> DOMString ();
};</pre>

  <dl class="domintro"><dt><var title="">tokenlist</var> . <code title="dom-tokenlist-length"><a href="#dom-tokenlist-length">length</a></code></dt>
   <dd>
    <p>Returns the number of tokens in the string.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-item"><a href="#dom-tokenlist-item">item</a></code>(<var title="">index</var>)</dt>
   <dt><var title="">tokenlist</var>[<var title="">index</var>]</dt>
   <dd>
    <p>Returns the token with index <var title="">index</var>. The tokens are returned in the order they are found in the underlying string.</p>
    <p>Returns null if <var title="">index</var> is out of range.</p>
   </dd>

   <dt><var title="">hastoken</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-contains"><a href="#dom-tokenlist-contains">contains</a></code>(<var title="">token</var>)</dt>
   <dd>
    <p>Returns true if the <var title="">token</var> is present; false otherwise.</p>
    <p>Throws a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
    <p>Throws an <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
   </dd>

   <dt><var title="">tokenlist</var> . <code title="dom-tokenlist-add"><a href="#dom-tokenlist-add">add</a></code>(<var title="">token</var>)</dt>
   <dd>
    <p>Adds <var title="">token</var>, unless it is already present.</p>
    <p>Throws a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
    <p>Throws an <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
   </dd>

   <dt><var title="">tokenlist</var> . <code title="dom-tokenlist-remove"><a href="#dom-tokenlist-remove">remove</a></code>(<var title="">token</var>)</dt>
   <dd>
    <p>Removes <var title="">token</var> if it is present.</p>
    <p>Throws a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
    <p>Throws an <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
   </dd>

   <dt><var title="">hastoken</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-toggle"><a href="#dom-tokenlist-toggle">toggle</a></code>(<var title="">token</var>)</dt>
   <dd>
    <p>Adds <var title="">token</var> if it is not present, or removes it if it is.</p>
    <p>Throws a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
    <p>Throws an <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-tokenlist-length" title="dom-tokenlist-length"><code>length</code></dfn>
  attribute must return the number of tokens that result from <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on spaces">splitting the underlying string on
  spaces</a>. This is the <var title="dom-tokenlist-length"><a href="#dom-tokenlist-length">length</a></var>.</p>

  <p>The object's <span>indices of the supported indexed
  properties</span> are the numbers in the range zero to <span title=""><var title="dom-tokenlist-length"><a href="#dom-tokenlist-length">length</a></var>-1</span>, unless the <var title="dom-tokenlist-length"><a href="#dom-tokenlist-length">length</a></var> is zero, in which case
  there are no <span>supported indexed properties</span>.</p>

  <p>The <dfn id="dom-tokenlist-item" title="dom-tokenlist-item"><code>item(<var title="">index</var>)</code></dfn> method must <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a
  string on spaces">split the underlying string on spaces</a>,
  preserving the order of the tokens as found in the underlying
  string, and then return the <var title="">index</var>th item in this
  list. If <var title="">index</var> is equal to or greater than the
  number of tokens, then the method must return null.</p>

  <p class="example">For example, if the string is "<code title="">a b
  a c</code>" then there are four tokens: the token with index 0 is
  "<code title="">a</code>", the token with index 1 is "<code title="">b</code>", the token with index 2 is "<code title="">a</code>", and the token with index 3 is "<code title="">c</code>".</p>

  <p>The <dfn id="dom-tokenlist-contains" title="dom-tokenlist-contains"><code>contains(<var title="">token</var>)</code></dfn> method must run the following
  algorithm:</p>

  <ol><li>If the <var title="">token</var> argument is the empty string,
   then raise a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>If the <var title="">token</var> argument contains any <a href="common-microsyntaxes.html#space-character" title="space character">space characters</a>, then raise an
   <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>Otherwise, <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on spaces">split the
   underlying string on spaces</a> to get the list of tokens in the
   object's underlying string.</li>

   <li>If the token indicated by <var title="">token</var> is a
   <a href="infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
   object's underlying string then return true and stop this
   algorithm.</li>

   <li>Otherwise, return false.</li>

  </ol><p>The <dfn id="dom-tokenlist-add" title="dom-tokenlist-add"><code>add(<var title="">token</var>)</code></dfn> method must run the following
  algorithm:</p>

  <ol><li>If the <var title="">token</var> argument is the empty string,
   then raise a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>If the <var title="">token</var> argument contains any <a href="common-microsyntaxes.html#space-character" title="space character">space characters</a>, then raise an
   <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>Otherwise, <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on spaces">split the
   underlying string on spaces</a> to get the list of tokens in the
   object's underlying string.</li>

   <li>If the given <var title="">token</var> is a
   <a href="infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
   <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying string then stop the
   algorithm.</li>

   <li>Otherwise, if the <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying
   string is not the empty string and the last character of that
   string is not a <a href="common-microsyntaxes.html#space-character">space character</a>, then append a U+0020
   SPACE character to the end of that string.</li>

   <li>Append the value of <var title="">token</var> to the end of the
   <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying string.</li>

  </ol><p>The <dfn id="dom-tokenlist-remove" title="dom-tokenlist-remove"><code>remove(<var title="">token</var>)</code></dfn> method must run the following
  algorithm:</p>

  <ol><li>If the <var title="">token</var> argument is the empty string,
   then raise a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>If the <var title="">token</var> argument contains any <a href="common-microsyntaxes.html#space-character" title="space character">space characters</a>, then raise an
   <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>Otherwise, <a href="common-microsyntaxes.html#remove-a-token-from-a-string" title="remove a token from a string">remove
   the given <var title="">token</var> from the underlying
   string</a>.</li>

  </ol><p>The <dfn id="dom-tokenlist-toggle" title="dom-tokenlist-toggle"><code>toggle(<var title="">token</var>)</code></dfn> method must run the following
  algorithm:</p>

  <ol><li>If the <var title="">token</var> argument is the empty string,
   then raise a <code><a href="#syntax_err">SYNTAX_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>If the <var title="">token</var> argument contains any <a href="common-microsyntaxes.html#space-character" title="space character">space characters</a>, then raise an
   <code><a href="#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
   algorithm.</li>

   <li>Otherwise, <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on spaces">split the
   underlying string on spaces</a> to get the list of tokens in the
   object's underlying string.</li>

   <li>If the given <var title="">token</var> is a
   <a href="infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
   <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying string then <a href="common-microsyntaxes.html#remove-a-token-from-a-string" title="remove a token from a string">remove the given <var title="">token</var> from the underlying string</a> and stop the
   algorithm, returning false.</li>

   <li>Otherwise, if the <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying
   string is not the empty string and the last character of that
   string is not a <a href="common-microsyntaxes.html#space-character">space character</a>, then append a U+0020
   SPACE character to the end of that string.</li>

   <li>Append the value of <var title="">token</var> to the end of the
   <code><a href="#domtokenlist">DOMTokenList</a></code> object's underlying string.</li>

   <li>Return true.</li>

  </ol><p>Objects implementing the <code><a href="#domtokenlist">DOMTokenList</a></code> interface must
  <dfn id="dom-tokenlist-tostring" title="dom-tokenlist-toString">stringify</dfn> to the object's
  underlying string representation.</p>

  </div>


  <h4 id="domsettabletokenlist-0"><span class="secno">2.7.4 </span>DOMSettableTokenList</h4>

  <p>The <code><a href="#domsettabletokenlist">DOMSettableTokenList</a></code> interface is the same as the
  <code><a href="#domtokenlist">DOMTokenList</a></code> interface, except that it allows the
  underlying string to be directly changed.</p>

  <pre class="idl">interface <dfn id="domsettabletokenlist">DOMSettableTokenList</dfn> : <a href="#domtokenlist">DOMTokenList</a> {
            attribute DOMString <a href="#dom-domsettabletokenlist-value" title="dom-DOMSettableTokenList-value">value</a>;
};</pre>

  <dl class="domintro"><dt><var title="">tokenlist</var> . <code title="dom-DOMSettableTokenList-value"><a href="#dom-domsettabletokenlist-value">value</a></code></dt>
   <dd>
    <p>Returns the underlying string.</p>
    <p>Can be set, to change the underlying string.</p>
   </dd>

  </dl><div class="impl">

  <p>An object implementing the <code><a href="#domsettabletokenlist">DOMSettableTokenList</a></code>
  interface must act as defined for the <code><a href="#domtokenlist">DOMTokenList</a></code>
  interface, except for the <code title="dom-DOMSettableTokenList-value"><a href="#dom-domsettabletokenlist-value">value</a></code> attribute defined
  here.</p>

  <p>The <dfn id="dom-domsettabletokenlist-value" title="dom-DOMSettableTokenList-value"><code>value</code></dfn>
  attribute must return the underlying string on getting, and must
  replace the underlying string with the new value on setting.</p>

  </div>


  <div class="impl">

  <h4 id="safe-passing-of-structured-data"><span class="secno">2.7.5 </span>Safe passing of structured data</h4>

  <p>When a user agent is required to obtain a <dfn id="structured-clone">structured
  clone</dfn> of an object, it must run the following algorithm, which
  either returns a separate object, or throws an exception.</p>

  <ol><li><p>Let <var title="">input</var> be the object being
   cloned.</li>

   <li><p>Let <var title="">memory</var> be a list of objects,
   initially empty. (This is used to catch cycles.)</li>

   <li><p>Let <var title="">output</var> be the object resulting from
   calling the <a href="#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> with
   <var title="">input</var> and <var title="">memory</var>.</li>

   <li><p>Return <var title="">output</var>.</li>

  </ol><p>The <dfn id="internal-structured-cloning-algorithm">internal structured cloning algorithm</dfn> is always
  called with two arguments, <var title="">input</var> and <var title="">memory</var>, and its behavior depends on the type of <var title="">input</var>, as follows:</p>

  <dl class="switch"><dt>If <var title="">input</var> is the undefined value</dt>

   <dd><p>Return the undefined value.</dd>

   <dt>If <var title="">input</var> is the null value</dt>

   <dd><p>Return the null value.</dd>

   <dt>If <var title="">input</var> is the false value</dt>

   <dd><p>Return the false value.</dd>

   <dt>If <var title="">input</var> is the true value</dt>

   <dd><p>Return the true value.</dd>

   <dt>If <var title="">input</var> is a Number object</dt>

   <dd><p>Return a newly constructed Number object with the same value as <var title="">input</var>.</dd>

   <dt>If <var title="">input</var> is a String object</dt>

   <dd><p>Return a newly constructed String object with the same value as <var title="">input</var>.</dd>

   <dt>If <var title="">input</var> is a <code>Date</code> object</dt>

   <dd><p>Return a newly constructed <code>Date</code> object with the same value as <var title="">input</var>.</dd>

   <dt>If <var title="">input</var> is a <code>RegExp</code> object</dt>

   <dd>

    <p>Return a newly constructed <code>RegExp</code> object with the same pattern and flags as <var title="">input</var>.</p>

    <p class="note">The value of the <code title="">lastIndex</code> property is not copied.</p>

   </dd>

   <dt>If <var title="">input</var> is a <code><a href="the-canvas-element.html#imagedata">ImageData</a></code> object</dt>

   <dd><p>Return a newly constructed <code><a href="the-canvas-element.html#imagedata">ImageData</a></code> object
   with the same <code title="dom-imagedata-width"><a href="the-canvas-element.html#dom-imagedata-width">width</a></code> and
   <code title="dom-imagedata-height"><a href="the-canvas-element.html#dom-imagedata-height">height</a></code> as <var title="">input</var>, and with a newly constructed
   <code><a href="the-canvas-element.html#canvaspixelarray">CanvasPixelArray</a></code> for its <code title="dom-imagedata-data"><a href="the-canvas-element.html#dom-imagedata-data">data</a></code> attribute, with the same
   <code title="dom-canvaspixelarray-length"><a href="the-canvas-element.html#dom-canvaspixelarray-length">length</a></code> and pixel
   values as the <var title="">input</var>'s.</dd>

   <dt>If <var title="">input</var> is a <code>File</code> object</dt>

   <dd><p>Return a newly constructed <code>File</code> object corresponding to the same underlying data.</dd>

   <dt>If <var title="">input</var> is a <code>Blob</code> object</dt>

   <dd><p>Return a newly constructed <code>Blob</code> object corresponding to the same underlying data.</dd>

   <dt>If <var title="">input</var> is a <code>FileList</code> object</dt>

   <dd><p>Return a newly constructed <code>FileList</code> object containing a list of newly constructed <code>File</code> objects corresponding to the same underlying data as those in <var title="">input</var>, maintaining their relative order.</dd>

   <dt>If <var title="">input</var> is a host object (e.g. a DOM node)</dt>

   <dd><p>Return the null value.</dd>

   <dt>If <var title="">input</var> is an Array object</dt>
   <dt>If <var title="">input</var> is an Object object</dt>

   <dd>

    <ol><li><p>If <var title="">input</var> is in <var title="">memory</var>, then throw a
     <code><a href="#not_supported_err">NOT_SUPPORTED_ERR</a></code> exception and abort the overall
     <a href="#structured-clone">structured clone</a> algorithm.</li>

     <li><p>Otherwise, let <var title="">new memory</var> be a list
     consisting of the items in <var title="">memory</var> with the
     addition of <var title="">input</var>.</li>

     <li><p>Create a new object, <var title="">output</var>, of the
     same type as <var title="">input</var>: either an Array or an
     Object.</li>

     <li>

      <p>For each enumerable property in <var title="">input</var>,
      add a corresponding property to <var title="">output</var>
      having the same name, and having a value created from invoking
      the <a href="#internal-structured-cloning-algorithm">internal structured cloning algorithm</a>
      recursively with the value of the property as the "<var title="">input</var>" argument and <var title="">new
      memory</var> as the "<var title="">memory</var>" argument. The
      order of the properties in the <var title="">input</var> and
      <var title="">output</var> objects must be the same.</p>

      <p class="note">This does not walk the prototype chain.</p>

     </li>

     <li><p>Return <var title="">output</var>.</li>

    </ol></dd>

   <dt>If <var title="">input</var> is another native object type (e.g. <code>Error</code>)</dt>

   <dd><p>Return the null value.</dd>

  </dl></div>


  <h4 id="domstringmap-0"><span class="secno">2.7.6 </span>DOMStringMap</h4>

  <p>The <code><a href="#domstringmap">DOMStringMap</a></code> interface represents a set of
  name-value pairs. It exposes these using the scripting language's
  native mechanisms for property access.</p>

  <div class="impl">

  <p>When a <code><a href="#domstringmap">DOMStringMap</a></code> object is instantiated, it is
  associated with three algorithms, one for getting the list of
  name-value pairs, one for setting names to certain values, and one
  for deleting names.</p>

  <pre class="idl">interface <dfn id="domstringmap">DOMStringMap</dfn> {
  getter DOMString (in DOMString name);
  setter void (in DOMString name, in DOMString value);
  creator void (in DOMString name, in DOMString value);
  deleter void (in DOMString name);
};</pre>

  <p>The <span>names of the supported named properties</span> on a
  <code><a href="#domstringmap">DOMStringMap</a></code> object at any instant are the names of
  each pair returned from the algorithm for getting the list of
  name-value pairs at that instant.</p>

  <p>When a <code><a href="#domstringmap">DOMStringMap</a></code> object is indexed to retrieve a
  named property <var title="">name</var>, the value returned must be
  the value component of the name-value pair whose name component is
  <var title="">name</var> in the list returned by the algorithm for
  getting the list of name-value pairs.</p>

  <p>When a <code><a href="#domstringmap">DOMStringMap</a></code> object is indexed to create or
  modify a named property <var title="">name</var> with value <var title="">value</var>, the algorithm for setting names to certain
  values must be run, passing <var title="">name</var> as the name and
  the result of converting <var title="">value</var> to a
  <code>DOMString</code> as the value.</p>

  <p>When a <code><a href="#domstringmap">DOMStringMap</a></code> object is indexed to delete a
  named property named <var title="">name</var>, the algorithm for
  deleting names must be run, passing <var title="">name</var> as the
  name.</p>

  <p class="note">The <code><a href="#domstringmap">DOMStringMap</a></code> interface definition
  here is only intended for JavaScript environments. Other language
  bindings will need to define how <code><a href="#domstringmap">DOMStringMap</a></code> is to be
  implemented for those languages.</p>

  </div>

  <div class="example">

   <p>The <code title="dom-dataset"><a href="elements.html#dom-dataset">dataset</a></code> attribute on
   elements exposes the <code title="attr-data-*"><a href="elements.html#attr-data-*">data-*</a></code>
   attributes on the element.</p>

   <p>Given the following fragment and elements with similar
   constructions:</p>

   <pre>&lt;img class="tower" id="tower5" data-x="12" data-y="5"
     data-ai="robotarget" data-hp="46" data-ability="flames"
     src="towers/rocket.png alt="Rocket Tower"&gt;</pre>

   <p>...one could imagine a function <code title="">splashDamage()</code> that takes some arguments, the first
   of which is the element to process:</p>

   <pre>function splashDamage(node, x, y, damage) {
  if (node.classList.contains('tower') &amp;&amp; // checking the 'class' attribute
      node.dataset.x == x &amp;&amp; // reading the 'data-x' attribute
      node.dataset.y == y) { // reading the 'data-y' attribute
    var hp = parseInt(node.dataset.hp); // reading the 'data-hp' attribute
    hp = hp - damage;
    if (hp &lt; 0) {
      hp = 0;
      node.dataset.ai = 'dead'; // setting the 'data-ai' attribute
      delete node.dataset.ability; // removing the 'data-ability' attribute
    }
    node.dataset.hp = hp; // setting the 'data-hp' attribute
  }
}</pre>

  </div>


  <h4 id="dom-feature-strings"><span class="secno">2.7.7 </span>DOM feature strings</h4>

  <p>DOM3 Core defines mechanisms for checking for interface support,
  and for obtaining implementations of interfaces, using <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMFeatures">feature
  strings</a>. <a href="references.html#refsDOMCORE">[DOMCORE]</a></p>

  <p>Authors are strongly discouraged from using these, as they are
  notoriously unreliable and imprecise. Authors are encouraged to rely
  on explicit feature testing or the graceful degradation behavior
  intrinsic to some of the features in this specification.</p>

  <div class="impl">

  <p>For historical reasons, user agents should return the true value
  when the <dfn id="hasfeature" title="hasFeature"><code>hasFeature(<var title="">feature</var>, <var title="">version</var>)</code></dfn>
  method of the <code>DOMImplementation</code> interface is invoked
  with <var title="">feature</var> set to either "<code title="">HTML</code>" or "<code title="">XHTML</code>" and <var title="">version</var> set to either "<code>1.0</code>" or
  "<code>2.0</code>".</p>

  </div>


  <h4 id="exceptions"><span class="secno">2.7.8 </span>Exceptions</h4>

  <p>The following are <code>DOMException</code> codes. <a href="references.html#refsDOMCORE">[DOMCORE]</a></p>

  <ol class="brief"><li value="1"><dfn id="index_size_err"><code>INDEX_SIZE_ERR</code></dfn></li>
   <li value="2"><dfn id="domstring_size_err"><code>DOMSTRING_SIZE_ERR</code></dfn></li>
   <li value="3"><dfn id="hierarchy_request_err"><code>HIERARCHY_REQUEST_ERR</code></dfn></li>
   <li value="4"><dfn id="wrong_document_err"><code>WRONG_DOCUMENT_ERR</code></dfn></li>
   <li value="5"><dfn id="invalid_character_err"><code>INVALID_CHARACTER_ERR</code></dfn></li>
   <li value="6"><dfn id="no_data_allowed_err"><code>NO_DATA_ALLOWED_ERR</code></dfn></li>
   <li value="7"><dfn id="no_modification_allowed_err"><code>NO_MODIFICATION_ALLOWED_ERR</code></dfn></li>
   <li value="8"><dfn id="not_found_err"><code>NOT_FOUND_ERR</code></dfn></li>
   <li value="9"><dfn id="not_supported_err"><code>NOT_SUPPORTED_ERR</code></dfn></li>
   <li value="10"><dfn id="inuse_attribute_err"><code>INUSE_ATTRIBUTE_ERR</code></dfn></li>
   <li value="11"><dfn id="invalid_state_err"><code>INVALID_STATE_ERR</code></dfn></li>
   <li value="12"><dfn id="syntax_err"><code>SYNTAX_ERR</code></dfn></li>
   <li value="13"><dfn id="invalid_modification_err"><code>INVALID_MODIFICATION_ERR</code></dfn></li>
   <li value="14"><dfn id="namespace_err"><code>NAMESPACE_ERR</code></dfn></li>
   <li value="15"><dfn id="invalid_access_err"><code>INVALID_ACCESS_ERR</code></dfn></li>
   <li value="16"><dfn id="validation_err"><code>VALIDATION_ERR</code></dfn></li>
   <li value="17"><dfn id="type_mismatch_err"><code>TYPE_MISMATCH_ERR</code></dfn></li>
   <li value="18"><dfn id="security_err"><code>SECURITY_ERR</code></dfn></li> <!-- actually in XHR for now -->
   <li value="19"><dfn id="network_err"><code>NETWORK_ERR</code></dfn></li> <!-- actually in XHR for now -->
   <li value="20"><dfn id="abort_err"><code>ABORT_ERR</code></dfn></li> <!-- actually in XHR for now -->
   <li value="21"><dfn id="url_mismatch_err"><code>URL_MISMATCH_ERR</code></dfn></li> <!-- actually in workers for now -->
   <li value="22"><dfn id="quota_exceeded_err"><code>QUOTA_EXCEEDED_ERR</code></dfn></li> <!-- actually defined right here for now -->
<!--v2DATAGRID   <li value="23"><dfn><code>DATAGRID_MODEL_ERR</code></dfn></li> --> <!-- actually defined right here for now -->
   <li value="81"><dfn id="parse_err"><code>PARSE_ERR</code></dfn></li> <!-- actually defined in dom3ls -->
   <li value="82"><dfn id="serialize_err"><code>SERIALIZE_ERR</code></dfn></li> <!-- actually defined in dom3ls -->
  </ol><div class="impl">

  <h4 id="garbage-collection"><span class="secno">2.7.9 </span>Garbage collection</h4>

  <p>There is an <dfn id="implied-strong-reference">implied strong reference</dfn> from any IDL
  attribute that returns a pre-existing object to that object.</p>

  <div class="example">

   <p>For example, the <code>document.location</code> attribute means
   that there is a strong reference from a <code>Document</code>
   object to its <code><a href="history.html#location">Location</a></code> object. Similarly, there is
   always a strong reference from a <code>Document</code> to any
   descendant nodes, and from any node to its owner
   <code>Document</code>.</p>

  </div>

  </div>



  
