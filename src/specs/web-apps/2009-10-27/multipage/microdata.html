<!DOCTYPE html>
<!DOCTYPE html><html class="split chapter" lang="en-US-x-hixie"><title>5 Microdata &mdash; HTML5</title><link href="/style/specification" rel="stylesheet"><link href="/images/icon" rel="icon"><style>
   .proposal { border: blue solid; padding: 1em; }
   .bad, .bad *:not(.XXX) { color: gray; border-color: gray; background: transparent; }
   #updatesStatus { display: none; }
   #updatesStatus.relevant { display: block; position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
   div.head .logo { width: 11em; margin-bottom: 20em; }
   #configUI { position: absolute; z-index: 20; top: 10em; right: 1em; width: 11em; font-size: small; }
   #configUI p { margin: 0.5em 0; padding: 0.3em; background: #EEEEEE; color: black; border: inset thin; }
   #configUI p label { display: block; }
   #configUI #updateUI, #configUI .loginUI { text-align: center; }
   #configUI input[type=button] { display: block; margin: auto; }
   #reviewer { position: fixed; bottom: 0; right: 0; white-space: nowrap; border: thin; border-style: inset none none inset; background: #EEEEEE; color: black; overflow: hidden; z-index: 30; }
   #reviewer * { font-size: small; }
   #reviewer.off > :not(:first-child) { display: none; }
   @media print { #configUI { display: none; } }
   .rfc2119 { font-variant: small-caps; text-shadow: 0 0 0.5em yellow; position: static; }
   .rfc2119::after { position: absolute; left: 0; width: 25px; text-align: center; color: yellow; text-shadow: 0.075em 0.075em 0.2em black; }
   .rfc2119.m\ust::after { content: '\2605'; }
   .rfc2119.s\hould::after { content: '\2606'; }
   [hidden] { display: none; }
  </style><style type="text/css">

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies tbody th { whitespace: nowrap; }
   .applies td { text-align: center; }
   .applies .yes { background: yellow; }

   .matrix, .matrix td { border: none; text-align: right; }
   .matrix { margin-left: 2em; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

  </style><link href="data:text/css," id="complete" rel="stylesheet" title="Complete specification"><link href="data:text/css,.impl%20{%20display:%20none;%20}" id="author" rel="alternate stylesheet" title="Author documentation only"><link href="data:text/css,.impl%20{%20background:%20%23FFEEEE;%20}" id="highlight" rel="alternate stylesheet" title="Highlight implementation requirements"><script>
   var loadTimer = new Date();
   var current_revision = "r" + "$Revision: 4372 $".substr(11);
   current_revision = current_revision.substr(0, current_revision.length - 2);
   var last_known_revision = current_revision;
   function getCookie(name) {
     var params = location.search.substr(1).split("&");
     for (var index = 0; index < params.length; index++) {
       if (params[index] == name)
         return "1";
       var data = params[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     var cookies = document.cookie.split("; ");
     for (var index = 0; index < cookies.length; index++) {
       var data = cookies[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     return null;
   }
   function load(script) {
     var e = document.createElement('script');
     e.setAttribute('src', script);
     document.body.appendChild(e);
   }
   function init() {
     if (location.search == '?slow-browser')
       return;
     var configUI = document.createElement('div');
     configUI.id = 'configUI';
     document.body.appendChild(configUI);
     if (document.documentElement.className == "" || document.documentElement.className == "split index")
       load('toc.js');
     load('styler.js');
     if (document.documentElement.className == "")
       load('dfn.js');
     if (getCookie('profile') == '1')
       document.getElementsByTagName('h2')[0].textContent += '; load: ' + (new Date() - loadTimer) + 'ms';
   }
  </script>
  <script src="link-fixup.js"></script>
  <link href="commands.html" rel="prev" title="4.11.4 Commands">
  <link href="index.html#contents" rel="index" title="Table of contents">
  <link href="converting-html-to-other-formats.html" rel="next" title="5.4 Converting HTML to other formats">
  <body class="cfc" onload="fixBrokenLink(); init()">
  <style scoped>
   * { color: gray ! important; background: none ! important; border-color: silver ! important; }
   img, object, iframe { filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale"); -webkit-filter: grayscale(100%); }
   .obsolete { border: double thick red ! important; background: yellow ! important; margin: 4em auto 0 auto; max-width: 50em; width: 70%; text-align: center; position: fixed;  z-index: 10000; top: 0; left: 0; right: 0; }
   .obsolete a { color: blue ! important; }
   .obsolete p { font: 900 2em sans-serif; color: red ! important; margin: 1em 1.5em ! important; }
  </style>
  <div class=obsolete>
   <p>This is a snapshot of an early working draft and has therefore
   been superseded by the <a href="http://whatwg.org/html">HTML
   standard</a>.</p>
   <p>This document will not be further updated.</p>
  </div>
<header class="head"><p><a class="logo" href="http://www.whatwg.org/" rel="home"><img alt="WHATWG" src="/images/logo"></a></p>
   <hgroup><h1>HTML5</h1>
    <h2 class="no-num no-toc">Draft Standard &mdash; Call For Comments &mdash; 27 October 2009</h2>
   </hgroup></header><nav>
   <a href="commands.html">&larr; 4.11.4 Commands</a> &ndash;
   <a href="index.html#contents">Table of contents</a> &ndash;
   <a href="converting-html-to-other-formats.html">5.4 Converting HTML to other formats &rarr;</a>
  <ol class="toc"><li><a href="microdata.html#microdata"><span class="secno">5 </span>Microdata</a>
  <ol><li><a href="microdata.html#introduction-1"><span class="secno">5.1 </span>Introduction</a>
    <ol><li><a href="microdata.html#overview"><span class="secno">5.1.1 </span>Overview</a><li><a href="microdata.html#the-basic-syntax"><span class="secno">5.1.2 </span>The basic syntax</a><li><a href="microdata.html#typed-items"><span class="secno">5.1.3 </span>Typed items</a><li><a href="microdata.html#global-identifiers-for-items"><span class="secno">5.1.4 </span>Global identifiers for items</a><li><a href="microdata.html#selecting-names-when-defining-vocabularies"><span class="secno">5.1.5 </span>Selecting names when defining vocabularies</a><li><a href="microdata.html#using-the-microdata-dom-api"><span class="secno">5.1.6 </span>Using the microdata DOM API</a></ol><li><a href="microdata.html#encoding-microdata"><span class="secno">5.2 </span>Encoding microdata</a>
    <ol><li><a href="microdata.html#the-microdata-model"><span class="secno">5.2.1 </span>The microdata model</a><li><a href="microdata.html#items"><span class="secno">5.2.2 </span>Items</a><li><a href="microdata.html#names:-the-itemprop-attribute"><span class="secno">5.2.3 </span>Names: the <code>itemprop</code> attribute</a><li><a href="microdata.html#values"><span class="secno">5.2.4 </span>Values</a><li><a href="microdata.html#associating-names-with-items"><span class="secno">5.2.5 </span>Associating names with items</a><li><a href="microdata.html#examples-1"><span class="secno">5.2.6 </span>Examples</a></ol><li><a href="microdata.html#microdata-dom-api"><span class="secno">5.3 </span>Microdata DOM API</a></ol></ol></nav>

  <h2 id="microdata"><span class="secno">5 </span><dfn>Microdata</dfn></h2>

<!-- v2

  * <itemref itemprop="foo" src="url#id"> to import the item with
    id="id" from url into the current microdata block as the value of
    property foo?

  * splitting the 'content' part of a property into multiple sub-bits,
    as in:

     <span itemprop="tel" item-content-in-bits>
       Telephone:
       <span content-bit>+44</span> (0) <span content-bit>1223 123 123</span>
     </span>

    maybe vocabs that need this can use a sub vocabulary specifically
    for this:

     <span itemprop="tel" itemscope itemtype="http://bits.example/">
       Telephone:
       <span itemprop=bit>+44</span> (0) <span itemprop=bit>1223 123 123</span>
     </span>

-->

  <h3 id="introduction-1"><span class="secno">5.1 </span>Introduction</h3>

  <h4 id="overview"><span class="secno">5.1.1 </span>Overview</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Sometimes, it is desirable to annotate content with specific
  machine-readable labels, e.g. to allow generic scripts to provide
  services that are customised to the page, or to enable content from
  a variety of cooperating authors to be processed by a single script
  in a consistent manner.</p>

  <p>For this purpose, authors can use the microdata features
  described in this section. Microdata allows nested groups of
  name-value pairs to be added to documents, in parallel with the
  existing content.</p>




  <h4 id="the-basic-syntax"><span class="secno">5.1.2 </span>The basic syntax</h4>

  <p><i>This section is non-normative.</i></p>

  <p>At a high level, microdata consists of a group of name-value
  pairs. The groups are called <a href="#concept-item" title="concept-item">items</a>, and each name-value pair is a
  property. Items and properties are represented by regular
  elements.</p>

  <p>To create an item, the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute is used.</p>

  <p>To add a property to an item, the <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute is used on one of
  the <a href="#concept-item" title="concept-item">item's</a> descendants.</p>

  <div class="example">

   <p>Here there are two items, each of which has the property "name":</p>

   <pre>&lt;div itemscope&gt;
 &lt;p&gt;My name is &lt;span itemprop="name"&gt;Elizabeth&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;

&lt;div itemscope&gt;
 &lt;p&gt;My name is &lt;span itemprop="name"&gt;Daniel&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;</pre>

  </div>

  <p>Properties generally have values that are strings.</p>

  <div class="example">

   <p>Here the item has three properties:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p&gt;My name is &lt;span itemprop="name"&gt;Neil&lt;/span&gt;.&lt;/p&gt;
 &lt;p&gt;My band is called &lt;span itemprop="band"&gt;Four Parts Water&lt;/span&gt;.&lt;/p&gt;
 &lt;p&gt;I am &lt;span itemprop="nationality"&gt;British&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;</pre>

  </div>

  <p>Properties can also have values that are <a href="urls.html#url" title="URL">URLs</a>. This is achieved using the <code><a href="text-level-semantics.html#the-a-element">a</a></code>
  element and its <code title="attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code>
  attribute, the <code><a href="embedded-content-1.html#the-img-element">img</a></code> element and its <code title="attr-img-src"><a href="embedded-content-1.html#attr-img-src">src</a></code> attribute, or other elements that
  link to or embed external resources.</p>

  <div class="example">

   <p>In this example, the item has one property, "image", whose value
   is a URL:</p>

   <pre>&lt;div itemscope&gt;
 &lt;img itemprop="image" src="google-logo.png" alt="Google"&gt;
&lt;/div&gt;</pre>

  </div>

  <p>Properties can also have values that are dates, times, or dates
  and times. This is achieved using the <code><a href="text-level-semantics.html#the-time-element">time</a></code> element and
  its <code title="attr-time-datetime"><a href="text-level-semantics.html#attr-time-datetime">datetime</a></code> attribute.</p>

  <div class="example">

   <p>In this example, the item has one property,
   "birthday", whose value is a date:</p>

   <pre>&lt;div itemscope&gt;
 I was born on &lt;time itemprop="birthday" datetime="2009-05-10"&gt;May 10th 2009&lt;/time&gt;.
&lt;/div&gt;</pre>

  </div>

  <p>Properties can also themselves be groups of name-value pairs, by
  putting the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute
  on the element that declares the property.</p>

  <p>Items that are not part of others are called <a href="#top-level-microdata-items">top-level
  microdata items</a>.</p>

  <div class="example">

   <p>In this example, the outer item represents a person, and the
   inner one represents a band:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p&gt;Name: &lt;span itemprop="name"&gt;Amanda&lt;/span&gt;&lt;/p&gt;
 &lt;p&gt;Band: &lt;span itemprop="band" itemscope&gt; &lt;span itemprop="name"&gt;Jazz Band&lt;/span&gt; (&lt;span itemprop="size"&gt;12&lt;/span&gt; players)&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>The outer item here has two properties, "name" and
   "band". The "name" is "Amanda", and the
   "band" is an item in its own right, with two
   properties, "name" and "size". The
   "name" of the band is "Jazz Band", and the
   "size" is "12".</p>

   <p>The outer item in this example is a top-level microdata
   item.</p>

  </div>

  <p>Properties that are not descendants of the element with the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute can be associated
  with the <a href="#concept-item" title="concept-item">item</a> using the <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> attribute. This attribute takes
  a list of IDs of elements to crawl in addition to crawling the
  children of the element with the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute.</p>

  <div class="example">

   <p>This example is the same as the previous one, but all the
   properties are separated from their <a href="#concept-item" title="concept-item">items</a>:</p>

   <pre>&lt;div itemscope id="amanda" itemref="a b"&gt;&lt;/div&gt;
&lt;p id="a"&gt;Name: &lt;span itemprop="name"&gt;Amanda&lt;/span&gt;&lt;/p&gt;
&lt;div id="b" itemprop="band" itemscope itemref="c"&gt;&lt;/div&gt;
&lt;div id="c"&gt;
 &lt;p&gt;Band: &lt;span itemprop="name"&gt;Jazz Band&lt;/span&gt;&lt;/p&gt;
 &lt;p&gt;Size: &lt;span itemprop="size"&gt;12&lt;/span&gt; players&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>This gives the same result as the previous example. The first
   item has two properties, "name", set to "Amanda", and "band", set
   to another item. That second item has two further properties,
   "name", set to "Jazz Band", and "size", set to "12".</p>

  </div>

  <p>An <a href="#concept-item" title="concept-item">item</a> can have multiple
  properties with the same name and different values.</p>

  <div class="example">

   <p>This example describes an ice cream, with two flavors:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p&gt;Flavors in my favorite ice cream:&lt;/p&gt;
 &lt;ul&gt;
  &lt;li itemprop="flavor"&gt;Lemon sorbet&lt;/li&gt;
  &lt;li itemprop="flavor"&gt;Apricot sorbet&lt;/li&gt;
 &lt;/ul&gt;
&lt;/div&gt;</pre>

   <p>This thus results in an item with two properties, both
   "flavor", having the values "Lemon sorbet" and "Apricot
   sorbet".</p>

  </div>

  <p>An element introducing a property can also introduce multiple
  properties at once, to avoid duplication when some of the properties
  have the same value.</p>

  <div class="example">

   <p>Here we see an item with two properties,
   "favorite-color" and "favorite-fruit", both
   set to the value "orange":</p>

   <pre>&lt;div itemscope&gt;
 &lt;span itemprop="favorite-color favorite-fruit"&gt;orange&lt;/span&gt;
&lt;/div&gt;</pre>

  </div>

  <p>It's important to note that there is no relationship between the
  microdata and the content of the document where the microdata is
  marked up.</p>

  <div class="example">

   <p>There is no semantic difference, for instance, between the
   following two examples:</p>

   <pre>&lt;figure&gt;
 &lt;dd&gt;&lt;img src="castle.jpeg"&gt;
 &lt;dt&gt;&lt;span itemscope&gt;&lt;span itemprop="name"&gt;The Castle&lt;/span&gt;&lt;/span&gt; (1986)
&lt;/figure&gt;</pre>

   <pre>&lt;span itemscope&gt;&lt;meta itemprop="name" content="The Castle"&gt;&lt;/span&gt;
&lt;figure&gt;
 &lt;dd&gt;&lt;img src="castle.jpeg"&gt;
 &lt;dt&gt;The Castle (1986)
&lt;/figure&gt;</pre>

   <p>Both have a figure with a caption, and both, completely
   unrelated to the figure, have an item with a name-value pair with
   the name "name" and the value "The Castle". The only
   difference is that if the user drags the caption out of the
   document, in the former case, the item will be included in the
   drag-and-drop data. In neither case is the image in any way
   associated with the item.</p>

  </div>


  <h4 id="typed-items"><span class="secno">5.1.3 </span>Typed items</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The examples in the previous section show how information could
  be marked up on a page that doesn't expect its microdata to be
  re-used. Microdata is most useful, though, when it is used in
  contexts where other authors and readers are able to cooperate to
  make new uses of the markup.</p>

  <p>For this purpose, it is necessary to give each <a href="#concept-item" title="concept-item">item</a> a type, such as
  "http://example.com/person", or "http://example.org/cat", or
  "http://band.example.net/". Types are identified as <a href="urls.html#url" title="URL">URLs</a>.</p>

  <p>The type for an <a href="#concept-item" title="concept-item">item</a> is given
  as the value of an <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code>
  attribute on the same element as the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute.</p>

  <div class="example">

   <p>Here, the item is "http://example.org/animals#cat":</p>

<pre>&lt;section itemscope itemtype="http://example.org/animals#cat"&gt;
 &lt;h1 itemprop="name"&gt;Hedral&lt;/h1&gt;
 &lt;p itemprop="desc"&gt;Hedral is a male american domestic
 shorthair, with a fluffy black fur with white paws and belly.&lt;/p&gt;
 &lt;img itemprop="img" src="hedral.jpeg" alt="" title="Hedral, age 18 months"&gt;
&lt;/section&gt;</pre>   

   <p>In this example the "http://example.org/animals#cat" item has three
   properties, a "name" ("Hedral"), a "desc" ("Hedral is..."), and an
   "img" ("hedral.jpeg").</p>

  </div>

  <p>An item can only have one type. The type gives the context for
  the properties, thus defining a vocabulary: a property named "class"
  given for an item with the type "http://census.example/person" might
  refer to the economic class of an individual, while a property named
  "class" given for an item with the type "http://example.com/school/teacher"
  might refer to the classroom a teacher has been assigned.</p>


  <h4 id="global-identifiers-for-items"><span class="secno">5.1.4 </span>Global identifiers for items</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Sometimes, an <a href="#concept-item" title="concept-item">item</a> gives
  information about a topic that has a global identifier. For example,
  books can be identified by their ISBN number.</p>

  <p>Vocabularies (as identified by the <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute) can be designed
  such that <a href="#concept-item" title="concept-item">items</a> get associated
  with their global identifier in an unambiguous way by expressing the
  global identifiers as <a href="urls.html#url" title="URL">URLs</a> given in an
  <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute.</p>

  <p>The exact meaning of the <a href="urls.html#url" title="URL">URLs</a> given in
  <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attributes depends on the
  vocabulary used.</p>

  <div class="example">

   <p>Here, an item is talking about a particular book:</p>

<pre>&lt;dl itemscope
    itemtype="http://vocab.example.net/book"
    <strong>itemid="urn:isbn:0-330-34032-8"</strong>&gt;
 &lt;dt&gt;Title
 &lt;dd itemprop="title"&gt;The Reality Dysfunction
 &lt;dt&gt;Author
 &lt;dd itemprop="author"&gt;Peter F. Hamilton
 &lt;dt&gt;Publication date
 &lt;dd&gt;&lt;time itemprop="pubdate" datetime="1996-01-26"&gt;26 January 1996&lt;/time&gt;
&lt;/dl&gt;</pre>

   <p>The "<code title="">http://vocab.example.net/book</code>"
   vocabulary in this example would define that the <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute takes a <code title="">urn:</code> <a href="urls.html#url">URL</a> pointing to the ISBN of the
   book.</p>

  </div>

  <!-- (commented out since itemtype="" defines the meaning of the
        identifier for now)
  <p>Although it is common practice, authors are encouraged not to use
  the same URL to identify multiple topics; in particular, an HTTP URL
  usually identifies a specific resource (such as an image or
  document), and authors are encouraged to not use them to identify
  people, non-Web resources like companies, movies, and products, or
  other abstract concepts. Using an HTTP URL as a global identifier
  for something other than the resource actually designated by the URL
  leads to a situation where it is ambiguous whether the identifier,
  and thus the set of properties specified in the microdata,
  references the page or something else.</p>
  -->



  <h4 id="selecting-names-when-defining-vocabularies"><span class="secno">5.1.5 </span>Selecting names when defining vocabularies</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Using microdata means using a vocabulary. For some purposes, an
  ad-hoc vocabulary is adequate. For others, a vocabulary will need to
  be designed. Where possible, authors are encouraged to re-use
  existing vocabularies, as this makes content re-use easier.</p>

  <p>When designing new vocabularies, identifiers can be created
  either using <a href="urls.html#url" title="URL">URLs</a>, or, for properties, as
  plain words (with no dots or colons). For URLs, conflicts with other
  vocabularies can be avoided by only using identifiers that
  correspond to pages that the author has control over.</p>

  <div class="example">

   <p>For instance, if Jon and Adam both write content at <code title="">example.com</code>, at <code title="">http://example.com/~jon/...</code> and <code title="">http://example.com/~adam/...</code> respectively, then
   they could select identifiers of the form
   "http://example.com/~jon/name" and "http://example.com/~adam/name"
   respectively.</p>

  </div>

  <p>Properties whose names are just plain words can only be used
  within the context of the types for which they are intended;
  properties named using URLs can be reused in items of any type. If
  an item has no type, and is not part of another item, then if its
  properties have names that are just plain words, they are not
  intended to be globally unique, and are instead only intended for
  limited use. Generally speaking, authors are encouraged to use
  either properties with globally unique names (URLs) or ensure that
  their items are typed.</p>

  <div class="example">

   <p>Here, an item is an "http://example.org/animals#cat", and most of the
   properties have names that are words defined in the context of that
   type. There are also a few additional properties whose names come
   from other vocabularies.</p>

<pre>&lt;section itemscope itemtype="http://example.org/animals#cat"&gt;
 &lt;h1 itemprop="name http://example.com/fn"&gt;Hedral&lt;/h1&gt;
 &lt;p itemprop="desc"&gt;Hedral is a male american domestic
 shorthair, with a fluffy &lt;span
 itemprop="http://example.com/color"&gt;black&lt;/span&gt; fur with &lt;span
 itemprop="http://example.com/color"&gt;white&lt;/span&gt; paws and belly.&lt;/p&gt;
 &lt;img itemprop="img" src="hedral.jpeg" alt="" title="Hedral, age 18 months"&gt;
&lt;/section&gt;</pre>   

   <p>This example has one item with the type "http://example.org/animals#cat"
   and the following properties:</p>

   <table><thead><tr><td>Property
      <td>Value
    <tbody><tr><td>name
      <td>Hedral
     <tr><td>http://example.com/fn
      <td>Hedral
     <tr><td>desc
      <td>Hedral is a male american domestic shorthair, with a fluffy black fur with white paws and belly.
     <tr><td>http://example.com/color
      <td>black
     <tr><td>http://example.com/color
      <td>white
     <tr><td>img
      <td>.../hedral.jpeg
   </table></div>



  <h4 id="using-the-microdata-dom-api"><span class="secno">5.1.6 </span>Using the microdata DOM API</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The microdata becomes even more useful when scripts can use it to
  expose information to the user, for example offering it in a form
  that can be used by other applications.</p>

  <p>The <code title="dom-document-getItems"><a href="#dom-document-getitems">document.getItems(<var title="">typeNames</var>)</a></code> method provides access to the
  <a href="#top-level-microdata-items">top-level microdata items</a>. It returns a
  <code>NodeList</code> containing the items with the specified types,
  or all types if no argument is specified.</p>

  <p>Each <a href="#concept-item" title="concept-item">item</a> is represented in the
  DOM by the element on which the relevant <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute is found. These
  elements have their <code title="dom-itemScope"><a href="#dom-itemscope">element.itemScope</a></code> IDL attribute set to
  true.</p>

  <p>The type of <a href="#concept-item" title="concept-item">items</a> can be
  obtained using the <code title="dom-itemType"><a href="#dom-itemtype">element.itemType</a></code> IDL attribute on the
  element with the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute.</p>

  <div class="example">

   <p>This sample shows how the <code title="dom-document-getItems"><a href="#dom-document-getitems">getItems()</a></code> method can be used
   to obtain a list of all the top-level microdata items of one type
   given in the document:</p>

   <pre>var cats = document.getItems("http://example.com/feline");</pre>

  </div>

  <p>Once an element representing an <a href="#concept-item" title="concept-item">item</a> has been obtained, its properties
  can be extracted using the <code title="dom-properties"><a href="#dom-properties">properties</a></code> IDL attribute. This
  attribute returns an <code><a href="urls.html#htmlpropertiescollection">HTMLPropertiesCollection</a></code>, which can
  be enumerated to go through each element that adds one or more
  properties to the item. It can also be indexed by name, which will
  return an object with a list of the elements that add properties
  with that name.</p>

  <p>Each element that adds a property also has a <code title="dom-itemValue"><a href="#dom-itemvalue">itemValue</a></code> IDL attribute that returns
  its value.</p>

  <div class="example">

   <p>This sample gets the first item of type "http://example.net/user" and
   then pops up an alert using the "name" property from
   that item.</p>

   <pre>var user = document.getItems('http://example.net/user')[0];
alert('Hello ' + user.properties['name'][0].content + '!');</pre>

  </div>

  <p>The <code><a href="urls.html#htmlpropertiescollection">HTMLPropertiesCollection</a></code> object, when indexed by
  name in this way, actually returns a <code><a href="urls.html#propertynodelist">PropertyNodeList</a></code>
  object with all the matching properties. The
  <code><a href="urls.html#propertynodelist">PropertyNodeList</a></code> object can be used to obtained all the
  values at once using <em>its</em> <code title="dom-PropertyNodeList-values"><a href="urls.html#dom-propertynodelist-values">values</a></code> attribute, which
  returns an array of all the values.</p>

  <div class="example">

   <p>In an earlier example, a "http://example.org/animals#cat" item had two
   "http://example.com/color" values. This script looks up the first such
   item and then lists all its values.</p>

   <pre>var cat = document.getItems('http://example.com/animals#cat')[0];
var colors = cat.properties['http://example.com/color'].values;
var result;
if (colors.length == 0) {
  result = 'Color unknown.';
} else if (colors.length == 1) {
  result = 'Color: ' + colors[0];
} else {
  result = 'Colors:';
  for (var i = 0; i &lt; colors.length; i += 1)
    result += ' ' + colors[i];
}</pre>

  </div>

  <p>It's also possible to get a list of all the <a href="#property-names">property
  names</a> using the object's <code title="dom-HTMLPropertiesCollection-names"><a href="urls.html#dom-htmlpropertiescollection-names">names</a></code> IDL
  attribute.</p>

  <div class="example">

   <p>This example creates a big list with a nested list for each item
   on the page, each with of all the property names used in that
   item.</p>

   <pre>var outer = document.createElement('ul');
var items = document.getItems();
for (var item = 0; item &lt; items.length; item += 1) {
  var itemLi = document.createElement('li');
  var inner = document.createElement('ul');
  for (var name = 0; name &lt; items[item].properties.names.length; name += 1) {
    var propLi = document.createElement('li');
    propLi.appendChild(document.createTextNode(items[item].properties.names[name]));
    inner.appendChild(propLi);
  }
  itemLi.appendChild(inner);
  outer.appendChild(itemLi);
}
document.body.appendChild(outer);</pre>

   <p>If faced with the following from an earlier example:</p>

   <pre>&lt;section itemscope itemtype="http://example.org/animals#cat"&gt;
 &lt;h1 itemprop="name http://example.com/fn"&gt;Hedral&lt;/h1&gt;
 &lt;p itemprop="desc"&gt;Hedral is a male american domestic
 shorthair, with a fluffy &lt;span
 itemprop="http://example.com/color"&gt;black&lt;/span&gt; fur with &lt;span
 itemprop="http://example.com/color"&gt;white&lt;/span&gt; paws and belly.&lt;/p&gt;
 &lt;img itemprop="img" src="hedral.jpeg" alt="" title="Hedral, age 18 months"&gt;
&lt;/section&gt;</pre>

   <p>...it would result in the following output:</p>

   <ul><li>
     <ul><li>name</li>
      <li>http://example.com/fn</li>
      <li>desc</li>
      <li>http://example.com/color</li>
      <li>img</li>
     </ul></li>
   </ul><p>(The duplicate occurrence of "http://example.com/color" is not included
   in the list.)</p>

  </div>



  <h3 id="encoding-microdata"><span class="secno">5.2 </span>Encoding microdata</h3>

  <h4 id="the-microdata-model"><span class="secno">5.2.1 </span>The microdata model</h4>

  <p>The microdata model consists of groups of name-value pairs known
  as <a href="#concept-item" title="concept-item">items</a>.</p>

  <p>Each group is known as an <a href="#concept-item" title="concept-item">item</a>. Each <a href="#concept-item" title="concept-item">item</a> can have an <a href="#item-type">item type</a>,
  a <a href="#global-identifier">global identifier</a> (if the <a href="#item-type">item type</a>
  <a href="#support-global-identifiers-for-items" title="support global identifiers for items">supports global
  identifiers for its items</a>), and a list of name-value
  pairs. Each name in the name-value pair is known as a <a href="#the-properties-of-an-item" title="the properties of an item">property</a>, and each <a href="#the-properties-of-an-item" title="the properties of an item">property</a> has one or more
  <a href="#concept-property-value" title="concept-property-value">values</a>. Each <a href="#concept-property-value" title="concept-property-value">value</a> is either a string or itself a group of
  name-value pairs (an <a href="#concept-item" title="concept-item">item</a>).</p>

  <p>An <a href="#concept-item" title="concept-item">item</a> is said to be a
  <dfn id="typed-item">typed item</dfn> when either it has an <a href="#item-type">item type</a>,
  or it is the <a href="#concept-property-value" title="concept-property-value">value</a> of a <a href="#the-properties-of-an-item" title="the properties of an
  item">property</a> of a <a href="#typed-item">typed item</a>. The
  <dfn id="relevant-type">relevant type</dfn> for a <a href="#typed-item">typed item</a> is the <a href="#concept-item" title="concept-item">item</a>'s <a href="#item-type">item type</a>, if it has
  one, or else is the <a href="#relevant-type">relevant type</a> of the <a href="#concept-item" title="concept-item">item</a> for which it is a <a href="#the-properties-of-an-item" title="the
  properties of an item">property</a>'s <a href="#concept-property-value" title="concept-property-value">value</a>.</p>



  <h4 id="items"><span class="secno">5.2.2 </span>Items</h4>

  <p>Every <a href="infrastructure.html#html-elements" title="HTML elements">HTML element</a> may have an
  <dfn id="attr-itemscope" title="attr-itemscope"><code>itemscope</code></dfn> attribute
  specified. The <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute is a <a href="common-microsyntaxes.html#boolean-attribute">boolean attribute</a>.</p>

  <p>An element with the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute specified creates a new <dfn id="concept-item" title="concept-item">item</dfn>, a group of name-value pairs.</p>

  <hr><p>Elements with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute may have an <dfn id="attr-itemtype" title="attr-itemtype"><code>itemtype</code></dfn> attribute
  specified, to give the <a href="#item-type">item type</a> of the <a href="#concept-item" title="concept-item">item</a>.</p>

  <p>The <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute, if
  specified, must have a value that is a <a href="urls.html#valid-url">valid URL</a> that
  is an <a href="urls.html#absolute-url">absolute URL</a> for which the string "<code title="">http://www.w3.org/1999/xhtml/microdata#</code>" is not a
  <a href="infrastructure.html#prefix-match">prefix match</a>.</p> <!-- we disallow that prefix so that
  we have somewhere to put future extensions, e.g. if we ever support
  short type names -->

  <p>The <dfn id="item-type">item type</dfn> of an <a href="#concept-item" title="concept-item">item</a> is the value of its element's <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute, if it has one and
  its value is not the empty string. If the <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute is missing or its
  value is the empty string, the <a href="#concept-item" title="concept-item">item</a> is said to have no <a href="#item-type">item
  type</a>.</p>

  <p>The <a href="#item-type">item type</a> must be a type defined in an <a href="infrastructure.html#other-applicable-specifications" title="other applicable specifications">applicable
  specification</a>.</p>

  <p>The <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute must
  not be specified on elements that do not have an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute specified.</p>

  <hr><p>Elements with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute and an <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code>
  attribute that references a vocabulary that is defined to
  <dfn id="support-global-identifiers-for-items">support global identifiers for items</dfn> may also have an
  <dfn id="attr-itemid" title="attr-itemid"><code>itemid</code></dfn> attribute
  specified, to give a global identifier for the <a href="#concept-item" title="concept-item">item</a>, so that it can be related to other
  <a href="#concept-item" title="concept-item">items</a> on pages elsewhere on the
  Web.</p>

  <p>The <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute, if
  specified, must have a value that is a <a href="urls.html#valid-url">valid URL</a>.</p>

  <p>The <dfn id="global-identifier">global identifier</dfn> of an <a href="#concept-item" title="concept-item">item</a> is the value of its element's <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute, if it has one, <a href="urls.html#resolve-a-url" title="resolve a url">resolved</a> relative to the element on
  which the attribute is specified. If the <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute is missing or if
  resolving it fails, it is said to have no <a href="#global-identifier">global
  identifier</a>.</p>

  <p>The <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> attribute must not be
  specified on elements that do not have both an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute and an <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute specified, and must
  not be specified on elements with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute whose <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> attribute specifies a
  vocabulary that does not <a href="#support-global-identifiers-for-items">support global identifiers for
  items</a>, as defined by that vocabulary's specification.</p>

  <hr><p>Elements with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code>
  attribute may have an <dfn id="attr-itemref" title="attr-itemref"><code>itemref</code></dfn> attribute specified,
  to give a list of additional elements to crawl to find the
  name-value pairs of the <a href="#concept-item" title="concept-item">item</a>.</p>

  <p>The <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> attribute, if
  specified, must have a value that is an <a href="common-microsyntaxes.html#unordered-set-of-unique-space-separated-tokens">unordered set of
  unique space-separated tokens</a> consisting of <a href="elements.html#concept-id" title="concept-ID">IDs</a> of elements in the same document; for
  each one, the element's nearest ancestor element with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute specified, if any,
  must not be the element with the referencing <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> attribute specified.</p>

  <p>The <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> attribute must not
  be specified on elements that do not have an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute specified.</p>


  <h4 id="names:-the-itemprop-attribute"><span class="secno">5.2.3 </span>Names: the <dfn title="attr-itemprop"><code>itemprop</code></dfn> attribute</h4>

  <p>Every <a href="infrastructure.html#html-elements" title="HTML elements">HTML element</a> may have an
  <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute specified, if
  doing so <a href="#the-properties-of-an-item" title="the properties of an item">adds a
  property</a> to one or more <a href="#concept-item" title="concept-item">items</a> (as defined below).</p>

  <p>The <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute, if
  specified, must have a value that is an <a href="common-microsyntaxes.html#unordered-set-of-unique-space-separated-tokens">unordered set of
  unique space-separated tokens</a> representing the names of the
  name-value pairs that it adds. The attribute's value must have at
  least one token.</p>

  <p>Each token must be either:</p>

  <ul><li>A <a href="urls.html#valid-url">valid URL</a> that is an <a href="urls.html#absolute-url">absolute URL</a>
   for which the string "<code title="">http://www.w3.org/1999/xhtml/microdata#</code>" is not a
   <a href="infrastructure.html#prefix-match">prefix match</a>, or</li>

   <li>If the item is a <a href="#typed-item">typed item</a>: a <dfn id="defined-property-name">defined
   property name</dfn> allowed in this situation according to the
   specification that defines the <a href="#relevant-type">relevant type</a> for the
   item, or</li>

   <li>If the item is not a <a href="#typed-item">typed item</a>: a string that
   contains no U+002E FULL STOP characters (.) and no U+003A COLON
   characters (:).</li>

  </ul><p>When an element with an <code title="concept-itemprop">itemprop</code> attribute <a href="#the-properties-of-an-item" title="the
  properties of an item">adds a property</a> to multiple <a href="#concept-item" title="concept-item">items</a>, the requirement above regarding
  the tokens applies for each <a href="#concept-item" title="concept-item">item</a>
  individually.</p>

  <!--

   e.g.:

     <div itemscope itemtype="http://example.com/a"> <ref refid="x"> </div>
     <div itemscope itemtype="http://example.com/b"> <ref refid="x"> </div>
     <meta id="x" itemprop="z" content="">

     "z" had better be valid for both http://example.com/a and http://example.com/b

  -->

  <p>The <dfn id="property-names">property names</dfn> of an element are the tokens that
  the element's <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute
  is found to contain when its value is <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a string on
  spaces">split on spaces</a>, with the order preserved but with
  duplicates removed (leaving only the first occurrence of each
  name).</p>

  <p>Within an <a href="#concept-item" title="concept-item">item</a>, the properties
  are unordered with respect to each other, except for properties with
  the same name, which are ordered in the order they are given by the
  algorithm that defines <a href="#the-properties-of-an-item">the properties of an item</a>.</p>

  <div class="example">

   <p>In the following example, the "a" property has the values "1"
   and "2", <em>in that order</em>, but whether the "a" property comes
   before the "b" property or not is not important:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p itemprop="a"&gt;1&lt;/p&gt;
 &lt;p itemprop="a"&gt;2&lt;/p&gt;
 &lt;p itemprop="b"&gt;test&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>Thus, the following is equivalent:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p itemprop="b"&gt;test&lt;/p&gt;
 &lt;p itemprop="a"&gt;1&lt;/p&gt;
 &lt;p itemprop="a"&gt;2&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>As is the following:</p>

   <pre>&lt;div itemscope&gt;
 &lt;p itemprop="a"&gt;1&lt;/p&gt;
 &lt;p itemprop="b"&gt;test&lt;/p&gt;
 &lt;p itemprop="a"&gt;2&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>And the following:</p>

   <pre>&lt;div itemscope itemref="x"&gt;
 &lt;p itemprop="b"&gt;test&lt;/p&gt;
 &lt;p itemprop="a"&gt;2&lt;/p&gt;
&lt;/div&gt;
&lt;div id="x"&gt;
 &lt;p itemprop="a"&gt;1&lt;/p&gt;
&lt;/div&gt;
</pre>

  </div>



  <h4 id="values"><span class="secno">5.2.4 </span>Values</h4>

  <p>The <dfn id="concept-property-value" title="concept-property-value">property value</dfn> of a
  name-value pair added by an element with an <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute depends on the
  element, as follows:</p>

  <dl><dt>If the element also has an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute</dt>

   <dd><p>The value is the <a href="#concept-item" title="concept-item">item</a>
   created by the element.</dd>


   <dt>If the element is a <code><a href="semantics.html#meta">meta</a></code> element</dt>

   <dd><p>The value is the value of the element's <code title="attr-content">content</code> attribute, if any, or the empty
   string if there is no such attribute.</dd>


   <dt>If the element is an <code><a href="video.html#audio">audio</a></code>, <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>,
   <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, <code><a href="video.html#the-source-element">source</a></code>, or
   <code><a href="video.html#video">video</a></code> element</dt>

   <dd><p>The value is the <a href="urls.html#absolute-url">absolute URL</a> that results from
   <a href="urls.html#resolve-a-url" title="resolve a url">resolving</a> the value of the
   element's <code title="">src</code> attribute relative to the
   element at the time the attribute is set, or the empty string if
   there is no such attribute or if <a href="urls.html#resolve-a-url" title="resolve a
   url">resolving</a> it results in an error.</dd>


   <dt>If the element is an <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>, or
   <code><a href="semantics.html#the-link-element">link</a></code> element</dt>

   <dd><p>The value is the <a href="urls.html#absolute-url">absolute URL</a> that results from
   <a href="urls.html#resolve-a-url" title="resolve a url">resolving</a> the value of the
   element's <code title="">href</code> attribute relative to the
   element at the time the attribute is set, or the empty string if
   there is no such attribute or if <a href="urls.html#resolve-a-url" title="resolve a
   url">resolving</a> it results in an error.</dd>


   <dt>If the element is an <code><a href="the-iframe-element.html#the-object-element">object</a></code> element</dt>

   <dd><p>The value is the <a href="urls.html#absolute-url">absolute URL</a> that results from
   <a href="urls.html#resolve-a-url" title="resolve a url">resolving</a> the value of the
   element's <code title="">data</code> attribute relative to the
   element at the time the attribute is set, or the empty string if
   there is no such attribute or if <a href="urls.html#resolve-a-url" title="resolve a
   url">resolving</a> it results in an error.</dd>


   <dt>If the element is a <code><a href="text-level-semantics.html#the-time-element">time</a></code> element with a <code title="attr-datetime">datetime</code> attribute</dt>

   <dd><p>The value is the value of the element's <code title="attr-datetime">datetime</code> attribute.</dd>


   <dt>Otherwise</dt>

   <dd><p>The value is the element's
   <code>textContent</code>.</dd>

  </dl><p>The <dfn id="url-property-elements">URL property elements</dfn> are the <code><a href="text-level-semantics.html#the-a-element">a</a></code>,
  <code><a href="the-map-element.html#the-area-element">area</a></code>, <code><a href="video.html#audio">audio</a></code>, <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>,
  <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, <code><a href="semantics.html#the-link-element">link</a></code>,
  <code><a href="the-iframe-element.html#the-object-element">object</a></code>, <code><a href="video.html#the-source-element">source</a></code>, and <code><a href="video.html#video">video</a></code>
  elements.</p>

  <p>If a property's <a href="#concept-property-value" title="concept-property-value">value</a>
  is an <a href="urls.html#absolute-url">absolute URL</a>, the property must be specified
  using an <a href="#url-property-elements" title="URL property elements">URL property
  element</a>.</p>


  <h4 id="associating-names-with-items"><span class="secno">5.2.5 </span>Associating names with items</h4>

  <p>To find <dfn id="the-properties-of-an-item">the properties of an item</dfn>, the user agent must
  run the following steps:</p>

  <ol><li><p>Let <var title="">root</var> be the element with the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute.</li>

   <li><p>Let <var title="">pending</var> be a stack of elements
   initially containing the child elements of <var title="">root</var>, if any, in <a href="infrastructure.html#tree-order">tree order</a> (so that
   the first child element of <var title="">root</var> will be the
   first one to be popped from the stack). This list will be the one
   that holds the elements that still need to be crawled.</li>

   <li><p>Let <var title="">properties</var> be an empty list of
   elements. This list will be the result of the algorithm: a list of
   elements with properties that apply to <var title="">root</var>.</li>

   <li><p>If <var title="">root</var> has an <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> attribute, <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a
   string on spaces">split the value of that <code title="attr-itemref">itemref</code> attribute on spaces</a>. For
   each resulting token, <var title="">ID</var>, if there is an
   element in the document with the <a href="elements.html#concept-id" title="concept-ID">ID</a>
   <var title="">ID</var>, then push the first such element onto <var title="">pending</var>.</li>

   <li>

    <p>For each element <var title="">candidate</var> in <var title="">pending</var>, run the following substeps:</p>

    <ol><li><p>Let <var title="">scope</var> be <var title="">candidate</var>'s nearest ancestor element with an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute
     specified.</li>

     <li><p>If one of the other elements in <var title="">pending</var>
     is also <var title="">candidate</var>, then remove <var title="">candidate</var> from <var title="">pending</var>
     (i.e. remove duplicates).</li>

     <li><p>Otherwise, if one of the other elements in <var title="">pending</var> is an ancestor element of <var title="">candidate</var>, and that element is <var title="">scope</var>, then remove <var title="">candidate</var>
     from <var title="">pending</var>.</li>

     <li><p>Otherwise, if one of the other elements in <var title="">pending</var> is an ancestor element of <var title="">candidate</var>, and that element also has <var title="">scope</var> as its nearest ancestor element with an
     <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute
     specified, then remove <var title="">candidate</var> from <var title="">pending</var>.</li>

    </ol></li>

   <li><p>Sort <var title="">pending</var> in <a href="infrastructure.html#tree-order">tree
   order</a>.</li>

   <li><p><i>Loop</i>: Pop the top element from <var title="">pending</var> and let <var title="">current</var> be that
   element.</li>

   <li><p>If <var title="">current</var> has an <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute, then append <var title="">current</var> to <var title="">properties</var>.</li>

   <li><p>If <var title="">current</var> does not have an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute, and <var title="">current</var> is an element with child elements, then:
   push all the child elements of <var title="">current</var> onto
   <var title="">pending</var>, in <a href="infrastructure.html#tree-order">tree order</a> (so the first
   child of <var title="">current</var> will be the next element to be
   popped from <var title="">pending</var>).</li>

   <li><p><i>End of loop</i>: If <var title="">pending</var> is not
   empty, return to the step marked <i>loop</i>.</li>

   <li><p>Return <var title="">properties</var>. That is the list of
   <a href="#the-properties-of-an-item" title="the properties of an item">properties of the
   item</a> <var title="">root</var>. By definition, this list is
   in <a href="infrastructure.html#tree-order">tree order</a>.</li>

  </ol><p>A document must not contain any elements that have an <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute that would not be
  found to be a property of any of the <a href="#concept-item" title="concept-item">items</a> in that document were their <a href="#the-properties-of-an-item" title="the properties of an item">properties</a> all to be
  determined.</p>

  <p>An <a href="#concept-item" title="concept-item">item</a> is a <dfn id="top-level-microdata-items" title="top-level microdata items">top-level microdata item</dfn> if
  its element does not have an <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute.</p>


  <h4 id="examples-1"><span class="secno">5.2.6 </span>Examples</h4>

  <p>Here is an example of some HTML using Microdata to express RDF
  statements:</p>

  <pre>&lt;dl itemscope
    itemtype="http://purl.org/vocab/frbr/core#Work"
    itemid="http://purl.oreilly.com/works/45U8QJGZSQKDH8N"&gt;
 &lt;dt&gt;Title&lt;/dt&gt;
 &lt;dd&gt;&lt;cite itemprop="http://purl.org/dc/terms/title"&gt;Just a Geek&lt;/cite&gt;&lt;/dd&gt;
 &lt;dt&gt;By&lt;/dt&gt;
 &lt;dd&gt;&lt;span itemprop="http://purl.org/dc/terms/creator"&gt;Wil Wheaton&lt;/span&gt;&lt;/dd&gt;
 &lt;dt&gt;Format&lt;/dt&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596007683.BOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/BOOK"&gt;
  Print
 &lt;/dd&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596802189.EBOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/EBOOK"&gt;
  Ebook
 &lt;/dd&gt;
&lt;/dl&gt;</pre>

  <p>This is equivalent to the following Turtle:</p>

  <pre>@prefix dc: &lt;http://purl.org/dc/terms/&gt; .
@prefix frbr: &lt;http://purl.org/vocab/frbr/core#&gt; .

&lt;http://purl.oreilly.com/works/45U8QJGZSQKDH8N&gt; a frbr:Work ;
     dc:creator "Wil Wheaton"@en ;
     dc:title "Just a Geek"@en ;
     frbr:realization &lt;http://purl.oreilly.com/products/9780596007683.BOOK&gt;,
         &lt;http://purl.oreilly.com/products/9780596802189.EBOOK&gt; . 

&lt;http://purl.oreilly.com/products/9780596007683.BOOK&gt; a frbr:Expression ;
     dc:type &lt;http://purl.oreilly.com/product-types/BOOK&gt; . 

&lt;http://purl.oreilly.com/products/9780596802189.EBOOK&gt; a frbr:Expression ;
     dc:type &lt;http://purl.oreilly.com/product-types/EBOOK&gt; .</pre>



  <h3 id="microdata-dom-api"><span class="secno">5.3 </span>Microdata DOM API</h3>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-getItems"><a href="#dom-document-getitems">getItems</a></code>( [ <var title="">types</var> ] )</dt>

   <dd>

    <p>Returns a <code>NodeList</code> of the elements in the <code>Document</code> that create <a href="#concept-item" title="concept-item">items</a>, that are not part of other <a href="#concept-item" title="concept-item">items</a>, and that are of one of the types given in the argument, if any are listed.</p>

    <p>The <var title="">types</var> argument is interpreted as a space-separated list of types.</p>

   </dd>

   <dt><var title="">element</var> . <code title="dom-properties"><a href="#dom-properties">properties</a></code></dt>

   <dd>

    <p>If the element has an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute, returns an
    <code><a href="urls.html#htmlpropertiescollection">HTMLPropertiesCollection</a></code> object with all the element's
    properties. Otherwise, an empty
    <code><a href="urls.html#htmlpropertiescollection">HTMLPropertiesCollection</a></code> object.</p>

   </dd>

   <dt><var title="">element</var> . <code title="dom-itemValue"><a href="#dom-itemvalue">itemValue</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the element's <a href="#concept-property-value" title="concept-property-value">value</a>.</p>

    <p>Can be set, to change the element's <a href="#concept-property-value" title="concept-property-value">value</a>. Setting the <a href="#concept-property-value" title="concept-property-value">value</a> when the element has
    no <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute or when
    the element's value is an <a href="#concept-item" title="concept-item">item</a>
    throws an <code><a href="urls.html#invalid_access_err">INVALID_ACCESS_ERR</a></code> exception.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-getitems" title="dom-document-getItems"><code>document.getItems(<var title="">typeNames</var>)</code></dfn> method takes an optional
  string that contains an <a href="common-microsyntaxes.html#unordered-set-of-unique-space-separated-tokens">unordered set of unique
  space-separated tokens</a> representing types. When called, the
  method must return a live <code>NodeList</code> object containing
  all the elements in the document, in <a href="infrastructure.html#tree-order">tree order</a>, that
  are each <a href="#top-level-microdata-items">top-level microdata items</a> with a <a href="#item-type" title="item type">type</a> equal to one of the types specified in
  that argument, having obtained the types by <a href="common-microsyntaxes.html#split-a-string-on-spaces" title="split a
  string on spaces">splitting the string on spaces</a>. If there
  are no tokens specified in the argument, or if the argument is
  missing, then the method must return a <code>NodeList</code>
  containing all the <a href="#top-level-microdata-items">top-level microdata items</a> in the
  document.</p>

  <p>The <dfn id="dom-itemscope" title="dom-itemScope"><code>itemScope</code></dfn> IDL
  attribute on <a href="infrastructure.html#html-elements">HTML elements</a> must <a href="urls.html#reflect">reflect</a>
  the <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> content attribute.
  The <dfn id="dom-itemtype" title="dom-itemType"><code>itemType</code></dfn> IDL
  attribute on <a href="infrastructure.html#html-elements">HTML elements</a> must <a href="urls.html#reflect">reflect</a>
  the <code title="attr-itemtype"><a href="#attr-itemtype">itemtype</a></code> content attribute.
  The <dfn id="dom-itemid" title="dom-itemId"><code>itemId</code></dfn> IDL attribute
  on <a href="infrastructure.html#html-elements">HTML elements</a> must <a href="urls.html#reflect">reflect</a> the <code title="attr-itemid"><a href="#attr-itemid">itemid</a></code> content attribute.  The <dfn id="dom-itemprop" title="dom-itemProp"><code>itemProp</code></dfn> IDL attribute on
  <a href="infrastructure.html#html-elements">HTML elements</a> must <a href="urls.html#reflect">reflect</a> the <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> content attribute. The <dfn id="dom-itemref" title="dom-itemRef"><code>itemRef</code></dfn> IDL attribute on
  <a href="infrastructure.html#html-elements">HTML elements</a> must <a href="urls.html#reflect">reflect</a> the <code title="attr-itemref"><a href="#attr-itemref">itemref</a></code> content attribute.</p>

  <p>The <dfn id="dom-properties" title="dom-properties"><code>properties</code></dfn> IDL
  attribute on <a href="infrastructure.html#html-elements">HTML elements</a> must return an
  <code><a href="urls.html#htmlpropertiescollection">HTMLPropertiesCollection</a></code> rooted at the
  <code>Document</code> node, whose filter matches only elements that
  have <a href="#property-names">property names</a> and are <a href="#the-properties-of-an-item" title="the properties
  of an item">the properties of the item</a> created by the element
  on which the attribute was invoked, while that element is an <a href="#concept-item" title="concept-item">item</a>, and matches nothing the rest of
  the time.</p>

  <p>The <dfn id="dom-itemvalue" title="dom-itemValue"><code>itemValue</code></dfn> IDL
  attribute's behavior depends on the element, as follows:</p>

  <dl><dt>If the element has no <code title="attr-itemprop"><a href="#names:-the-itemprop-attribute">itemprop</a></code> attribute</dt>

   <dd><p>The attribute must return null on getting and must throw an
   <code><a href="urls.html#invalid_access_err">INVALID_ACCESS_ERR</a></code> exception on setting.</p>


   <dt>If the element has an <code title="attr-itemscope"><a href="#attr-itemscope">itemscope</a></code> attribute</dt>

   <dd><p>The attribute must return the element itself on getting and
   must throw an <code><a href="urls.html#invalid_access_err">INVALID_ACCESS_ERR</a></code> exception on
   setting.</p>


   <dt>If the element is a <code><a href="semantics.html#meta">meta</a></code> element</dt>

   <dd><p>The attribute must act as it would if it was <a href="urls.html#reflect" title="reflect">reflecting</a> the element's <code title="attr-meta-content"><a href="semantics.html#attr-meta-content">content</a></code> content
   attribute.</dd>


   <dt>If the element is an <code><a href="video.html#audio">audio</a></code>, <code><a href="the-iframe-element.html#the-embed-element">embed</a></code>,
   <code><a href="the-iframe-element.html#the-iframe-element">iframe</a></code>, <code><a href="embedded-content-1.html#the-img-element">img</a></code>, <code><a href="video.html#the-source-element">source</a></code>, or
   <code><a href="video.html#video">video</a></code> element</dt>

   <dd><p>The attribute must act as it would if it was <a href="urls.html#reflect" title="reflect">reflecting</a> the element's <code title="">src</code> content attribute.</dd>


   <dt>If the element is an <code><a href="text-level-semantics.html#the-a-element">a</a></code>, <code><a href="the-map-element.html#the-area-element">area</a></code>, or
   <code><a href="semantics.html#the-link-element">link</a></code> element</dt>

   <dd><p>The attribute must act as it would if it was <a href="urls.html#reflect" title="reflect">reflecting</a> the element's <code title="">href</code> content attribute.</dd>


   <dt>If the element is an <code><a href="the-iframe-element.html#the-object-element">object</a></code> element</dt>

   <dd><p>The attribute must act as it would if it was <a href="urls.html#reflect" title="reflect">reflecting</a> the element's <code title="">data</code> content attribute.</dd>


   <dt>If the element is a <code><a href="text-level-semantics.html#the-time-element">time</a></code> element with a <code title="attr-datetime">datetime</code> attribute</dt>

   <dd><p>The attribute must act as it would if it was <a href="urls.html#reflect" title="reflect">reflecting</a> the element's <code title="">datetime</code> content attribute.</dd>


   <dt>Otherwise</dt>

   <dd><p>The attribute must act the same as the element's
   <code>textContent</code> attribute.</dd>

  </dl><p>When the <code title="dom-itemValue"><a href="#dom-itemvalue">itemValue</a></code> IDL
  attribute is <a href="urls.html#reflect" title="reflect">reflecting</a> a content
  attribute or acting like the element's <code>textContent</code>
  attribute, the user agent must, on setting, convert the new value to
  the IDL <code title="">DOMString</code> value before using it
  according to the mappings described above.</p>

  </div>



  
